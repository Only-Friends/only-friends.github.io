(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,s=1;s<n.length;s++){var o=n[s];0!==a[o]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},s={app:0},a={app:0},i=[];function o(t){return c.p+""+({actions:"actions","banking~chats~lists~main~payments~settings~static~streaming~subs":"banking~chats~lists~main~payments~settings~static~streaming~subs","banking~chats~main~payments~settings~streaming":"banking~chats~main~payments~settings~streaming","banking~payments~settings":"banking~payments~settings",banking:"banking",payments:"payments",settings:"settings","bookmarks~main~statements~streaming~subs":"bookmarks~main~statements~streaming~subs",main:"main",streaming:"streaming","chats~lists~subs":"chats~lists~subs",chats:"chats",subs:"subs","bookmarks~lists":"bookmarks~lists",lists:"lists",static:"static","bookmarks~live":"bookmarks~live",live:"live",bookmarks:"bookmarks",statements:"statements",mediaVault:"mediaVault",referrals:"referrals",verify:"verify"}[t]||t)+".js?rev=202008311040-5a7dcf7da1"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={banking:1,payments:1,settings:1,main:1,streaming:1,chats:1,subs:1,static:1,live:1,bookmarks:1,"chunk-1db399d2":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise((function(e,n){for(var r=({actions:"actions","banking~chats~lists~main~payments~settings~static~streaming~subs":"banking~chats~lists~main~payments~settings~static~streaming~subs","banking~chats~main~payments~settings~streaming":"banking~chats~main~payments~settings~streaming","banking~payments~settings":"banking~payments~settings",banking:"banking",payments:"payments",settings:"settings","bookmarks~main~statements~streaming~subs":"bookmarks~main~statements~streaming~subs",main:"main",streaming:"streaming","chats~lists~subs":"chats~lists~subs",chats:"chats",subs:"subs","bookmarks~lists":"bookmarks~lists",lists:"lists",static:"static","bookmarks~live":"bookmarks~live",live:"live",bookmarks:"bookmarks",statements:"statements",mediaVault:"mediaVault",referrals:"referrals",verify:"verify"}[t]||t)+".css?rev=202008311040-5a7dcf7da1",a=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){u=f[o],d=u.getAttribute("data-href");if(d===r||d===a)return e()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=e,l.onerror=function(e){var r=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete s[t],l.parentNode.removeChild(l),n(i)},l.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(l)})).then((function(){s[t]=0})));var r=a[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=a[t]=[e,n]}));e.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(t);var f=new Error;u=function(e){d.onerror=d.onload=null,clearTimeout(l);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",f.name="ChunkLoadError",f.type=r,f.request=s,n[1](f)}a[t]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="https://static.cdn.onlyfans.com/theme/onlyfans/spa/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var l=d;i.push([1,"vendor"]),n()})({"00ec":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return i})),n.d(e,"getters",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),s=n("1cf1"),a=function(){return{stat:{},loading:!1}},i=a(),o={stat:function(t){return t.stat},isLoading:function(t){return t.loading}},c={setLoading:function(t,e){t.loading=e},setSubscribersStat:function(t,e){t.stat=e},logout:function(t){Object.assign(t,a())}},u={fetchSubscribersStat:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setLoading",!0),a={},t.prev=3,t.next=6,Object(s["g"])(n);case 6:a=t.sent,t.next=14;break;case 9:return t.prev=9,t.t0=t["catch"](3),Sentry.captureException(t.t0),r("setLoading",!1),t.abrupt("return",{});case 14:return r("setSubscribersStat",a),r("setLoading",!1),t.abrupt("return",a);case 17:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"0242":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return i})),n.d(e,"getters",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),s=(n("ac6a"),n("2612")),a=function(){return{userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}},i=a(),o={pastStreamsHasMore:function(t){return t.hasMore},pastStreams:function(t){return t.itemsIds.map((function(e){return t.items[e]}))}},c={setUserId:function(t,e){t.userId!==e&&(t.offset=0,t.itemsIds=[],t.items={}),t.userId=e},setStreams:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.payload,r=e.pages,s=void 0===r||r;n?(s&&(t.hasMore=n.hasMore,t.hasMore&&(t.offset+=t.limit)),n.list.forEach((function(e){t.items[e.id]||t.itemsIds.push(e.id),t.items[e.id]=e}))):(t.itemsIds=[],t.items={},t.hasMore=!1)},logout:function(t){Object.assign(t,a())}},u={fetchPastStreams:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.state,i=n.userId,o=n.pages,r("setUserId",i),t.prev=3,t.next=6,Object(s["x"])({userId:i,offset:a.offset,limit:a.limit});case 6:c=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](3);case 11:c&&(c.list&&c.list.length?r("setStreams",{payload:c,pages:o}):r("setStreams"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"0591":function(t,e,n){t.exports=n.p+"img/default_header_image_dark.png"},"0781":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return y})),n.d(e,"getters",(function(){return O})),n.d(e,"mutations",(function(){return w})),n.d(e,"actions",(function(){return j}));var r=n("6ee6"),s=n("bd86"),a=(n("96cf"),n("3b8d")),i=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),o=(n("6762"),n("2fdb"),n("4245")),c=n.n(o),u=n("5e23"),d=n("56d7"),f=n("34b7"),l=n("2612"),m=n("b775"),p=function(){var t="".concat(m["b"],"/emails/resend");return m["d"].post(t).then((function(t){return t.data}))},h=n("09e4"),b=n("ba6a"),g=n("559d"),v=function(){return{darkMode:!(!d["default"]||!d["default"].$cookie)&&"true"===d["default"].$cookie.get("dark_mode",{domain:".".concat("onlyfans.com")}),countries:[],states:{},isDeleteInitiated:null,lastSubscriptionExpiredAt:null,streamingObsKey:"",activityHubAllowed:"",activityHubTokens:[],spotifyArtistsItems:{},spotifyTracksItems:{},spotifyTop:{myTopArtists:[],myTopTracks:[]},spotifyBio:{anthem:null,topArtists:null},paymentsLoaded:!1,autoMessage:[],changelogUpdates:0,messagePriceFromFreeSubscribers:0,callPrice:0,allowIncomingCall:null,hideAfterMassMessages:!1,showFullTextInEmailNotify:!1,isEmailNotificationsEnabled:!1,recommenderReward:null,isAutoFollowBack:!1,isPrivate:void 0,blockedCountries:void 0,blockedStates:void 0,blockedIps:void 0,showPostsTips:void 0,showFriendsToSubscribers:void 0,disableSubscribesOffers:void 0,showSubscribesOffers:void 0,canAcceptMessageOnlyFromFriends:!1,runningActions:[],existedUsernames:{},confirmEmailSentAt:null,sendAwardsTop1:!1,sendAwardsTop5:!1,coStreamingRequestFrom:void 0,isCoStreamingAllowed:!1,socialsConnects:[],strongOtp:!1}},y=v(),O={allSettings:function(t){return t},isDarkMode:function(t){return t.darkMode},userLoginPrefix:function(t,e,n){return n.init.settings.userLoginPrefix},subscribeMinPrice:function(t,e,n){return n.init.settings.subscribeMinPrice},subscribeMaxPrice:function(t,e,n){return n.init.settings.subscribeMaxPrice},callMinPrice:function(t,e,n){return n.init.settings.callMinPrice},callMaxPrice:function(t,e,n){return n.init.settings.callMaxPrice},isImageWatermarkNeeded:function(t,e,n){return n.init.settings.isImageWatermarkNeeded},countriesList:function(t){return t.countries},streamingObsKey:function(t){return t.streamingObsKey},activityHubAllowed:function(t){return t.activityHubAllowed},activityHubTokens:function(t){return t.activityHubTokens},statesByCounty:function(t){return function(e){return t.states[e]}},spotifyTop:function(t){return t.spotifyTop},spotifyTopArtists:function(t){return t.spotifyTop.myTopArtists.map((function(e){return t.spotifyArtistsItems[e]}))},spotifyTopTracks:function(t){return t.spotifyTop.myTopTracks.map((function(e){return t.spotifyTracksItems[e]}))},spotifyBio:function(t){return t.spotifyBio},spotifyBioTopArtistsIds:function(t){return t.spotifyBio.topArtists||[]},spotifyBioTopArtists:function(t){return t.spotifyBio.topArtists?t.spotifyBio.topArtists.map((function(e){return t.spotifyArtistsItems[e]})):[]},spotifyBioAnthem:function(t){return t.spotifyBio.anthem},isSpotifyArtistsEquals:function(t){return!(!t.spotifyBio.topArtists||!t.spotifyTop.myTopArtists)&&t.spotifyBio.topArtists.length===t.spotifyTop.myTopArtists.length},paymentsLoaded:function(t){return t.paymentsLoaded},getAutoMessage:function(t){return t.autoMessage.filter((function(t){return"reply_on_subscribe"===t.template}))[0]},getHideAfterMassMessages:function(t){return t.hideAfterMassMessages},getShowFullTextInEmailNotify:function(t){return t.showFullTextInEmailNotify},callPrice:function(t){return t.callPrice},messagePriceFromFreeSubscribers:function(t){return t.messagePriceFromFreeSubscribers},allowIncomingCall:function(t){return t.allowIncomingCall},getCanAcceptMessageOnlyFromFriends:function(t){return t.canAcceptMessageOnlyFromFriends},hasRunningActions:function(t){return function(e){return t.runningActions.includes(e)}},existedUsernames:function(t){return t.existedUsernames}},w={setTheme:function(t,e){t.darkMode=e},switchTheme:function(t){t.darkMode=!t.darkMode},setCountries:function(t,e){t.countries=e},setConfirmEmail:function(t,e){t.confirmEmailSentAt=e},setStates:function(t,e){t.states=c()({},t.states,e)},setSettings:function(t,e){Object.assign(t,e)},setHubToken:function(t,e){Object.assign(t.activityHubTokens,e)},addHubToken:function(t,e){t.activityHubTokens.push(e)},deleteHubToken:function(t,e){t.activityHubTokens=t.activityHubTokens.filter((function(t){return t.id!==e}))},deleteAutoMessage:function(t,e){t.autoMessage=t.autoMessage.filter((function(t){return t.template!==e}))},setSpotifyTop:function(t,e){Object.assign(t.spotifyTop,e)},setSpotifyTopArtists:function(t,e){t.spotifyTop.myTopArtists=e},setSpotifyTopTracks:function(t,e){t.spotifyTop.myTopTracks=e},setSpotifyBioAnthem:function(t,e){t.spotifyBio.anthem=e},setSpotifyBioTopArtists:function(t,e){t.spotifyBio.topArtists=e},addSpotifyBioTopArtists:function(t,e){t.spotifyBio.topArtists||(t.spotifyBio.topArtists=[]),t.spotifyBio.topArtists=Object(i["a"])(new Set([e].concat(Object(i["a"])(t.spotifyBio.topArtists))))},removeSpotifyBioTopArtists:function(t,e){t.spotifyBio.topArtists||(t.spotifyBio.topArtists=[]),t.spotifyBio.topArtists=t.spotifyBio.topArtists.filter((function(t){return t!==e}))},selectAllSpotifyBioTopArtists:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.spotifyBio.topArtists=e?Object(i["a"])(t.spotifyTop.myTopArtists):[]},setPaymentsLoaded:function(t,e){t.paymentsLoaded=e},setAutoMessage:function(t,e){t.autoMessage.length?(t.autoMessage.splice(0,1),t.autoMessage.push(e)):t.autoMessage.push(e)},setAutoMessages:function(t,e){t.autoMessage=e},addChangelogUpdates:function(t){t.changelogUpdates+=1},setChangelogUpdates:function(t,e){t.changelogUpdates=e},addRunningActions:function(t,e){t.runningActions.push(e)},removeRunningActions:function(t,e){t.runningActions=t.runningActions.filter((function(t){return t!==e}))},setNewEmail:function(t,e){t.newEmail=e},setSettingField:function(t,e){var n=e.field,r=e.status;t[n]=r},setExistedUsernames:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.existedUsernames=e},deleteGoogle:function(t){t.socialsConnects=t.socialsConnects.filter((function(t){return"google"!==t.provider}))},logout:function(t){Object.assign(t,v())}},j={fetchCountries:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(f["h"])();case 4:r=t.sent,n("setCountries",r),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),createConfirmEmail:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,p();case 4:return r=t.sent,r&&r.success&&n("setConfirmEmail",r.confirmEmailSentAt),t.abrupt("return",r);case 9:return t.prev=9,t.t0=t["catch"](1),Object(h["b"])(t.t0),t.abrupt("return",{});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchCountriesStates:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(f["j"])(n);case 4:a=t.sent,i=Object(s["a"])({},n,a),r("setStates",i),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),createHubToken:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(f["k"])();case 4:r=t.sent,n("addHubToken",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchUserSettings:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.getters,!r.hasRunningActions("fetchUserSettings")){t.next=3;break}return t.abrupt("return");case 3:return n("addRunningActions","fetchUserSettings"),t.prev=4,t.next=7,Object(l["M"])();case 7:s=t.sent,n("setSettings",s),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:n("removeRunningActions","fetchUserSettings");case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteHubTokenAction:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(f["d"])(n);case 4:s=t.sent,s&&s.success&&r("deleteHubToken",n),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchSpotifyTop:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(b["g"])();case 4:r=t.sent,r&&(r.myTopArtists&&(s=Object(u["a"])(r.myTopArtists,g["o"]),n("set",s,{root:!0}),n("setSpotifyTopArtists",s.result)),r.myTopTracks&&(a=Object(u["a"])(r.myTopTracks,g["p"]),n("set",a,{root:!0}),n("setSpotifyTopTracks",a.result))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSpotifyTopArtists:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(b["h"])();case 4:r=t.sent,s=Object(u["a"])(r,g["o"]),n("set",s,{root:!0}),n("setSpotifyTopArtists",s.result),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSpotifyTopTracks:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(b["i"])();case 4:r=t.sent,s=Object(u["a"])(r,g["p"]),n("set",s,{root:!0}),n("setSpotifyTopTracks",s.result),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSpotifyBio:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(b["c"])(n);case 4:s=t.sent,s.topArtists?(a=Object(u["a"])(s.topArtists,g["o"]),r("set",a,{root:!0}),r("setSpotifyBioTopArtists",a.result)):r("setSpotifyBioTopArtists",null),r("setSpotifyBioAnthem",s.anthem),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchSpotifySearch:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Object(b["f"])(n);case 6:s=t.sent,a=Object(u["a"])(s,g["p"]),r("set",a,{root:!0}),r("setSpotifyTopTracks",a.result),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));function e(e,n){return t.apply(this,arguments)}return e}(),sendSpotifyArtists:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,n.spotifyBio.topArtists){t.next=3;break}return t.abrupt("return",!1);case 3:return t.prev=3,t.next=6,Object(b["b"])(n.spotifyBio.topArtists);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log(t.t0);case 12:return t.abrupt("return",r&&r.success);case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e){return t.apply(this,arguments)}return e}(),sendSpotifyAnthem:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(r["a"])(e),t.prev=1,t.next=4,Object(b["a"])(n);case 4:s=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:return t.abrupt("return",s&&s.success);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),saveAutoMessage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(f["a"])(n);case 4:s=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 10:s&&r("setAutoMessage",s);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchAutoMessageTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(f["f"])();case 4:r=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:return n("setAutoMessages",r),t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteAutoMessageTemplate:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(f["b"])(n);case 4:s=t.sent,s&&s.success&&r("deleteAutoMessage",n),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),updateUserSettingsMessages:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(f["l"])(n);case 3:return s=t.sent,s&&r("setSettings",s),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),disableGoogle:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(l["m"])();case 4:r=t.sent,r.success&&n("deleteGoogle"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}()}},"09e4":function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return f}));var r=n("768b"),s=(n("ac6a"),n("ffc1"),n("7618")),a=n("9b02"),i=n.n(a),o=n("56d7"),c=function(t,e,n){var r;if(null!==e&&"object"===Object(s["a"])(e)){var a=e;e=a.message,n=a.onclose,r=a.buttons}e=e||i()(t,"data.error.message")||i()(t,"data.error.templates")||o["default"].$i18n.t("message.debug_alert_message"),t.request&&void 0!==t.request.status||t instanceof Error&&"Network Error"===t.message||Sentry.captureException(t),alert({message:e,html:!0,onclose:n,buttons:r})},u=function(t){var e=t.error,n=t.tags,s=t.extra;n=n||{},s=s||{},e&&Sentry.withScope((function(t){for(var a=0,i=Object.entries(n);a<i.length;a++){var o=Object(r["a"])(i[a],2),c=o[0],u=o[1];t.setTag(c,u)}for(var d=0,f=Object.entries(s);d<f.length;d++){var l=Object(r["a"])(f[d],2),m=l[0],p=l[1];t.setExtra(m,p)}Sentry.captureException(e)}))},d=function(t){var e=t.message,n=t.tags,s=t.extra;n=n||{},s=s||{},e&&Sentry.withScope((function(t){for(var a=0,i=Object.entries(n);a<i.length;a++){var o=Object(r["a"])(i[a],2),c=o[0],u=o[1];t.setTag(c,u)}for(var d=0,f=Object.entries(s);d<f.length;d++){var l=Object(r["a"])(f[d],2),m=l[0],p=l[1];t.setExtra(m,p)}Sentry.captureMessage(e)}))},f=function(t,e){t instanceof Error&&"Network Error"===t.message||t&&t.status>500?o["default"].$bvToast.toast(o["default"].$i18n.t("message.api_error"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}):"function"===typeof e&&e.call(null,t)}},"0db4":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"getters",(function(){return u})),n.d(e,"mutations",(function(){return d})),n.d(e,"actions",(function(){return f}));n("96cf");var r=n("3b8d"),s=(n("ac6a"),n("55dd"),n("2b0e")),a=n("2612"),i=n("82ab"),o=function(){return{userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}},c=o(),u={scheduledStreamsHasMore:function(t){return t.hasMore},scheduledStreams:function(t){return t.itemsIds.map((function(e){return t.items[e]})).sort((function(t,e){return new Date(t.scheduledAt)-new Date(e.scheduledAt)}))},mainScheduledStream:function(t,e){return e.scheduledStreams[0]},scheduledStreamsCount:function(t){return t.itemsIds.length}},d={setUserId:function(t,e){t.userId!==e&&(t.offset=0,t.itemsIds=[],t.items={}),t.userId=e},setStreams:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.payload,r=e.pages;n?(0===t.offset&&(t.itemsIds=[],t.items={},t.hasMore=!1),r&&(t.hasMore=n.hasMore,t.hasMore&&(t.offset+=t.limit)),n.list.forEach((function(e){t.items[e.id]||t.itemsIds.push(e.id),t.items[e.id]&&s["default"].delete(t.items,e.id);var n=(new Date).getTime(),r=new Date(e).getTime();e.dangerTime=n>r?"expired":r-n<=18e5&&"danger",s["default"].set(t.items,e.id,e)}))):(t.itemsIds=[],t.items={},t.hasMore=!1)},addStream:function(t,e){t.items[e.id]=e,t.itemsIds.unshift(e.id)},editStream:function(t,e){s["default"].delete(t.items,e.id),s["default"].set(t.items,e.id,e)},setReminder:function(t,e){t.items[e].isReminder=!0},unsetReminder:function(t,e){t.items[e].isReminder=!1},removeIds:function(t,e){e.forEach((function(e){t.itemsIds=t.itemsIds.filter((function(t){return t!==e}))}))},logout:function(t){Object.assign(t,o())}},f={fetchScheduledStreams:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,i=n.userId,o=n.pages,c=void 0===o||o,r("setUserId",i),t.prev=3,t.next=6,Object(a["D"])({userId:i,offset:s.offset,limit:s.limit});case 6:u=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](3);case 11:u&&(u.list&&u.list.length?r("setStreams",{payload:u,pages:c}):r("setStreams"));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteScheduledStream:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,t.prev=1,t.next=4,Object(i["a"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&r("removeIds",[n]);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),setScheduledStreamReminder:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,t.prev=1,t.next=4,Object(i["f"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&r("setReminder",n);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),unsetScheduledStreamReminder:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,t.prev=1,t.next=4,Object(i["b"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&r("unsetReminder",n);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},1:function(t,e,n){t.exports=n("56d7")},1306:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"getters",(function(){return u})),n.d(e,"mutations",(function(){return d})),n.d(e,"actions",(function(){return f}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),s=n("75fc");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var o=function(){return{show:!0,items:[],options:{},isOpen:!1}},c=o(),u={},d={setOpen:function(t,e){e||(t.items=[],t.options={}),t.isOpen=e},setItems:function(t,e){t.items=Object(s["a"])(e)},setOptions:function(t,e){var n={};e.mainClass||(n.mainClass=void 0),t.options=i(i({},e),n)},logout:function(t){Object.assign(t,o())}},f={}},"168f":function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),s=n("b775");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var o=function(t){var e=t.message,n=void 0===e?"":e,r=t.logData,a=void 0===r?null:r,o=t.logger,c=void 0===o?"default":o,u=t.level,d=void 0===u?"debug":u,f="".concat(s["b"],"/log"),l={message:n,context:i(i({},a),{},{logger:"onlyfans.".concat(c),time:+new Date}),level:d};return s["d"].post(f,l).then((function(t){return t.data}))},c=function(t){var e=t.message,n=void 0===e?"":e,r=t.logData,s=void 0===r?null:r,a=t.logger,i=void 0===a?"default":a;return o({message:n,logData:s,logger:i,level:"debug"})},u=function(t){var e=t.message,n=void 0===e?"":e,r=t.logData,s=void 0===r?null:r,a=t.logger,i=void 0===a?"default":a;return o({message:n,logData:s,logger:i,level:"error"})}},"16a8":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return b})),n.d(e,"getters",(function(){return g})),n.d(e,"mutations",(function(){return v})),n.d(e,"actions",(function(){return y}));n("ac6a"),n("5df3"),n("96cf");var r=n("3b8d"),s=n("75fc"),a=n("5e23"),i=n("ceac"),o=n.n(i),c=n("bfc7"),u=n.n(c),d=n("93c6"),f=n.n(d),l=n("559d"),m=n("82ab"),p=n("1a1d"),h=function(){return{items:{},itemIds:[]}},b=h(),g={streams:function(t){return f()(t.itemIds,null,"desc").map((function(e){return t.items[e]}))}},v={setItemIds:function(t,e){t.itemIds=Object(s["a"])(e)},removeItems:function(t,e){var n=e.ids;if(n&&n.length){var r=o()(t.itemIds,n);t.itemIds=Object(s["a"])(r)}else t.itemIds=[]},logout:function(t){Object.assign(t,h())}},y={fetchStreamsFeed:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(m["e"])();case 4:r=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:r&&(r.list&&r.list.length?(s=Object(a["a"])(r.list,l["q"]),n("set",s,{root:!0}),i=s.result,n("setItemIds",i)):n("setItemIds",[]));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchUserStream:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(p["j"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&(i=Object(a["a"])([s],l["q"]),r("set",i,{root:!0}),o=i.result,r("setItemIds",u()(b.itemIds,o)));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),removeStreamFromFeed:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var s,i,o,c,d,f,m,h,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.state,i=e.commit,o=n.userId,c=s.itemIds.map((function(t){return s.items[t]})).filter((function(t){return t.user==o})).map((function(t){return t.id})),i("removeItems",{ids:c}),d=s.itemIds.map((function(t){return s.items[t]})).filter((function(t){return t.partners.some((function(t){return t.user.id==o}))})).map((function(t){return t.user})),f=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(d.map((function(t){return Object(p["j"])(t)}))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.next=8,f();case 8:m=t.sent,m&&(h=Object(a["a"])(m,l["q"]),i("set",h,{root:!0}),b=h.result,i("setItemIds",u()(s.itemIds,b)));case 10:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}},1960:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return u}));var r=n("b775"),s=function(){var t="".concat(r["b"],"/helpers");return r["d"].get(t).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/helpers/").concat(t);return r["d"].get(e).then((function(t){return t.data}))},i=function(){var t="".concat(r["b"],"/helpers/permissions");return r["d"].get(t).then((function(t){return t.data}))},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="".concat(r["b"],"/helpers/").concat(t);return r["d"].post(n,{permissions:e}).then((function(t){return t.data}))},c=function(t){var e="".concat(r["b"],"/users/login-as-helper/").concat(t);return r["d"].post(e).then((function(t){return t.data}))},u=function(){var t="".concat(r["b"],"/users/helper-logout");return r["d"].post(t).then((function(t){return t.data}))}},"1a1d":function(t,e,n){"use strict";n.d(e,"h",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"k",(function(){return i})),n.d(e,"j",(function(){return o})),n.d(e,"r",(function(){return c})),n.d(e,"q",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"w",(function(){return m})),n.d(e,"b",(function(){return p})),n.d(e,"i",(function(){return h})),n.d(e,"o",(function(){return b})),n.d(e,"e",(function(){return g})),n.d(e,"p",(function(){return v})),n.d(e,"m",(function(){return y})),n.d(e,"l",(function(){return O})),n.d(e,"a",(function(){return w})),n.d(e,"c",(function(){return j})),n.d(e,"u",(function(){return S})),n.d(e,"v",(function(){return k})),n.d(e,"t",(function(){return x})),n.d(e,"s",(function(){return P}));var r=n("b775"),s=function(){var t="".concat(r["b"],"/streams/url");return r["d"].get(t).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/streams/").concat(t,"/url");return r["d"].get(e).then((function(t){return t.data}))},i=function(t){if(!t)throw new Error("userId is not defined");var e="".concat(r["b"],"/users/").concat(t,"/streams/active/url");return r["d"].get(e).then((function(t){return t.data}))},o=function(t){if(!t)throw new Error("userId is not defined");var e="".concat(r["b"],"/users/").concat(t,"/streams/active");return r["d"].get(e).then((function(t){return t.data}))},c=function(t){var e="".concat(r["b"],"/streams");return r["d"].post(e,t).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/streams/").concat(t.id);return r["d"].patch(e,t).then((function(t){return t.data}))},d=function(t){var e="".concat(r["b"],"/streams");return r["d"].post(e,t).then((function(t){return t.data}))},f=function(t){if(!t)throw new Error("streamId is not defined");var e="".concat(r["b"],"/streams/").concat(t,"/finish");return r["d"].put(e).then((function(t){return t.data}))},l=function(){var t="".concat(r["b"],"/streams");return r["d"].delete(t).then((function(t){return t.data}))},m=function(t){var e=t.streamId,n=t.data;if(!e)throw new Error("streamId is not defined");var s="".concat(r["b"],"/streams/").concat(e);return r["d"].patch(s,n).then((function(t){return t.data}))},p=function(){var t="".concat(r["b"],"/streams/has-active");return r["d"].get(t).then((function(t){return t.data}))},h=function(t){if(!t)throw new Error("streamId is not defined");var e="".concat(r["b"],"/streams/").concat(t,"/stats");return r["d"].get(e).then((function(t){return t.data}))},b=function(t){var e=t.streamId,n=t.keepComments,s=t.isArchive,a=t.description;if(!e)throw new Error("streamId is not defined");var i="".concat(r["b"],"/streams/").concat(e,"/make-post"),o={id:e,keepComments:n,isArchive:s,description:a};return r["d"].put(i,o).then((function(t){return t.data}))},g=function(t){if(!t)throw new Error("streamId is not defined");var e="".concat(r["b"],"/streams/").concat(t,"/covers");return r["d"].get(e).then((function(t){return t.data}))},v=function(t,e){if(!t)throw new Error("streamId is not defined");var n="".concat(r["b"],"/streams/").concat(t,"/cover");return r["d"].put(n,e).then((function(t){return t.data}))},y=function(t){var e=t.streamId,n=t.userId,s=t.ban,a=void 0!==s&&s;if(!e||!n)throw new Error("streamId or userId is not defined");var i="".concat(r["b"],"/streams/block"),o={streamId:e,userId:n,isPermanent:a};return r["d"].post(i,o).then((function(t){return t.data}))},O=function(t){var e=t.streamId;if(!e)throw new Error("joinDualStreamRequest: streamId is not defined");var n="".concat(r["b"],"/streams/").concat(e,"/join");return r["d"].post(n).then((function(t){return t.data}))},w=function(t){var e=t.streamId,n=t.userId;if(!e||!n)throw new Error("acceptDualStreamRequest: streamId or userId is not defined");var s="".concat(r["b"],"/streams/").concat(e,"/users/").concat(n,"/accept");return r["d"].post(s).then((function(t){return t.data}))},j=function(t){var e=t.streamId,n=t.userId;if(!e||!n)throw new Error("declineDualStreamRequest: streamId or userId is not defined");var s="".concat(r["b"],"/streams/").concat(e,"/users/").concat(n,"/decline");return r["d"].post(s).then((function(t){return t.data}))},S=function(t){if(!t)throw new Error("streamId is not defined");var e="".concat(r["b"],"/streams/").concat(t,"/look");return r["d"].post(e).then((function(t){return t.data}))},k=function(t){if(!t)throw new Error("streamId is not defined");var e="".concat(r["b"],"/streams/").concat(t,"/look");return r["d"].delete(e).then((function(t){return t.data}))},x=function(t,e){if(!t)throw new Error("streamId is not defined");var n="".concat(r["b"],"/streams/").concat(t,"/like");return r["d"].post(n,e).then((function(t){return t.data}))},P=function(t,e,n){if(!t)throw new Error("streamId is not defined");var s="".concat(r["b"],"/streams/").concat(t,"/comments"),a={comment:e};return n&&(a.userId=n),r["d"].post(s,a).then((function(t){return t.data}))}},"1cf1":function(t,e,n){"use strict";n.d(e,"n",(function(){return s})),n.d(e,"s",(function(){return a})),n.d(e,"m",(function(){return i})),n.d(e,"r",(function(){return o})),n.d(e,"i",(function(){return c})),n.d(e,"k",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"j",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return m})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return h})),n.d(e,"l",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return v})),n.d(e,"o",(function(){return y})),n.d(e,"g",(function(){return O})),n.d(e,"h",(function(){return w})),n.d(e,"b",(function(){return j}));n("55dd");var r=n("b775"),s=function(t){var e="".concat(r["b"],"/subscriptions/").concat(t,"/mute");return r["d"].put(e).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/subscriptions/").concat(t,"/mute");return r["d"].delete(e).then((function(t){return t.data}))},i=function(t){var e="".concat(r["b"],"/subscriptions/").concat(t,"/hide-posts");return r["d"].put(e).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/subscriptions/").concat(t,"/hide-posts");return r["d"].delete(e).then((function(t){return t.data}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.limit=t.limit||r["e"],t.offset=t.offset||0;var e=Object(r["c"])(t),n="".concat(r["b"],"/subscriptions/subscribes").concat(e);return r["d"].get(n).then((function(t){return t.data}))},u=function(){var t="".concat(r["b"],"/subscriptions/count/all");return r["d"].get(t).then((function(t){return t.data}))},d=function(t){var e=Object(r["c"])(t),n="".concat(r["b"],"/subscriptions/subscribers/count").concat(e);return r["d"].get(n).then((function(t){return t.data}))},f=function(t){var e=Object(r["c"])(t),n="".concat(r["b"],"/subscriptions/subscribes/count").concat(e);return r["d"].get(n).then((function(t){return t.data}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=t.query,o=t.sort,c=t.field,u=t.type,d=t.filter,f=Object(r["c"])({limit:n,offset:a,query:i,sort:o,field:c,type:u,filter:d}),l="".concat(r["b"],"/subscriptions/subscribers").concat(f);return r["d"].get(l).then((function(t){return t.data}))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=t.filter,o=Object(r["c"])({limit:n,offset:a,filter:i}),c="".concat(r["b"],"/subscriptions/subscribers/awards").concat(o);return r["d"].get(c).then((function(t){return t.data}))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.discount,s=void 0===n?0:n,a=t.period,i=void 0===a?0:a,o="".concat(r["b"],"/subscriptions/").concat(e,"/discount");return r["d"].put(o,{discount:s,period:i}).then((function(t){return t.data}))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.subscribeDays,n=t.subscribeCounts,s=t.expireDays,a="".concat(r["b"],"/trials");return r["d"].post(a,{subscribeDays:e,subscribeCounts:n,expireDays:s}).then((function(t){return t.data}))},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=Object(r["c"])({limit:n,offset:a,pagination:1}),o="".concat(r["b"],"/trials").concat(i);return r["d"].get(o).then((function(t){return t.data}))},g=function(t){var e="".concat(r["b"],"/trials/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},v=function(t){var e=t.id,n=t.on,s=void 0===n||n,a="".concat(r["b"],"/subscriptions/").concat(e,"/autoprolong"),i=s?"put":"delete";return r["d"][i](a).then((function(t){return t.data}))},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.displayName,s=t.notice,a=void 0===s?"":s,i="".concat(r["b"],"/subscriptions/").concat(e);return r["d"].put(i,{displayName:n,notice:a}).then((function(t){return t.data}))},O=function(t){var e=t.start,n=(t.end,"".concat(r["b"],"/subscriptions/stats?startDate=").concat(e));return r["d"].get(n).then((function(t){return t.data}))},w=function(t){var e=Object(r["c"])({filter:t}),n="".concat(r["b"],"/subscriptions/subscribers/awards/count").concat(e);return r["d"].get(n).then((function(t){return t.data}))},j=function(t){var e="".concat(r["b"],"/subscriptions/").concat(t,"/price-change-hint");return r["d"].delete(e).then((function(t){return t.data}))}},2612:function(t,e,n){"use strict";n.d(e,"q",(function(){return a})),n.d(e,"p",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"R",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"S",(function(){return d})),n.d(e,"M",(function(){return f})),n.d(e,"L",(function(){return l})),n.d(e,"y",(function(){return m})),n.d(e,"z",(function(){return p})),n.d(e,"w",(function(){return h})),n.d(e,"U",(function(){return b})),n.d(e,"k",(function(){return g})),n.d(e,"V",(function(){return v})),n.d(e,"ob",(function(){return y})),n.d(e,"gb",(function(){return O})),n.d(e,"ab",(function(){return w})),n.d(e,"mb",(function(){return j})),n.d(e,"n",(function(){return S})),n.d(e,"m",(function(){return k})),n.d(e,"r",(function(){return x})),n.d(e,"i",(function(){return P})),n.d(e,"u",(function(){return I})),n.d(e,"j",(function(){return R})),n.d(e,"C",(function(){return T})),n.d(e,"B",(function(){return C})),n.d(e,"o",(function(){return A})),n.d(e,"v",(function(){return E})),n.d(e,"W",(function(){return _})),n.d(e,"nb",(function(){return L})),n.d(e,"F",(function(){return U})),n.d(e,"b",(function(){return M})),n.d(e,"lb",(function(){return D})),n.d(e,"jb",(function(){return F})),n.d(e,"ib",(function(){return N})),n.d(e,"bb",(function(){return B})),n.d(e,"X",(function(){return q})),n.d(e,"J",(function(){return V})),n.d(e,"a",(function(){return H})),n.d(e,"kb",(function(){return G})),n.d(e,"s",(function(){return $})),n.d(e,"E",(function(){return z})),n.d(e,"G",(function(){return W})),n.d(e,"db",(function(){return X})),n.d(e,"H",(function(){return Y})),n.d(e,"eb",(function(){return K})),n.d(e,"t",(function(){return Q})),n.d(e,"f",(function(){return J})),n.d(e,"g",(function(){return Z})),n.d(e,"h",(function(){return tt})),n.d(e,"l",(function(){return et})),n.d(e,"hb",(function(){return nt})),n.d(e,"P",(function(){return rt})),n.d(e,"O",(function(){return st})),n.d(e,"cb",(function(){return at})),n.d(e,"A",(function(){return it})),n.d(e,"N",(function(){return ot})),n.d(e,"x",(function(){return ct})),n.d(e,"D",(function(){return ut})),n.d(e,"Q",(function(){return dt})),n.d(e,"T",(function(){return ft})),n.d(e,"Z",(function(){return lt})),n.d(e,"K",(function(){return mt})),n.d(e,"fb",(function(){return pt})),n.d(e,"Y",(function(){return ht})),n.d(e,"e",(function(){return bt})),n.d(e,"I",(function(){return gt}));var r=n("bd86"),s=(n("55dd"),n("b775")),a=function(){var t="".concat(s["b"],"/users/me");return s["d"].get(t,{"axios-retry":{retries:1}}).then((function(t){return t.data}))},i=function(){var t="".concat(s["b"],"/users/customer");return s["d"].get(t,{"axios-retry":{retries:1}}).then((function(t){return t.data}))},o=function(t){var e="".concat(s["b"],"/users/me");return s["d"].put(e,t).then((function(t){return t.data}))},c=function(t){var e="".concat(s["b"],"/users/me");return s["d"].patch(e,t).then((function(t){return t.data}))},u=function(t,e){var n="".concat(s["b"],"/users/me/settings/").concat(e);return s["d"].put(n,t).then((function(t){return t.data}))},d=function(t,e){var n="".concat(s["b"],"/users/me/settings/").concat(e);return s["d"].patch(n,t).then((function(t){return t.data}))},f=function(){var t="".concat(s["b"],"/users/me/settings");return s["d"].get(t).then((function(t){return t.data}))},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(s["c"])(e),r="".concat(s["b"],"/users/").concat(t).concat(n);return s["d"].get(r).then((function(t){return t.data}))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.limit,r=void 0===n?s["e"]:n,a=t.type,i=t.query,o=t.order,c=void 0===o?"publish_date_desc":o,u=t.filter,d=t.only_can_view,f=t.beforePublishTime,l=t.afterPublishTime,m=t.pinned,p=t.pinned_sort,h="".concat(s["b"],"/users/").concat(e,"/posts");switch(a){case"posts":break;case"likes":h+="/favorites";break;default:h+="/".concat(a);break}var b=Object(s["c"])({limit:r,query:i,order:c,filter:u,skip_users:"all",skip_users_dups:1,only_can_view:d,beforePublishTime:f,afterPublishTime:l,pinned:m,pinned_sort:p});return h+="".concat(b),s["d"].get(h).then((function(t){return t.data}))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.type,r=Object(s["c"])({skip_users:"all",skip_users_dups:1,pinned:1}),a="";if(n)switch(n){case"posts":break;default:a="/".concat(n);break}var i="".concat(s["b"],"/users/").concat(e,"/posts").concat(a).concat(r);return s["d"].get(i).then((function(t){return t.data}))},h=function(){var t="".concat(s["b"],"/users/otp/code");return s["d"].get(t).then((function(t){return t.data}))},b=function(t,e){var n="".concat(s["b"],"/users/otp");return s["d"].put(n,{code:t,rememberMe:e}).then((function(t){return t.data}))},g=function(t){var e="".concat(s["b"],"/users/otp");return s["d"].delete(e,{data:{code:t}}).then((function(t){return t.data}))},v=function(){var t="".concat(s["b"],"/users/otp/alternative");return s["d"].put(t).then((function(t){return t.data}))},y=function(t){var e="".concat(s["b"],"/users/exists");return s["d"].post(e,{username:t}).then((function(t){return t.data}))},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.recommender,r=e.source,a="".concat(s["b"],"/users/").concat(t,"/subscribe");return s["d"].post(a,{recommender:n,source:r}).then((function(t){return t.data}))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.source,r="".concat(s["b"],"/users/").concat(t,"/resubscribe");return s["d"].post(r,{source:n}).then((function(t){return t.data}))},j=function(t,e){var n=e.reasonId,r="".concat(s["b"],"/users/").concat(t,"/subscribe");return s["d"].delete(r,{data:{reason:n}}).then((function(t){return t.data}))},S=function(){var t="".concat(s["b"],"/users/social/twitter");return s["d"].delete(t).then((function(t){return t.data}))},k=function(){var t="".concat(s["b"],"/users/social/google");return s["d"].delete(t).then((function(t){return t.data}))},x=function(){var t="".concat(s["b"],"/users/alert");return s["d"].get(t).then((function(t){return t.data}))},P=function(t){var e="".concat(s["b"],"/users/alert/").concat(t);return s["d"].delete(e).then((function(t){return t.data}))},I=function(){var t="".concat(s["b"],"/users/hints");return s["d"].get(t).then((function(t){return t.data}))},R=function(t){var e="".concat(s["b"],"/users/hints/").concat(t);return s["d"].delete(e).then((function(t){return t.data}))},T=function(t){var e=t.firstFeedPostUserId,n=t.state,r=t.skip_users,a=Object(s["c"])({firstFeedPostUserId:e,state:n,skip_users:r,skip_users_dups:1}),i="".concat(s["b"],"/users/recommends").concat(a);return s["d"].get(i).then((function(t){return t.data}))},C=function(){var t="".concat(s["b"],"/users/promotions");return s["d"].get(t).then((function(t){return t.data}))},A=function(t){var e="".concat(s["b"],"/users/forgot-password");return s["d"].post(e,t).then((function(t){return t.data}))},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?s["e"]:e,r=t.offset,a=void 0===r?0:r,i=t.type,o=Object(s["c"])({limit:n,offset:a,type:i}),c="".concat(s["b"],"/users/notifications").concat(o);return s["d"].get(c).then((function(t){return t.data}))},_=function(t){var e="".concat(s["b"],"/users/settings/notifications");return s["d"].patch(e,t).then((function(t){return t.data}))},L=function(t){var e="".concat(s["b"],"/users/push-token/pwa");return s["d"].put(e,t).then((function(t){return t.data}))},U=function(){var t="".concat(s["b"],"/users/settings/notifications");return s["d"].get(t).then((function(t){return t.data}))},M=function(t){var e=t.oldPassword,n=t.newPassword,r=t.checkPassword,a="".concat(s["b"],"/users/change-password");return s["d"].post(a,{oldPassword:e,newPassword:n,checkPassword:r}).then((function(t){return t.data}))},D=function(t){var e="".concat(s["b"],"/users/").concat(t,"/friend");return s["d"].delete(e).then((function(t){return t.data}))},F=function(){var t="".concat(s["b"],"/users/trust");return s["d"].post(t).then((function(t){return t.data}))},N=function(t){var e="".concat(s["b"],"/users/trust/confirm");return s["d"].put(e,{code:t}).then((function(t){return t.data}))},B=function(t){var e="".concat(s["b"],"/users/delete/request");return s["d"].post(e,{captchaCode:t}).then((function(t){return t.data}))},q=function(){var t="".concat(s["b"],"/users/delete/request");return s["d"].delete(t).then((function(t){return t.data}))},V=function(){var t="".concat(s["b"],"/users/telegram-link");return s["d"].get(t).then((function(t){return t.data}))},H=function(t){var e="".concat(s["b"],"/users/").concat(t,"/block");return s["d"].post(e).then((function(t){return t.data}))},G=function(t){var e="".concat(s["b"],"/users/").concat(t,"/block");return s["d"].delete(e).then((function(t){return t.data}))},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?s["e"]:e,r=t.offset,a=void 0===r?0:r,i=t.query,o=t.sort,c=t.field,u=t.filter,d=Object(s["c"])({limit:n,offset:a,query:i,sort:o,field:c,filter:u}),f="".concat(s["b"],"/users/blocked").concat(d);return s["d"].get(f).then((function(t){return t.data}))},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?s["e"]:e,r=t.offset,a=void 0===r?0:r,i=t.query,o=t.all_users,c=Object(s["c"])({limit:n,offset:a,query:i,all_users:o}),u="".concat(s["b"],"/users").concat(c);return s["d"].get(u).then((function(t){return t.data}))},W=function(){var t="".concat(s["b"],"/users/settings/post");return s["d"].get(t).then((function(t){return t.data}))},X=function(t){var e="".concat(s["b"],"/users/settings/post");return s["d"].patch(e,{periodPublishLaterPost:t}).then((function(t){return t.data}))},Y=function(){var t="".concat(s["b"],"/users/settings/story");return s["d"].get(t).then((function(t){return t.data}))},K=function(t,e){var n="".concat(s["b"],"/users/settings/story");return s["d"].patch(n,Object(r["a"])({},t,e)).then((function(t){return t.data}))},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userId,n=t.limit,r=void 0===n?s["e"]:n,a=t.offset,i=void 0===a?0:a,o=Object(s["c"])({limit:r,offset:i}),c="".concat(s["b"],"/users/").concat(e,"/friends").concat(o);return s["d"].get(c).then((function(t){return t.data}))},J=function(t){var e="".concat(s["b"],"/users/connect");return s["d"].post(e,t).then((function(t){return t.data}))},Z=function(t){var e="".concat(s["b"],"/users/get-auth-token");return s["d"].post(e,t).then((function(t){return t.data}))},tt=function(t){var e="".concat(s["b"],"/users/get-otp-token");return s["d"].post(e,t).then((function(t){return t.data}))},et=function(t){var e="".concat(s["b"],"/users/connect/").concat(t);return s["d"].delete(e).then((function(t){return t.data}))},nt=function(t){var e="".concat(s["b"],"/users/switch/").concat(t);return s["d"].post(e).then((function(t){return t.data}))},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?s["e"]:e,r=t.offset,a=void 0===r?0:r,i=t.query,o=Object(s["c"])({limit:n,offset:a,query:i}),c="".concat(s["b"],"/users/mention").concat(o);return s["d"].get(c).then((function(t){return t.data}))},st=function(){var t="".concat(s["b"],"/users/faster-verify");return s["d"].get(t).then((function(t){return t.data}))},at=function(t){var e="".concat(s["b"],"/users/profile/stats-collect");return s["d"].post(e,t).then((function(t){return t.data}))},it=function(){var t="".concat(s["b"],"/users/me/profile/stats?period=day&limit=10");return s["d"].get(t).then((function(t){return t.data}))},ot=function(t){var e="".concat(s["b"],"/users/list");return s["d"].post(e,t).then((function(t){return t.data}))},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userId,n=t.limit,r=void 0===n?8:n,a=t.offset,i=void 0===a?0:a,o=Object(s["c"])({limit:r,offset:i}),c="".concat(s["b"],"/users/").concat(e,"/streams").concat(o);return s["d"].get(c).then((function(t){return t.data}))},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userId,n=t.limit,r=void 0===n?8:n,a=t.offset,i=void 0===a?0:a,o=Object(s["c"])({limit:r,offset:i}),c="".concat(s["b"],"/users/").concat(e,"/streams/scheduled").concat(o);return s["d"].get(c).then((function(t){return t.data}))},dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?s["e"]:e,r=t.offset,a=void 0===r?0:r,i=t.status,o=Object(s["c"])({limit:n,offset:a,status:i}),c="".concat(s["b"],"/users/tickets").concat(o);return s["d"].get(c).then((function(t){return t.data}))},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="".concat(s["b"],"/users/tickets");return s["d"].post(e,t).then((function(t){return t.data}))},lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(s["b"],"/users/tickets/").concat(t,"/reply");return s["d"].post(n,e).then((function(t){return t.data}))},mt=function(t){var e=t.id,n=t.limit,r=void 0===n?s["e"]:n,a=t.offset,i=void 0===a?0:a,o=Object(s["c"])({limit:r,offset:i,html:1}),c="".concat(s["b"],"/users/tickets/").concat(e,"/comments").concat(o);return s["d"].get(c).then((function(t){return t.data}))},pt=function(t){var e="".concat(s["b"],"/users/tickets/").concat(t,"/solve");return s["d"].post(e).then((function(t){return t.data}))},ht=function(t){var e=t.id,n=t.message,r="".concat(s["b"],"/users/tickets/").concat(e,"/reopen");return s["d"].put(r,{message:n}).then((function(t){return t.data}))},bt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="".concat(s["b"],"/users/tickets/allowed");return s["d"].post(e,t).then((function(t){return t.data}))},gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="".concat(s["b"],"/users/me/strong_otp_codes");return s["d"].get(e,t).then((function(t){return t.data}))}},2834:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return b})),n.d(e,"getters",(function(){return g})),n.d(e,"mutations",(function(){return v})),n.d(e,"actions",(function(){return y}));n("8e6e"),n("ac6a"),n("456d"),n("96cf");var r=n("3b8d"),s=n("bd86"),a=n("5e23"),i=n("559d"),o=n("09e4"),c=n("b775"),u=function(t){var e="".concat(c["b"],"/subscriptions/bundles");return c["d"].post(e,t).then((function(t){return t.data}))},d=function(){var t="".concat(c["b"],"/subscriptions/bundles");return c["d"].get(t).then((function(t){return t.data}))},f=function(t){var e="".concat(c["b"],"/subscriptions/bundles/").concat(t.id);return c["d"].put(e,t).then((function(t){return t.data}))},l=function(t){var e="".concat(c["b"],"/subscriptions/bundles/").concat(t);return c["d"].delete(e).then((function(t){return t.data}))};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=function(){return{items:{},loading:!1}},b=h(),g={getBundles:function(t){return function(e){return e.map((function(e){return t.items[e]}))}}},v={deleteBundle:function(t,e){var n=p({},t.items);delete n[e],t.items=n},logout:function(t){Object.assign(t,h())}},y={fetchBundles:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,d();case 4:r=t.sent,r&&r.length&&(s=Object(a["a"])(r,i["r"]),n("set",s,{root:!0}),n("setBundles",s.result)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),saveBundle:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,c,d,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.rootGetters,t.prev=1,!n.id){t.next=8;break}return t.next=5,f(n);case 5:c=t.sent,t.next=11;break;case 8:return t.next=10,u(n);case 10:c=t.sent;case 11:c&&c.id&&(d=Object(a["a"])(c,i["s"]),r("set",d,{root:!0}),l=s["auth/authUserId"],r("users/setBundle",{userId:l,bundleId:c.id},{root:!0})),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),Object(o["b"])(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteBundle:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,t.prev=1,t.next=4,l(n);case 4:a=t.sent,a&&(i=s["auth/authUserId"],r("users/deleteBundle",{userId:i,bundleId:n},{root:!0}),r("deleteBundle",n)),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(o["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"2a74":function(t,e,n){"use strict";n.r(e);n("8e6e"),n("456d");var r=n("bd86"),s=(n("a481"),n("ac6a"),n("bba4")),a=n.n(s);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=n("539d"),u={};c.keys().forEach((function(t){if("./index.js"!==t){var e=a()(t.replace(/(\.\/|\.js)/g,""));u[e]=o({namespaced:!0},c(t))}})),e["default"]=u},"2c20":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"getters",(function(){return c})),n.d(e,"mutations",(function(){return u})),n.d(e,"actions",(function(){return d}));n("96cf");var r=n("3b8d"),s=n("75fc"),a=n("45ff"),i=function(){return{referrals:[],earnings:[],referralsLoading:!1,earningsLoading:!1}},o=i(),c={referrals:function(t){return t.referrals},earnings:function(t){return t.earnings},isReferralsLoading:function(t){return t.referralsLoading},isEarningsLoading:function(t){return t.earningsLoading}},u={setReferralsLoading:function(t,e){t.referralsLoading=e},setEarningsLoading:function(t,e){t.earningsLoading=e},setReferrals:function(t,e){var n=e.items,r=e.more;t.referrals=r?[].concat(Object(s["a"])(t.referrals),Object(s["a"])(n)):Object(s["a"])(n)},setEarnings:function(t,e){var n=e.items,r=e.more;t.earnings=r?[].concat(Object(s["a"])(t.earnings),Object(s["a"])(n)):Object(s["a"])(n)},logout:function(t){Object.assign(t,i())}},d={fetchReferrals:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,i,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.limit,i=r.offset,o=r.query,c=r.more,n("setReferralsLoading",!0),c||n("setReferrals",{items:[],more:c}),t.prev=4,t.next=7,Object(a["b"])({limit:s,offset:i,query:o});case 7:u=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),u=[];case 13:return n("setReferrals",{items:u,more:c}),n("setReferralsLoading",!1),t.abrupt("return",u);case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchEarnings:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,i,o,c,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=u.length>1&&void 0!==u[1]?u[1]:{},s=r.limit,i=r.offset,o=r.more,n("setEarningsLoading",!0),o||n("setEarnings",{items:[],more:o}),t.prev=4,t.next=7,Object(a["a"])({limit:s,offset:i});case 7:c=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),c=[];case 13:return n("setEarnings",{items:c,more:o}),n("setEarningsLoading",!1),t.abrupt("return",c);case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e){return t.apply(this,arguments)}return e}()}},"34b7":function(t,e,n){"use strict";n.d(e,"h",(function(){return s})),n.d(e,"j",(function(){return a})),n.d(e,"i",(function(){return i})),n.d(e,"k",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"g",(function(){return l})),n.d(e,"l",(function(){return m})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return h}));var r=n("b775"),s=function(){var t="".concat(r["b"],"/countries");return r["d"].get(t).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/countries/").concat(t,"/states");return r["d"].get(e).then((function(t){return t.data}))},i=function(){var t="".concat(r["b"],"/countries/payouts");return r["d"].get(t).then((function(t){return t.data}))},o=function(){var t="".concat(r["b"],"/users/me/settings/api-tokens");return r["d"].post(t).then((function(t){return t.data}))},c=function(t){var e="".concat(r["b"],"/users/me/settings/api-tokens/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/messages/templates/reply_on_subscribe");return r["d"].post(e,t).then((function(t){return t.data}))},d=function(){var t="".concat(r["b"],"/messages/templates");return r["d"].get(t).then((function(t){return t.data}))},f=function(t){var e="".concat(r["b"],"/messages/templates/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=Object(r["c"])({limit:n,offset:a}),o="".concat(r["b"],"/changelog").concat(i);return r["d"].get(o).then((function(t){return t.data}))},m=function(t){var e="".concat(r["b"],"/users/me/settings/messages");return r["d"].patch(e,t).then((function(t){return t.data}))},p=function(t){var e="".concat(r["b"],"/emails/change");return r["d"].post(e,t).then((function(t){return t.data}))},h=function(t){var e="".concat(r["b"],"/emails/change");return r["d"].delete(e).then((function(t){return t.data}))}},3773:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return f})),n.d(e,"mutations",(function(){return l})),n.d(e,"actions",(function(){return m}));n("8e6e"),n("456d"),n("96cf");var r=n("3b8d"),s=n("bd86"),a=(n("20d6"),n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("a836");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=function(){return{messages:[],loading:!1,hasMore:!1}},d=u(),f={messages:function(t){return t.messages},loading:function(t){return t.loading},hasMore:function(t){return t.hasMore}},l={setLoading:function(t,e){t.loading=e},setMessages:function(t,e){var n=e.messages,r=e.more;t.messages=r?Object(a["a"])(new Set([].concat(Object(a["a"])(t.messages),Object(a["a"])(n)))):Object(a["a"])(n)},setMessage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.id){var n=t.messages.findIndex((function(t){return t.id===e.id}));n>-1&&(t.messages[n]=c(c({},t.messages[n]),e),t.messages=Object(a["a"])(t.messages))}},setHasMore:function(t,e){t.hasMore=e},resetMassStat:function(t){Object.assign(t,u())},logout:function(t){Object.assign(t,u())}},m={fetchMessagesStat:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.offset,a=n.more,o=n.limit,r("setLoading",!0),t.prev=3,t.next=6,Object(i["j"])({offset:s,limit:o});case 6:return c=t.sent,r("setMessages",{messages:c.list,more:a}),r("setHasMore",c.hasMore),r("setLoading",!1),t.abrupt("return",c);case 13:return t.prev=13,t.t0=t["catch"](3),r("setHasMore",!1),r("setLoading",!1),t.abrupt("return",{});case 18:case"end":return t.stop()}}),t,null,[[3,13]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},3786:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u}));var r=n("b775"),s=function(t){var e="".concat(r["b"],"/users/login");return r["d"].post(e,t).then((function(t){return t.data}))},a=function(){var t="".concat(r["b"],"/users/logout");return r["d"].post(t).then((function(t){return t.data}))},i=function(t){var e="".concat(r["b"],"/users/register");return r["d"].post(e,t).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/users/login-as-referral/").concat(t);return r["d"].get(e).then((function(t){return t.data}))},c=function(){var t="".concat(r["b"],"/users/logout-from-referral");return r["d"].get(t).then((function(t){return t.data}))},u=function(){var t="".concat(r["b"],"/oauth/confirm");return r["d"].get(t).then((function(t){return t.data}))}},"3d2f":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("5df3"),n("4f7f");var r=n("75fc"),s=(n("ac6a"),n("4360")),a=function(){var t=[];return s["a"].getters["auth/authUser"].activeHelperAccess&&s["a"].getters["auth/authUser"].activeHelperAccess.permissions.forEach((function(e){var n=[];switch(e){case"chats":n=["/my/chats","/my/mass_chats"];break;case"posts":n=["/posts/create","/".concat(s["a"].getters["auth/authUser"].username),"/".concat(s["a"].getters["auth/authUser"].id),"/u".concat(s["a"].getters["auth/authUser"].id)];break;default:break}t=Object(r["a"])(new Set([].concat(Object(r["a"])(t),Object(r["a"])(n))))})),t}},4360:function(t,e,n){"use strict";n("8e6e"),n("5df3"),n("4f7f");var r=n("75fc"),s=(n("c5f6"),n("bd86")),a=(n("456d"),n("ac6a"),n("2b0e")),i=n("2f62"),o=n("4245"),c=n.n(o),u=n("dce5"),d=n.n(u),f=n("2411"),l=n.n(f),m=n("0759"),p=n.n(m),h=n("2a74"),b=n("709f");function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}a["default"].use(i["a"]),e["a"]=new i["a"].Store({strict:!1,modules:h["default"],plugins:navigator.cookieEnabled?[p()({predicate:["users/setUserHiddenPosts"]})]:[],actions:{logout:function(){var t=this;return new Promise((function(e){Object.keys(t.state).forEach((function(e){t.commit("".concat(e,"/logout"))})),b["a"].removeItem("accessToken"),e()}))}},mutations:{set:function(t,e){if(e.entities){if(e.entities.posts||e.entities.linkedPosts){var n=v(v({},e.entities.linkedPosts),e.entities.posts);t.posts.items=c()({},t.posts.items,n)}if(e.entities.users){var s=v({},e.entities.users),a=Object.keys(s).map(Number);if(t.users.needResetCheckOnlines){t.users.needResetCheckOnlines=!1;var i=t.auth.user;t.users.checkOnlines=Object(r["a"])(new Set([].concat(Object(r["a"])(a),[i])))}else t.users.checkOnlines=Object(r["a"])(new Set([].concat(Object(r["a"])(t.users.checkOnlines),Object(r["a"])(a))));t.users.items=l()({},t.users.items,s,(function(t,e,n){return"view"===n?d()(t||{},e):Array.isArray(e)?e:void 0}))}if(e.entities.usersLists&&(t.usersLists.items=l()({},t.usersLists.items,e.entities.usersLists,(function(t,e){if(Array.isArray(e))return e}))),e.entities.comments&&(t.comments.items=c()({},t.comments.items,e.entities.comments)),e.entities.chats){var o=v({},e.entities.chats);t.chats.items=c()({},t.chats.items,o)}if(e.entities.chatUser){var u=v({},e.entities.chatUser);Object.keys(u).forEach((function(t){u[t].messages=[],u[t].typing=!1})),t.chats.items=c()({},t.chats.items,u)}if(e.entities.messages){var f=v({},e.entities.messages);e.chatId&&Object.keys(f).forEach((function(t){f[t].chatId=Number(e.chatId)})),t.chats.messages=c()({},t.chats.messages,f)}e.entities.streams&&(t.streams.items=l()({},t.streams.items,e.entities.streams,(function(t,e,n,r,s,a){if(Array.isArray(e))return e}))),e.entities.subscribes&&(t.subscribes.items=c()({},t.subscribes.items,e.entities.subscribes)),e.entities.subscribers&&(t.subscribers.items=c()({},t.subscribers.items,e.entities.subscribers)),e.entities.offers&&(t.offers.items=c()({},t.offers.items,e.entities.offers)),e.entities.spotifyArtists&&(t.settings.spotifyArtistsItems=c()({},t.settings.spotifyArtistsItems,e.entities.spotifyArtists)),e.entities.spotifyTracks&&(t.settings.spotifyTracksItems=c()({},t.settings.spotifyTracksItems,e.entities.spotifyTracks)),e.entities.cards&&(t.payments.cards=c()({},t.payments.cards,e.entities.cards)),e.entities.bundles&&(t.bundles.items=c()({},t.bundles.items,e.entities.bundles)),e.entities.commentIds&&(t.comments.itemsIds=l()({},t.comments.itemsIds,e.entities.commentIds,(function(t,e){if(Array.isArray(e))return e}))),e.entities.repliesIds&&(t.static.repliesIds=l()({},t.static.repliesIds,e.entities.repliesIds,(function(t,e){if(Array.isArray(e))return e}))),e.entities.ticketReplies&&(t.static.ticketReplies=c()({},t.static.ticketReplies,e.entities.ticketReplies)),e.entities.votersList&&(t.posts.votersList=l()({},t.posts.votersList,e.entities.votersList,(function(t,e){if(Array.isArray(e))return e}))),e.entities.supportTickets&&(t.static.supportTickets=c()({},t.static.supportTickets,e.entities.supportTickets)),e.entities.performerHelpers&&(t.performerHelpers.items=c()({},t.performerHelpers.items,e.entities.performerHelpers)),e.entities.helperAccess&&(t.performerHelpers.helperAccess=c()({},t.performerHelpers.helperAccess,e.entities.helperAccess))}}}})},"439b":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return h})),n.d(e,"getters",(function(){return b})),n.d(e,"mutations",(function(){return g})),n.d(e,"actions",(function(){return v}));n("8e6e"),n("ac6a"),n("456d");var r=n("7618"),s=(n("96cf"),n("3b8d")),a=n("75fc"),i=n("bd86"),o=n("71ea"),c=n("5e23"),u=n("559d"),d=n("a836"),f=n("09e4");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=function(){return{myStories:[],myLoading:!1,myError:!1,items:[],loading:!1,error:!1,userStories:[],userLoading:!1,userError:!1,archiveStories:[],archiveLoading:!1,archiveError:!1,archiveLoaded:!1,highlights:[],highlightsLoading:!1,highlightsError:!1,currentHighlights:{},currentHighlightsLoading:!1,currentHighlightsError:!1,statData:void 0,statLoading:!1,statError:!1,chatStory:void 0,chatStoryLoading:!1,chatStoryError:!1,storyViewers:[],storyViewersLoading:!1,storyViewersError:!1,storyViewersLoaded:!1,storyBlockedViewers:[],storyFromArchive:void 0}},h=p(),b={myStories:function(t){return t.myStories},stories:function(t){return t.items},userStories:function(t){return t.userStories},archiveStories:function(t){return t.archiveStories},archiveStoriesLoading:function(t){return t.archiveLoading},archiveStoriesLoaded:function(t){return t.archiveLoaded},highlights:function(t){return t.highlights},currentHighlights:function(t){return t.currentHighlights},currentStoryStat:function(t){return t.statData},chatStory:function(t){return t.chatStory},storyViewers:function(t){return t.storyViewers},storyViewersLoaded:function(t){return t.storyViewersLoaded},storyViewersLoading:function(t){return t.storyViewersLoading},storyBlockedViewers:function(t){return t.storyBlockedViewers},storyFromArchive:function(t){return t.storyFromArchive}},g={setMyLoading:function(t,e){t.myLoading=e},setMyStories:function(t,e){t.myStories=e},updateMyStories:function(t,e){t.myStories=t.myStories.map((function(t){return t.id==e.id?m({},e):t}))},setMyError:function(t,e){t.myError=e},setArchiveLoading:function(t,e){t.archiveLoading=e},setArchiveLoaded:function(t,e){t.archiveLoaded=e},setArchiveStories:function(t,e){var n=e.stories,r=e.offset;t.archiveStories=r?[].concat(Object(a["a"])(t.archiveStories),Object(a["a"])(n)):n},setArchiveError:function(t,e){t.archiveError=e},setUserLoading:function(t,e){t.userLoading=e},setUserStories:function(t,e){t.userStories=e},setUserError:function(t,e){t.userError=e},setLoading:function(t,e){t.loading=e},setStories:function(t,e){t.items=e},setError:function(t,e){t.error=e},addNewMyStory:function(t,e){t.myStories=[].concat(Object(a["a"])(t.myStories),[e])},likeStory:function(t,e){var n=e.id,r=e.userId,s=e.value,a=e.type;"currentHighlights"!==a?"stories"!==a?"userStories"!==a?"chatStory"===a&&(t.chatStory=m(m({},t.chatStory),{},{isLiked:s})):t.userStories=t.userStories.map((function(t){return t.id==n?m(m({},t),{},{isLiked:s}):t})):t.items=t.items.map((function(t){return t.user.id!=r?t:m(m({},t),{},{stories:t.stories.map((function(t){return t.id==n?m(m({},t),{},{isLiked:s}):t}))})})):t.currentHighlights=m(m({},t.currentHighlights),{},{stories:t.currentHighlights.stories.map((function(t){return t.id==n?m(m({},t),{},{isLiked:s}):t}))})},setHighlightsLoading:function(t,e){t.highlightsLoading=e},setHighlights:function(t,e){t.highlights=e},setHighlightsError:function(t,e){t.highlightsError=e},setCurrentHighlightsLoading:function(t,e){t.currentHighlightsLoading=e},setCurrentHighlights:function(t,e){t.currentHighlights=e},setCurrentHighlightsError:function(t,e){t.currentHighlightsError=e},setStatLoading:function(t,e){t.statLoading=e},setStatData:function(t,e){t.statData=e},setStatError:function(t,e){t.statError=e},setChatStoryLoading:function(t,e){t.chatStoryLoading=e},setChatStory:function(t,e){t.chatStory=e},setChatStoryError:function(t,e){t.chatStoryError=e},logout:function(t){Object.assign(t,p())},setStoryViewersLoading:function(t,e){t.storyViewersLoading=e},setStoryViewersLoaded:function(t,e){t.storyViewersLoaded=e},setStoryViewers:function(t,e){var n=e.viewers,r=e.offset;t.storyViewers=r?[].concat(Object(a["a"])(t.storyViewers),Object(a["a"])(n)):n},setStoryBlockedViewers:function(t,e){t.storyBlockedViewers=e},setStoryViewersError:function(t,e){t.storyViewersError=e},setStoryFromArchive:function(t,e){t.storyFromArchive=e},resetStoryFromArchive:function(t){t.storyFromArchive=void 0},setStoryAsWatched:function(t,e){var n=e.id,r=e.type;switch(!0){case"currentHighlights"===r:t.currentHighlights.stories=t.currentHighlights.stories.map((function(t){return t.id!=n?t:m(m({},t),{},{isWatched:!0})}));break;case"stories"===r:t.items=t.items.map((function(t){return m(m({},t),{},{stories:t.stories.map((function(t){return t.id==n?m(m({},t),{},{isWatched:!0}):t}))})}));break;case"userStories"===r:t.userStories=t.userStories.map((function(t){return t.id!=n?t:m(m({},t),{},{isWatched:!0})}));break;default:break}},removeHighlights:function(t,e){t.highlights=t.highlights.filter((function(t){return t.id!==e}))}},v={fetchMyStories:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setMyLoading",!0),n("setMyError",!1),r=[],t.prev=4,t.next=7,Object(o["e"])();case 7:r=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),n("setMyError",!0);case 13:n("setMyLoading",!1),n("setMyStories",r);case 15:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e){return t.apply(this,arguments)}return e}(),updateMyStories:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,s=n.story,r("updateMyStories",s);case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchArchive:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=a.length>1&&void 0!==a[1]?a[1]:0,n("setArchiveLoading",!0),n("setArchiveError",!1),s=[],t.prev=5,t.next=8,Object(o["c"])(r);case 8:s=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),n("setArchiveError",!0);case 14:n("setArchiveLoaded",!s.length),n("setArchiveStories",{stories:s,offset:r}),n("setArchiveLoading",!1);case 17:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e){return t.apply(this,arguments)}return e}(),resetArchive:function(t){var e=t.commit;e("setArchiveLoaded",!1),e("setArchiveStories",{stories:[],offset:0}),e("setArchiveLoading",!1)},fetchStories:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=e.rootGetters,n("setLoading",!0),n("setError",!1),a=[],i=s["users/needSkipUsersOnStories"]?"all":void 0,t.prev=5,t.next=8,Object(o["f"])(i);case 8:a=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),n("setError",!0);case 14:d=a.map((function(t){return t.user})),d&&"object"===Object(r["a"])(d)&&d.length&&(f=Object(c["a"])(d,u["n"]),n("set",f,{root:!0})),n("setLoading",!1),n("setStories",a);case 18:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchStoriesById:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setChatStoryLoading",!0),r("setChatStoryError",!1),s={},t.prev=4,t.next=7,Object(o["g"])(n);case 7:s=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),r("setChatStoryError",!0);case 13:r("setChatStoryLoading",!1),r("setChatStory",s);case 15:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchUserStories:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setUserLoading",!0),r("setUserError",!1),r("setUserStories",[]),s=[],t.prev=5,t.next=8,Object(o["k"])(n);case 8:s=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),r("setUserError",!0);case 14:r("setUserLoading",!1),r("setUserStories",s);case 16:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),resetUserStories:function(t){var e=t.commit;e("setUserStories",[]),e("setUserError",!1),e("setUserLoading",!1)},addNewMyStory:function(t,e){var n=t.commit;n("addNewMyStory",e)},watchStory:function(t,e){var n=t.commit,r=e.id,s=e.type;n("setStoryAsWatched",{id:r,type:s}),Object(o["u"])(r)},removeMyStory:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["p"])(n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),like:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.id,a=n.userId,i=n.type,t.prev=2,t.next=5,Object(o["m"])(s);case 5:c=t.sent,c&&c.success&&r("likeStory",{userId:a,id:s,value:c.isLiked,type:i}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(f["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),unlike:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.id,a=n.userId,i=n.type,t.prev=2,t.next=5,Object(o["s"])(s);case 5:c=t.sent,c&&c.success&&r("likeStory",{userId:a,id:s,value:c.isLiked,type:i}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(f["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),comment:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.id,s=n.userId,a=n.text,t.next=3,Object(d["w"])(s,{text:a,storyId:r});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),saveHighlights:function(t,e){t.commit;e.id?Object(o["t"])(e):Object(o["q"])(e)},patchHighlight:function(t,e){t.commit;var n=e.highlightId,r=e.storyIds;Object(o["n"])(n,{storyIds:r})},fetchUserHighlights:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setHighlightsLoading",!0),r("setHighlightsError",!1),r("setHighlights",[]),s=[],t.prev=5,t.next=8,Object(o["j"])(n);case 8:s=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),r("setHighlightsError",!0);case 14:r("setHighlightsLoading",!1),r("setHighlights",s);case 16:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),resetUserHighlights:function(t){var e=t.commit;e("setHighlightsLoading",!0),e("setHighlightsError",!1),e("setHighlights",[])},fetchHighlights:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setCurrentHighlightsLoading",!0),r("setCurrentHighlightsError",!1),r("setCurrentHighlights",{}),s={},t.prev=5,t.next=8,Object(o["d"])(n);case 8:s=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),r("setCurrentHighlightsError",!0);case 14:r("setCurrentHighlightsLoading",!1),r("setCurrentHighlights",s);case 16:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),removeMyHighlights:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(o["o"])(n);case 3:r("removeHighlights",n);case 4:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchStoryStat:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setStatLoading",!0),r("setStatError",!1),r("setStatData",void 0),t.prev=4,t.next=7,Object(o["b"])(n);case 7:s=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),r("setStatError",!0);case 13:r("setStatLoading",!1),r("setStatData",s);case 15:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),resetStat:function(t){var e=t.commit;e("setStatData",void 0)},resetStoryViewers:function(t){var e=t.commit;e("setStoryViewersError",!1),e("setStoryViewersLoaded",!1),e("setStoryViewers",{viewers:[],offset:0}),e("setStoryViewersLoading",!1)},resetCurrentHighlights:function(t){var e=t.commit;e("setCurrentHighlights",{})},fetchStoryViewers:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var s,a,i,d,f,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=n.storyId,i=n.offset,d=void 0===i?0:i,s("setStoryViewersLoading",!0),s("setStoryViewersError",!1),f=[],t.prev=5,t.next=8,Object(o["i"])(a,d);case 8:f=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),s("setStoryViewersError",!0);case 14:f&&"object"===Object(r["a"])(f)&&f.length&&(l=Object(c["a"])(f,u["n"]),s("set",l,{root:!0}),s("setStoryViewers",{viewers:l.result,offset:d})),s("setStoryViewersLoaded",!f.length),s("setStoryViewersLoading",!1);case 17:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchStoryBlockedViewers:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=[],n("setStoryBlockedViewers",[]),t.prev=3,t.next=6,Object(o["h"])();case 6:s=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](3);case 11:s&&"object"===Object(r["a"])(s)&&s.length&&(a=Object(c["a"])(s,u["n"]),n("set",a,{root:!0}),n("setStoryBlockedViewers",a.result));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e){return t.apply(this,arguments)}return e}()}},"44ba":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return l}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),s=n("b775");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var o=function(){var t="".concat(s["b"],"/reports/reasons");return s["d"].get(t).then((function(t){return t.data}))},c=function(){var t="".concat(s["b"],"/reports/abuse-options");return s["d"].get(t).then((function(t){return t.data}))},u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(s["b"],"/users/").concat(t,"/report");return s["d"].post(r,i({reasonId:e},n)).then((function(t){return t.data}))},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(s["b"],"/posts/").concat(t,"/report");return s["d"].post(r,i({reasonId:e},n)).then((function(t){return t.data}))},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(s["b"],"/stories/").concat(t,"/report");return s["d"].post(r,i({reasonId:e},n)).then((function(t){return t.data}))},l=function(){var t="".concat(s["b"],"/unsubscribe/reasons");return s["d"].get(t).then((function(t){return t.data}))}},"459b":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return m})),n.d(e,"getters",(function(){return p})),n.d(e,"mutations",(function(){return h})),n.d(e,"actions",(function(){return b}));n("96cf");var r=n("3b8d"),s=(n("456d"),n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),a=n("5e23"),i=n("4245"),o=n.n(i),c=n("559d"),u=n("09e4"),d=n("1cf1"),f=n("2612"),l=function(){return{items:{},awards:{},itemIds:[],awardsIds:[],count:null,trials:{list:[],hasMore:!1},loading:!1}},m=l(),p={subscribers:function(t){return t.itemIds},subscribersCount:function(t){return t.count},getSubscriber:function(t){return function(e){return t.items[e]}},trials:function(t){return t.trials},isLoading:function(t){return t.loading},subscribersAwards:function(t){return t.awardsIds.map((function(e){return{id:e,percent:t.awards[e]}}))}},h={setLoading:function(t,e){t.loading=e},setSubscribers:function(t,e){var n=e.itemIds,r=e.data,a=void 0===r?{}:r,i=a.more;t.itemIds=i?Object(s["a"])(new Set([].concat(Object(s["a"])(t.itemIds),Object(s["a"])(n)))):Object(s["a"])(n)},setSubscribersCount:function(t,e){t.count=e},updateSubscribersMuted:function(t,e){var n={};Object.keys(t.itemIds).forEach((function(r){n[r]=t.itemIds[r].filter((function(t){return t!==e}))})),t.itemIds=n},setTrials:function(t,e){var n=e.trials,r=e.more,a=void 0!==r&&r;t.trials={list:a?Object(s["a"])(new Set([].concat(Object(s["a"])(t.trials.list),Object(s["a"])(n.list)))):Object(s["a"])(n.list),hasMore:n.hasMore}},setTrial:function(t,e){t.trials.list.unshift(e),4===t.trials.list.length&&(t.trials.hasMore=!0,t.trials.list=t.trials.list.slice(0,3))},deleteTrialMutation:function(t,e){t.trials.list=t.trials.list.filter((function(t){return t.id!==e}))},removeSubscriber:function(t,e){try{var n={};Object.keys(t.itemIds).forEach((function(r){n[r]=t.itemIds[r].splice(t.itemIds[r].indexOf(e),1)}))}catch(r){}},setSubscribersAwardsIds:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ids,r=void 0===n?[]:n,a=e.more,i=void 0!==a&&a;t.awardsIds=i?Object(s["a"])(new Set([].concat(Object(s["a"])(t.awardsIds),Object(s["a"])(r)))):Object(s["a"])(r)},setSubscribersAwards:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.awards=o()({},t.awards,e)},logout:function(t){Object.assign(t,l())}},b={fetchSubscribers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,i,o,u,f=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},t.prev=2,n("setLoading",!0),s=r.more,s||n("setSubscribers",{itemIds:[],data:r}),t.next=8,Object(d["d"])(r);case 8:return i=t.sent,n("setLoading",!1),i.length&&(o=Object(a["a"])(i,c["x"]),u=o.result,n("set",o,{root:!0}),n("setSubscribers",{itemIds:u,data:r})),t.abrupt("return",i);case 14:return t.prev=14,t.t0=t["catch"](2),n("setLoading",!1),Sentry.captureException(t.t0),t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSubscribersCount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=a.length>1&&void 0!==a[1]?a[1]:{},n("setSubscribersCount",null),t.prev=3,t.next=6,Object(d["f"])(r);case 6:s=t.sent,s&&void 0!==s.count&&n("setSubscribersCount",s.count),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),Sentry.captureException(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),putSubscriptionDiscount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=o.length>1&&void 0!==o[1]?o[1]:{},t.prev=2,t.next=5,Object(d["p"])(r);case 5:s=t.sent,s&&s.id&&(i=Object(a["a"])(s,c["y"]),n("set",i,{root:!0})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(u["b"])(t.t0);case 12:return t.abrupt("return",s);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),createTrial:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=a.length>1&&void 0!==a[1]?a[1]:{},t.prev=2,t.next=5,Object(d["q"])(r);case 5:s=t.sent,s&&n("setTrial",s),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(u["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchTrials:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o,c,u,f=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},s=r.limit,a=void 0===s?3:s,i=r.offset,o=r.more,n("setLoading",!0),c=l(),o||n("setTrials",{trials:c.trials}),t.prev=5,t.next=8,Object(d["l"])({limit:a,offset:i});case 8:return u=t.sent,n("setTrials",{trials:u,more:o}),n("setLoading",!1),t.abrupt("return",u);case 14:return t.prev=14,t.t0=t["catch"](5),Sentry.captureException(t.t0),n("setLoading",!1),t.abrupt("return",c.trials);case 19:case"end":return t.stop()}}),t,null,[[5,14]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteTrialAction:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(d["c"])(n);case 4:s=t.sent,s&&s.success&&r("deleteTrialMutation",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(u["b"])(t.t0);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchSubscriber:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(f["L"])(n,{view:"subscriber"});case 4:s=t.sent,s&&s.id&&(i=Object(a["a"])(s,c["y"]),r("set",i,{root:!0})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchSubscribersAwards:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,o,u,f,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},t.prev=2,i=r.more,i||n("setSubscribersAwardsIds"),t.next=7,Object(d["e"])(r);case 7:return o=t.sent,u=[],o&&o.list&&o.list.length&&(f={},o.list.forEach((function(t){var e=Object(a["a"])(t.user,c["y"]),r=e.result;n("set",e,{root:!0}),f[r]=t.percent,u=Object(s["a"])(new Set([].concat(Object(s["a"])(u),[r])))})),n("setSubscribersAwards",f),n("setSubscribersAwardsIds",{ids:u,more:i})),t.abrupt("return",u);case 13:return t.prev=13,t.t0=t["catch"](2),console.log(t.t0),Sentry.captureException(t.t0),t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[2,13]])})));function e(e){return t.apply(this,arguments)}return e}()}},"45ff":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return u}));var r=n("b775"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.offset,s=t.query,a=Object(r["c"])({limit:e,offset:n,query:s}),i="".concat(r["b"],"/users/referrals").concat(a);return r["d"].get(i).then((function(t){return t.data}))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.query,n=Object(r["c"])({query:e}),s="".concat(r["b"],"/users/referrals/count").concat(n);return r["d"].get(s).then((function(t){return t.data}))},i=function(){var t="".concat(r["b"],"/users/referrals/balance");return r["d"].get(t).then((function(t){return t.data}))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.offset,s=Object(r["c"])({limit:e,offset:n}),a="".concat(r["b"],"/users/referral-earnings").concat(s);return r["d"].get(a).then((function(t){return t.data}))},c=function(t){var e=t.phone,n=t.type,s=void 0===n?"user":n,a="".concat(r["b"],"/sms/invite/").concat(s);return r["d"].post(a,{phone:e}).then((function(t){return t.data}))},u=function(){var t="".concat(r["b"],"/sms/templates");return r["d"].get(t).then((function(t){return t.data}))}},4887:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return u})),n.d(e,"getters",(function(){return d})),n.d(e,"mutations",(function(){return f})),n.d(e,"actions",(function(){return l}));n("96cf");var r=n("3b8d"),s=n("75fc"),a=n("b775"),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?a["e"]:e,r=t.offset,s=t.query,i=Object(a["c"])({limit:n,offset:r,query:s}),o="".concat(a["b"],"/credits/transactions").concat(i);return a["d"].get(o).then((function(t){return t.data}))},o=n("f05e"),c=function(){return{transactions:[],allTransactions:[],transactionsLoading:!1}},u=c(),d={transactions:function(t){return t.transactions},allTransactions:function(t){return t.allTransactions},transactionsLoading:function(t){return t.transactionsLoading},isTransactionsLoading:function(t){return t.referralsLoading}},f={setTransactionsLoading:function(t,e){t.transactionsLoading=e},setTransactions:function(t,e){var n=e.items,r=e.more;t.transactions=r?[].concat(Object(s["a"])(t.transactions),Object(s["a"])(n)):Object(s["a"])(n)},setAllTransactions:function(t,e){var n=e.items,r=e.more;t.allTransactions=r?[].concat(Object(s["a"])(t.allTransactions),Object(s["a"])(n)):Object(s["a"])(n)},logout:function(t){Object.assign(t,c())}},l={fetchTransactions:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.limit,a=r.offset,o=r.query,c=r.more,n("setTransactionsLoading",!0),c||n("setTransactions",{items:[],more:c}),t.prev=4,t.next=7,i({limit:s,offset:a,query:o});case 7:u=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),u={list:[]};case 13:return n("setTransactions",{items:u.list,more:c}),n("setTransactionsLoading",!1),t.abrupt("return",u);case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchAllTransactions:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.limit,a=r.offset,i=r.query,c=r.more,n("setTransactionsLoading",!0),c||n("setAllTransactions",{items:[],more:c}),t.prev=4,t.next=7,Object(o["f"])({limit:s,offset:a,query:i});case 7:u=t.sent,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](4),u={list:[]};case 13:return n("setAllTransactions",{items:u.list,more:c}),n("setTransactionsLoading",!1),t.abrupt("return",u);case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));function e(e){return t.apply(this,arguments)}return e}()}},"48f1":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return s})),n.d(e,"getters",(function(){return a})),n.d(e,"mutations",(function(){return i})),n.d(e,"actions",(function(){return o}));var r=function(){return{draft:null}},s=r(),a={getDraft:function(t){return t.draft}},i={resetDraft:function(t){t.draft=null},setDraft:function(t,e){t.draft=e},logout:function(t){Object.assign(t,r())}},o={resetDraft:function(t){var e=t.commit;e("resetDraft")},setDraft:function(t,e){var n=t.commit;n("setDraft",e)}}},"4f84":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"state",(function(){return o})),n.d(e,"getters",(function(){return c})),n.d(e,"mutations",(function(){return u})),n.d(e,"actions",(function(){return d}));var r=n("75fc"),s=n("5892"),a=3e4,i=function(){return{collection:[],timer:void 0}},o=i(),c={collection:function(t){return t.collection},timer:function(t){return t.timer}},u={collect:function(t,e){t.collection=[].concat(Object(r["a"])(t.collection),[e])},setTimer:function(t,e){t.timer=e},resetCollection:function(t){t.collection=[]},resetTimer:function(e){t.clearInterval(e.timer),e.timer=void 0},logout:function(t){Object.assign(t,i())}},d={setTimer:function(t,e){var n=t.commit;n("setTimer",e)},collect:function(t,e){var n=t.commit;n("collect",e)},sendCollection:function(t){var e=t.commit,n=t.state,r=t.rootGetters,a=r["init/shouldSendStat"],i=r["auth/authUserId"];n.collection.length&&(a&&i&&Object(s["y"])(n.collection),e("resetCollection"))},startCollect:function(e){var n=e.commit,r=e.state,s=e.dispatch;if(!r.timer){var i=t.setInterval((function(){s("sendCollection")}),a);n("setTimer",i)}},stopCollect:function(t){var e=t.commit,n=(t.state,t.dispatch);n("sendCollection"),e("resetTimer")}}}.call(this,n("c8ba"))},"50ce":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return v})),n.d(e,"getters",(function(){return y})),n.d(e,"mutations",(function(){return O})),n.d(e,"actions",(function(){return w}));n("8e6e"),n("456d"),n("20d6"),n("6b54"),n("96cf");var r=n("3b8d"),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),a=(n("7f7f"),n("bd86")),i=n("b775"),o=function(t){var e="faq"===t?Object(i["c"])({help:1}):"",n="".concat(i["b"],"/pages/").concat(t).concat(e);return i["d"].get(n,{"axios-retry":{retries:1}}).then((function(t){return t.data}))},c=function(t){var e="".concat(i["b"],"/pages/contacts");return i["d"].post(e,t).then((function(t){return t.data}))},u=function(t){var e=Object(i["c"])({query:t,help:1}),n="".concat(i["b"],"/pages/faq").concat(e);return i["d"].get(n).then((function(t){return t.data}))},d=function(t){var e=t.id,n=t.title,r=t.description,s="".concat(i["b"],"/pages/faq/").concat(e);return i["d"].patch(s,{title:n,description:r}).then((function(t){return t.data}))},f=n("2612"),l=n("5e23"),m=n("559d"),p=n("09e4");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(){return{content:b({},(window.STATIC_PAGES||[]).filter((function(t){return"anchor"!==t.type})).map((function(t){return"help"===t.url?"faq":t.url})).reduce((function(t,e){return b(b({},t),{},Object(a["a"])({},e,{}))}),{})),searchContent:null,loading:!1,supportTickets:{},ticketsIds:{all:[],closed:[],open:[],solved:[]},ticketsCount:{all:0,closed:0,open:0,solved:0},repliesIds:{},ticketReplies:{}}},v=g(),y={getContentByName:function(t){return function(e){return t.content[e]||{}}},content:function(t){return t.content},loading:function(t){return t.loading},searchContent:function(t){return t.searchContent},supportTicketsIds:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return t.ticketsIds[e]&&t.ticketsIds[e].length?t.ticketsIds[e].filter((function(n){return"all"===e||t.supportTickets[n].status===e})):[]}},supportTicket:function(t){return function(e){return t.supportTickets[e]}},ticketReplies:function(t){return function(e){return t.repliesIds[e]?t.repliesIds[e].map((function(e){return t.ticketReplies[e]})):[]}},ticketRepliesIds:function(t){return function(e){return t.repliesIds[e]||[]}},ticketReply:function(t){return function(e){return t.ticketReplies[e]}}},O={setContent:function(t,e){var n=e.content,r=e.name;t.content[r]=n},setSearchContent:function(t,e){t.searchContent=e},setLoading:function(t,e){t.loading=e},reset:function(t,e){t.content[e]=null},resetSearchContent:function(t){t.searchContent=null},setTicketsIds:function(t,e){var n=e.ids,r=void 0===n?[]:n,a=e.more,i=void 0!==a&&a,o=e.before,c=void 0!==o&&o,u=e.status,d=void 0===u?"all":u;t.ticketsIds[d]=i?c?[].concat(Object(s["a"])(r),Object(s["a"])(t.ticketsIds[d])):[].concat(Object(s["a"])(t.ticketsIds[d]),Object(s["a"])(r)):r,t.ticketsIds[d]=Object(s["a"])(new Set(t.ticketsIds[d])).filter((function(t){return!!t}))},setTicketsCount:function(t,e){var n=e.count,r=e.more,s=void 0!==r&&r,a=e.status,i=void 0===a?"all":a;s?t.ticketsCount[i]+=n:t.ticketsCount[i]=n},setTicket:function(t,e){var n=e.id,r=e.ticket,s=void 0===r?{}:r;t.supportTickets[n]=b(b({},t.supportTickets[n]||{}),s)},logout:function(t){Object.assign(t,g())}},w={getContent:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setLoading",!0),r("setContent",{content:null,name:n}),t.prev=3,t.next=6,o(n);case 6:s=t.sent,r("setContent",{content:s,name:n}),r("setLoading",!1),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),r("setLoading",!1),r("setContent",{content:{text:"Page not found"},name:n});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),getSearchContent:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setLoading",!0),t.prev=2,t.next=5,u(n);case 5:s=t.sent,r("setSearchContent",s),r("setLoading",!1),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),r("setLoading",!1);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),contactUs:function(t,e){var n=t.commit;return n("setLoading",!0),c(e).then((function(t){return n("setLoading",!1),t})).catch((function(t){return n("setLoading",!1),t}))},reset:function(t){var e=t.commit;e("reset")},resetSearchContent:function(t){var e=t.commit;e("resetSearchContent")},getUsersTickets:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,s=d.length>1&&void 0!==d[1]?d[1]:{},a=s.more,i=void 0!==a&&a,o=s.status,i||(n("setTicketsIds",{status:o}),n("setTicketsCount",{status:o})),t.prev=3,t.next=6,Object(f["Q"])({offset:r.ticketsCount[o||"all"],status:o});case 6:return c=t.sent,c&&c.list&&c.list.length&&(u=Object(l["a"])(c.list,m["u"]),n("set",u,{root:!0}),n("setTicketsCount",{status:o,count:u.result.length,more:i}),n("setTicketsIds",{status:o,ids:u.result,more:i})),t.abrupt("return",c&&c.hasMore);case 11:return t.prev=11,t.t0=t["catch"](3),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));function e(e){return t.apply(this,arguments)}return e}(),postUsersTickets:function(t,e){var n=t.commit;return n("setLoading",!0),Object(f["T"])(e).then((function(t){if(n("setLoading",!1),t&&t.success){var e=Object(l["a"])(t.ticket,m["t"]);n("set",e,{root:!0}),n("setTicketsCount",{status:"open",count:1,more:!0}),n("setTicketsIds",{ids:[e.result],before:!0,more:!0,status:"open"})}return t})).catch((function(t){return n("setLoading",!1),t}))},replyOnTicket:function(t,e){var n=t.commit,r=t.state,i=t.rootGetters,o=e.id,c=e.data;return n("setLoading",!0),Object(f["Z"])(o,c).then((function(t){if(n("setLoading",!1),t&&t.success){n("setTicket",{id:o,ticket:{commentCount:r.supportTickets[o].commentCount+1}});var e=i["auth/authUser"],u=Object(l["a"])({id:Math.random().toString(36).substr(2,9),body:c.message,createdAt:new Date,user:{name:e.name,avatar:e.avatar}},m["w"]);n("set",u,{root:!0});var d=u.result;n("set",{entities:{repliesIds:Object(a["a"])({},o,Object(s["a"])(new Set([].concat(Object(s["a"])(r.repliesIds[o]||[]),[d]))))}},{root:!0})}return t})).catch((function(t){return n("setLoading",!1),t}))},getTicketReplies:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,i,o,c,u,d,p,h,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=e.state,o=e.getters,c=n.id,u=n.more,d=void 0!==u&&u,t.prev=2,p=d?o.ticketRepliesIds(c).length:0,t.next=6,Object(f["K"])({id:c,offset:p});case 6:return h=t.sent,h&&h.list&&h.list.length&&(b=Object(l["a"])(h.list,m["v"]),r("set",b,{root:!0}),g=b.result,r("set",{entities:{repliesIds:Object(a["a"])({},c,d?Object(s["a"])(new Set([].concat(Object(s["a"])(i.repliesIds[c]||[]),Object(s["a"])(g)))):g)}},{root:!0}),i.supportTickets[c].commentCount<g.length&&r("setTicket",{id:c,ticket:{commentCount:g.length}})),t.abrupt("return",h&&h.hasMore);case 11:return t.prev=11,t.t0=t["catch"](2),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),solveTicket:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,r("setLoading",!0),t.next=5,Object(f["fb"])(n);case 5:s=t.sent,r("setLoading",!1),s&&s.success&&r("setTicket",{id:n,ticket:{status:"solved"}}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),r("setLoading",!1),Object(p["b"])(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),reopenTicket:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,i,o,c,u,d,h,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,i=e.state,o=e.rootGetters,c=n.id,u=n.message,t.prev=2,r("setLoading",!0),t.next=6,Object(f["Y"])({id:c,message:u});case 6:d=t.sent,r("setLoading",!1),d&&d.success&&(r("setTicket",{id:c,ticket:{status:"open",commentCount:i.supportTickets[c].commentCount+1}}),h=o["auth/authUser"],b=Object(l["a"])({id:Math.random().toString(36).substr(2,9),body:u,createdAt:new Date,user:{name:h.name,avatar:h.avatar}},m["w"]),r("set",b,{root:!0}),g=b.result,r("set",{entities:{repliesIds:Object(a["a"])({},c,Object(s["a"])(new Set([].concat(Object(s["a"])(i.repliesIds[c]||[]),[g]))))}},{root:!0})),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](2),r("setLoading",!1),Object(p["b"])(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),checkIsCreateAllowed:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.source,a=n.subject,t.prev=2,r("setLoading",!0),i={},s&&(i.source=s),a&&(i.subject=a),t.next=9,Object(f["e"])(i);case 9:return o=t.sent,r("setLoading",!1),t.abrupt("return",o&&o.success);case 14:return t.prev=14,t.t0=t["catch"](2),r("setLoading",!1),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));function e(e,n){return t.apply(this,arguments)}return e}(),translateFaq:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u,f,l,m,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.id,i=n.title,o=n.description,t.prev=2,t.next=5,d({id:a,title:i,description:o});case 5:c=t.sent,c&&c.id&&(u=b({},s.content.faq),f=u.items.findIndex((function(t){return t.id===a})),f>-1?u.items[f]=b(b({},u.items[f]),{},{title:c.title,description:c.description}):(f=u.items.findIndex((function(t){var e=t.items&&t.items.length&&t.items.findIndex((function(t){return t.id===a}));return e>-1&&(l=e,!0)})),f>-1&&l>-1?u.items[f].items[l]=b(b({},u.items[f].items[l]),{},{title:c.title,description:c.description}):(f=u.items.findIndex((function(t){var e=t.items&&t.items.length&&t.items.findIndex((function(t){var e=t.items&&t.items.length&&t.items.findIndex((function(t){return t.id===a}));return e>-1&&(h=e,!0)}));return e>-1&&(m=e,!0)})),f>-1&&m>-1&&h>-1&&(u.items[f].items[m].items[h]=b(b({},u.items[f].items[m].items[h]),{},{title:c.title,description:c.description})))),r("setContent",{content:u,name:"faq"})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0),Object(p["b"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"539d":function(t,e,n){var r={"./auth.js":"c7d4","./banking.js":"8ff6","./billingSupport.js":"8986","./bundles.js":"2834","./chats.js":"f47e","./comments.js":"9898","./creditTransactions.js":"4887","./index.js":"2a74","./init.js":"75de","./lastPosts.js":"e2c7","./live.js":"cc4e","./massMessagesStat.js":"3773","./mediaVault.js":"d954","./modals.js":"d7bc","./offers.js":"a8e2","./payments.js":"82c1","./performerHelpers.js":"dd6f","./photoSwipe.js":"1306","./postDraft.js":"48f1","./postStatCollector.js":"4f84","./postStats.js":"fd24","./posts.js":"af6c","./profileStats.js":"b054","./referrals.js":"2c20","./router.js":"d3e9","./scheduledMessage.js":"7129","./settings.js":"0781","./socket.js":"f406","./statements.js":"9587","./static.js":"50ce","./stories.js":"439b","./streaming.js":"685f","./streams.js":"16a8","./streamsPast.js":"0242","./streamsScheduled.js":"0db4","./subscribers.js":"459b","./subscribersStat.js":"00ec","./subscribes.js":"caa2","./users.js":"8ce5","./usersLists.js":"5b5f"};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=a,t.exports=s,s.id="539d"},"559d":function(t,e,n){"use strict";n.d(e,"s",(function(){return c})),n.d(e,"r",(function(){return u})),n.d(e,"h",(function(){return m})),n.d(e,"y",(function(){return O})),n.d(e,"x",(function(){return w})),n.d(e,"z",(function(){return j})),n.d(e,"A",(function(){return S})),n.d(e,"f",(function(){return k})),n.d(e,"e",(function(){return x})),n.d(e,"m",(function(){return R})),n.d(e,"l",(function(){return T})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return A})),n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return _})),n.d(e,"q",(function(){return U})),n.d(e,"n",(function(){return M})),n.d(e,"g",(function(){return F})),n.d(e,"o",(function(){return B})),n.d(e,"p",(function(){return V})),n.d(e,"i",(function(){return G})),n.d(e,"t",(function(){return $})),n.d(e,"u",(function(){return z})),n.d(e,"w",(function(){return W})),n.d(e,"v",(function(){return X})),n.d(e,"j",(function(){return Y})),n.d(e,"k",(function(){return K}));n("8e6e"),n("456d"),n("c5f6"),n("ac6a"),n("5df3"),n("4f7f");var r=n("75fc"),s=n("bd86"),a=n("5e23");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=new a["b"].Entity("bundles"),u=new a["b"].Array(c),d=new a["b"].Entity("subscribes",{},{idAttribute:function(t,e){return e.id},processStrategy:function(t,e){return o(o({},t),{},{id:e.id})}}),f=(new a["b"].Array(d),new a["b"].Entity("subscribers",{},{idAttribute:function(t,e){return e.id},processStrategy:function(t,e){return o(o({},t),{},{id:e.id})}})),l=(new a["b"].Array(f),new a["b"].Entity("offers",{},{processStrategy:function(t,e){return o(o({},t),{},{userId:e.id})}})),m=new a["b"].Array(l),p={mergeStrategy:function(t,e){var n=[];return t._views?n=t._views:t._view&&(n.push(t._view),delete t._view),e._view&&(n=Object(r["a"])(new Set([].concat(Object(r["a"])(n),[e._view]))),delete e._view),o(o(o({},t),e),{},{view:o(o({},t.view||{}),e.view||{}),_views:n})},processStrategy:function(t){return t.username&&t.view&&(t.view=Object(s["a"])({},t.view,+new Date)),t._view&&(t._views=Object(r["a"])(new Set([].concat(Object(r["a"])(t._views||[]),[t._view])))),o(o({},t),{},{friendsList:[]})}},h=new a["b"].Entity("users",{},p),b=new a["b"].Entity("helperAccess",{user:h},{idAttribute:function(t){return t.userId}}),g=new a["b"].Array(b),v=new a["b"].Entity("users",{},p),y=new a["b"].Array(v),O=new a["b"].Entity("users",{subscribedByData:d,subscribedOnData:f,subscriptionBundles:u,helperAccess:g,connectedOfAccounts:y},p),w=new a["b"].Array(O),j=new a["b"].Entity("usersLists",{users:w},{processStrategy:function(t){return t.id=Number(t.id),o({},t)}}),S=new a["b"].Array(j),k=new a["b"].Entity("comments",{author:O}),x=new a["b"].Array(k),P=new a["b"].Entity("linkedPosts",{author:O},{processStrategy:function(t){return o(o({},t),{},{comments:[],streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]})}}),I=new a["b"].Array(P),R=new a["b"].Entity("posts",{author:O,fromUser:O,linkedPosts:I,linkedUsers:w},{processStrategy:function(t){return o(o(o({},t),void 0!==t.createdAt&&{postedAt:t.createdAt}),{},{streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]})}}),T=new a["b"].Array(R),C=new a["b"].Entity("messages",{fromUser:O},{processStrategy:function(t){return o(o({},t),{},{likePrevent:!1,isMediaPlayed:!1})}}),A=new a["b"].Entity("chats",{withUser:O,lastMessage:C},{idAttribute:function(t){return t.withUser.id},processStrategy:function(t){return o(o({},t),{},{messages:[],typing:!1})}}),E=new a["b"].Array(A),_=new a["b"].Array(C),L=new a["b"].Entity("streams",{user:O}),U=new a["b"].Array(L),M=new a["b"].Array(O),D=new a["b"].Entity("notification",{user:O}),F=new a["b"].Array(D),N=new a["b"].Entity("spotifyArtists"),B=new a["b"].Array(N),q=new a["b"].Entity("spotifyTracks"),V=new a["b"].Array(q),H=new a["b"].Entity("cards"),G=new a["b"].Array(H),$=new a["b"].Entity("supportTickets"),z=new a["b"].Array($),W=new a["b"].Entity("ticketReplies"),X=new a["b"].Array(W),Y=new a["b"].Entity("performerHelpers",{helper:O},{idAttribute:function(t){return t.helperId}}),K=new a["b"].Array(Y)},"56d7":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"normalizeStageFile",(function(){return Mt})),n.d(r,"proceedFile",(function(){return qt})),n.d(r,"setUpCrop",(function(){return Ht})),n.d(r,"changeScreen",(function(){return $t})),n.d(r,"getMaxImageScale",(function(){return Wt})),n.d(r,"addCropRect",(function(){return Yt})),n.d(r,"doCrop",(function(){return Jt})),n.d(r,"done",(function(){return te})),n.d(r,"resetCrop",(function(){return ne})),n.d(r,"transparentOverlayColor",(function(){return se})),n.d(r,"getOverlayGradientCoordinates",(function(){return ie})),n.d(r,"addOverlayRect",(function(){return ce})),n.d(r,"setOverlayColors",(function(){return de})),n.d(r,"doOverlay",(function(){return me})),n.d(r,"calcTextAreaParams",(function(){return he})),n.d(r,"textBackgroundSwitch",(function(){return ge})),n.d(r,"resetOverlay",(function(){return ye})),n.d(r,"changeTextColor",(function(){return we})),n.d(r,"textAlignSwitch",(function(){return Se})),n.d(r,"textBoldSwitch",(function(){return xe})),n.d(r,"addText",(function(){return Ie})),n.d(r,"doText",(function(){return Te})),n.d(r,"removeTextArea",(function(){return _e})),n.d(r,"addSticker",(function(){return Me})),n.d(r,"imageFromGroup",(function(){return Qe})),n.d(r,"createFileType",(function(){return tn})),n.d(r,"createShadowRects",(function(){return nn})),n.d(r,"addGif",(function(){return rn})),n.d(r,"startDeepAr",(function(){return vn})),n.d(r,"doDeepAr",(function(){return jn})),n.d(r,"switchEffectDeepAr",(function(){return Sn})),n.d(r,"cancelDeepAr",(function(){return In})),n.d(r,"proceedHistory",(function(){return An}));n("8e6e"),n("ac6a"),n("456d");var s=n("bd86"),a=(n("f559"),n("cadf"),n("551c"),n("f751"),n("097d"),n("2b0e")),i=(n("5abe"),n("7707")),o=n.n(i),c=n("9b02"),u=n.n(c),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},f=[],l={},m=l,p=n("2877"),h=Object(p["a"])(m,d,f,!1,null,null,null),b=h.exports,g=n("a18c"),v=n("4360"),y=n("5921"),O=n("dc21"),w=n("82dc"),j=n("e594"),S=n("0038"),k=n("4eb5"),x=n.n(k),P=n("7bb1"),I=n("00e7"),R=n.n(I),T=n("a4a1"),C=n.n(T),A=n("0086"),E=n.n(A),_=n("b408"),L=n.n(_),U=n("a925"),M=n("85fe"),D=n("660e"),F=n("7591"),N=n.n(F),B=n("25fe"),q=n.n(B),V=n("5843"),H=n("5fda"),G=n("2616"),$=n("51c2"),z=n("700c"),W=n("f7ca"),X=n("dbbe"),Y=n("8c60"),K=n("3d31"),Q=(n("7f7f"),"imageEditor"),J="#000000",Z="#2fb2ff",tt=Math.PI/180,et={regular:400,strong:700,light:300},nt=n("362d"),rt=n.n(nt);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function it(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new rt.a.Group(at({draggable:!0,dragBoundFunc:function(){return t.group.absolutePosition()}},e))}function ot(t){return new rt.a.Layer({id:"base_layer_".concat(t),fill:J})}function ct(t){var e=new rt.a.Image({x:t.width/2,y:t.height/2,id:"editable_image",image:t,draggable:!1,width:t.width,height:t.height,offset:{x:t.width/2,y:t.height/2},scale:{x:1,y:1},rotation:0,stroke:Z,strokeWidth:2,strokeEnabled:!1,skewEnable:!1,blurEnable:!1,dragBoundFunc:function(t){return t}});return e.historySource=t.src,e}function ut(t,e){var n=new rt.a.Image({x:0,y:0,name:"sticker",image:t,width:t.width,height:t.height,scale:{x:e,y:e},rotation:0,skewEnable:!1,blurEnable:!1,historySource:t.src});return n.historySource=t.src,n}function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(t){return new rt.a.Rect(ft({fill:"black",opacity:.5,globalCompositeOperation:"xor"},t))}n("96cf");var mt=n("3b8d"),pt=n("75fc");n("34ef"),n("9c29");function ht(){var t,e,n,r,s,a,i,o,c,u,d,f,l,m,p,h,b,g,v,y,O,w,j,S,k,x,P,I,R,T,C,A=new Uint32Array([1,2,4,8,16,32,64,128,256,512,1024,2048,4096]),E=[0,4,2,1],_=[8,8,4,2],L=[],U=[],M=[];j=void 0,S=null,w=1,O=y=v=g=0,l=f=d=u=!1;var D={GCExt:249,COMMENT:254,APPExt:255,UNKNOWN:1,IMAGE:44,EOF:59,EXT:33};function F(t){var e=this.pos=0,n=this.data=new Uint8Array(t),r=this.data.length;this.getString=function(t){var r="";e=this.pos;while(t--)r+=String.fromCharCode(n[e++]);return this.pos=e,r},this.readSubBlocks=function(){var t,s,a="";e=this.pos;while(0!==t&&e<r){s=t=n[e++];while(s--)a+=String.fromCharCode(n[e++])}return this.pos=e,a},this.readSubBlocksB=function(){var t,s,a=[],i=0;e=this.pos;while(0!==t&&e<r){s=t=n[e++];while(s--)a[i++]=n[e++]}return this.pos=e,a}}function N(t,e){var n,s,a,i,o,c,u,d,f,l,m,p=A,h=[];for(a=s=0,i=p[t],o=i+1,c=t+1,u=!0,n=0;n<i;n++)h[n]=[n];m=o+1;while(u){for(f=d,d=0,n=0;n<c;n++)e[a>>3]&p[7&a]&&(d|=p[n]),a++;if(d===i){for(c=t+1,m=o+1,n=0;n<o;n++)h[n]=[n];h[o]=[0],h[i]=[0]}else{if(d===o)break;for(d>=m?h[m++]=[].concat(Object(pt["a"])(h[f]),[h[f][0]]):f!==i&&(h[m++]=[].concat(Object(pt["a"])(h[f]),[h[d][0]])),l=h[d].length,n=0;n<l;n++)r[s++]=h[d][n];c<12&&m===p[c]&&(c+=1)}}}function B(t){var e=0;t<<=2;var n=new Uint8Array(t);while(e<t)n[e++]=s.data[s.pos++],n[e++]=s.data[s.pos++],n[e++]=s.data[s.pos++],n[e++]=255;return new Uint32Array(n.buffer)}function q(){s.pos+=6,g=s.data[s.pos++]+(s.data[s.pos++]<<8),v=s.data[s.pos++]+(s.data[s.pos++]<<8),r=new Uint8Array(g*v);var t=s.data[s.pos++];if(ht.colorRes=(112&t)>>4,R=1<<1+(7&t),T=s.data[s.pos++],s.pos++,128&t){C=B(R);var e=C[T];x=void 0!==e?"rgb(".concat(255&e,",").concat(e>>8&255,",").concat(e>>16&255,")"):"black"}ft("decodestart",{width:g,height:v},!0),setTimeout(K,0)}function V(){s.pos+=1,"NETSCAPE"===s.getString(8)?s.pos+=8:(s.pos+=3,s.readSubBlocks())}function H(){s.pos++;var t=s.data[s.pos++];m=(28&t)>>2,p=!!(1&t),h=s.data[s.pos++]+(s.data[s.pos++]<<8),b=s.data[s.pos++],s.pos++}function G(){function a(s){var a,i,o,c=n/s;for(a=0,t!==n&&(e=new Uint8Array(n),t=n),i=0;i<4;i++)for(o=E[i];o<c;o+=_[i])e.set(r.subarray(a,a+s),o*s),a+=s}var i={};L.push(i),i.disposalMethod=m,i.time=y,i.delay=10*h,y+=i.delay,i.leftPos=s.data[s.pos++]+(s.data[s.pos++]<<8),i.topPos=s.data[s.pos++]+(s.data[s.pos++]<<8),i.width=s.data[s.pos++]+(s.data[s.pos++]<<8),i.height=s.data[s.pos++]+(s.data[s.pos++]<<8);var o=s.data[s.pos++];i.localColourTableFlag=!!(128&o),i.localColourTableFlag&&(i.localColourTable=B(1<<1+(7&o))),n!==i.width*i.height&&(n=i.width*i.height),i.transparencyIndex=p?b:void 0,N(s.data[s.pos++],s.readSubBlocksB()),64&o?(i.interlaced=!0,a(i.width)):i.interlaced=!1,$(i)}function $(t){var s,a,i,o;t.image=document.createElement("canvas"),t.image.width=g,t.image.height=v,t.image.ctx=t.image.getContext("2d");var c=t.localColourTableFlag?t.localColourTable:C;k=k||t,s=2===k.disposalMethod||3===k.disposalMethod,s||t.image.ctx.drawImage(k.image,0,0,g,v);var d=t.image.ctx.getImageData(t.leftPos,t.topPos,t.width,t.height),f=t.transparencyIndex,l=new Uint32Array(d.data.buffer);for(o=t.interlaced?e:r,a=0;a<n;a++)i=o[a],f!==i?l[a]=c[i]:s&&(l[a]=0);t.image.ctx.putImageData(d,t.leftPos,t.topPos),u||(ht.image=t.image),k=t}function z(){k=null,s=void 0,m=void 0,p=void 0,h=void 0,b=void 0,r=void 0,e=void 0,n=void 0,e=void 0,f=!0}function W(){d=!1,u||(c=o=0,L.length>0&&(ht.image=L[0].image)),Z(),z()}function X(){W()}function Y(){var t=s.data[s.pos++];t===D.GCExt?H():t===D.COMMENT?U.push(s.readSubBlocks()):t===D.APPExt?V():(t===D.UNKNOWN&&(s.pos+=13),s.readSubBlocks())}function K(){if(!0===l)return X();var t=s.data[s.pos++];if(t===D.IMAGE){if(G(),ft("progress",{progress:(s.pos/s.data.length*1e3|0)/10,frameCount:L.length}),ht.firstFrameOnly)return W()}else{if(t===D.EOF)return W();Y()}setTimeout(K,0)}function Q(){return!f&&(l=!0)}function J(t){ft("error",{message:t},!1),d=!1}function Z(){c=o=0,ft("load",{frameCount:L.length},!0),ht.playOnLoad&&ht.play()}function tt(t){a=new Uint8Array(t),s=new F(t),q()}function et(t){var e=new XMLHttpRequest;P=t,d=!0,e.responseType="arraybuffer",e.onload=function(t){404===t.target.status?(P=void 0,J("File not found")):t.target.status>=200&&t.target.status<300?tt(e.response):(P=void 0,J("Loading error : "+t.target.status))},e.onerror=function(t){P=void 0,J("File error "+t.message)},e.open("GET",t,!0),e.send()}function nt(t){if(void 0===P)P=t,setTimeout((function(){return et(P)}),0);else{var e="GIF is limited to a single load. Create a new GIF object to load another gif.";J(e),console.warn(e)}}function rt(t){w=(100*t|0)/100,j=void 0,0===Math.abs(w)&&(w=0,u&&at())}function st(){u||(0===w&&(w=1),I=!1,u=!0,dt())}function at(){I=!0,u=!1,clearTimeout(i),j=void 0}function it(){I||!u?ht.play():ht.pause()}function ot(t){clearTimeout(i),j=void 0,S=null,o=(t%L.length+L.length)%L.length,u?dt():(ht.image=L[o].image,c=L[o].time)}function ct(t){t<0&&(t=0),t%=y;var e=0;while(e<L.length&&t>L[e].time+L[e].delay)e+=1;return e}function ut(t){clearTimeout(i),j=void 0,S=null,o=ct(1e3*t),u?dt():(c=L[o].time,ht.image=L[o].image)}function dt(){var t,e,n=!1,r=0;if(0!==w){if(void 0!==j&&null===S){var s=j-performance.now();s<-O/2?(n=!0,j=(j+s/w)%y+y,o=ct(j),e=w<0?0===o?L.length-1:o-1:o):s<0&&(r=s)}n||(w<0?(o=null!==S?S:0===o?L.length-1:o-1,e=0===o?L.length-1:o-1):(null!==S&&(o=S),e=o=(o+1)%L.length)),t=Math.abs(L[e].delay/w)+r,O=Math.abs(L[e].delay/w),j=performance.now()+t,ht.image=L[o].image,c=L[o].time,i=setTimeout(dt,t),S=null}else ht.pause()}function ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];M["on"+t]&&setTimeout((function(){e.type=t,e.gif=ht,e.buffer=a,M["on"+t](e),n&&mt(t)}),0)}function lt(t,e){"function"===typeof e&&("progress"!==t&&(e=e.bind(ht)),M["on"+t]=e)}function mt(t){void 0!==M["on"+t]&&(M["on"+t]=void 0)}var ht={image:null,comments:U,get paused(){return I},get playing(){return u},get loading(){return d},get complete(){return f},set src(t){nt(t)},cancel:Q,get backgroundColor(){return x},get src(){return P},get width(){return g},get height(){return v},get naturalWidth(){return g},get naturalHeight(){return v},get allFrames(){return L.map((function(t){return t.image}))},get duration(){return y},get currentFrame(){return o},get currentTime(){return c},get frameCount(){return L.length},get playSpeed(){return w},getFrame:function(t){return L[t<0?0:t>=L.length?L.length-1:t].image},set currentFrame(t){ot(t)},set currentTime(t){ut(t)},set playSpeed(t){rt(t)},playOnLoad:!0,firstFrameOnly:!1,set onload(t){lt("load",t)},set onerror(t){lt("error",t)},set onprogress(t){lt("progress",t)},set ondecodestart(t){lt("decodestart",t)},play:st,pause:at,seek:ut,seekFrame:ot,togglePlay:it};return ht}var bt=function(t,e){return gt.apply(this,arguments)};function gt(){return gt=Object(mt["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.createElement("canvas"),s=function(t){var s=ht();function a(e){var s=e.gif;r.width=s.width,r.height=s.height;var a=r.getContext("2d");function i(){a.clearRect(0,0,r.width,r.height),a.drawImage(s.image,0,0),n.batchDraw(),requestAnimationFrame(i)}requestAnimationFrame(i),n.batchDraw(),t({buffer:e.buffer,canvas:r})}s.src=e,s.onload=a},t.abrupt("return",new Promise(s));case 3:case"end":return t.stop()}}),t)}))),gt.apply(this,arguments)}function vt(t){return yt.apply(this,arguments)}function yt(){return yt=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,bt(e,this.layer).then((function(t){return n=t}));case 3:return r=new rt.a.Image({name:"gif",image:n.canvas}),s=.3*this.group.height()/r.height(),a=.3*this.group.width()/r.width(),i=s<a?s:a,r.scaleX(i),r.scaleY(i),r.x(this.group.width()/2-r.width()/2*i),r.y(this.group.height()/2-r.height()/2*i),r.imgOrigWidth=r.width(),r.imgOrigHeight=r.height(),r.perfectDrawEnabled(!1),r.fixed_ratio=!0,r.historySource=e,t.abrupt("return",{gif:r,buffer:n.buffer});case 17:case"end":return t.stop()}}),t,this)}))),yt.apply(this,arguments)}function Ot(t){var e=t.position();e.w=t.width()*t.scaleX(),e.h=t.height()*t.scaleX(),e.r=t.rotation();var n=e.w*Math.cos(e.r*tt),r=e.w*Math.sin(e.r*tt),s={x:e.x+n,y:e.y+r},a=e.h*Math.cos((e.r+90)*tt),i=e.h*Math.sin((e.r+90)*tt),o={x:s.x+a,y:s.y+i},c=e.h*Math.cos((e.r+90)*tt),u=e.h*Math.sin((e.r+90)*tt),d={x:e.x+c,y:e.y+u},f={x:(e.x+o.x)/2,y:(e.y+o.y)/2},l={x:(e.x+d.x)/2,y:(e.y+d.y)/2},m={x:(s.x+o.x)/2,y:(s.y+o.y)/2},p={x:(e.x+s.x)/2,y:(e.y+s.y)/2},h={x:(d.x+o.x)/2,y:(d.y+o.y)/2},b={A:p.y-h.y,B:h.x-p.x,C:p.x*h.y-h.x*p.y},g={A:l.y-m.y,B:m.x-l.x,C:l.x*m.y-m.x*l.y};return{topRight:s,bottomRight:o,bottomLeft:d,center:f,equation_v:b,equation_h:g}}var wt=Ot;function jt(t,e){var n=t.x,r=t.y,s=Math.cos(e*tt),a=Math.sin(e*tt);return{x:n*s-r*a,y:r*s+n*a}}var St=jt,kt=n("c483");n("7514");function xt(){return[].concat(Object(pt["a"])(this.layer.find(".sticker")),Object(pt["a"])(this.layer.find(".gif")),Object(pt["a"])(this.layer.find(".label")),Object(pt["a"])(this.layer.find("::edit")),Object(pt["a"])(this.layer.find("MergedGroup")))}var Pt=xt;function It(){return{height:window.innerHeight-document.getElementById("imageEditorHeader").clientHeight-document.getElementById("imageEditorFooter").clientHeight,width:document.getElementById("imageEditorStage").offsetWidth}}function Rt(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer";t.on("mouseenter",(function(){e.stage.container().style.cursor=n})),t.on("mouseleave",(function(){e.stage.container().style.cursor="default"}))}function Tt(t,e){var n=this;Object(kt["a"])(t);var r,s,a,i;t.on("rotatestart",(function(s){n.viewState.isRotatingMoveable=!0,a=s.evt.gesture.rotation,s.evt.gesture.pointers.length<2||(n.userActions.isShapeRotating=!0,t.draggable(!1),e.from=n.history.normalizeMoveableObject(e),r=wt(e),i=e.scaleX(),e.draggable(!1))})),t.on("rotate",(function(t){var o=a-t.evt.gesture.rotation;if(o<30&&o>-30&&i&&2===t.evt.gesture.pointers.length&&n.userActions.isShapeRotating){var c=i*t.evt.gesture.scale,u=e.rotation()-o,d={x:-e.width()*c/2,y:-e.height()*c/2},f=St(d,e.rotation()),l=St(d,u),m=l.x-f.x,p=l.y-f.y;e.rotation(u),e.x(e.x()+m),e.y(e.y()+p),r=wt(e),s={x:(e.x()-r.center.x)/e.scaleX(),y:(e.y()-r.center.y)/e.scaleX()};var h={x:s.x*c+r.center.x,y:s.y*c+r.center.y};e.position(h),e.scale({x:c,y:c}),a=t.evt.gesture.rotation,n.layer.batchDraw()}})),t.on("rotateend rotatecancel",(function(r){n.viewState.isRotatingMoveable=!1,n.history.push("moveableObject","modifyRotation",t.historyId,n.history.normalizeMoveableObject(e)),n.userActions.isShapeRotating=!1,t.moveToTop(),t.draggable(!0),n.imageConf.shadows.moveToTop(),n.layer.batchDraw()}))}function Ct(t){var e=document.querySelector(t);if(!e)return null;var n=this.stage.getPointerPosition(),r=document.querySelector(t).getBoundingClientRect(),s={x:r.x+r.width/2-document.querySelector(".image_editor > .image_editor_holder ").offsetLeft,y:r.y+r.height/2-60},a=Math.abs(Math.sqrt(Math.pow(n.x-s.x,2)+Math.pow(n.y-s.y,2)));return a<=30}var At=Ct;function Et(t,e){var n=this,r=!1,s={};t.on("dragstart",(function(e){var a=n.stage.getPointerPosition(),i=n.stage.getAllIntersections(a),o=i.find((function(t){return/::edit/.test(t.name())}));if(!o){r=!0,t.from=n.history.normalizeMoveableObject(t),n.userActions.shapeIsDraging=!0,n.api.events.$emit("shapeDragging",!0),t.moveToTop(),n.imageConf.shadows.moveToTop();var c="mousemove"===e.evt.type?e.evt.x:e.evt.touches[0].clientX,u="mousemove"===e.evt.type?e.evt.y:e.evt.touches[0].clientY,d=t.x(),f=t.y();s={x:c/n.imageConf.ratio-d,y:u/n.imageConf.ratio-f}}})),t.on("dragmove",(function(e){if(s&&!n.userActions.shapeIsRotating&&r){var a=document.querySelector(".text_delete svg.g-icon");a&&"default"===n.viewState.screen&&(a.style.fontSize=At.call(n,".text_delete")?"40px":"30px"),"mousemove"===e.evt.type&&(t.position({x:e.evt.x/n.imageConf.ratio-s.x,y:e.evt.y/n.imageConf.ratio-s.y}),n.layer.batchDraw()),"touchmove"===e.evt.type&&1===e.evt.touches.length&&(t.position({x:e.evt.touches[0].clientX/n.imageConf.ratio-s.x,y:e.evt.touches[0].clientY/n.imageConf.ratio-s.y}),n.layer.batchDraw())}})),t.on("dragend",(function(){if(r){if(r=!1,!n.userActions.shapeIsRotating)if(t.moveToTop(),n.imageConf.shadows.moveToTop(),At.call(n,".text_delete")){"gif"===e.name()&&(n.gifs.storage=[],n.api.events.$emit("saveAsCopyPermToggle",n.settingsPassed.saveAsCopy));var a=n.history.normalizeMoveableObject(e);a.x=t.from.x,a.y=t.from.y,a.childX=e.x(),a.childY=e.y(),n.history.push("moveableObject","delete",t.historyId,a),t.destroy(),n.layer.batchDraw()}else n.history.push("moveableObject","modifyPosition",t.historyId,n.history.normalizeMoveableObject(t));n.userActions.shapeIsDraging=!1,n.api.events.$emit("shapeDragging",!1),s=null}}))}var _t=function(t){var e=this,n=it.call(this,{name:"MergedGroup"});if("label"!==t.name()){n.historyId=t.historyId;var r=this.history.installMoveableObject(n,t);n.historyId=r.id,t.historyId=r.id}var s,a,i,o,c=new rt.a.Circle({x:t.x()+t.width()*t.scaleX(),y:t.y(),name:"dimensionCircle::edit",radius:4/this.imageConf.ratio,fill:"#5dc6ef",stroke:"#01afef",strokeWidth:1,draggable:!0});return Rt.call(this,c,"crosshair"),c.on("dragstart",(function(n){"mousemove"===n.evt.type&&(t.from=e.history.normalizeMoveableObject(t),i=t.scaleX(),o=t.rotation(),a=wt(t),s={x:n.evt.x/e.imageConf.ratio-c.x(),y:n.evt.y/e.imageConf.ratio-c.y()})})),c.on("dragmove",(function(n){var r=t.width()*t.scaleX()/e.imageConf.ratio,c=t.height()*t.scaleY()/e.imageConf.ratio,u=function(){var t=n.evt.x/e.imageConf.ratio-s.x-a.center.x,r=n.evt.y/e.imageConf.ratio-s.y-a.center.y;return 180*Math.atan2(r,t)/Math.PI};if("mousemove"===n.evt.type){var d=Math.pow(r,2),f=Math.pow(c,2),l=Math.sqrt(f+d)/2,m=u(),p=Math.pow(t.width()/e.imageConf.ratio,2),h=Math.pow(t.height()/e.imageConf.ratio,2),b=Math.sqrt(p+h)/2,g=n.evt.x/e.imageConf.ratio-s.x,v=n.evt.y/e.imageConf.ratio-s.y+12,y=Math.pow(g-a.center.x,2),O=Math.pow(v-a.center.y,2),w=Math.sqrt(y+O)/e.imageConf.ratio,j=o-m-45,S=1/b*l,k=(1/l*w-1)*S,x=i+k;i=x;var P=t.rotation()-j,I={x:-t.width()*x/2,y:-t.height()*x/2},R=St(I,t.rotation()),T=St(I,P),C=T.x-R.x,A=T.y-R.y;t.rotation(P),t.x(t.x()+C),t.y(t.y()+A);var E=wt(t),_={x:(t.x()-E.center.x)/t.scaleX(),y:(t.y()-E.center.y)/t.scaleX()},L={x:_.x*x+E.center.x,y:_.y*x+E.center.y};t.position(L),t.scale({x:x,y:x}),o=t.rotation()}e.layer.batchDraw()})),c.on("dragend",(function(){e.history.push("moveableObject","modifyRotation",n.historyId,e.history.normalizeMoveableObject(t))})),c.hide(),n.add(t),n.add(c),Rt.call(this,t),n.on("click dragstart",(function(n){"mouseup"===n.evt.type&&(t.strokeEnabled&&t.strokeEnabled()?(c.hide(),t.strokeEnabled(!1)):(t.strokeEnabled&&(t.strokeEnabled(!0),t.stroke("rgba(255,255,255,0.5)"),t.strokeWidth(1/e.imageConf.ratio)),c.show(),c.moveToTop()),e.layer.batchDraw())})),n.on("dragend",(function(n){c.hide(),t.strokeEnabled&&t.strokeEnabled(!1),e.layer.batchDraw()})),n.initialImageScale=this.imageConf.ratio,this.group.add(n),this.layer.batchDraw(),this.methods.normalizeStageFile(),this.api.events.$on("preSave",(function(){c.hide(),t.strokeEnabled&&t.strokeEnabled(!1)})),n.draggable(!0),Et.call(this,n,t),Tt.call(this,n,t),{group:n,konvaNode:t,circle:c}};function Lt(){this.imageConf.shadows&&this.imageConf.shadows.destroy();var t=lt({x:0,y:0-this.group.y(),height:this.group.y(),width:this.image.width()/this.imageConf.ratio}),e=lt({x:t.x(),y:t.y()+t.height()+this.image.height(),height:t.height(),width:t.width()}),n=lt({x:t.x()-this.group.x(),y:t.y(),height:t.height()+this.image.height()+e.height(),width:this.group.x()}),r=lt({x:n.x()+this.image.width()+n.width(),y:n.y(),height:n.height(),width:n.width()});return this.imageConf.shadows=new rt.a.Group,this.imageConf.shadows.add(t),this.imageConf.shadows.add(e),this.imageConf.shadows.add(n),this.imageConf.shadows.add(r),"default"!==this.viewState.screen&&this.imageConf.shadows.hide(),this.group.add(this.imageConf.shadows),!0}function Ut(t){var e=this,n=this.imageConf.ratio;this.config=It(),this.stage.height(this.config.height),this.stage.width(this.config.width);var r=this.stage.width()/this.image.width(),s=this.stage.height()/this.image.height(),a=r<s?r:s;this.imageConf.ratio=a<1?a:1,this.group.height(this.image.height()),this.group.width(this.image.width()),this.stage.scale({x:this.imageConf.ratio,y:this.imageConf.ratio});var i=(this.stage.width()-this.image.width()*this.imageConf.ratio)/2,o=(this.stage.height()-this.image.height()*this.imageConf.ratio)/2;return i=i<0?0:i/this.imageConf.ratio,o=o<0?0:o/this.imageConf.ratio,this.group.position({x:i,y:o}),this.image.position({x:this.image.width()/2,y:this.image.height()/2}),this.cropState.cropRect&&this.methods.setUpCrop(),Lt.call(this),n!==this.imageConf.ratio&&Pt.call(this).forEach((function(t){var r=t.parent;if("MergedGroup"===r.name()){var s=100/r.initialImageScale*e.imageConf.ratio/100,a=100/n*e.imageConf.ratio/100;r.scale({x:1/s,y:1/s}),r.position({x:r.x()/a,y:r.y()/a})}})),this.layer.batchDraw(),!0}var Mt=Ut,Dt=n("7618");n("28a5");function Ft(t){if(/^blob/.test(t))return t;for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),s=new Uint8Array(r),a=0;a<e.length;a++)s[a]=e.charCodeAt(a);var i=new Blob([r],{type:n});return window.URL.createObjectURL(i)}function Nt(t){return Bt.apply(this,arguments)}function Bt(){return Bt=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,r=c.length>2?c[2]:void 0,s=c.length>3?c[3]:void 0,e=Ft(e),a=function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(s){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new Image,a.onload=function(){setTimeout((function(){var t=ct(a);t.cropReset=!0,t.overlayReset=!0,t.imgSrc=e,t.imgOrigWidth=a.width,t.imgOrigHeight=a.height,t.perfectDrawEnabled(!1),t.fixed_ratio=!0,r?"object"===Object(Dt["a"])(r)&&(o.history.initialImageUrl=e):o.history.push("image","modify",null,{from:o.history.currentImageUrl,to:e}),o.history.currentImageUrl=e,o.historyBlobs[e]=!0,o.imageConf.html=a,s(t)}),n)},a.src=e;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.next=7,new Promise(a);case 7:return i=t.sent,this.group.add(i),this.image=this.group.findOne("#editable_image"),this.methods.normalizeStageFile(s),this.stage.batchDraw(),t.abrupt("return",i);case 13:case"end":return t.stop()}}),t,this)}))),Bt.apply(this,arguments)}var qt=Nt;function Vt(t,e){var n=this,r="undefined"!==typeof t?t:this.cropState.cropXSide,s="undefined"!==typeof e?e:this.cropState.cropYSide;this.cropState.cropXSide=r,this.cropState.cropYSide=s,"portrait"!==this.cropState.cropOrientation&&(r=this.cropState.cropYSide,s=this.cropState.cropXSide),this.cropState.cropRelationActive=r*s;var a=0,i=0,o=100;this.image.cropReset=!1;var c=function(t,e){var r=n.stage.height()/(t*n.imageConf.ratio)*100,s=n.stage.width()/(e*n.imageConf.ratio)*100;o=r<=s?r:s,a=e*(o/100),i=t*(o/100)};if(r===s&&0===r)a=this.image.width(),i=this.image.height(),o=100,this.image.cropReset=!0;else if("portrait"===this.cropState.cropOrientation){var u=this.image.height()/s*r,d=this.image.height();u>this.image.width()?(o=u/this.image.width()*100,a=u,i=d):c(d,u)}else{var f=this.image.width(),l=this.image.width()/r*s;if(l>this.image.height()){o=l/this.image.height()*100,a=f,i=l;var m=document.getElementsByClassName("konvajs-content"),p=m[0].clientWidth,h=m[0].clientHeight,b=+(a/i).toFixed(1),g=+(p/h).toFixed(1);g>=1.1&&g>b&&(o/=g/b,a/=g/b,i/=g/b)}else c(l,f)}a*=.9,i*=.9,o-=10;var v=(this.image.width()-a)/2+this.group.x(),y=(this.image.height()-i)/2+this.group.y(),O=360,w=0,j=120,S=this.cropState.cropRect.width(),k=a-S,x=this.cropState.cropRect.height(),P=i-x,I=this.cropState.cropRect.x(),R=v-I,T=this.cropState.cropRect.y(),C=y-T,A=this.cropState.imageSizeComp,E=o-A,_=new rt.a.Animation((function(t){if(w+=t.timeDiff*O/1e3,0!==k){var e=k/j*w+S;k>0&&e>a||k<0&&e<a?n.cropState.cropRect.width(a):n.cropState.cropRect.width(e)}if(0!==P){var r=P/j*w+x;P>0&&r>i||P<0&&r<i?n.cropState.cropRect.height(i):n.cropState.cropRect.height(r)}if(0!==E){var s=E/j*w+A;n.cropState.imageSizeComp=E>0&&s>o||E<0&&s<o?o:s}if(0!==R){var c=R/j*w+I;R>0&&c>v||R<0&&c<v?n.cropState.cropRect.x(v):n.cropState.cropRect.x(c)}if(0!==C){var u=C/j*w+T;C>0&&u>y||C<0&&u<y?n.cropState.cropRect.y(y):n.cropState.cropRect.y(u)}(k>0&&n.cropState.cropRect.width()>=a||k<0&&n.cropState.cropRect.width()<=a&&R>0&&n.cropState.cropRect.x()>=v||R<0&&n.cropState.cropRect.x()<=v&&C>0&&n.cropState.cropRect.y()>=y||R<0&&n.cropState.cropRect.y()<=y&&P>0&&n.cropState.cropRect.height()>=i||P<0&&n.cropState.cropRect.height()<=i&&E>0&&n.cropState.imageSizeComp>=o||E<0&&n.cropState.imageSizeComp<=o)&&(n.cropState.cropRect.width(a),n.cropState.cropRect.height(i),n.cropState.cropRect.x(v),n.cropState.cropRect.y(y),n.cropState.imageSizeComp=o,_.stop()),n.methods.createShadowRects(n.cropState.cropRect,n.cropState,n.group)}),this.layer);_.start(),setTimeout((function(){_.stop()}),1e3),this.stage.batchDraw()}var Ht=Vt;function Gt(t){var e=this;return this.viewState.screen=t,"default"===t?(this.image.draggable(!1),this.layer.batchDraw()):"crop"===t?(this.group.draggable(!1),setTimeout((function(){e.methods.normalizeStageFile(),e.methods.addCropRect()}),100),this.image.draggable(!0)):"overlay"===t?(this.group.draggable(!1),this.methods.addOverlayRect()):"text"===t&&(this.group.draggable(!1),this.methods.addText()),!0}var $t=Gt;function zt(){var t,e,n,r,s,a,i=this,o=this.cropState.maxImageScale,c=function(){t=i.stage.height()/(r*i.imageConf.ratio)*100,e=i.stage.width()/(r*i.imageConf.ratio)*100,n=t<=e?t:e,o=o<n?n:o};return this.cropState.cropRelations.forEach((function(t){t[0]===t[1]?(r=i.image.width()>=i.image.height()?i.image.height():i.image.width(),c()):(s=i.image.height()/t[1]*t[0],a=i.image.height(),s>i.image.width()?(n=s/i.image.width()*100,o=o<n?n:o):c(),s=i.image.width(),a=i.image.width()/t[1]*t[0],a>i.image.height()?(n=a/i.image.height()*100,o=o<n?n:o):c())})),o}var Wt=zt;function Xt(){var t=this;this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.maxImageScale=this.methods.getMaxImageScale(),this.stage.findOne("#cropRectLayer")&&this.stage.findOne("#cropRectLayer").destroy(),this.cropState.cropRelationActive=0,this.cropState.cropRect=new rt.a.Rect({x:this.group.x(),y:this.group.y(),id:"cropRectNode",width:this.image.width(),height:this.image.height(),draggable:!1,fill:"transparent",stroke:"rgba(255,255,255,0.85)",strokeWidth:3/this.imageConf.ratio,scale:this.group.scale(),strokeEnabled:!0});var e=new rt.a.Rect({id:"multitouchCropRect",x:this.group.x(),y:this.group.y(),width:this.group.width(),height:this.group.height(),draggable:!0,dragBoundFunc:function(n){return t.image.position({x:t.currentImagePos.x+(n.x-e.absolutePosition().x)/t.imageConf.ratio,y:t.currentImagePos.y+(n.y-e.absolutePosition().y)/t.imageConf.ratio}),t.layer.batchDraw(),t.group.absolutePosition()}});e.on("dragstart",(function(){t.currentImagePos=t.image.position()})),e.on("dragend",(function(){t.currentImagePos=t.image.position(),t.image.cropReset=!1})),Object(kt["a"])(e),e.on("rotatestart",(function(e){t.startScale=t.cropState.imageSizeComp/100,t.userActions.oldRotation=e.evt.gesture.rotation,t.image.stopDrag(),t.image.draggable(!1)})),e.on("rotate",(function(e){var n=t.userActions.oldRotation-e.evt.gesture.rotation;n<30&&n>-30&&(t.image.rotate(-n),t.userActions.oldRotation=e.evt.gesture.rotation);var r=t.startScale*e.evt.gesture.scale*100;r<=t.cropState.minImageScale?t.cropState.imageSizeComp=t.cropState.minImageScale:r>=t.cropState.maxImageScale?t.cropState.imageSizeComp=t.cropState.maxImageScale:t.cropState.imageSizeComp=r,t.layer.batchDraw(),t.cropState.imageRotateComp=t.image.rotation()})),e.on("rotateend rotatecancel",(function(){t.image.draggable(!0),t.image.cropReset=!1,t.layer.batchDraw()})),this.layer.add(this.cropState.cropRect),this.layer.add(e),this.overlayState.overlayRect&&this.overlayState.overlayRect.hide(),Pt.call(this).forEach((function(t){t.hide()})),this.layer.batchDraw(),this.methods.setUpCrop(0,0)}var Yt=Xt;function Kt(){return Qt.apply(this,arguments)}function Qt(){return Qt=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.image.cropReset){t.next=15;break}return this.cropState.cropRect.strokeEnabled(!1),this.group.clip({x:this.cropState.cropRect.x()-this.group.x(),y:this.cropState.cropRect.y()-this.group.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height()}),this.stage.scale({x:1,y:1}),this.stage.size({width:this.group.width()>this.stage.width()?this.group.width():this.stage.width(),height:this.group.height()>this.stage.height()?this.group.height():this.stage.height()}),e=this.stage.toDataURL({x:this.cropState.cropRect.x(),y:this.cropState.cropRect.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height(),pixelRatio:1,mimeType:"image/jpeg"}),this.image.destroy(),this.group.clip({x:void 0,y:void 0,width:void 0,height:void 0}),this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,t.next=13,this.methods.proceedFile(e,500).then((function(){n.overlayState.overlayRect&&(n.methods.addOverlayRect(),n.methods.doOverlay())}));case 13:t.next=21;break;case 15:this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,this.methods.changeScreen("default"),this.methods.normalizeStageFile(),this.overlayState.overlayRect&&(this.overlayState.overlayRect.show(),this.overlayState.overlayRect.moveToTop());case 21:Pt.call(this).forEach((function(t){n.api.events.$emit("showGifs"),t.show(),t.moveToTop(),t.parent.moveToTop()}));case 22:case"end":return t.stop()}}),t,this)}))),Qt.apply(this,arguments)}var Jt=Kt;function Zt(){var t=this;window.showPreloader(),setTimeout(Object(mt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.logAction("".concat(t.viewState.screen," done")),"crop"!==t.viewState.screen){e.next=5;break}t.methods.doCrop(),e.next=11;break;case 5:if("overlay"!==t.viewState.screen){e.next=10;break}return e.next=8,t.methods.doOverlay();case 8:e.next=11;break;case 10:"text"===t.viewState.screen?t.methods.doText():"deepAr"===t.viewState.screen&&t.methods.doDeepAr();case 11:t.methods.changeScreen("default"),window.hidePreloader();case 13:case"end":return e.stop()}}),e)}))))}var te=Zt;function ee(){this.image.width(this.image.imgOrigWidth),this.image.height(this.image.imgOrigHeight),this.image.offsetX(this.image.imgOrigWidth/2),this.image.offsetY(this.image.imgOrigHeight/2),this.image.x(this.image.imgOrigWidth/2),this.image.y(this.image.imgOrigHeight/2),this.image.crop({x:0,y:0,width:this.image.imgOrigWidth,height:this.image.imgOrigHeight}),this.image.rotation(0),this.image.scale({x:1,y:1}),this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.methods.setUpCrop(0,0),this.image.cropReset=!0,this.stage.batchDraw()}var ne=ee;function re(t){if("left"===t){var e=0;this.overlayState.leftColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",").concat(e,")"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",0)")]),this.layer.batchDraw()}else{var n=0;this.overlayState.rightColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",0)"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",").concat(n,")")]),this.layer.batchDraw()}}var se=re;function ae(){var t=this.image.width()/2,e=this.image.width()/2,n=0,r=this.image.height(),s=0,a=0,i=0;if(180===Math.abs(this.overlayState.overlayRotation)||0===this.overlayState.overlayRotation)return{startPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?0:this.image.height()},endPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?this.image.height():0}};if(90===Math.abs(this.overlayState.overlayRotation))return{startPoint:{x:this.overlayState.overlayRotation<0?0:this.image.width(),y:this.image.height()/2},endPoint:{x:this.overlayState.overlayRotation<0?this.image.width():0,y:this.image.height()/2}};Math.abs(this.overlayState.overlayRotation)<90&&(i=this.overlayState.overlayRotation),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(i=this.overlayState.overlayRotation<0?180+this.overlayState.overlayRotation:this.overlayState.overlayRotation-180),s=this.image.height()/2*Math.sin(i*(Math.PI/180));var o=Math.sqrt(Math.pow(this.image.width(),2)+Math.pow(this.image.height(),2)),c=180*Math.asin(Math.sin(this.image.height()/o))/Math.PI;return Math.abs(i)>90-c?(i<0?(t=0,e=this.image.width()):(t=this.image.width(),e=0),a=this.image.height()/2-this.image.width()/2*Math.tan(Math.PI*(90-Math.abs(i))/180),n=a,r=this.image.height()-a):(t=this.image.width()/2+s,e=this.image.width()/2-s,n=0,r=this.image.height()),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(n=r+n,r=n-r,n-=r,t=e+t,e=t-e,t-=e),{startPoint:{x:t,y:n},endPoint:{x:e,y:r}}}var ie=ae;function oe(){var t=this,e=this.methods.getOverlayGradientCoordinates();this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy();var n=new rt.a.Rect({id:"overlayRect",x:this.image.x(),y:this.image.y(),width:this.image.width(),height:this.image.height(),offsetX:this.image.offsetX(),offsetY:this.image.offsetY(),fillLinearGradientStartPoint:e.startPoint,fillLinearGradientEndPoint:e.endPoint,fillLinearGradientColorStops:[0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",1)"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",1)")],draggable:!1,opacity:this.overlayState.overlayOpacity});this.overlayState.overlayRect=n;var r,s=new rt.a.Rect({id:"multitouchRectOverlay",width:this.stage.width()/this.imageConf.ratio,height:this.stage.height()/this.imageConf.ratio,draggable:!1});Object(kt["a"])(s),s.on("rotatestart",(function(e){r=t.overlayState.overlayOpacityComputed/100,r=0===r?.01:r,t.userActions.oldRotation=e.evt.gesture.rotation})),s.on("rotate",(function(e){var n=t.userActions.oldRotation-e.evt.gesture.rotation;if(n<30&&n>-30){var s=t.overlayState.overlayRotationComputed-n;s=s>180?s-360:s<-180?s+360:s,t.overlayState.overlayRotationComputed=s,t.userActions.oldRotation=e.evt.gesture.rotation}var a=r*e.evt.gesture.scale*100;t.overlayState.overlayOpacityComputed=a<=0?0:a>=100?100:a,t.layer.batchDraw()})),s.on("rotateend rotatecancel",(function(e){t.layer.batchDraw()})),this.group.add(n),this.layer.add(s),Pt.call(this).forEach((function(t){t.hide()})),this.layer.batchDraw()}var ce=oe;function ue(){var t="transparent"===this.overlayState.leftColor?"0":"1",e="transparent"===this.overlayState.rightColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",").concat(t,")"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",").concat(e,")")]),this.overlayState.overlayReset=!1,this.layer.batchDraw()}var de=ue;function fe(){return le.apply(this,arguments)}function le(){return le=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.overlayState.overlayReset?(this.overlayState.overlayRect.destroy(),this.layer.findOne("#multitouchRectOverlay").destroy()):this.layer.findOne("#multitouchRectOverlay").destroy(),t.next=3,this.methods.imageFromGroup(!1,{onlyPicture:!0});case 3:return e=t.sent,this.overlayState.overlayRect.destroy(),this.image.destroy(),t.next=8,this.methods.proceedFile(e.dataURL,0).then((function(){n.overlayState.overlayRect=null}));case 8:Pt.call(this).forEach((function(t){n.api.events.$emit("showGifs"),t.show(),t.moveToTop(),t.parent.moveToTop()}));case 9:case"end":return t.stop()}}),t,this)}))),le.apply(this,arguments)}var me=fe;n("a481");function pe(t){var e=document.createElement("span");document.querySelector(".image_editor > .image_editor_holder").appendChild(e),e.id="span_check_textareasize",e.style.lineHeight=t.style.lineHeight,e.style.fontFamily=t.style.fontFamily,e.style.fontWeight=t.style.fontWeight,e.style.display="inline-block",e.style.color=t.style.color,e.style.fontSize=t.style.fontSize,e.style.position="absolute",e.style.width="auto",e.style.maxWidth=t.style.maxWidth,e.style.wordWrap="break-word",e.innerText="A";var n=e.offsetHeight,r=t.value.split("\n").length;e.style.padding=t.style.padding,e.innerHTML=t.value.replace(/\n\r?/g,"<br />");var s=e.offsetWidth+8,a=(e.offsetHeight-2*parseInt(t.style.padding,10))/n,i=document.querySelector(".image_editor").offsetWidth/2-e.offsetWidth/2,o=document.querySelector(".image_editor").offsetHeight/2-e.offsetHeight/2,c=a>=r?a:r,u={width:s+10,height:n*c+2*parseInt(t.style.padding,10),x:i,y:o};return e.remove(),u}var he=pe;n("6c7b");function be(){var t=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground?(this.textState.textBackground=!1,t.fill(null),this.methods.changeTextColor("black"===this.textState.textBackgroundColor?"white":this.textState.textBackgroundColor)):(this.textState.textBackground=!0,t.fill("rgb(".concat(this.overlayState.colors[this.textState.textBackgroundColor],")")),this.methods.changeTextColor("white"===this.textState.rightTextColor?"black":this.textState.rightTextColor))}var ge=be;function ve(){if(this.overlayState.overlayRect){this.api.events.$emit("overlayComputedsChange",{rotation:0,opacity:30}),this.overlayState.leftColor="transparent",this.overlayState.rightColor="transparent";var t="transparent"===this.overlayState.leftColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,"rgba(".concat(this.overlayState.colors[this.overlayState.leftColor],",").concat(t,")"),1,"rgba(".concat(this.overlayState.colors[this.overlayState.rightColor],",").concat(t,")")]),this.overlayState.overlayReset=!0,this.layer.batchDraw()}}var ye=ve;function Oe(t){var e=this.textState.currentText.getParent().findOne(".tag");e.fill()?(this.textState.textBackgroundColor=t,this.textState.currentText.textBackgroundColor=this.textState.textBackgroundColor,e.fill("rgb(".concat(this.overlayState.colors[this.textState.textBackgroundColor],")")),"white"!==t?(this.textState.rightTextColor="white",this.textState.currentText.fill("rgb(".concat(this.overlayState.colors[this.textState.rightTextColor],")"))):(this.textState.rightTextColor="black",this.textState.currentText.fill("rgb(".concat(this.overlayState.colors[this.textState.rightTextColor],")")))):(this.textState.rightTextColor=t,this.textState.currentText.fill("rgb(".concat(this.overlayState.colors[this.textState.rightTextColor],")")));var n=document.getElementById("textEditArea");"undefined"!==typeof n&&(n.style.background=e.fill()?"rgb(".concat(this.overlayState.colors[this.textState.textBackgroundColor],")"):"none",n.style.color=this.textState.currentText.fill()),this.layer.batchDraw()}var we=Oe;function je(){"center"===this.textState.textAlign?(this.textState.textAlign="left",this.textState.currentLabel.x(30/this.imageConf.ratio)):"left"===this.textState.textAlign?this.textState.textAlign="right":"right"===this.textState.textAlign&&(this.textState.textAlign="center"),this.textState.currentText.align(this.textState.textAlign);var t=document.getElementById("textEditArea");if(this.textState.currentLabel.moved=!1,"undefined"!==typeof t){t.style.textAlign=this.textState.currentText.align();var e=this.methods.calcTextAreaParams(t);t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px")}this.stage.batchDraw()}var Se=je;function ke(){var t=Object.keys(et);this.textState.textBold=t[(t.indexOf(this.textState.textBold)+1)%t.length];var e=document.getElementById("textEditArea");if("undefined"!==typeof e){e.style.fontWeight="".concat(et[this.textState.textBold]),this.textState.currentText.fontStyle("".concat(et[this.textState.textBold]));var n=this.methods.calcTextAreaParams(e);e.style.left="".concat(n.x,"px"),e.style.top="".concat(n.y,"px"),e.style.width="".concat(n.width,"px"),e.style.height="".concat(n.height,"px")}this.stage.batchDraw()}var xe=ke;function Pe(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.textState.rightTextColor="white",this.textState.textBackgroundColor="black",this.textState.textBackground=!1,this.textState.textAlign="center";var r=new rt.a.Text({x:e.Text?e.Text.x:this.group.width()/2,y:e.Text?e.Text.y:this.image.y(),text:e.Text?e.Text.text:"",fontSize:e.Text?e.Text.fontSize:this.textState.defaultTextFontSize/this.imageConf.ratio,fontFamily:"Open Sans",padding:12/this.imageConf.ratio,align:this.textState.textAlign,fill:"rgb(255,255,255)",fontStyle:"regular"===this.textState.textStyle?"normal":this.textState.textStyle});e.Text||(r.x(r.x()-r.width()/2),r.textBackgroundColor=null);var s=new rt.a.Label({x:n.childX||this.group.width()/2-r.width()/2,y:n.childY||this.image.y(),draggable:!1,scale:{x:n.scaleX||1,y:n.scaleY||1},name:"label"});s.moved=!1,s.add(new rt.a.Tag({cornerRadius:5/this.imageConf.ratio,name:"tag"})),s.add(r),n.rotation&&s.rotation(n.rotation);var a=_t.call(this,s),i=a.group,o=a.circle;if(n.id){s.historyId=n.id,i.historyId=s.historyId;var c=this.history.installMoveableObject(i,s);i.historyId=c.id}if(e.Text&&(n.childX||(s.x(e.x),s.y(e.y)),s.children.each((function(t){var n=e[t.className];n&&Object.keys(n).forEach((function(e){t[e](n[e])}))})),s.historySource=e),n.x&&i.x(n.x),n.y&&i.y(n.y),i.draggable(!0),!e.Text){var u=new rt.a.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(u)}this.textState.currentText=r,this.textState.currentLabel=s;var d=0;r.addEventListener("tap",(function(t){d||setTimeout((function(){d=0}),300),d+=1,2===d&&r.fire("dblclick")})),r.addEventListener("dblclick",(function(e){if(o.hide(),t.textState.afterTextRotate)return t.textState.afterTextRotate=!1,!1;s.hide();var n=document.createElement("textarea");if(n.onblur=function(t){n.focus()},document.querySelector(".image_editor > .image_editor_holder").appendChild(n),t.textState.currentText=r,t.textState.currentLabel=s,"text"!==t.viewState.screen){t.viewState.screen="text";var a=t.textState.currentText.getParent().findOne(".tag");t.textState.textBackground=!!a.fill();var i=new rt.a.Rect({x:0,y:0,width:t.image.width(),height:t.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});t.group.add(i),s.moveUp()}t.layer.batchDraw(),t.textState.textBackgroundColor=t.textState.currentText.textBackgroundColor,t.textState.textAlign=t.textState.currentText.align(),n.value=r.text(),n.style.position="absolute",n.style.fontSize="".concat(r.fontSize()*t.imageConf.ratio,"px"),n.style.fontStyle="normal",n.style.fontWeight=t.textState.currentText.fontStyle(),n.style.border="none",n.style.wordWrap="break-word",n.style.borderRadius="5px",n.style.padding="".concat(r.padding()*t.imageConf.ratio,"px"),n.style.margin="0px",n.style.overflow="hidden",n.style.background="none",n.style.background=s.findOne(".tag").fill()?"rgb(".concat(t.overlayState.colors[t.textState.textBackgroundColor],")"):"none",n.style.outline="none",n.style.resize="none",n.style.lineHeight=r.lineHeight(),n.style.fontFamily=r.fontFamily(),n.style.transformOrigin="left top",n.style.textAlign=r.align(),n.style.color=r.fill(),n.style.zIndex=10,n.style.maxWidth="".concat(t.config.width-120,"px"),n.id="textEditArea",n.focus(),+t.textState.currentText.fontStyle()?t.textState.textBold=Object.keys(et).find((function(e){return"".concat(et[e])===t.textState.currentText.fontStyle()})):t.textState.textBold="regular";var c=t.methods.calcTextAreaParams(n);n.style.width="".concat(c.width,"px"),n.style.height="".concat(c.height,"px"),n.style.left="".concat(c.x,"px"),n.style.top="".concat(c.y,"px"),n.addEventListener("focusout",(function(t){})),"input propertychange".split(" ").forEach((function(e){n.addEventListener(e,(function(e){var r=t.methods.calcTextAreaParams(n),s=t.textState.currentText.getParent().findOne(".tag");n.style.background=s.fill()&&n.value.replace(/[\r\n]+/gm,"").trim().length?"rgb(".concat(t.overlayState.colors[t.textState.textBackgroundColor],")"):"none",n.style.left="".concat(r.x,"px"),n.style.top="".concat(r.y,"px"),n.style.width="".concat(r.width,"px"),n.style.height="".concat(r.height,"px")}))}));setTimeout((function(){}))})),e.Text||r.fire("dblclick")}var Ie=Pe;function Re(){var t=document.getElementById("textEditArea");"undefined"!==typeof t&&this.methods.removeTextArea(t,this.textState.currentText,this.textState.currentLabel,null),this.currentText=null,this.currentLabel=null}var Te=Re;function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ee(t,e,n,r){if(!t)return!1;if(t.value.length>0){if("undefined"!==typeof n&&"undefined"!==typeof n.getText()){e.width(parseInt(t.style.width)/this.imageConf.ratio),e.text(t.value);var s=n.parent;if(n.historySource&&(n.from=JSON.parse(JSON.stringify(Ae(Ae({},n.historySource),{},{x:n.x(),y:n.y()})))),n.moved){var a=n.position().x+n.width()/2;n.x(a-n.width()/2)}else n.x(this.group.width()/2-e.width()/2);n.show(),n.moveUp(),n.historySource=Ae({x:n.x(),y:n.y()},n.children.reduce((function(t,e){return t[e.className]=e.attrs,t}),{})),n.historySource=JSON.parse(JSON.stringify(n.historySource)),s.historyId=n.historyId;var i=this.history.installMoveableObject(s,n);s.historyId=i.id,i.id===n.historyId&&this.history.push("moveableObject","modifyAttrs",i.id,this.history.normalizeMoveableObject(n)),n.historyId=s.historyId}}else e.destroy(),n.destroy(),this.textState.currentText=null,this.textState.currentLabel=null,this.layer.batchDraw();var o=this.group.findOne("#shadowRect");"undefined"!==typeof o&&o.destroy(),this.layer.batchDraw(),t.remove(),window.removeEventListener("click",r),window.removeEventListener("touchstart",r),this.textState.currentText=null,this.textState.currentLabel=null,this.methods.changeScreen("default")}var _e=Ee;function Le(t){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o=this,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},window.showPreloader(),r=function(t){var r=new Image;r.onload=function(){var s=n.scaleX||.25*o.group.height()/r.height,a=n.scaleY||.25*o.group.width()/r.width,i=s<a?s:a,c=ut(r,i);c.x(n.childX||o.group.width()/2-c.width()/2*i),c.y(n.childY||o.group.height()/2-c.height()/2*i),c.imgSrc=e,c.imgOrigWidth=r.width,c.imgOrigHeight=r.height,c.perfectDrawEnabled(!1),c.fixed_ratio=!0,n.rotation&&c.rotation(n.rotation),n.id&&(c.historyId=n.id),t(c)},r.src=e},t.next=5,new Promise(r);case 5:return s=t.sent,a=_t.call(this,s),i=a.group,n.x&&i.x(n.x),n.y&&i.y(n.y),this.api.events.$emit("stickerAdded",i),this.logAction("sticker add"),this.methods.normalizeStageFile(),window.hidePreloader(),t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,this)}))),Ue.apply(this,arguments)}var Me=Le,De=(n("4917"),n("d225")),Fe=n("b0b4"),Ne=(n("6b54"),n("8f95")),Be=n("bc3a"),qe=n.n(Be),Ve="streamfans.js?rev=".concat("202008311040-5a7dcf7da1"),He=function(){function t(e){var n=this;Object(De["a"])(this,t),this.worker=e,this.callStack={},this.worker.onmessage=function(t){var e=t.data;n.callStack[e.id]&&(e.error?n.callStack[e.id].reject(e.result):n.callStack[e.id].resolve(e.result))}}return Object(Fe["a"])(t,[{key:"post",value:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Math.random().toString(36).substr(2,9),this.callStack[r]=Object(Ne["a"])(),this.worker.postMessage({fn:e,args:n,id:r}),t.abrupt("return",this.callStack[r].promise.then((function(t){return n=[],t})));case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),Ge=function(){function t(t,e){try{return t()}catch(n){throw console.error(n),new Error(e)}}function e(t){var e=t.width,n=t.height,r=Module.pxImageData.createObject(e,n,4),s=r.data(),a=t.data;return Module.HEAPU8.set(a,s),r}function n(t){var e=t.length,n=Module.pxEncodedData.createObject();n.create(e);var r=n.data(),s=t;return Module.HEAPU8.set(s,r),n}function r(t){var e=t.size(),n=t.data();return new Uint8Array(Module.HEAPU8.buffer,n,e)}Module.perform=function(s,a,i){var o=null,c=t((function(){return e(s)}),"Background convert errored");if(a){var u=t((function(){return n(a.gifBuffer)}),"Gif convert errored");o=r(t((function(){return Module.make_stick_mp4(c,u,a.x,a.y,a.rotation,a.width,a.height)}),"New gif is not done")),u.delete()}else o=r(t((function(){return Module.make_img2mp4_ext(c,i,6e7)}),"New video is not created to js Buffer"));return c.delete(),new Blob([o],{type:"video/mp4"})}},$e=function(){return ze.apply(this,arguments)};function ze(){return ze=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=Object(Ne["a"])(),window.WASMMP4Worker){t.next=17;break}return n=window.location.origin,r="/theme/onlyfans/spa/",t.next=6,qe.a.get("".concat(r).concat(Ve),{responseType:"arraybuffer"});case 6:return s=t.sent,a=new Blob([s.data],{type:"text/plain"}),t.next=10,new Promise((function(t){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsText(a)}));case 10:i=t.sent,o="\n  Module = {};\n  Module.locateFile = function () { return '".concat(n).concat(r,"streamfans.wasm?rev=").concat("202008311040-5a7dcf7da1","' };\n  Module.onRuntimeInitialized = function () { console.log('WASM ready'); postMessage({ ready: true }) };\n  (").concat(Ge,")()\n  onmessage = function (e) {\n    var id = e.data.id;\n    var fn = e.data.fn;\n    var args = e.data.args;\n    var result = null;\n    var error = false;\n    try {\n      result = Module[fn].apply(null, args);\n    } catch (e) {\n      error = true;\n      result = e;\n    }\n    var argsToSend = { result: result, fn: fn, id: id, error: error };\n    postMessage({ result: result, fn: fn, id: id, error: error });\n\n    for (var key in args) {\n      delete args[key];\n    }\n  }\n  ").concat(i,"\n  "),c=URL.createObjectURL(new Blob([o],{type:"application/javascript"})),u=new Worker(c),u.onmessage=function(t){try{t.data.ready&&(window.WASMMP4Worker=new He(u),e.resolve(window.WASMMP4Worker))}catch(t){e.reject(t)}},t.next=18;break;case 17:e.resolve(window.WASMMP4Worker);case 18:return t.abrupt("return",e.promise);case 19:case"end":return t.stop()}}),t)}))),ze.apply(this,arguments)}var We=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.backgroundImageData,r=e.gifs,s=void 0===r?[]:r,a=e.time,i=void 0===a?1e3:a,o=e.context;Object(De["a"])(this,t),this.time=i,this.Module=null,this.background=n,this.context=o,this.gif=s[0],this.result=null}return Object(Fe["a"])(t,[{key:"perform",value:function(){var e=Object(mt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.createWorker(this.context),e.next=3,this.post("perform",[this.background,this.gif,this.time]);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"post",value:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:[],this.context.workerLoaded){t.next=5;break}return t.next=4,this.context.worker;case 4:return t.abrupt("return",this.context.worker.post(e,n));case 5:return t.abrupt("return",this.context.worker.post(e,n));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}],[{key:"createWorker",value:function(t){var e=t;e.workerLoaded||e.worker||(e.worker=$e(),console.log("WASM start loading"),e.worker.then((function(t){e.workerLoaded=!0,e.worker=t})))}}]),t}(),Xe=We;function Ye(t){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o,c,u,d,f,l,m,p,h,b,g,v,y,O,w,j,S,k,x,P,I,R,T,C,A,E,_=this,L=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=L.length>1&&void 0!==L[1]?L[1]:{},r=n.toCanvas,s=void 0!==r&&r,a=n.toVideo,i=void 0!==a&&a,o=n.onlyPicture,c=void 0!==o&&o,this.api.events.$emit("preSave"),u=i?2e3:1200,d=this.gifs.storage.length,f=(d||i)&&!c&&this.image.width()>u?100/this.image.width()*u/100:1,this.stage.scale({x:f,y:f}),this.deepArSettings.ratio=f,this.stage.size({width:this.group.width()>this.stage.width()?this.group.width():this.stage.width(),height:this.group.height()>this.stage.height()?this.group.height():this.stage.height()}),(d||i)&&!c){t.next=22;break}if(l=this.group[s?"toCanvas":"toDataURL"]({x:this.image.x()-this.image.width()/2+this.group.x(),y:this.image.y()-this.image.height()/2+this.group.y(),width:this.image.width(),height:this.image.height(),pixelRatio:1,mimeType:"image/jpeg"}),this.methods.normalizeStageFile(),s){t.next=19;break}m=l.split(","),p=m[0].match(/:(.*?);/)[1],h=atob(m[1]),b=h.length,g=new Uint8Array(b);while(b--)g[b]=h.charCodeAt(b);return t.abrupt("return",{mime:p,buffer:g,dataURL:l});case 19:return t.abrupt("return",{canvas:l});case 22:if(!d&&!i){t.next=36;break}return v=this.gifs.storage[0],y=this.group.toCanvas({x:this.image.x()*f-this.image.width()*f/2+this.group.x()*f,y:this.image.y()*f-this.image.height()*f/2+this.group.y()*f,width:this.image.width()*f,height:this.image.height()*f,pixelRatio:1}),this.api.events.$emit("showGifs"),O=y.getContext("2d"),w=O.getImageData(0,0,y.width,y.height),j=[],v&&!i&&(S=v.buffer,console.log(v),k=this.image.getClientRect(),x=v.konva.getClientRect(),P=x.x-k.x,I=x.y-k.y,R=v.konva.width()*v.konva.scaleX()*f,T=v.konva.height()*v.konva.scaleX()*f,C=-1*v.konva.rotation(),j.push({gifBuffer:S,x:P,y:I,width:R,height:T,rotation:C})),this.methods.normalizeStageFile(),A=new Xe({backgroundImageData:w,gifs:j,context:this.gifs}),t.next=34,new Promise(function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=setTimeout((function(){_.logError(new Error("Too long init video")),alert("Something went wrong. Please try again"),window.hidePreloader(),e(!1)}),2e4),t.next=3,A.perform().catch((function(t){return _.logError(t),alert("Something went wrong. Please try again"),window.hidePreloader(),!1}));case 3:r=t.sent,clearTimeout(n),e(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 34:return E=t.sent,t.abrupt("return",{mime:"video/mp4",blob:E});case 36:case"end":return t.stop()}}),t,this)}))),Ke.apply(this,arguments)}var Qe=Ye;function Je(){return Ze.apply(this,arguments)}function Ze(){return Ze=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e="new_file",t.next=3,this.methods.imageFromGroup(!0);case 3:if(n=t.sent,r=n.mime.split("/")[1],"mp4"===r&&(r="gif"),!n.buffer){t.next=10;break}return t.abrupt("return",new File([n.buffer],"".concat(e,".").concat(r),{type:n.mime}));case 10:if(!n.blob){t.next=15;break}return t.next=13,new Promise((function(t){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsArrayBuffer(n.blob)}));case 13:return s=t.sent,t.abrupt("return",new File([s],"".concat(e,".").concat(r),{type:n.mime}));case 15:return t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,this)}))),Ze.apply(this,arguments)}var tn=Je;function en(t,e,n){e.shadows&&e.shadows.destroy();var r=n.getClientRect();r={x:r.x,y:r.y,height:r.height/this.imageConf.ratio,width:r.width/this.imageConf.ratio};var s=t.getClientRect();s={x:s.x,y:s.y,height:s.height/this.imageConf.ratio,width:s.width/this.imageConf.ratio};var a=2*r.width+s.width,i=s.height,o=a,c=i,u=r.width,d=s.height,f=u,l=d,m=s.x+(t.x()-(s.x+n.x()))-u,p=s.y+(t.y()-(s.y+n.y()))-i,h=m,b=s.y+(t.y()-(s.y+n.y()))+c,g=s.x?s.x+(t.x()-(s.x+n.x()))-u:0-u,v=s.y+(t.y()-(s.y+n.y())),y=s.x?s.x+(t.x()-(s.x+n.x()))+s.width:s.width,O=s.y+(t.y()-(s.y+n.y())),w=lt({x:m,y:p,height:i,width:a}),j=lt({x:h,y:b,height:c,width:o}),S=lt({x:g,y:v,height:d,width:u}),k=lt({x:y,y:O,height:l,width:f});return e.shadows=new rt.a.Group,e.shadows.add(w),e.shadows.add(j),e.shadows.add(S),e.shadows.add(k),this.group.add(e.shadows),!0}var nn=en,rn=function(t){return sn.apply(this,arguments)};function sn(){return sn=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},Object.keys(this.gifs.storage).length&&(this.gifs.storage[0].konva.destroy(),this.gifs.storage=[]),window.showPreloader(),Xe.createWorker(this.gifs),t.next=6,vt.call(this,e,this.layer);case 6:r=t.sent,n.childX&&r.gif.x(n.childX),n.childY&&r.gif.y(n.childY),n.id&&(r.gif.historyId=n.id),n.rotation&&r.gif.rotation(n.rotation),s=_t.call(this,r.gif),a=s.group,this.api.events.$on("preSave",(function(){a.hide()})),this.gifs.storage.push({konva:r.gif,buffer:r.buffer}),n.x&&a.x(n.x),n.y&&a.y(n.y),this.api.events.$on("showGifs",(function(){a.show()})),this.api.events.$emit("gifAdded",this.gifs.storage.gif),!0===this.settings.saveAsCopy&&this.api.events.$emit("saveAsCopyPermToggle",!1),this.logAction("gif add"),window.hidePreloader();case 21:case"end":return t.stop()}}),t,this)}))),sn.apply(this,arguments)}var an="deepar.js",on="/theme/onlyfans/spa/deepAr/";function cn(){var t="deepArScript",e=document.getElementById(t);if(!e){var n=document.createElement("script");return n.setAttribute("src","".concat(on).concat(an)),n.setAttribute("id",t),n.setAttribute("loaded","no"),new Promise((function(t){n.onload=function(){n.setAttribute("loaded","yes"),t(window.DeepAR)},setTimeout((function(){t(window.DeepAR)}),1e4),document.head.appendChild(n)})).catch((function(){return!1}))}return window.DeepAR}var un=function(){function t(e){Object(De["a"])(this,t),this.DeepAr=null,this.editor=e}return Object(Fe["a"])(t,[{key:"init",value:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout((function(){t()}),1e3)}));case 2:return t.next=4,cn();case 4:r=t.sent,s=document.getElementById("deepArCanvasPlaceholder"),a=this.editor.deepArSettings.height,i=this.editor.deepArSettings.width,o=document.createElement("video"),o.loop=!0,o.muted=!0,o.playsinline=!0,o.crossorigin="anonymous",o.autoplay=!0,o.controls=!0,o.src=e,o.style.position="absolute",o.style.left="-9999px",s.appendChild(o),c=this.editor,u=function(){window.hidePreloader(),c.methods.cancelDeepAr(),c.logError(new Error("Too long deepArInit")),alert("Something went wrong. Please try again")},d=new r({canvasWidth:i,canvasHeight:a,licenseKey:"ddfe0cc5d0ce5cb0ada4fc7e925cac5b3a2e74c6df0f74f791816fe51d065e4588fececd4651943b",canvas:document.createElement("canvas"),numberOfFaces:1,onInitialize:function(){function t(){d.setVideoElement(o,!1);var t=!1,e=setTimeout((function(){t=!0}),2e4),n=function e(){setTimeout((function(){d.context||(d.setVideoElement(o,!1),t?u():e())}),1e3)};n(),window.showPreloader();var r=function n(){setTimeout((function(){d.currentFps&&!t?(window.hidePreloader(),clearTimeout(e)):t?u():n()}),200)};r(),d.switchEffect(0,"slot","".concat(on,"effects/baseBeauty?rev=").concat("202008311040-5a7dcf7da1"))}t(),c.deepAr=d,n()}}),s.appendChild(d.canvas),d.downloadFaceTrackingModel("".concat(on,"models/models-68-extreme.bin")),this.editor.deepAr=d;case 25:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()}]),t}(),dn=un;function fn(t,e,n,r){this["history".concat(t)].undo.push({type:e,stateType:n,options:r}),this["history".concat(t)].redo=[]}function ln(t,e){var n="undo"===e?"redo":"undo",r=this["history".concat(t)][e].pop();this["history".concat(t)][n].push(r)}function mn(t){this["history".concat(t)]={undo:[],redo:[],push:fn.bind(this,t),pop:ln.bind(this,t)}}function pn(t,e){var n,r=this,s=this,a=function t(){!0!==r.viewState.isDraggingMoveable&&(clearTimeout(n),n=null,r.viewState.longTap=!1,document.removeEventListener("mouseup",t),document.removeEventListener("touchend",t))},i=function(t){(e||"editable_image"===t.target.attrs.id)&&(t.evt&&t.evt.touches&&t.evt.touches.length>1||(n=setTimeout((function(){!0!==s.viewState.isRotatingMoveable&&(document.addEventListener("mouseup",a),document.addEventListener("touchend",a),r.viewState.longTap=!0,!0)}),600)))},o=e?"addEventListener":"on";t[o]("mousedown",i),t[o]("touchstart",i),t[o]("mouseup",a),t[o]("touchend",a)}var hn=pn;function bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var vn=function(){return yn.apply(this,arguments)};function yn(){return yn=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e,n,r,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.showPreloader(),e=new dn(this),Pt.call(this).forEach((function(t){t.hide()})),mn.call(this,"deepAr"),t.next=6,this.methods.imageFromGroup(!1,{toVideo:!0});case 6:if(n=t.sent,n.blob){t.next=10;break}return this.methods.cancelDeepAr(),t.abrupt("return");case 10:return r=URL.createObjectURL(n.blob),this.deepArSettings=gn(gn({},this.deepArSettings),{},{width:this.image.width()*this.imageConf.ratio,height:this.image.height()*this.imageConf.ratio}),t.next=14,e.init(r,(function(){a.api.events.$emit("deepArInit",!0)}));case 14:s=document.getElementById("deepArCanvasPlaceholder"),s.style.minHeight="".concat(this.config.height,"px"),hn.call(this,s,!0),this.methods.changeScreen("deepAr");case 18:case"end":return t.stop()}}),t,this)}))),yn.apply(this,arguments)}function On(){return wn.apply(this,arguments)}function wn(){return wn=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=document.getElementById("deepArCanvasPlaceholder"),this.deepAr.setCanvasSize(this.deepArSettings.width/this.deepArSettings.ratio,this.deepArSettings.height/this.deepArSettings.ratio),t.next=4,new Promise((function(t){r.deepAr.onScreenshotTaken=function(e){t(e)},r.deepAr.takeScreenshot()}));case 4:return n=t.sent,this.image.destroy(),e.innerHTML="",e.style.minHeight="0px",t.next=10,this.methods.proceedFile(n,0,!1,!0).then((function(){r.logAction("deepAr data",{makeup:r.deepArSettings.makeup,beauty:r.deepArSettings.beauty_effects}),r.resetDeepArSettings(),r.deepAr=null,Pt.call(r).forEach((function(t){r.api.events.$emit("showGifs"),t.show(),t.moveToTop(),t.parent.moveToTop()})),r.methods.normalizeStageFile()}));case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t,this)}))),wn.apply(this,arguments)}var jn=On,Sn=(n("2ef0"),function(t,e,n){return kn.apply(this,arguments)});function kn(){return kn=Object(mt["a"])(regeneratorRuntime.mark((function t(e,n,r){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.deepAr){t.next=2;break}return t.abrupt("return");case 2:window.showPreloader(),s="/theme/onlyfans/spa/deepAr/",this.deepAr.switchEffect(0,n,"".concat(s,"effects/").concat(e,"?rev=").concat("202008311040-5a7dcf7da1"),(function(){r&&r(),window.hidePreloader()}));case 5:case"end":return t.stop()}}),t,this)}))),kn.apply(this,arguments)}function xn(){return Pn.apply(this,arguments)}function Pn(){return Pn=Object(mt["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=document.getElementById("deepArCanvasPlaceholder"),e.innerHTML="",e.style.minHeight="0px",Pt.call(this).forEach((function(t){t.show(),t.moveToTop(),t.parent.moveToTop()})),this.deepAr=null,this.resetDeepArSettings(),this.methods.changeScreen("default");case 7:case"end":return t.stop()}}),t,this)}))),Pn.apply(this,arguments)}var In=xn,Rn={moveableObject:{create:{undo:function(t){var e=t.options,n=this.history.moveableObjects[e.id].konva;n.destroy(),"gif"===e.name&&(this.gifs.storage=[])},redo:function(t){var e=t.options;"sticker"===e.name?this.methods.addSticker(e.source,{id:e.id}):"gif"===e.name?this.methods.addGif(e.source,{id:e.id}):"label"===e.name&&this.methods.addText(e.source,{id:e.id})}},modifyPosition:{undo:function(t){var e=t.options,n=this.history.moveableObjects[e.id].konva;Object.keys(e.from).forEach((function(t){"function"===typeof n[t]&&n[t](e.from[t])}))},redo:function(t){var e=t.options,n=this.history.moveableObjects[e.id].konva;Object.keys(e).forEach((function(t){"function"===typeof n[t]&&n[t](e[t])}))}},modifyRotation:{undo:function(t){var e,n=t.options,r=this.history.moveableObjects[n.id].konva;r.children.each((function(t){"Circle"!==t.className&&(e=t)})),Object.keys(n.from).forEach((function(t){"function"===typeof e[t]&&e[t](n.from[t])}))},redo:function(t){var e,n=t.options,r=this.history.moveableObjects[n.id].konva;r.children.each((function(t){"Circle"!==t.className&&(e=t)})),Object.keys(n).forEach((function(t){"function"===typeof e[t]&&e[t](n[t])}))}},delete:{undo:function(t){var e=t.options;"sticker"===e.name?this.methods.addSticker(e.source,e):"gif"===e.name?this.methods.addGif(e.source,e):"label"===e.name&&this.methods.addText(e.source,e)},redo:function(t){var e=t.options,n=this.history.moveableObjects[e.id].konva;n.destroy(),"gif"===e.name&&(this.gifs.storage=[])}},modifyAttrs:{undo:function(t){var e=t.options,n=this.history.moveableObjects[e.id].konva;if("label"===e.name){var r=null;n.children.each((function(t){"Label"===t.className&&(r=t)})),r&&(r.x(e.from.x),r.y(e.from.y),r.children.each((function(t){var n=e.from[t.className];n&&Object.keys(n).forEach((function(e){t[e](n[e])}))})))}},redo:function(t){var e=t.options,n=this.history.moveableObjects[e.id].konva;if("label"===e.name){var r=null;n.children.each((function(t){"Label"===t.className&&(r=t)})),r&&(r.x(e.source.x),r.y(e.source.y),r.children.each((function(t){var n=e.source[t.className];n&&Object.keys(n).forEach((function(e){t[e](n[e])}))})))}}}},image:{modify:{undo:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.options,this.image.destroy(),t.next=4,this.methods.proceedFile(n.from,100,!0);case 4:Pt.call(this).forEach((function(t){r.api.events.$emit("showGifs"),t.show(),t.moveToTop(),t.parent.moveToTop()}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),redo:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.options,this.image.destroy(),t.next=4,this.methods.proceedFile(n.to,100,!0);case 4:Pt.call(this).forEach((function(t){r.api.events.$emit("showGifs"),t.show(),t.moveToTop(),t.parent.moveToTop()}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},deepAr:{vector:{undo:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.options,this.deepAr.changeParameterVector.apply(null,n.to),this.deepArSettings.category=n.fromState.category,this.deepArSettings.foundation=n.fromState.foundation,this.deepArSettings["".concat(n.fromState.category,"sub")]=n.fromState.subcategory,this.deepAr.changeParameter("face_makeup","MeshRenderer","foundationLumaClamp",n.oldLumaValue),n.oldLumaValue?this.deepArSettings.foundationIndex=n.fromState.index:this.deepArSettings.foundationIndex=n.fromState.shouldSaveIndex?n.fromState.index:-1,this.deepArSettings.foundationColorsMapStates["".concat(n.fromState.foundation).concat(this.deepArSettings.foundationColorsMap[n.fromState.foundation][n.fromState.index].join(","))]=n.oldLumaValue,this.deepArSettings.foundation=n.fromState.foundation,this.api.events.$emit("deepArRerender");case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),redo:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.options,this.deepAr.changeParameterVector.apply(null,n.to),this.deepArSettings.category=n.toState.category,this.deepArSettings.foundation=n.toState.foundation,n.lumaValue?this.deepArSettings.foundationIndex=n.toState.index:this.deepArSettings.foundationIndex=n.toState.shouldSaveIndex?n.toState.index:-1,this.deepArSettings["".concat(n.toState.category,"sub")]=n.toState.subcategory,this.deepAr.changeParameter("face_makeup","MeshRenderer","foundationLumaClamp",n.lumaValue),this.deepArSettings.foundationColorsMapStates["".concat(n.toState.foundation).concat(this.deepArSettings.foundationColorsMap[n.toState.foundation][n.toState.index].join(","))]=n.lumaValue,this.api.events.$emit("deepArRerender");case 9:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},parameter:{undo:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.options,this.deepArSettings[n.from[0]][n.from[2].replace("blendShape1.","")]=n.shouldReverse?-1*n.from[3]:n.from[3],this.deepArSettings.category=n.category,this.deepArSettings["".concat(n.category,"sub")]=n.subcategory,n.subsubcategory?this.deepArSettings["".concat(n.category,"subsub")]=n.subsubcategory:this.deepArSettings["".concat(n.category,"subsub")]=!1,this.deepAr.changeParameter.apply(null,n.from),this.api.events.$emit("deepArRerender");case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),redo:function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.options,this.deepArSettings[n.to[0]][n.to[2].replace("blendShape1.","")]=n.shouldReverse?-1*n.to[3]:n.to[3],this.deepArSettings.category=n.category,this.deepArSettings["".concat(n.category,"sub")]=n.subcategory,n.subsubcategory?this.deepArSettings["".concat(n.category,"subsub")]=n.subsubcategory:this.deepArSettings["".concat(n.category,"subsub")]=!1,this.deepAr.changeParameter.apply(null,n.to),this.api.events.$emit("deepArRerender");case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}};function Tn(t,e){return Cn.apply(this,arguments)}function Cn(){return Cn=Object(mt["a"])(regeneratorRuntime.mark((function t(e,n){var r,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n?this["history".concat(n)]:this.history,t.next=3,new Promise(function(){var t=Object(mt["a"])(regeneratorRuntime.mark((function t(a){var i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=r[e][r[e].length-1],t.next=3,Rn[i.type][i.stateType][e].call(s,i,n);case 3:s.layer.batchDraw(),r.pop(e),o=r.undo.length,r.undo=r.undo.slice(-15),r.redo=r.redo.slice(-15),n||o===r.undo.length||(r.didClear=!0),setTimeout((function(){a()}),100);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t,this)}))),Cn.apply(this,arguments)}var An=Tn;function En(){var t=Object.assign({},r),e=this,n=function(n){t[n]=function(){try{for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var i=r[n].apply(e,s);return i&&i.catch&&i.catch((function(t){e.logError(t,!0)})),i}catch(o){e.logError(o)}}};for(var s in t)n(s);return t}n("168f");var _n=n("8121"),Ln=function(){return!(0===this.history.undo.length&&!this.history.didClear)};function Un(t){var e=this,n=function(){Object.keys(e.historyBlobs).forEach((function(t){window.URL.revokeObjectURL(t)}))};this.sendFile=function(){var r=Object(mt["a"])(regeneratorRuntime.mark((function r(s,a){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(window.showPreloader(),!a){r.next=5;break}r.t0=t,r.next=8;break;case 5:return r.next=7,e.methods.createFileType("".concat(t.name,"_edited"));case 7:r.t0=r.sent;case 8:i=r.t0,i&&(e.resolve({didModify:Ln.call(e),asCopy:s,file:i}),e.logAction("file resolved",{asCopy:s}),n()),window.hidePreloader();case 11:case"end":return r.stop()}}),r)})));return function(t,e){return r.apply(this,arguments)}}(),this.rejectFile=function(){e.reject({didModify:!1,asCopy:!1,file:t}),e.logAction("file rejected"),n()},this.logAction=function(t){try{Object(_n["e"])({page:"ImageEditor_".concat(t.replace(" ","-")),eventTime:(new Date).toISOString()})}catch(e){console.error(e)}},this.logError=function(t,e){Sentry.withScope((function(e){e.setTag("ImageEditor",!0),Sentry.captureException(t)})),e||console.error(t)}}n("c5f6");function Mn(t){var e=this,n=this;this.viewState={screen:"default",longTap:!1,isRotatingMoveable:!1},this.imageConf={ratio:1,shadows:null,html:null},this.userActions={shapeIsDraging:null,shapeIsRotating:null,selectedShape:null,oldRotation:0},this.gifs={storage:[],workerLoaded:!1,worker:null};var r={width:0,height:0,ratio:1,category:"makeup",makeupsub:"smooth",facesub:!1,facesubsub:!1,foundationColorsMapStates:{},face_makeup:{smoothingAmount:.3},beauty_shapes:{eyebrows_thickness:0,upper_position_alt:0,eyebrows_position:0,mouth_horizontal:0,jawline:0,mouth_vertical:0,thin:0,nose:0,mouth:0,eyes:0,chin:0},foundation:"light",foundationColorsMap:{light:[[255,250,231,1],[247,221,195,1],[230,184,172,1],[243,205,165,1],[244,205,162,1],[246,212,158,1],[215,189,137,1]],medium:[[220,182,148,1],[182,137,104,1],[233,154,99,1],[200,130,88,1],[217,150,104,1],[156,120,75,1]],dark:[[163,117,93,1],[137,110,83,1],[101,68,38,1],[85,63,39,1],[96,55,40,1]]},foundationIndex:-1};this.deepAr=null,this.deepArSettings=JSON.parse(JSON.stringify(r)),this.resetDeepArSettings=function(){e.deepArSettings=JSON.parse(JSON.stringify(r))},this.cropState={cropOrientation:"portrait",cropRelationActive:1,cropRelations:[[9,16],[2,3],[3,4],[1,1]],cropXSide:1,cropYSide:1,cropRect:null,shadows:null,maxImageScale:200,minImageScale:50},Object.defineProperty(this.cropState,"imageSizeComp",{get:function(){return 100*+n.image.scaleX()},set:function(e){n.image.cropReset=!1,n.image.scale({x:+e/100,y:+e/100}),n.layer.batchDraw(),t.events.$emit("imageSizeViewChange",e)}}),t.events.$on("imageSizeStateChange",(function(t){e.cropState.imageSizeComp=t})),Object.defineProperty(this.cropState,"imageRotateComp",{get:function(){return+n.image.rotation()},set:function(e){n.image.rotation(Number(e)),n.layer.batchDraw(),t.events.$emit("imageRotateViewChange",e)}}),t.events.$on("imageRotateStateChange",(function(t){e.cropState.imageRotateComp=t})),this.overlayState={leftColor:"blue",rightColor:"pink",colors:{white:"255,255,255",black:"0,0,0",blue:"56,151,241",green:"112,192,79",yellow:"253,203,92",orange:"252,141,51",pink:"209,7,106",purple:"162,7,186",transparent:"0,0,0"},overlayRect:null,overlayOpacity:.3,overlayRotation:0,overlayReset:!1},Object.defineProperty(this.overlayState,"overlayOpacityComputed",{get:function(){return 100*n.overlayState.overlayOpacity},set:function(t){n.overlayState.overlayReset=0===t,n.overlayState.overlayOpacity=t/100,n.overlayState.overlayRect.opacity(n.overlayState.overlayOpacity),n.layer.batchDraw()}}),Object.defineProperty(this.overlayState,"overlayRotationComputed",{get:function(){return+n.overlayState.overlayRotation},set:function(t){n.overlayState.overlayRotation=+t;var e=n.methods.getOverlayGradientCoordinates();n.overlayState.overlayRect.fillLinearGradientStartPoint(e.startPoint),n.overlayState.overlayRect.fillLinearGradientEndPoint(e.endPoint),n.layer.batchDraw()}}),this.textState={currentText:"",defaultTextFontSize:18,currentLabel:null,textAlign:"left",textBold:"regular",rightTextColor:"white",textBackgroundColor:"black",textBackground:!1,afterTextRotate:!1},Object.defineProperty(this.textState,"size",{get:function(){return n.textState.currentText?n.textState.currentText.fontSize()*n.imageConf.ratio:n.textState.defaultTextFontSize},set:function(t){var e=document.getElementById("textEditArea");if(e){e.style.fontSize="".concat(t,"px");var r=n.methods.calcTextAreaParams(e);e.style.width="".concat(r.width,"px"),e.style.height="".concat(r.height,"px"),e.style.left="".concat(r.x,"px"),e.style.top="".concat(r.y,"px")}var s=n.textState.currentLabel.position().x+n.textState.currentLabel.width()/2,a=n.textState.currentLabel.position().y+n.textState.currentLabel.height()/2;n.textState.currentText.fontSize(t/n.imageConf.ratio),n.textState.currentLabel.x(s-n.textState.currentLabel.width()/2),n.textState.currentLabel.y(a-n.textState.currentLabel.height()/2),n.layer.batchDraw()}})}function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Nn=function(){return Math.random().toString(36).substr(2,9)},Bn=function(){var t=this,e=Object(s["a"])({},this.history.initialImageUrl,!0),n=this.history.undo.filter((function(t){return"image"===t.type&&"modify"===t.stateType})),r=this.history.redo.filter((function(t){return"image"===t.type&&"modify"===t.stateType}));n.concat(r).forEach((function(t){e[t.options.from]=!0,e[t.options.to]=!0})),Object.keys(this.historyBlobs).forEach((function(n){e[n]||(window.URL.revokeObjectURL(n),delete t.historyBlobs[n])}))};function qn(t){return{x:t.x(),y:t.y(),rotation:t.rotation(),scaleX:t.scaleX(),scaleY:t.scaleY(),name:t.name(),source:t.historySource,from:t.from}}function Vn(t,e){var n=!t.historyId,r=t.historyId||Nn(),s={id:r,konva:t};return this.history.moveableObjects[r]=s,n?(this.history.push("moveableObject","create",r,this.history.normalizeMoveableObject(e)),s):s}function Hn(t,e,n,r){this.history.undo.push({type:t,stateType:e,options:Fn(Fn({},r),{},{id:n})}),Bn.call(this),this.history.redo=[]}function Gn(t){var e="undo"===t?"redo":"undo",n=this.history[t].pop();this.history[e].push(n)}function $n(){this.history={moveableObjects:{},normalizeMoveableObject:qn,installMoveableObject:Vn.bind(this),undo:[],redo:[],push:Hn.bind(this),pop:Gn.bind(this),initialImageUrl:"",currentImageUrl:"",didClear:!1},this.historyBlobs={}}function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xn(t){var e=this,n=t.$el,r=t.file,s=t.api,a=t.config,i=t.resolve,o=t.reject,c=t.settings;window.Konva.hitOnDragEnabled=!0,window.Konva.captureTouchEventsEnabled=!0;var u=ot(r.name),d=it.call(this),f=n.getStage();u.lock=!1,u.add(d),f.add(u),Un.call(this,r),this.methods=En.call(this),this.api=s,this.config=a,this.settings=Wn({saveAsCopy:!0,disableGifs:!1},c),this.settingsPassed=Wn({saveAsCopy:!0,disableGifs:!1},c),this.image=null,this.group=d,this.layer=u,this.stage=f,this.resolve=i,this.reject=o,$n.call(this),this.methods.proceedFile(r.url,100,r).then((function(){s.events.$emit("mounted"),hn.call(e,e.stage)})),Mn.call(this,s)}var Yn=Xn,Kn=function(t,e,n,r,s,a){return{namespaced:!0,state:{file:t},actions:{setUpStage:function(i,o){var c=o.$el,u=o.config;e[t.name]=new Yn({$el:c,file:t,api:n,config:u,resolve:r,reject:s,settings:a})}}}};function Qn(t){var e={},n={namespaced:!0,state:{isOpen:!1,currentFilePath:null,currentFileName:null},getters:{isOpen:function(t){return t.isOpen},currentFile:function(t){return t.currentFilePath},currentFileName:function(t){return t.currentFileName}},mutations:{open:function(t,e){var n=e.fileName;t.isOpen=!0,t.currentFilePath="".concat(Q,"/").concat(n),t.currentFileName=n},close:function(t){t.isOpen=!1,t.currentFilePath="",t.currentFileName=""},logout:function(){}},actions:{installFile:function(n,r){var s=n.commit,a=r.file,i=r.api,o=r.resolve,c=r.reject,u=r.settings;t.registerModule([Q,a.name],Kn(a,e,i,o,c,u)),s("open",{fileName:a.name})},uninstallFile:function(n,r){var s=n.commit,a=r.fileName,i=r.send;i&&e[a].sendFile(!1,!0),t.unregisterModule([Q,a]),s("close"),delete e[a]}}};return t.registerModule(Q,n),e}var Jn=function(){function t(e,n){Object(De["a"])(this,t),this.$store=e,this.events=null,Object.defineProperty(this,"currentFile",{get:function(){return e.getters["".concat(Q,"/currentFile")]}}),Object.defineProperty(this,"currentFileStage",{get:function(){return n[this.currentFileName]||{}}}),Object.defineProperty(this,"currentFileName",{get:function(){return e.getters["".concat(Q,"/currentFileName")]}}),Object.defineProperty(this,"isOpen",{get:function(){return e.getters["".concat(Q,"/isOpen")]}})}return Object(Fe["a"])(t,[{key:"$dispatch",value:function(t,e){return this.$store.dispatch("".concat(Q,"/").concat(t),e)}},{key:"$commit",value:function(t,e){return this.$store.commit("".concat(Q,"/").concat(t),e)}},{key:"$fileDispatch",value:function(t,e){return this.$store.dispatch("".concat(this.currentFile,"/").concat(t),e)}},{key:"$fileCommit",value:function(t,e){return this.$store.commit("".concat(this.currentFile,"/").concat(t),e)}},{key:"$installFile",value:function(t,e){var n=this,r=Object.assign({},t);this.events=new a["default"];var s=Object(Ne["a"])();return this.$dispatch("installFile",{file:r,api:this,resolve:s.resolve,reject:s.reject,settings:e}),s.promise.finally((function(){n.$uninstallFile(!1,!1)}))}},{key:"$uninstallFile",value:function(t,e){return this.events.$destroy(),this.events=null,this.$dispatch("uninstallFile",{fileName:t?t.name:this.currentFileName,send:e})}}]),t}(),Zn=Jn,tr=(n("ff1d"),{install:function(t,e){var n=e.store,r=Qn(n);t.prototype.$imageEditor=new Zn(n,r)}}),er=n("e37d"),nr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",t._b({attrs:{to:t.to,event:""},nativeOn:{click:function(e){return t.clickHandler(e)}}},"router-link",t.$attrs,!1),[t._t("default")],2)},rr=[];function sr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ir={name:"BaseLink",props:{to:{type:Object,required:!0}},methods:{clickHandler:function(){if(this.$route.name===this.to.name){var t=ar(ar({},this.to),{},{query:{_:(new Date).getTime().toString()}});void 0!==this.$attrs.replace?this.$router.replace(t):this.$router.push(t),this.$router.replace(ar(ar({},this.to),{},{query:{}}))}else void 0!==this.$attrs.replace?this.$router.replace(ar({},this.to)):this.$router.push(ar({},this.to))}}},or=ir,cr=Object(p["a"])(or,nr,rr,!1,null,null,null),ur=cr.exports,dr={install:function(t){var e={bind:function(t){var e=t.getAttribute("class"),n=t.getAttribute("extra-class")||"";n&&(t.removeAttribute("extra-class"),n=" ".concat(n)),t.setAttribute("class","g-icon".concat(n)),t.setAttribute("aria-hidden",!0);var r=document.createElementNS("http://www.w3.org/2000/svg","use");r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(e)),r.setAttribute("href","#".concat(e)),t.appendChild(r)}};t.directive("svg-sprite",e)}},fr=n("8975"),lr=(n("f6b9"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")}),mr=[],pr={name:"PageTitle",props:{title:{type:String,default:void 0},extra:{type:String,default:void 0}},watch:{pageTitle:function(){this.updateTitle()},extraTitleParams:function(){this.updateTitle()}},mounted:function(){this.updateTitle()},beforeDestroy:function(){this.resetTitle()},methods:{updateTitle:function(){var t=[];this.title&&t.push(this.title),this.extra&&t.push(this.extra),t.push("OnlyFans"),document.title=t.join("  ")},resetTitle:function(){document.title="OnlyFans"}}},hr=pr,br=Object(p["a"])(hr,lr,mr,!1,null,null,null),gr=br.exports,vr=n("f62e"),yr=n("f13c"),Or=n.n(yr),wr=n("a3cb"),jr=n("e508"),Sr=n("7212"),kr=n.n(Sr),xr=(n("a7a3"),n("c28b")),Pr=n.n(xr),Ir=n("d740"),Rr=n.n(Ir),Tr=n("ce5b"),Cr=n.n(Tr),Ar=(n("bf40"),n("fe15")),Er=n.n(Ar),_r=n("45ab");function Lr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ur(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lr(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}o.a.polyfill(),a["default"].use(kr.a,{}),a["default"].use(Rr.a),a["default"].use(_r["a"]),a["default"].use(wr["a"]),a["default"].use(vr["a"]),a["default"].use(Er.a),a["default"].use(er["a"],{autoHide:!0}),er["a"].enabled=window.innerWidth>990,a["default"].config.productionTip=!1,a["default"].use(dr),a["default"].use(x.a),a["default"].use(R.a),a["default"].use(M["b"]),a["default"].use(C.a),a["default"].use(E.a),a["default"].use(N.a),a["default"].use(L.a,"".concat("wss://ws.onlyfans.com","/ws2/"),{connectManually:!0,store:v["a"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:5e3,format:"json",passToStoreHandler:function(t,e){if(t.startsWith("SOCKET_")){var n="commit",r=t.toUpperCase(),s="socket/".concat(r);"SOCKET_ONMESSAGE"===r&&(n="dispatch"),this.store[n](s,e)}}}),a["default"].use(U["a"]),a["default"].use(D["a"],{breakpoints:{sm:768,md:992,lg:1/0}}),a["default"].use(q.a);var Mr=a["default"].cookie.get("lang",{domain:".".concat("onlyfans.com")})||"en";document.documentElement.lang=Mr;var Dr=new U["a"]({locale:Mr,messages:Object(s["a"])({},Mr,{message:Ur({},window.TEXTS||{})})}),Fr=function(){switch(Mr){case"pt":return"pt_PT";case"zh":return"zh_CN";case"tw":return"zh_TW";default:return Mr}};n("b2d7")("./".concat(Fr())).then((function(t){var e=Object(s["a"])({},Mr,t);e[Mr].messages.email=function(){return Dr.t("message.email_is_not_valid")},a["default"].use(P["c"],{i18nRootKey:"validations",i18n:Dr,dictionary:e})}));var Nr=function(){switch(Mr){case"zh":return"zh-cn";case"tw":return"zh-tw";default:return Mr}};"en"!==Mr&&n("f606")("./".concat(Nr())),a["default"].component("b-collapse",V["a"]),a["default"].component("b-alert",H["a"]),a["default"].component("base-link",ur),a["default"].component("page-title",gr),a["default"].component("DynamicScroller",jr["a"]),a["default"].component("DynamicScrollerItem",jr["b"]),a["default"].directive("b-tooltip",G["a"]),a["default"].use(Or.a,{container:"body",duration:300,easing:"ease",offset:-100,force:!0,cancelable:!0,x:!1,y:!0}),a["default"].use($["a"]),a["default"].use(z["a"]),a["default"].use(W["a"]),a["default"].use(X["a"]),a["default"].use(Y["a"]),a["default"].use(K["a"]),a["default"].use(tr,{store:v["a"]}),a["default"].use(Pr.a),a["default"].filter("encodeHtml",fr["b"]),a["default"].filter("removeTags",fr["c"]),a["default"].use(Cr.a);var Br=new Cr.a;a["default"].prototype.$env=Object({NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws.onlyfans.com",VUE_APP_STATIC:"https://static.cdn.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SECTION_STATIC:"true",VUE_APP_SECTION_CHATS:"true",VUE_APP_SECTION_SUBSCRIBES:"true",VUE_APP_SECTION_SUBSCRIBERS:"true",VUE_APP_SECTION_SETTINGS:"true",VUE_APP_SECTION_REFERRALS:"true",VUE_APP_SECTION_BOOKMARKPOSTS:"true",VUE_APP_SECTION_PAYMENTS:"true",VUE_APP_SECTION_STATEMENTS:"true",VUE_APP_SECTION_BANKING:"true",VUE_APP_SECTION_STREAMING:"true",VUE_APP_SECTION_USERS_LISTS:"true",VUE_APP_SECTION_USERS_TICKETS:"true",VUE_APP_REVISION:"202008311040-5a7dcf7da1",BASE_URL:"https://static.cdn.onlyfans.com/theme/onlyfans/spa/"}),a["default"].prototype.$window=window,window.Sentry=y;var qr="202008311040-5a7dcf7da1";O["e"]({environment:"live",dsn:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",blacklistUrls:["node_modules/blueimp-gallery"],ignoreErrors:[/Function.seal/,/Object.seal/],normalizeDepth:5,release:qr,integrations:[new j["a"]({Vue:a["default"],attachProps:!0}),new S["a"]],beforeSend:function(t,e){var n=JSON.stringify(e);return n.indexOf("recaptcha")>-1||n.indexOf("Object.seal")>-1||document.documentMode||n.indexOf("null is not an object (evaluating 'e.scrollTop')")>-1||"Non-Error exception captured with keys: config, data, headers, request, status"===u()(t,"exception.values[0].value")?null:"true"===Object({NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws.onlyfans.com",VUE_APP_STATIC:"https://static.cdn.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_SECTION_STATIC:"true",VUE_APP_SECTION_CHATS:"true",VUE_APP_SECTION_SUBSCRIBES:"true",VUE_APP_SECTION_SUBSCRIBERS:"true",VUE_APP_SECTION_SETTINGS:"true",VUE_APP_SECTION_REFERRALS:"true",VUE_APP_SECTION_BOOKMARKPOSTS:"true",VUE_APP_SECTION_PAYMENTS:"true",VUE_APP_SECTION_STATEMENTS:"true",VUE_APP_SECTION_BANKING:"true",VUE_APP_SECTION_STREAMING:"true",VUE_APP_SECTION_USERS_LISTS:"true",VUE_APP_SECTION_USERS_TICKETS:"true",VUE_APP_REVISION:"202008311040-5a7dcf7da1",BASE_URL:"https://static.cdn.onlyfans.com/theme/onlyfans/spa/"}).VUE_APP_DEBUG?(console.error(e.originalException||e.syntheticException),null):t}}),w["e"]((function(t){t.setTag("domain","onlyfans.com")})),Date.prototype.toISOString||function(){function t(t){return t<10?"0"+t:t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();e["default"]=new a["default"]({router:g["a"],store:v["a"],i18n:Dr,vuetify:Br,render:function(t){return t(b)}}).$mount("#app")},5892:function(t,e,n){"use strict";n.d(e,"q",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"l",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"m",(function(){return c})),n.d(e,"o",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"v",(function(){return f})),n.d(e,"a",(function(){return l})),n.d(e,"B",(function(){return m})),n.d(e,"f",(function(){return p})),n.d(e,"C",(function(){return h})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return g})),n.d(e,"t",(function(){return v})),n.d(e,"A",(function(){return y})),n.d(e,"j",(function(){return O})),n.d(e,"r",(function(){return w})),n.d(e,"c",(function(){return j})),n.d(e,"z",(function(){return S})),n.d(e,"b",(function(){return k})),n.d(e,"w",(function(){return x})),n.d(e,"n",(function(){return P})),n.d(e,"y",(function(){return I})),n.d(e,"x",(function(){return R})),n.d(e,"k",(function(){return T})),n.d(e,"p",(function(){return C})),n.d(e,"s",(function(){return A})),n.d(e,"u",(function(){return E}));var r=n("b775"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.queue,n=void 0!==e&&e,s=t.locked,a=void 0!==s&&s,i=t.offset,o=void 0===i?0:i,c=t.purchased,u=void 0!==c&&c,d=t.closefriends,f=t.limit,l=void 0===f?r["e"]:f,m=t.query,p=t.cancelToken,h=t.skipUsers,b=t.beforePublishTime,g=t.afterPublishTime,v="".concat(r["b"],"/posts");a&&(v+="/locked"),n&&(v+="/queue"),u&&(v+="/paid"),d&&(v+="/friends");var y=!a&&!n&&!u,O=(b||g)&&y?Object(r["c"])({limit:l,query:m,skip_users:h,skip_users_dups:1,beforePublishTime:b,afterPublishTime:g}):Object(r["c"])({limit:l,offset:o,query:m,skip_users:h,skip_users_dups:1});return v+="".concat(O),r["d"].get(v,{cancelToken:p}).then((function(t){return t.data}))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=t.query,o=t.cancelToken,c=t.type,u=t.filter,d=t.order,f=t.skipUsers,l=Object(r["c"])({limit:n,offset:a,query:i,filter:u,order:d,skip_users:f,skip_users_dups:1}),m="".concat(r["b"],"/posts/bookmarks/").concat(c).concat(l);return r["d"].get(m,{cancelToken:o}).then((function(t){return t.data}))},i=function(t,e){var n=Object(r["c"])({skip_users:e,skip_users_dups:1}),s="".concat(r["b"],"/posts/").concat(t).concat(n);return r["d"].get(s).then((function(t){return t.data}))},o=function(t,e){var n="".concat(r["b"],"/posts/").concat(t);return r["d"].put(n,e).then((function(t){return t.data}))},c=function(t){var e=t.id,n=t.limit,s=void 0===n?r["e"]:n,a=t.offset,i=void 0===a?0:a,o=Object(r["c"])({limit:s,offset:i,sort:"asc"}),c="".concat(r["b"],"/posts/").concat(e,"/comments").concat(o);return r["d"].get(c).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/stats");return r["d"].get(e).then((function(t){return t.data}))},d=function(t){var e=t.id,n=t.authorId,s="".concat(r["b"],"/posts/").concat(e,"/favorites/").concat(n);return r["d"].post(s).then((function(t){return t.data}))},f=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/pin");return r["d"].post(e).then((function(t){return t.data}))},l=function(t){var e=t.id,n=t.text,s=t.answerTo,a=t.giphyId,i="".concat(r["b"],"/posts/").concat(e,"/comments");return r["d"].post(i,{text:n,answerTo:s,giphyId:a}).then((function(t){return t.data}))},m=function(t){var e=t.data,n=t.url;return r["d"].post(n,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return t.data}))},p=function(t){var e="".concat("").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},h=function(t,e){var n="".concat(r["b"],"/posts/").concat(t,"/vote");return r["d"].post(n,{optionId:e}).then((function(t){return t.data}))},b=function(t){var e="".concat(r["b"],"/posts/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},g=function(t){var e="".concat(r["b"],"/posts");return r["d"].post(e,t).then((function(t){return t.data}))},v=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/hide");return r["d"].put(e).then((function(t){return t.data}))},y=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/unhide");return r["d"].delete(e).then((function(t){return t.data}))},O=function(t){var e=t.postId,n=t.offset,s=Object(r["c"])({limit:r["e"],offset:n}),a="".concat(r["b"],"/posts/").concat(e,"/favorites").concat(s);return r["d"].get(a).then((function(t){return t.data}))},w=function(t){var e=t.postId,n=t.offset,s=Object(r["c"])({limit:r["e"],offset:n}),a="".concat(r["b"],"/posts/").concat(e,"/tips").concat(s);return r["d"].get(a).then((function(t){return t.data}))},j=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/archive");return r["d"].post(e).then((function(t){return t.data}))},S=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/unarchive");return r["d"].post(e).then((function(t){return t.data}))},k=function(t,e){var n="".concat(r["b"],"/posts/").concat(t,"/bookmarks/").concat(e);return r["d"].post(n).then((function(t){return t.data}))},x=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/bookmarks");return r["d"].delete(e).then((function(t){return t.data}))},P=function(t){var e="".concat(r["b"],"/posts/").concat(t,"/fund-raising-contributors/count");return r["d"].get(e).then((function(t){return t.data}))},I=function(t){var e="".concat(r["b"],"/posts/stats-collect");return r["d"].post(e,{actions:t}).then((function(t){return t.data}))},R=function(t){var e="".concat(r["b"],"/posts/pinned/sort");return r["d"].post(e,{order:t}).then((function(t){return t.data}))},T=function(t){var e=t.postId,n=t.offset,s=Object(r["c"])({limit:r["e"],offset:n}),a="".concat(r["b"],"/posts/").concat(e,"/buyers").concat(s);return r["d"].get(a).then((function(t){return t.data}))},C=function(t){var e=t.postId,n=t.optionId,s=t.offset,a=Object(r["c"])({limit:r["e"],offset:s}),i="".concat(r["b"],"/posts/").concat(e,"/voters/").concat(n).concat(a);return r["d"].get(i).then((function(t){return t.data}))},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"",limit:r["e"],offset:0},e=t.type,n=t.limit,s=t.offset,a=Object(r["c"])({limit:n,offset:s}),i="".concat(r["b"],"/users/media/").concat(e).concat(a);return r["d"].get(i).then((function(t){return t.data}))},E=function(t){var e=t.ids,n="".concat(r["b"],"/users/media/hidden");return r["d"].put(n,{mediaIds:e}).then((function(t){return t.data}))}},"5b5f":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return R})),n.d(e,"getters",(function(){return T})),n.d(e,"mutations",(function(){return C})),n.d(e,"actions",(function(){return A}));n("8e6e"),n("6762"),n("2fdb");var r=n("6ee6"),s=(n("20d6"),n("8615"),n("55dd"),n("bd86")),a=(n("7f7f"),n("96cf"),n("3b8d")),i=(n("5df3"),n("4f7f"),n("75fc")),o=(n("ac6a"),n("456d"),n("7514"),n("c5f6"),n("5e23")),c=n("56d7"),u=n("b775"),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.limit=t.limit||u["e"],t.offset=t.offset||0;var e=Object(u["c"])(t),n="".concat(u["b"],"/lists").concat(e);return u["d"].get(n).then((function(t){return t.data}))},f=function(t){var e="".concat(u["b"],"/lists/").concat(t);return u["d"].get(e).then((function(t){return t.data}))},l=function(t){var e=t.id,n=t.offset,r=void 0===n?0:n,s=t.limit,a=void 0===s?u["e"]:s,i=t.query,o=void 0===i?"":i,c=Object(u["c"])({offset:r,limit:a,query:o}),d="".concat(u["b"],"/lists/").concat(e,"/users").concat(c);return u["d"].get(d).then((function(t){return t.data}))},m=function(t){var e="".concat(u["b"],"/lists");return u["d"].post(e,{name:t}).then((function(t){return t.data}))},p=function(t){var e=t.id,n=t.name,r="".concat(u["b"],"/lists/").concat(e);return u["d"].patch(r,{name:n}).then((function(t){return t.data}))},h=function(t){var e="".concat(u["b"],"/lists/").concat(t);return u["d"].delete(e).then((function(t){return t.data}))},b=function(t){var e="".concat(u["b"],"/lists/").concat(t,"/users");return u["d"].delete(e).then((function(t){return t.data}))},g=function(t){var e="".concat(u["b"],"/lists/sort");return u["d"].post(e,t).then((function(t){return t.data}))},v=function(t,e){var n="".concat(u["b"],"/lists/").concat(t,"/users/").concat(e);return u["d"].post(n).then((function(t){return t.data}))},y=function(t,e){var n="".concat(u["b"],"/lists/").concat(t,"/users/").concat(e);return u["d"].delete(n).then((function(t){return t.data}))},O=function(t){var e="".concat(u["b"],"/lists/users");return u["d"].post(e,t).then((function(t){return t.data}))},w=function(t){var e=t.listId,n=t.year,r=t.month,s="".concat(u["b"],"/lists/").concat(e,"/users/awards/").concat(n,"/").concat(r);return u["d"].post(s).then((function(t){return t.data}))},j=function(t){var e=t.listId,n=t.queueId,r="".concat(u["b"],"/lists/").concat(e,"/users/queue/").concat(n,"/buyers");return u["d"].post(r).then((function(t){return t.data}))},S=n("09e4"),k=n("559d");function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I=function(){return{items:{},itemIds:[],itemsUsers:[],modalCustomListId:null,customOrderEnabled:!1,loading:!1,offset:0,usersOffset:0,needOpenListsModal:!1,isAddUsersMode:!1}},R=I(),T={usersLists:function(t){return t.itemIds},getUsersList:function(t){return function(e){return Number(e)===e?t.items[e]:Object.keys(t.items).map((function(e){return t.items[e]})).find((function(t){return t.type===e}))}},modalCustomListId:function(t){return t.modalCustomListId},customOrderEnabled:function(t){return t.customOrderEnabled},getUsersListUsers:function(t){return t.itemsUsers},needOpenListsModal:function(t){return t.needOpenListsModal},loading:function(t){return t.loading},isAddUsersMode:function(t){return t.isAddUsersMode}},C={setIds:function(t,e){t.itemIds=e},addIds:function(t,e){t.itemIds=Object(i["a"])(new Set([].concat(Object(i["a"])(t.itemIds),Object(i["a"])(e))))},deleteUsersList:function(t,e){t.itemIds=t.itemIds.filter((function(t){return t!==e}))},setModalCustomListId:function(t,e){t.modalCustomListId=e},setCustomOrderEnabled:function(t,e){t.customOrderEnabled=e},setLoading:function(t,e){t.loading=e},setOffset:function(t,e){t.offset=e},setUsersOffset:function(t,e){t.usersOffset=e},setUsersListUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.userIds,r=void 0===n?[]:n,s=e.more,a=void 0!==s&&s;a||(t.itemsUsers=[]),t.itemsUsers=Object(i["a"])(new Set([].concat(Object(i["a"])(t.itemsUsers),Object(i["a"])(r))))},setNeedOpenListsModal:function(t,e){t.needOpenListsModal=e},updateUsersList:function(t,e){t.items[e.id]=e},setIsAddUsersMode:function(t,e){t.isAddUsersMode=e},logout:function(t){Object.assign(t,I())}},A={fetchUsersLists:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,f,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,s=e.rootGetters,a=e.dispatch,i=l.length>1&&void 0!==l[1]?l[1]:{},t.prev=2,c=i.more,delete i.more,c||(n("setIds",[]),n("setOffset",0)),i.offset=r.offset,i.skip_users=s["users/needSkipUsersOnLists"]?"all":void 0,t.next=10,d(i);case 10:if(u=t.sent,n("setLoading",!1),!u||!u.length){t.next=21;break}if(f=Object(o["a"])(u,k["A"]),!i.skip_users){t.next=17;break}return t.next=17,a("users/getUsersIfNeeded",f,{root:!0});case 17:return n("set",f,{root:!0}),n("addIds",f.result.map((function(t){return Number(t)}))),n("setOffset",r.offset+f.result.length),t.abrupt("return",f.result);case 21:return t.abrupt("return",[]);case 24:return t.prev=24,t.t0=t["catch"](2),n("setLoading",!1),Sentry.captureException(t.t0),t.abrupt("return",[]);case 29:case"end":return t.stop()}}),t,null,[[2,24]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchUsersList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,f(n);case 4:s=t.sent,s&&s.id&&(a=Object(o["a"])(s,k["z"]),r("set",a,{root:!0})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addUsersList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,m(n);case 4:if(s=t.sent,!s||!s.id){t.next=10;break}return a=Object(o["a"])(s,k["z"]),r("set",a,{root:!0}),r("addIds",[Number(a.result)]),t.abrupt("return",s);case 10:return t.abrupt("return",null);case 13:return t.prev=13,t.t0=t["catch"](1),Object(S["b"])(t.t0),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));function e(e,n){return t.apply(this,arguments)}return e}(),updateUsersList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootState,a=n.id,i=n.name,t.prev=2,t.next=5,p({id:a,name:i});case 5:c=t.sent,c&&c.id&&(u=Object(o["a"])(c,k["z"]),r("set",u,{root:!0}),Object.keys(s.users.items).forEach((function(t){if(s.users.items[t].listsStates){var e=!1,n=[];s.users.items[t].listsStates.forEach((function(t,r){n[r]=P({},t),Number(t.id)===Number(c.id)&&(n[r].name=c.name,e=!0)})),e&&r("users/setUserField",{userId:t,field:"listsStates",status:n},{root:!0})}}))),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(S["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),clearUsersList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,b(n);case 4:s=t.sent,s&&s.id&&(r("set",Object(o["a"])(s,k["z"]),{root:!0}),r("setUsersListUsers")),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(S["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteUsersList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,h(n);case 4:if(s=t.sent,!s||!s.success){t.next=9;break}return r("deleteUsersList",n),r("setUsersListUsers"),t.abrupt("return",!0);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),Object(S["b"])(t.t0);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),saveUsersListsOrder:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.dispatch,a=e.rootGetters,t.prev=1,t.next=4,g(n);case 4:i=t.sent,i&&i.success&&(n.customOrder?r("setIds",n.customOrder):(n.sort||n.order)&&(o=a["auth/authUserId"],c=n.sort?"listsSort":"listsSortOrder",u=Object.values(n)[0],r("users/setUserField",{userId:o,field:c,status:u},{root:!0}),r("setLoading",!0),s("fetchUsersLists"))),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(S["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleUserInList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,u,d,f,l,m,p,h,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.rootGetters,a=e.state,u=n.listId,d=n.userId,t.prev=2,f=s["users/getUser"](d),l=f.listsStates.find((function(t){return Number(t.id)===u})),m=l&&l.hasUser,!m){t.next=12;break}return t.next=9,y(u,d);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,v(u,d);case 14:t.t0=t.sent;case 15:p=t.t0,p&&(p.userState&&(h=Object(i["a"])(new Set(Object(i["a"])(f.listsStates))),b=h.findIndex((function(t){return Number(t.id)===u})),b>-1&&h.splice(b,1),m||(g=Object(i["a"])(new Set([].concat(Object(i["a"])(h),[p.userState]))),h=a.itemIds.filter((function(t){return void 0!==g.find((function(e){return Number(e.id)===Number(t)}))})).map((function(t){return g.splice(g.findIndex((function(e){return Number(e.id)===t})),1)[0]})).concat(g)),r("users/setUserField",{userId:d,field:"listsStates",status:h},{root:!0})),p.list&&(r("set",Object(o["a"])(p.list,k["z"]),{root:!0}),m&&a.itemsUsers&&("CustomList"===c["default"].$route.name&&u===Number(c["default"].$route.params.list)||"MyFriends"===c["default"].$route.name&&"friends"===p.list.type||"Bookmarks"===c["default"].$route.name&&"bookmarks"===p.list.type||"Favorites"===c["default"].$route.name&&"favorites"===p.list.type)&&r("setUsersListUsers",{userIds:a.itemsUsers.filter((function(t){return t!==d}))}))),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](2),Object(S["b"])(t.t1);case 22:case"end":return t.stop()}}),t,null,[[2,19]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchUsersListUsers:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,u,d,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.id,i=n.more,c=void 0!==i&&i,u=n.query,d=void 0===u?"":u,t.prev=2,c||(r("setUsersOffset",0),r("setUsersListUsers")),t.next=6,l({id:a,offset:s.usersOffset,query:d});case 6:return f=t.sent,m=Object(o["a"])(f,k["x"]),r("set",m,{root:!0}),r("setUsersOffset",s.usersOffset+m.result.length),r("setUsersListUsers",{userIds:m.result,more:c}),t.abrupt("return",m.result);case 14:return t.prev=14,t.t0=t["catch"](2),Sentry.captureException(t.t0),t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addTopFansToList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.getters,a=n.listId,i=n.year,o=n.month,t.prev=2,t.next=5,w({listId:a,year:i,month:o});case 5:return c=t.sent,c&&c.addedUsers&&c.addedUsers.length&&(u=P({},s.getUsersList(a)),u.usersCount+=c.addedUsers.length,u.users=c.addedUsers.reverse().concat(u.users).slice(0,5),r("updateUsersList",u)),t.abrupt("return",c);case 10:return t.prev=10,t.t0=t["catch"](2),Object(S["b"])(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addUsersToLists:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(r["a"])(e),t.prev=1,t.next=4,O(n);case 4:if(s=t.sent,!(s&&Object.keys(n).length&&Object.keys(n).every((function(t){return s[t]&&n[t].every((function(e){return s[t].includes(e)}))})))){t.next=7;break}return t.abrupt("return",!0);case 7:return Object(S["b"])({}),t.abrupt("return",null);case 11:return t.prev=11,t.t0=t["catch"](1),Object(S["b"])(t.t0),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addQueueBuyersToList:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.getters,a=n.listId,i=n.queueId,t.prev=2,t.next=5,j({listId:a,queueId:i});case 5:return o=t.sent,o&&o.addedUsers&&o.addedUsers.length&&(c=P({},s.getUsersList(a)),c.usersCount+=o.addedUsers.length,c.users=o.addedUsers.reverse().concat(c.users).slice(0,5),r("updateUsersList",c)),t.abrupt("return",o);case 10:return t.prev=10,t.t0=t["catch"](2),Object(S["b"])(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"685f":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return j})),n.d(e,"getters",(function(){return S})),n.d(e,"mutations",(function(){return k})),n.d(e,"actions",(function(){return x}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("8e6e"),n("a481"),n("96cf");var r=n("3b8d"),s=(n("6762"),n("2fdb"),n("7514"),n("75fc")),a=(n("7f7f"),n("ac6a"),n("456d"),n("bd86")),i=n("56d7"),o=n("5e23"),c=n("559d"),u=n("7e97"),d=n("73be"),f=n("d931"),l=n("8975"),m=n("a125"),p=n.n(m);function h(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=b(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function b(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O=function(){return{type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},timer:"0:00",streamState:"beforeStart",streamStopped:!1,videoPlaying:!1,volume:1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],commentsCount:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1}}},w=function(){return{mode:"",local:{stream:{id:0,description:"",rawDescription:"",tipsSumm:0,isShowTips:!1},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},start:0,duration:"0:00",timer:"0:00",streamState:"beforeStart",covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1}},partners:{},primaryPartnerUserId:0,comments:[],likes:[],viewers:{},privateCommentUser:null,summary:{online:[],viewers:0,comments:0,likes:0,tips:0},streamingChatEnabled:!1,switchToLive:!1,switchFromLive:!1,switchFromDual:!1,UI:{showCommentForm:!1,showComments:!1,showStreamingViewers:!1,showStreamingActions:!1,showStreamingSummary:!1,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingSystemStats:!1,endReason:"end",showStreamInformation:!1,showStreamDescription:!1,showStreamEndingConfirm:!1,buttonsPanel:{showOrientationLabel:!0,showStartStreamBtn:!0,startStreamBtnDisabled:!0,showMicSwitchBtn:!0,micSwitchBtnDisabled:!0,showCameraSwitchBtn:!0,cameraSwitchBtnDisabled:!0},showTipGoalModal:!1,showStreamPriceModal:!1,streamingViewersMode:"viewers",showStreamInformationModal:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,showShowTipsToggleBtn:!1,commentInputFocused:!1,streamDescriptionFocused:!1},mediaDevices:{selectedMicrophone:{},microphoneList:[],selectedCamera:{},cameraList:[],cameraFacingMode:""},sentryLog:{serverDataRequested:!1,serverDataReceived:!1,startStreamRequested:!1,startStreamReceived:!1,testWssConnect:!1,janusConnect:!1,roomName:null,streamId:null,user:null},streamSystemStats:{bitrate:[]},streamPrice:{price:0}}},j=w(),S={mode:function(t){return t.mode},local:function(t){return t.local},partners:function(t){return t.partners},streams:function(t){return y(Object(a["a"])({},t.local.user.id,t.local),t.partners)},partnersIds:function(t){return Object.keys(t.partners)},primaryPartnerUserId:function(t){return t.primaryPartnerUserId},partnersArray:function(t,e){return e.partnersIds.map((function(e){return t.partners[e]}))},primaryPartner:function(t){return t.partners[t.primaryPartnerUserId]},primary:function(t,e){return e.isStreamer?t.local:e.primaryPartner},partner:function(t,e){return e.partnersArray[0]},partner2:function(t,e){return e.partnersArray[1]},partner3:function(t,e){return e.partnersArray[2]},isStreamer:function(t){return!t.primaryPartnerUserId||t.local.user.id==t.primaryPartnerUserId},isCoStreamer:function(t,e){return!e.isStreamer},anyPartnerIsLive:function(t,e){return e.partnersArray.some((function(t){return"started"===t.streamState}))},streamDuration:function(t){return t.local.duration},comments:function(t){return t.comments},viewers:function(t){return t.viewers},summary:function(t){return t.summary},likes:function(t){return t.likes},tipGoal:function(t){return t.local.tipGoal},tipGoalVisible:function(t){return t.local.tipGoal.sum>0},streamPrice:function(t){return t.streamPrice},streamPriceVisible:function(t){return t.streamPrice.price>0},streamingChatEnabled:function(t){return t.streamingChatEnabled},switchToLive:function(t){return t.switchToLive},switchedFromLive:function(t){return t.switchedFromLive},switchFromDual:function(t){return t.switchFromDual},UI:function(t){return t.UI},mediaDevices:function(t){return t.mediaDevices},sentryLog:function(t){return t.sentryLog},streamSystemStats:function(t){return t.streamSystemStats},timer:function(t,e){return e.isStreamer?t.local.timer:e.primaryPartner.timer},privateCommentUser:function(t){return t.privateCommentUser}},k={setMode:function(t,e){t.mode=e},setLocal:function(t,e){t.local=y(y({},t.local),e)},setLocalStream:function(t,e){t.local.stream=y(y({},t.local.stream),e)},setStreamUser:function(t,e){var n={id:e.id,name:e.name,username:e.username,displayName:e.displayName,isVerified:e.isVerified,tipsEnabled:e.tipsEnabled,subscribedBy:e.subscribedBy,canEarn:e.canEarn,isPerformer:e.isPerformer,avatar:e.avatar,avatarThumbs:e.avatarThumbs};t.local.user=y(y({},t.local.user),n)},setStreamCovers:function(t,e){t.local.covers=y(y({},t.local.covers),e)},setPartnerUser:function(t,e){var n=e.user,r=e.instance,s={id:n.id,name:n.name,username:n.username,displayName:n.displayName,isVerified:n.isVerified,tipsEnabled:n.tipsEnabled,subscribedBy:n.subscribedBy,canEarn:n.canEarn,isPerformer:n.isPerformer,avatar:n.avatar,avatarThumbs:n.avatarThumbs};t.partners[r]||i["default"].$set(t.partners,r,O()),t.partners[r].user=y(y({},t.partners[r].user),s)},setPartnerStream:function(t,e){var n=e.stream,r=e.instance;t.partners[r]||i["default"].$set(t.partners,r,O()),t.partners[r].stream=y(y({},t.partners[r].stream),n)},setPartner:function(t,e){var n=e.data,r=e.instance;n&&(t.partners[r]||i["default"].$set(t.partners,r,O()),t.partners[r]=y(y({},t.partners[r]),n))},removePartner:function(t,e){t.partners[e]&&(delete t.partners[e],t.partners=y({},t.partners))},setPrimaryPartnerUserId:function(t,e){console.log("setPrimaryPartnerUserId",e),e&&(t.primaryPartnerUserId=e)},setPartnerStreamVolume:function(t,e){var n=e.volume,r=e.instance;t.partners[r].volume=n,i["default"].$root.$emit("streaming:volume",{volume:n,instance:r})},setPartnerStreamCovers:function(t,e){var n=e.data,r=e.instance;t.partners[r].covers=Object.assign(t.partners[r].covers,n)},setPartnerTipGoal:function(t,e){var n=e.data,r=e.instance;t.partners[r].tipGoal=y(y({},t.partners[r].tipGoal),n)},setComments:function(t,e){t.comments=Object(s["a"])(e)},addComment:function(t,e){t.comments=[].concat(Object(s["a"])(t.comments),[e])},removeComment:function(t,e){e&&(t.comments=t.comments.filter((function(t){return t.id!=e})))},incrementCommentsCount:function(t,e){t.summary.comments+=e},addTips:function(t,e){t.summary.tips+=e},addLike:function(t,e){e.id=t.summary.likes;var n=[t.local.user.id].concat(Object(s["a"])(Object.keys(t.partners)));n.find((function(t){return t==e.streamUserId}))&&(t.likes=[].concat(Object(s["a"])(t.likes),[e]),t.summary.likes++)},removeLike:function(t,e){t.likes=t.likes.filter((function(t){return t.id!==e.id}))},incrementViewersCount:function(t,e){t.summary.viewers+=e},decrementViewersCount:function(t,e){t.summary.viewers-=e},setViewersCount:function(t,e){t.summary.viewers=e},addViewer:function(t,e){t.viewers[e.id]=e},removeViewer:function(t,e){delete t.viewers[e.id],t.viewers=y({},t.viewers)},setStreamingChatEnabled:function(t,e){t.streamingChatEnabled=e},setUI:function(t,e){t.UI=y(y({},t.UI),e)},setUIButtonsPanel:function(t,e){t.UI.buttonsPanel=y(y({},t.UI.buttonsPanel),e)},setDefaultPartnerUserStreamState:function(t,e){t.partners[e]=y(y({},t.partners[e]),O())},setDefaultState:function(t){Object.assign(t,w())},logout:function(t){Object.assign(t,w())},setSwitchToLive:function(t,e){t.switchToLive=e},setSwitchFromLive:function(t,e){t.switchFromLive=e},setSwitchFromDual:function(t,e){t.switchFromDual=e},setMediaDevices:function(t,e){t.mediaDevices=y(y({},t.mediaDevices),e)},setSentryLog:function(t,e){var n=e.key,r=e.value;n&&(t.sentryLog[n]=r)},setStreamSystemStats:function(t,e){t.streamSystemStats=y(y({},t.streamSystemStats),e)},setTipGoal:function(t,e){t.local.tipGoal=y(y({},t.local.tipGoal),e)},setStreamPrice:function(t,e){t.streamPrice=y(y({},t.streamPrice),e)},setPrivateCommentUser:function(t,e){t.privateCommentUser=e?y({},e):null}},x={createStreamModule:function(t){t.state,t.commit;window.streamModule||(window.streamModule=new u["default"])},createViewModules:function(t){var e=t.state,n=t.dispatch;for(var r in e.partners)n("createViewModule",r)},createViewModule:function(t,e){t.state,t.commit;window.viewModule||(window.viewModule={}),window.viewModule[e]||(window.viewModule[e]=new d["a"])},destroy:function(t){var e=t.state,n=t.commit,r=t.dispatch;Object(f["a"])(),e.switchToLive||(r("destroyAllPartnersStreams"),delete window.viewModule),n("setDefaultState")},destroyAllPartnersStreams:function(t){var e=t.state,n=t.dispatch;for(var r in e.partners)n("destroyPartnerStream",r)},destroyPartnerStream:function(t,e){var n=t.state,r=t.commit;n.partners[e]&&(Object(f["b"])(e),r("removePartner",e))},stopAllPartnersStreams:function(t){var e=t.state;t.dispatch;for(var n in e.partners)Object(f["e"])(n)},stopPartnerStream:function(t,e){t.state,t.commit;Object(f["e"])(e)},addComment:function(t,e){var n=t.commit;t.state;n("addComment",e),n("incrementCommentsCount",1)},addTips:function(t,e){var n=t.state,r=t.commit,s=t.rootGetters,o=Object(a["a"])({},n.local.user.id,{id:n.local.user.id,name:Object(l["b"])(n.local.user.name||n.local.user.username)});if("dual-streaming"===n.mode){var c=n.partners[e.stream_user_id];c&&(o[c.user.id]=c.user)}var u=o[e.stream_user_id];if(u){var d=Object(f["c"])({vm:i["default"],authUser:s["auth/authUser"],fromUser:e.from_user,toUser:u,amount:e.amount_human,message:e.message}),m={id:e.id,text:d,user:e.from_user,isServiceMessage:!0};r("addComment",m),n.local.user.id==u.id?r("addTips",e.amount):r("setPartnerStream",{instance:u.id,stream:{tipsSumm:e.amount}})}},joinUser:function(t,e){var n=t.state,r=t.getters,s=t.commit;if(s("addViewer",e),n.streamingChatEnabled&&s("incrementViewersCount",1),("dual-streaming"!==n.mode||!r.isCoStreamer||!Object.keys(n.partners).includes(e.id))&&!(n.summary.viewers>20)){var a={id:"".concat(e.id,"_").concat((new Date).getTime()),user:e,text:i["default"].$i18n.t("message.has_joined_stream_comment"),isServiceMessage:!0};s("addComment",a),setTimeout((function(){s("removeComment",a.id)}),6e4)}},leaveUser:function(t,e){var n=t.state,r=t.commit;r("removeViewer",e),n.streamingChatEnabled&&n.summary.viewers>0&&r("decrementViewersCount",1)},addLike:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r("addLike",n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),removeLike:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r("removeLike",n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),addSubscribedComment:function(t,e){t.state;var n=t.commit,r={id:"".concat(e.id,"_").concat((new Date).getTime()),user:e,text:i["default"].$i18n.t("message.streaming_user_subscribed"),isServiceMessage:!0};n("addComment",r),setTimeout((function(){n("removeComment",r.id)}),6e4)},enableStreamingChat:function(t,e){var n=t.commit,r=t.dispatch;n("setStreamingChatEnabled",!0),n("setLocal",{streamState:"started"}),n("setLocalStream",{id:e.id}),r("setStreamData",e),n("setStreamUser",e.user)},disableStreamingChat:function(t){var e=t.commit;e("setDefaultState")},setStreamData:function(t){var e=t.state,n=t.getters,r=t.commit,s=t.dispatch,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("started"===e.local.streamState){r("setLocalStream",{description:a.description,rawDescription:a.rawDescription,tipsSumm:+a.tipsSumm,isShowTips:!!+a.isShowTips});var i=Object(o["a"])(a.user,c["y"]);r("set",i,{root:!0}),r("setStreamUser",a.user);var u={isShowTipGoal:!!+a.isShowTipsGoal,sum:+a.tipsGoalSum,progress:+a.tipsGoalProgress,description:a.tipsGoal};r("setTipGoal",u);var d=a.partners||[],f=p()(n.partnersArray,d,(function(t){return t.user.id}));f.forEach((function(t){s("destroyPartnerStream",t.user.id)})),d.forEach((function(t){var e=a.primaryPartnerUserId==t.user.id?"primary":"partner";s("setPartnerUserStreamData",{instance:t.user.id,streamData:t,partnerType:e})})),r("setPrimaryPartnerUserId",a.primaryPartnerUserId),d.length?r("setMode","dual-streaming"):(r("setMode","streaming"),r("setSwitchFromDual",!0))}},setAllPartnersData:function(t,e){t.state;var n=t.getters,r=t.commit;n.partnersArray.forEach((function(t){r("setPartnerStream",{stream:e,instance:t.user.id})}))},setPartnerUserStreamData:function(t,e){var n=t.commit,r=e.streamData,s=e.instance,a=e.partnerType,i=void 0===a?"partner":a,u=e.applyTips,d=void 0!==u&&u;if(r&&s&&r.user.id==s){var f=Object(o["a"])(r.user,c["y"]);if(n("set",f,{root:!0}),n("setPartnerUser",{user:r.user,instance:s}),n("setPartner",{data:{type:i},instance:s}),n("setPartnerStream",{stream:{id:r.id,thumbUrl:r.thumbUrl,startedAt:r.startedAt,canJoin:r.canJoin,description:r.description,rawDescription:r.rawDescription,isOpened:!!+r.isOpened},instance:s}),d){n("setPartnerStream",{stream:{isShowTips:!!+r.isShowTips,tipsSumm:+r.tipsSumm},instance:s});var l={isShowTipGoal:!!+r.isShowTipsGoal,sum:+r.tipsGoalSum,progress:+r.tipsGoalProgress,description:r.tipsGoal};n("setPartnerTipGoal",{data:l,instance:s})}}},addPartner:function(t,e){var n=t.commit,r=e.partner,s=e.type;n("setPartnerUser",{user:r.user,instance:r.user.id}),n("setPartnerStream",{stream:r.stream,instance:r.user.id}),n("setPartner",{data:{type:s,streamState:r.streamState,streamStopped:r.streamStopped,videoPlaying:r.videoPlaying,stretchVideo:r.stretchVideo},instance:r.user.id}),n("setPartnerStreamVolume",{volume:r.volume,instance:r.user.id}),n("setPartnerTipGoal",{data:{isShowTipGoal:r.tipGoal.isShowTipGoal,sum:r.tipGoal.sum,progress:r.tipGoal.progress,description:r.tipGoal.description,showTipGoalProgress:r.tipGoal.showTipGoalProgress},instance:r.user.id})},doSwitchFromLive:function(t,e){var n=t.commit,r=t.dispatch,s=e.livePrimary,a=e.partners,i=e.comments,o=e.UI;r("addPartner",{partner:s,type:"primary"}),n("setPrimaryPartnerUserId",s.user.id),a.forEach((function(t){r("addPartner",{partner:t,type:"partner"})})),n("setComments",i),n("incrementCommentsCount",i.length),n("setUI",o),n("setSwitchFromLive",!0)},switchToLive:function(t){var e=t.state,n=t.commit;t.dispatch;n("setSwitchToLive",!0),this.$router.replace({name:"Live",params:{user:e.partner.user.username}})},toggleCommentsViewMode:function(t){var e=t.state,n=t.commit,r="full"===e.UI.commentsViewMode?"compact":"full";n("setUI",{commentsViewMode:r})},showStreamingViewersModal:function(t,e){t.state;var n=t.commit;e&&n("setUI",{streamingViewersMode:e}),n("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress:function(t,e){t.state;var n=t.getters,r=t.commit;r("setTipGoal",{showTipGoalProgress:e});var s,a=h(n.partnersIds);try{for(a.s();!(s=a.n()).done;){var i=s.value;r("setPartnerTipGoal",{data:{showTipGoalProgress:e},instance:i})}}catch(o){a.e(o)}finally{a.f()}}}},"6fa6":function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"m",(function(){return a})),n.d(e,"e",(function(){return i})),n.d(e,"o",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"g",(function(){return m})),n.d(e,"n",(function(){return p})),n.d(e,"r",(function(){return h})),n.d(e,"l",(function(){return b})),n.d(e,"h",(function(){return g})),n.d(e,"j",(function(){return v})),n.d(e,"q",(function(){return y})),n.d(e,"i",(function(){return O})),n.d(e,"p",(function(){return w}));var r=n("b775"),s=function(){var t="".concat(r["b"],"/payouts/account");return r["d"].get(t).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/payouts/account");return r["d"].post(e,t).then((function(t){return t.data}))},i=function(){var t="".concat(r["b"],"/payouts/legal");return r["d"].get(t).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/payouts/legal");return r["d"].post(e,t).then((function(t){return t.data}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.type,n=void 0===e?"ondato":e,s="".concat(r["b"],"/payouts/legal/faster-verify?type=").concat(n);return r["d"].get(s).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/payouts/legal/twitter");return r["d"].post(e,t).then((function(t){return t.data}))},d=function(t){var e="".concat(r["b"],"/payouts/legal/instagram");return r["d"].post(e,t).then((function(t){return t.data}))},f=function(){var t="".concat(r["b"],"/payouts/legal/skip_ondato");return r["d"].post(t).then((function(t){return t.data}))},l=function(){var t="".concat(r["b"],"/payouts/bank");return r["d"].get(t).then((function(t){return t.data}))},m=function(){var t="".concat(r["b"],"/payouts/other/bank");return r["d"].get(t).then((function(t){return t.data}))},p=function(t){var e="".concat(r["b"],"/payouts/bank");return r["d"].post(e,t).then((function(t){return t.data}))},h=function(t){var e="".concat(r["b"],"/payouts/bank");return r["d"].patch(e,t).then((function(t){return t.data}))},b=function(){var t="".concat(r["b"],"/payouts/bank");return r["d"].delete(t).then((function(t){return t.data}))},g=function(){var t="".concat(r["b"],"/payouts/stripe");return r["d"].get(t).then((function(t){return t.data}))},v=function(){var t="".concat(r["b"],"/payouts/stripe/legal");return r["d"].get(t).then((function(t){return t.data}))},y=function(t){var e="".concat(r["b"],"/payouts/stripe/legal");return r["d"].post(e,t).then((function(t){return t.data}))},O=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="".concat(r["b"],"/payouts/stripe/account");return t&&(e+="-edit"),r["d"].get(e).then((function(t){return t.data}))},w=function(t){var e="".concat(r["b"],"/payouts/stripe/account");return r["d"].post(e,t).then((function(t){return t.data}))}},"709f":function(t,e,n){"use strict";var r=function(t){try{return localStorage.getItem(t)}catch(e){return null}},s=function(t,e){try{return localStorage.setItem(t,e)}catch(n){}},a=function(t){try{return localStorage.removeItem(t)}catch(e){}};e["a"]={getItem:r,setItem:s,removeItem:a}},7129:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"getters",(function(){return u})),n.d(e,"mutations",(function(){return d})),n.d(e,"actions",(function(){return f}));var r=n("7618"),s=(n("96cf"),n("3b8d")),a=(n("c5f6"),n("75fc")),i=n("a836"),o=function(){return{scheduledMessages:[],loading:!1,error:!1,offset:0,hasMore:!0}},c=o(),u={getScheduledMessages:function(t){return t.scheduledMessages},isScheduledError:function(t){return t.error},hasMore:function(t){return t.hasMore},isScheduledLoading:function(t){return t.loading},hasScheduledMessages:function(t){return!!t.scheduledMessages.length}},d={setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setScheduledMessages:function(t,e){t.scheduledMessages=e},addScheduledMessages:function(t,e){t.scheduledMessages=[].concat(Object(a["a"])(t.scheduledMessages),Object(a["a"])(e))},setOffset:function(t,e){t.offset=Number(e)},setHasMore:function(t,e){t.hasMore=e},deleteScheduledMessages:function(t,e){t.scheduledMessages=t.scheduledMessages.filter((function(t){return t.id!==e}))},logout:function(t){Object.assign(t,o())}},f={fetchScheduledMessages:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,o,c,u,d,f,l,m=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=m.length>1&&void 0!==m[1]?m[1]:{},a=s.limit,o=void 0===a?10:a,c=s.offset,u=void 0===c?0:c,d=s.more,f=void 0!==d&&d,n("setLoading",!0),n("setHasMore",!1),f||n("setScheduledMessages",[]),t.prev=5,t.next=8,Object(i["n"])(o,u);case 8:l=t.sent,t.next=16;break;case 11:return t.prev=11,t.t0=t["catch"](5),n("setLoading",!1),n("setHasMore",!1),t.abrupt("return",[]);case 16:if(l&&"object"===Object(r["a"])(l)&&l.list.length){t.next=20;break}return n("setLoading",!1),n("setHasMore",!1),t.abrupt("return",[]);case 20:return n(f?"addScheduledMessages":"setScheduledMessages",l.list),n("setHasMore",l.hasMore),n("setLoading",!1),t.abrupt("return",l);case 24:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e){return t.apply(this,arguments)}return e}(),resetScheduledMessages:function(t){var e=t.commit;e("logout")}}},"71ea":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"k",(function(){return u})),n.d(e,"u",(function(){return d})),n.d(e,"p",(function(){return f})),n.d(e,"m",(function(){return l})),n.d(e,"s",(function(){return m})),n.d(e,"j",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"o",(function(){return b})),n.d(e,"q",(function(){return g})),n.d(e,"n",(function(){return v})),n.d(e,"t",(function(){return y})),n.d(e,"b",(function(){return O})),n.d(e,"i",(function(){return w})),n.d(e,"h",(function(){return j})),n.d(e,"l",(function(){return S})),n.d(e,"r",(function(){return k}));var r=n("b775"),s=function(t){var e="".concat(r["b"],"/stories");return r["d"].post(e,t).then((function(t){return t.data}))},a=function(){var t="".concat(r["b"],"/users/me/stories?unf=1");return r["d"].get(t).then((function(t){return t.data}))},i=function(){var t="".concat(r["b"],"/stories?unf=1");return r["d"].get(t).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/stories/").concat(t,"?unf=1");return r["d"].get(e).then((function(t){return t.data}))},c=function(t){var e="".concat(r["b"],"/stories/archive?unf=1&limit=12&offset=").concat(t);return r["d"].get(e).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/users/").concat(t,"/stories?unf=1");return r["d"].get(e).then((function(t){return t.data}))},d=function(t){var e="".concat(r["b"],"/stories/").concat(t,"/watched");return r["d"].put(e).then((function(t){return t.data}))},f=function(t){var e="".concat(r["b"],"/stories/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},l=function(t){var e="".concat(r["b"],"/stories/").concat(t,"/like");return r["d"].post(e).then((function(t){return t.data}))},m=function(t){var e="".concat(r["b"],"/stories/").concat(t,"/like");return r["d"].delete(e).then((function(t){return t.data}))},p=function(t){var e="".concat(r["b"],"/users/").concat(t,"/stories/highlights?unf=1");return r["d"].get(e).then((function(t){return t.data}))},h=function(t){var e="".concat(r["b"],"/stories/highlights/").concat(t,"?unf=1");return r["d"].get(e).then((function(t){return t.data}))},b=function(t){var e="".concat(r["b"],"/stories/highlights/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},g=function(t){var e="".concat(r["b"],"/stories/highlights");return r["d"].post(e,t).then((function(t){return t.data}))},v=function(t,e){var n="".concat(r["b"],"/stories/highlights/").concat(t);return r["d"].patch(n,e).then((function(t){return t.data}))},y=function(t){var e="".concat(r["b"],"/stories/highlights/").concat(t.id);return r["d"].put(e,t).then((function(t){return t.data}))},O=function(t){var e="".concat(r["b"],"/stories/").concat(t,"/stats");return r["d"].get(e).then((function(t){return t.data}))},w=function(t,e){var n="".concat(r["b"],"/stories/").concat(t,"/viewers?limit=20&offset=").concat(e);return r["d"].get(n).then((function(t){return t.data}))},j=function(){var t="".concat(r["b"],"/stories/users/blocked");return r["d"].get(t).then((function(t){return t.data}))},S=function(t){var e="".concat(r["b"],"/stories/users/").concat(t,"/block");return r["d"].post(e).then((function(t){return t.data}))},k=function(t){var e="".concat(r["b"],"/stories/users/").concat(t,"/block");return r["d"].delete(e).then((function(t){return t.data}))}},"75de":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return u})),n.d(e,"getters",(function(){return d})),n.d(e,"mutations",(function(){return f})),n.d(e,"actions",(function(){return l}));n("96cf");var r=n("3b8d"),s=n("b775"),a=function(){var t="".concat(s["b"],"/init");return s["d"].get(t,{"axios-retry":{retries:1}}).then((function(t){return t.data}))},i=function(){var t="".concat(s["b"],"/ip");return s["d"].get(t).then((function(t){return t.data}))},o=n("44ba"),c=function(){return{languages:{},settings:{},isAuth:null,neededReload:!1,currentRev:null,apiError:!1,goBack:{routeFrom:null},isLoggedFromReferrer:!1,geoInfo:{geo:{countryCode:null}},date:Date.now(),reportAbuseOptions:{},csrf:""}},u=c(),d={getInit:function(t){return t},neededReload:function(t){return t.neededReload},currentRev:function(t){return t.currentRev},apiError:function(t){return t.apiError},goBackState:function(t){return t.goBack},geoInfo:function(t){return t.geoInfo},currentDate:function(t){return t.date},shouldSendStat:function(t){return!!t.isPostsViewsEnabled},reportAbuseOptions:function(t){return t.reportAbuseOptions}},f={setInit:function(t,e){Object.assign(t,e)},setInitAuth:function(t,e){t.isAuth=e},setNeededReload:function(t,e){t.neededReload=e},setCurrentRev:function(t,e){t.currentRev=e},setApiError:function(t,e){t.apiError=e},setGoBackRouteFrom:function(t,e){t.goBack.routeFrom=e},setGeoInfo:function(t,e){t.geoInfo=e},setCurrentDate:function(t,e){t.date=e},setReportAbuseOptions:function(t,e){t.reportAbuseOptions=e},logout:function(t){var e=t.languages,n=t.neededReload,r=t.currentRev,s=t.csrf;Object.assign(t,c()),Object.assign(t.languages,e),t.neededReload=n,t.currentRev=r,t.csrf=s}},l={fetchInit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,a();case 4:r=t.sent,r&&(r.isLoggedFromReferrer=!!r.isLoggedFromReferrer,n("setInit",r)),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchGeoInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,i();case 4:r=t.sent,n("setGeoInfo",r),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchReportAbuseOptions:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(o["a"])();case 4:r=t.sent,n("setReportAbuseOptions",r),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}()}},8121:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c}));var r=n("b775"),s=function(t){var e="".concat(r["b"],"/trials/claim");return r["d"].post(e,{code:t}).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/trials/check");return r["d"].post(e,{code:t,reserve:!0}).then((function(t){return t.data}))},i=function(t){var e="".concat(r["b"],"/promotions/claim");return r["d"].post(e,{code:t,strictAuthCheck:1}).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/users/restore-access");return r["d"].post(e,{code:t}).then((function(t){return t.data}))},c=function(t){var e="".concat(r["b"],"/users/clicks-stats");return r["d"].post(e,t).then((function(t){return t.data}))}},8247:function(t,e,n){t.exports=n.p+"img/default_avatar.png"},"82ab":function(t,e,n){"use strict";n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n("b775"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="".concat(r["b"],"/streams/feed?limit=").concat(t);return r["d"].get(e).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/streams/").concat(t,"/events");return r["d"].get(e).then((function(t){return t.data}))},i=function(t){var e="".concat(r["b"],"/streams/").concat(t);return r["d"].get(e).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/streams/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},c=function(t){var e="".concat(r["b"],"/streams/").concat(t,"/reminder");return r["d"].post(e).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/streams/").concat(t,"/reminder");return r["d"].delete(e).then((function(t){return t.data}))}},"82c1":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return l})),n.d(e,"getters",(function(){return m})),n.d(e,"mutations",(function(){return p})),n.d(e,"actions",(function(){return h}));n("8e6e"),n("96cf");var r=n("3b8d"),s=(n("c5f6"),n("bd86")),a=(n("456d"),n("ac6a"),n("5e23")),i=n("559d"),o=n("f05e"),c=n("09e4");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(){return{cards:{},cardIds:[],goBackToProfile:!1,cardNeedVerify:{},alternativeMethods:[]}},l=f(),m={cards:function(t){return t.cardIds.map((function(e){return t.cards[e]}))},goBackToProfile:function(t){return t.goBackToProfile},cardNeedVerify:function(t){return t.cardNeedVerify},alternativeMethods:function(t){return t.alternativeMethods}},p={setCardIds:function(t,e){t.cardIds=e},setCardDefault:function(t,e){Object.keys(t.cards).forEach((function(e){t.cards[e].isDefault=!1})),t.cards[e]&&(t.cards[e].isDefault=!0)},removeCard:function(t,e){t.cardIds=t.cardIds.filter((function(t){return t!==e}));var n=d({},t.cards);delete n[e],t.cards=n},setGoBackToProfile:function(t,e){t.goBackToProfile=e},setCardNeedVerify:function(t,e){t.cardNeedVerify=e},logout:function(t){Object.assign(t,f())},setAlternativeMethods:function(t,e){t.alternativeMethods=e},removeAlternativeMethods:function(t,e){t.alternativeMethods=t.alternativeMethods.filter((function(t){return Number(t.id)!==Number(e)}))}},h={fetchCards:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(o["g"])();case 4:if(r=t.sent,r){t.next=7;break}return t.abrupt("return");case 7:s=Object(a["a"])(r,i["i"]),n("set",s,{root:!0}),c=s.result,n("setCardIds",c),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));function e(e){return t.apply(this,arguments)}return e}(),setDefaultCard:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,u,d,f=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,s=f.length>1&&void 0!==f[1]?f[1]:{},a=s.id,i=s.update,u=void 0!==i&&i,t.prev=2,t.next=5,Object(o["p"])(a);case 5:d=t.sent,d&&d.success&&(n("setCardDefault",a),u&&r("fetchCards")),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(c["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteCard:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,u,d,f,l,m=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,s=e.rootGetters,a=m.length>1&&void 0!==m[1]?m[1]:{},i=a.id,u=a.isDefault,d=void 0!==u&&u,t.prev=2,t.next=5,Object(o["d"])(i);case 5:f=t.sent,f&&f.success&&(n("removeCard",i),d&&r("fetchCards"),void 0!==f.isPaymentCardConnected&&(l=s["auth/authUser"],n("users/setUserField",{userId:l.id,field:"isPaymentCardConnected",status:f.isPaymentCardConnected},{root:!0}))),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(c["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPaymentsAlternativeMethods:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(o["j"])();case 4:r=t.sent,n("setAlternativeMethods",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(c["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}()}},8975:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));n("a481");var r=function(t){return t?t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):t},s=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?t.replace(/(<([^>]+)>)/gi,e):t}},8986:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return c})),n.d(e,"getters",(function(){return u})),n.d(e,"mutations",(function(){return d})),n.d(e,"actions",(function(){return f}));n("96cf");var r=n("3b8d"),s=n("b775"),a=function(){var t="".concat(s["b"],"/pages/contacts");return s["d"].get(t).then((function(t){return t.data}))},i=function(t){var e=t.data,n="".concat(s["b"],"/pages/contacts");return s["d"].post(n,e).then((function(t){return t.data}))},o=function(){return{contacts:{},selectedSubject:"",contactsLoading:!1,submitting:!1}},c=o(),u={contacts:function(t){return t.contacts},contactsLoading:function(t){return t.contactsLoading},submitting:function(t){return t.submitting}},d={setContacts:function(t,e){var n=e.data;t.contacts=n},setContactsLoading:function(t,e){t.contactsLoading=e},setSubmitting:function(t,e){t.submitting=e},setSelectedSubject:function(t,e){var n=e.subject;t.selectedSubject=n},logout:function(t){Object.assign(t,o())}},f={fetchContacts:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setContactsLoading",!0),t.prev=2,t.next=5,a();case 5:r=t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),Sentry.captureException(t.t0),r={};case 12:return n("setContacts",{contacts:r}),n("setContactsLoading",!1),t.abrupt("return",r);case 15:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}(),sendContacts:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.data,r("setSubmitting",!0),t.prev=3,t.next=6,i({data:s});case 6:a=t.sent,t.next=14;break;case 9:throw t.prev=9,t.t0=t["catch"](3),Sentry.captureException(t.t0),r("setSubmitting",!1),new Error(t.t0.data.error.message);case 14:return r("setSubmitting",!1),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"8ce5":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return I})),n.d(e,"getters",(function(){return R})),n.d(e,"mutations",(function(){return T})),n.d(e,"actions",(function(){return C}));n("8e6e"),n("55dd"),n("a481"),n("7f7f"),n("96cf");var r=n("3b8d"),s=n("bd86"),a=(n("6762"),n("2fdb"),n("5df3"),n("4f7f"),n("75fc")),i=(n("386d"),n("ac6a"),n("456d"),n("7514"),n("c5f6"),n("2b0e")),o=n("5e23"),c=n("9b02"),u=n.n(c),d=n("543e"),f=n.n(d),l=n("2593"),m=n.n(l),p=n("56d7"),h=n("09e4"),b=n("559d"),g=n("2612"),v=n("71ea"),y=n("1cf1"),O=n("c34b"),w=n("ba6a"),j=n("bfc7"),S=n.n(j);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=function(){return{needResetCheckOnlines:!1,deferredOnlines:[],checkOnlines:[],items:{},currentUser:null,modalUser:null,modalPost:null,modalStory:null,online:[],recommended:[],recommendsFree:!1,notifications:[],userAlert:null,userHints:[],blocked:[],search:[],settingsPost:{currentCode:null,options:[]},count:{subscriptions:{active:0,muted:0,expired:0,all:0},subscribers:{active:0,muted:0,expired:0,all:0,blocked:null,activeOnline:0}},friends:{},friendsLoading:!1}},I=P(),R={user:function(t){return t.items[t.currentUser]||{}},userId:function(t){return t.currentUser},modalUser:function(t){return t.modalUser},modalPost:function(t){return t.modalPost},modalStory:function(t){return t.modalStory},hasUser:function(t){return!!t.currentUser},getUser:function(t){return function(e){return null!==e?t.items[Number(e)]:""}},findUserByUserName:function(t){return function(e){return Object.keys(t.items).map((function(e){return t.items[e]})).find((function(t){return t.username===e}))}},getOnline:function(t){return t.online},recommendedUsers:function(t){return t.recommended.map((function(e){return t.items[e]}))},isRecommendsFree:function(t){return t.recommendsFree},getUserIds:function(t){return Object.keys(t.items).map(Number)},getCheckOnlinesIds:function(t){return t.checkOnlines},notifications:function(t){return t.notifications},userAlert:function(t){return t.userAlert},userHints:function(t){return t.userHints},blockedUsers:function(t){return t.blocked},searchUsers:function(t){return t.search},subscriptionsCount:function(t){return t.count},needSkipUsers:function(t,e){return function(n){return e.getUserIds.filter((function(e){return u()(t.items[e],"view.".concat(n))+864e5>+new Date}))}},needSkipUsersNotMe:function(t,e,n){return function(t){return e.needSkipUsers(t).filter((function(t){return t!==n.auth.user}))}},friends:function(t){return t.friends},friendsLoading:function(t){return t.friendsLoading},needSkipUsersOnFeed:function(t,e){return e.needSkipUsersNotMe("a").length},needSkipUsersOnShort:function(t,e){return e.needSkipUsersNotMe("s").length},needSkipUsersOnStories:function(t,e){return e.needSkipUsersNotMe("st").length},needSkipUsersOnRecommends:function(t,e){return e.needSkipUsers("r").length},needSkipUsersOnChats:function(t,e){return e.needSkipUsersNotMe("m").length},needSkipUsersOnLists:function(t,e){return e.needSkipUsersNotMe("t").length}},T={setCurrentUser:function(t,e){t.currentUser=e},setModalUser:function(t,e){var n=e.userId,r=e.postId,s=e.storyId;t.modalUser=n,t.modalPost=r,t.modalStory=s},resetCheckOnlines:function(t){t.needResetCheckOnlines=!0},setDefferedOnlines:function(t,e){t.deferredOnlines=e},setOnline:function(t,e){t.online=Object(a["a"])(new Set([].concat(Object(a["a"])(e.map((function(t){return Number(t)}))),Object(a["a"])(t.deferredOnlines)))),Object.keys(t.items).forEach((function(e){void 0===t.items[e].isOnline&&i["default"].set(t.items[e],"isOnline",!1),t.items[e].isOnline!==t.online.includes(Number(e))&&(t.items[e].isOnline=t.online.includes(Number(e)))})),t.deferredOnlines=[]},addOnlineUser:function(t,e){t.online=[].concat(Object(a["a"])(t.online),[e])},removeOnlineUser:function(t,e){var n=t.online;t.online=n.filter((function(t){return t!==e}))},setRecommendedUsers:function(t,e){t.recommended=Object(a["a"])(e)},setUserHiddenPosts:function(t,e){var n=e.id,r=e.status;t.items[n]&&(t.items[n].showPostsInFeed=r)},setUserFriend:function(t,e){var n=e.id,r=e.status;t.items[n]&&(t.items[n].isFriend=r)},setNotifications:function(t,e){var n=e.notifications,r=e.more;t.notifications=r?[].concat(Object(a["a"])(t.notifications),Object(a["a"])(n)):Object(a["a"])(n)},setChatMessagesCount:function(t,e){var n=e.userId,r=e.chatMessagesCount;t.items[n]&&(t.items[n].chatMessagesCount=r)},setChatMessagesCountPushNotifications:function(t,e){var n=e.userId;t.items[n]&&t.items[n].chatMessagesCount&&(t.items[n].chatMessagesCount-=1)},setNotificationsCount:function(t,e){var n=e.userId,r=e.notificationsCount;t.items[n]&&(t.items[n].notificationsCount=r)},setUserField:function(t,e){var n=e.userId,r=e.field,s=e.status;if(t.items[n]){var a={};a[r]=s,t.items[n]=x(x({},t.items[n]),a)}},deleteUserField:function(t,e){var n=e.userId,r=e.field,s=x({},t.items[n]);delete s[r],t.items[n]=s},setUserAlert:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.userAlert=e},setUserHints:function(t,e){t.userHints=e},deleteUserHint:function(t,e){t.userHints=t.userHints.filter((function(t){return t.id!==e&&t.code!==e}))},setBlockedUsers:function(t,e){var n=e.itemIds,r=e.more,s=void 0!==r&&r;t.blocked=s?Object(a["a"])(new Set([].concat(Object(a["a"])(t.blocked),Object(a["a"])(n)))):n},setSearchUsers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.itemIds,r=void 0===n?[]:n,s=e.more,i=void 0!==s&&s;t.search=i?Object(a["a"])(new Set([].concat(Object(a["a"])(t.search),Object(a["a"])(r)))):r},setSettingsPost:function(t,e){t.settingsPost=e},setSettingsPostCurrentCode:function(t,e){t.settingsPost.currentCode=e},setFriendsList:function(t,e){var n=e.userId,r=e.friends,s=e.more,i=void 0!==s&&s;t.friends[n]=i?[].concat(Object(a["a"])(t.friends[n]||[]),Object(a["a"])(r)):r},setFriendsLoading:function(t,e){t.friendsLoading=e},addConnectedAccount:function(t,e){var n=e.userId,r=e.userData;t.items[n]&&r&&(void 0!==r.connectedUser&&(t.items[n].connectedOfAccounts=Object(a["a"])(new Set([].concat(Object(a["a"])(t.items[n].connectedOfAccounts),[r.connectedUser.id])))),void 0!==r.canConnectOfAccount&&(t.items[n].canConnectOfAccount=r.canConnectOfAccount),void 0!==r.cantConnectOfAccountReason&&(t.items[n].cantConnectOfAccountReason=r.cantConnectOfAccountReason))},removeConnectedAccount:function(t,e){var n=e.userId,r=e.accountId,s=e.userData;t.items[n]&&s&&(s.success&&(t.items[n].connectedOfAccounts=t.items[n].connectedOfAccounts.filter((function(t){return t!==r}))),void 0!==s.canConnectOfAccount&&(t.items[n].canConnectOfAccount=s.canConnectOfAccount),void 0!==s.cantConnectOfAccountReason&&(t.items[n].cantConnectOfAccountReason=s.cantConnectOfAccountReason))},deleteBundle:function(t,e){var n=e.userId,r=e.bundleId;t.items[n]&&(t.items[n].subscriptionBundles=t.items[n].subscriptionBundles.filter((function(t){return Number(t)!==Number(r)})))},setBundle:function(t,e){var n=e.userId,r=e.bundleId;t.items[n]&&(t.items[n].subscriptionBundles=Object(a["a"])(new Set([].concat(Object(a["a"])(t.items[n].subscriptionBundles),[r]))))},setSubscriptionsCount:function(t,e){t.count=e},toggleRecommendsFree:function(t){t.recommendsFree=!t.recommendsFree},unsetUserOffer:function(t,e){var n=e.offerId,r=e.userId;t.items[r]&&t.items[r].promoOffers&&(t.items[r].promoOffers=t.items[r].promoOffers.filter((function(t){return t.id!==n})))},setUserOffers:function(t,e){var n=e.userId,r=e.offers;t.items[n]&&(t.items[n].promoOffers=r)},logout:function(t){Object.assign(t,P())}},C={fetchUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(g["L"])(n);case 3:return s=t.sent,s&&s.id&&(s.subscribedBy=s.subscribedBy||null,s.currentSubscribePrice=s.currentSubscribePrice||null,a=Object(o["a"])(s,b["y"]),r("set",a,{root:!0})),t.abrupt("return",s);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchCurrentUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.dispatch,t.next=3,s("fetchUser",n);case 3:return a=t.sent,a&&a.id&&r("setCurrentUser",a.id),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),disableTwitter:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,t.prev=1,t.next=4,Object(g["n"])();case 4:s=t.sent,s.success&&(a=r["auth/authUserId"],n("setUserField",{userId:a,field:"isTwitterConnected",status:!1}),n("setUserField",{userId:a,field:"twitterUsername",status:null})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),patchUserMeBySection:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,r=n.data,s=n.section,t.prev=2,t.next=5,Object(g["S"])(r,s);case 5:a=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 11:return t.abrupt("return",a);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),patchUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.prev=1,t.next=4,Object(g["R"])(n);case 4:r=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t["catch"](1),Sentry.captureException(t.t0),t.abrupt("return",t.t0.data);case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),changeUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=s["auth/authUser"],t.prev=2,o=["about","avatar","header","isSuggestionsOptOut","isVisibleOnline","location","name","paidFeed","recommenderReward","replyOnSubscribe","shouldReceiveLessNotifications","subscribePrice","username","website","wishlist"],c=m()(a,o),t.next=7,Object(g["d"])(x(x({},c),n));case 7:i=t.sent,i&&i.success&&(u=n.isVisibleOnline,r("setUserField",{userId:a.id,field:"isVisibleOnline",status:u}),r(1===u?"addOnlineUser":"removeOnlineUser",a.id)),t.next=15;break;case 11:return t.prev=11,t.t0=t["catch"](2),Sentry.captureException(t.t0),t.abrupt("return",t.t0.data);case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),changeUserBySection:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,e.rootGetters,r=n.data,s=n.section,t.prev=2,t.next=5,Object(g["c"])(r,s);case 5:a=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 11:return t.abrupt("return",a);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleMuteUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.state,a=e.rootState,t.prev=1,i=a.subscribers&&a.subscribers.items[n]?a.subscribers.items[n]:s.items[n],c=i.isMuted,!c){t.next=9;break}return t.next=6,Object(y["s"])(n);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,Object(y["n"])(n);case 11:t.t0=t.sent;case 12:u=t.t0,u&&u.id&&(d=Object(o["a"])(u,b["y"]),r("set",d,{root:!0})),t.next=19;break;case 16:t.prev=16,t.t1=t["catch"](1),Object(h["b"])(t.t1);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleHiddenPosts:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.state,a=s.items[n].showPostsInFeed,t.prev=2,!a){t.next=9;break}return t.next=6,Object(y["m"])(n);case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,Object(y["r"])(n);case 11:i=t.sent;case 12:i&&i.success&&r("setUserHiddenPosts",{id:n,status:!a}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));function e(e,n){return t.apply(this,arguments)}return e}(),unFriendUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=s["auth/authUser"],t.prev=2,t.next=5,Object(g["lb"])(n);case 5:i=t.sent,i&&i.success&&(r("setUserFriend",{id:n,status:!1}),r("setUserField",{userId:a.id,field:"friendsList",status:a.friendsList.filter((function(t){return n!==t}))})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(h["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchRecommendedUsers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.state,a=e.getters,i=e.dispatch,t.prev=1,c=r["posts/firstFeedPostsAuthor"],u=a.needSkipUsersOnRecommends,t.next=6,Object(g["C"])({firstFeedPostUserId:c,state:s.recommendsFree?"free":void 0,skip_users:u});case 6:if(d=t.sent,!d||!d.length){t.next=16;break}if(f=Object(o["a"])(d,b["x"]),!u){t.next=12;break}return t.next=12,i("getUsersIfNeeded",f);case 12:n("set",f,{root:!0}),n("setRecommendedUsers",f.result),t.next=17;break;case 16:n("setRecommendedUsers",[]);case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchNotifications:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},s=r.limit,a=r.offset,i=r.type,c=r.more,t.prev=2,t.next=5,Object(g["v"])({limit:s,offset:a,type:i});case 5:if(u=t.sent,!u){t.next=11;break}return d=Object(o["a"])(u,b["g"]),n("set",d,{root:!0}),n("setNotifications",{notifications:u,more:c}),t.abrupt("return",u);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 16:return t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})));function e(e){return t.apply(this,arguments)}return e}(),createPromotion:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,t.prev=1,t.next=4,Object(O["a"])(n);case 4:a=t.sent,a&&a.length&&(i=s["auth/authUser"],o=i.id,r("setUserField",{userId:o,field:"promotions",status:f()(a,u()(i,"promotions",[]),(function(t,e){return t.type===e.type}))})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),finishPromotion:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,i,o,c,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,t.prev=1,t.next=4,Object(O["f"])(n);case 4:i=t.sent,o=s["auth/authUser"],c=s["init/currentDate"],i&&i.success&&o&&o.promotions&&o.promotions.length&&(u=o.id,d=o.promotions.find((function(t){return t.id===n})),d&&r("setUserField",{userId:u,field:"promotions",status:d.hasRelatedPromo?Object(a["a"])(o.promotions.map((function(t){return x(x({},t),{},{finishedAt:c,canClaim:!1})}))):[].concat(Object(a["a"])(o.promotions.filter((function(t){return t.id!==d.id}))),[x(x({},d),{},{finishedAt:c,canClaim:!1})])})),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deletePromotion:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,s=e.rootGetters,t.prev=1,t.next=4,Object(O["c"])(n);case 4:a=t.sent,a&&a.success&&(i=s["auth/authUser"],o=i.id,r("setUserField",{userId:o,field:"promotions",status:u()(i,"promotions",[]).filter((function(t){return t.id!==n}))})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchAlert:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(g["r"])();case 4:r=t.sent,r&&r.id&&n("setUserAlert",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),removeAlert:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(g["i"])(n);case 4:s=t.sent,s&&s.success&&r("setUserAlert"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchHints:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(g["u"])();case 4:r=t.sent,n("setUserHints",r),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),removeHint:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(g["j"])(n);case 4:s=t.sent,s&&s.success&&r("deleteUserHint",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleBlockUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.state,a=e.dispatch,t.prev=1,o=s.items[n].isBlocked,o=!0===o,!o){t.next=10;break}return t.next=7,Object(g["kb"])(n);case 7:i=t.sent,t.next=13;break;case 10:return t.next=12,Object(g["a"])(n);case 12:i=t.sent;case 13:i&&i.success&&(a("fetchSubscriptionsCount"),a("fetchCurrentUser",n),o&&r("setBlockedUsers",{itemIds:s.blocked.filter((function(t){return t!==n}))}),i.hideChat&&"Chat"===p["default"].$route.name&&(r("chats/deleteChat",n,{root:!0}),p["default"].$router.replace({name:"Chats"}))),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](1),Object(h["b"])(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleHideStoryFromUser:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.state,t.prev=1,i=s.items[n].isStoryBlockedUser,!i){t.next=9;break}return t.next=6,Object(v["r"])(n);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,Object(v["l"])(n);case 11:a=t.sent;case 12:a&&a.success&&(i=!i,r("setUserField",{userId:n,field:"isStoryBlockedUser",status:i})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));function e(e,n){return t.apply(this,arguments)}return e}(),connectSpotify:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=n.accessToken,i=n.tokenExpiration,o=n.refreshToken,c=s["auth/authUser"],t.prev=3,t.next=6,Object(w["d"])({accessToken:a,tokenExpiration:i,refreshToken:o});case 6:u=t.sent,u.success&&r("setUserField",{userId:c.id,field:"isSpotifyConnected",status:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),Object(h["b"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),disconnectSpotify:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=r["auth/authUser"],t.prev=2,t.next=5,Object(w["e"])();case 5:a=t.sent,a.success&&n("setUserField",{userId:s.id,field:"isSpotifyConnected",status:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(h["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchBlockedUsers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f,l,m,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=p.length>1&&void 0!==p[1]?p[1]:{},s=r.limit,a=r.offset,i=r.query,c=r.sort,u=r.more,d=r.field,f=r.filter,u||n("setBlockedUsers",{itemIds:[]}),t.prev=3,t.next=6,Object(g["s"])({limit:s,offset:a,query:i,sort:c,field:d,filter:f});case 6:return l=t.sent,l&&l.length&&(m=Object(o["a"])(l,b["x"]),n("set",m,{root:!0}),n("setBlockedUsers",{itemIds:m.result,more:u})),t.abrupt("return",l);case 11:return t.prev=11,t.t0=t["catch"](3),Sentry.captureException(t.t0),t.abrupt("return",[]);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSearchUsers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},s=r.limit,a=r.offset,i=r.query,c=r.more,u=r.all_users,c||n("setSearchUsers"),i){t.next=5;break}return t.abrupt("return",[]);case 5:return t.prev=5,t.next=8,Object(g["E"])({limit:s,offset:a,query:i,all_users:u});case 8:return d=t.sent,d&&d.length&&(f=Object(o["a"])(d,b["x"]),n("set",f,{root:!0}),n("setSearchUsers",{itemIds:f.result,more:c})),t.abrupt("return",d);case 13:return t.prev=13,t.t0=t["catch"](5),Sentry.captureException(t.t0),t.abrupt("return",[]);case 17:case"end":return t.stop()}}),t,null,[[5,13]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSettingsPost:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(g["G"])();case 4:r=t.sent,n("setSettingsPost",r),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),sendSettingsPost:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(g["db"])(n);case 4:s=t.sent,s&&s.success&&r("setSettingsPostCurrentCode",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchFriendsList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=l.length>1&&void 0!==l[1]?l[1]:{},s=r.userId,a=r.limit,i=r.offset,c=r.more,u=void 0!==c&&c,t.prev=2,n("setFriendsLoading",!0),t.next=6,Object(g["t"])({userId:s,limit:a,offset:i});case 6:return d=t.sent,d&&d.length&&(f=Object(o["a"])(d,b["x"]),n("set",f,{root:!0}),n("setFriendsList",{userId:s,friends:f.result,more:u}),n("setFriendsLoading",!1)),t.abrupt("return",d);case 11:return t.prev=11,t.t0=t["catch"](2),n("setFriendsLoading",!1),Sentry.captureException(t.t0),t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e){return t.apply(this,arguments)}return e}(),saveCustomName:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.id,a=n.displayName,t.prev=2,t.next=5,Object(y["o"])({id:s,displayName:a});case 5:i=t.sent,i&&i.id&&(c=Object(o["a"])(i,b["y"]),r("set",c,{root:!0})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(h["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchSubscriptionsCount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,t.prev=1,t.next=4,Object(y["k"])();case 4:s=t.sent,a=r["auth/authUserId"],n("setSubscriptionsCount",s),n("setUserField",{userId:a,field:"subscribersCount",status:s.subscribers.active}),n("setUserField",{userId:a,field:"subscribesCount",status:s.subscriptions.active}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),Sentry.captureException(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));function e(e){return t.apply(this,arguments)}return e}(),getUsersIfNeeded:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var a,i,o,c,d,f,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.dispatch,i=e.state,!n.entities||!n.entities.users){t.next=11;break}if(o=x({},n.entities.users),c=Object.keys(o).map(Number),d={},f=+new Date,c.forEach((function(t){var e=o[t]._views;e&&e.length&&e.forEach((function(e){u()(i.items[t],"view[".concat(e,"]"),0)+864e5<f&&(d[e]=S()(d[e]||[],[t]))})),delete n.entities.users[t]._views,delete n.entities.users[t]._view})),!Object.keys(d).length){t.next=11;break}return l=Object.keys(d).map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[];while(d[e].length)n.push(a("getUsersByIds",Object(s["a"])({},e,d[e].splice(0,10))));return t.next=4,Promise.all(n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=11,Promise.all(l);case 11:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),getUsersByIds:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(g["N"])(n);case 4:s=t.sent,s&&Object.keys(s).length&&(a=Object(o["a"])(s,b["x"]),r("set",a,{root:!0})),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addConnectedAccount:function(t,e){var n=t.commit,r=t.state,s=t.rootState,a=e.userData;if(r.items[s.auth.user]&&a&&void 0!==a.connectedUser&&!r.items[s.auth.user].connectedOfAccounts.find((function(t){return t===a.connectedUser.id}))){var i=Object(o["a"])(a.connectedUser,b["y"]);n("set",i,{root:!0}),n("addConnectedAccount",{userId:s.auth.user,userData:a})}}}},"8f95":function(t,e,n){"use strict";function r(){var t={};return t.promise=new Promise((function(e,n){t.resolve=e,t.reject=n})),t}n.d(e,"a",(function(){return r}))},"8ff6":function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return p})),n.d(e,"getters",(function(){return h})),n.d(e,"mutations",(function(){return b})),n.d(e,"actions",(function(){return g}));n("8e6e"),n("96cf");var r=n("3b8d"),s=n("bd86"),a=(n("456d"),n("ac6a"),n("7514"),n("9b02")),i=n.n(a),o=n("6fa6"),c=n("f05e"),u=n("34b7"),d=n("09e4");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=function(){return{payoutsBank:{},payoutsStripe:{stripe_legal:{}},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1}},p=m(),h={payoutsBank:function(t){return t.payoutsBank},payoutsStripe:function(t){return t.payoutsStripe},payoutsAccount:function(t){return t.payoutsAccount},getBankingState:function(t){return function(e){return void 0!==t[e]?t[e]:""}},getLoading:function(t){return t.loading}},b={setBankingState:function(t,e){var n=e.field,r=e.value;void 0!==t[n]&&(t[n]=r)},setPayoutsBank:function(t,e){var n=e.payoutCode,r=e.payouts.find((function(t){return t.code===n}));r&&r.fields&&Object.keys(r.fields).forEach((function(t){var e=r.fields[t],n=e.value,s=e.type;n||(r.fields[t].value=""),"checkbox"===s&&(r.fields[t].value=!!r.fields[t].value)})),t.payoutsBank=e},setPayoutsStripe:function(t,e){t.payoutsStripe=l(l({},t.payoutsStripe),e)},setPayoutsStripeSections:function(t,e){t.payoutsStripe=l(l({},t.payoutsStripe),e)},clearPayoutsStripe:function(t){t.payoutsStripe={stripe_legal:{}}},clearPayoutsStripeLegal:function(t){t.payoutsStripe.stripe_legal={}},setPayoutsAccount:function(t,e){t.payoutsAccount=e},changePayoutFieldValue:function(t,e){var n=e.code,r=e.field,s=e.value,a=e.stripe,i=void 0!==a&&a;(n||r)&&(i?t.payoutsStripe[n].fields[r].value=s:t.payoutsBank.payouts.find((function(t){return t.code===n})).fields[r].value=s)},setStripeStates:function(t,e){i()(t,"payoutsStripe.stripe_legal.fields.legal_address_state.values")&&(t.payoutsStripe.stripe_legal.fields.legal_address_state.values=e)},setLoading:function(t,e){t.loading=e},logout:function(t){Object.assign(t,m())}},g={fetchPayoutsBank:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=c.length>1&&void 0!==c[1]?c[1]:{},s=r.other,a=void 0!==s&&s,t.prev=2,a){t.next=9;break}return t.next=6,Object(o["d"])();case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,Object(o["g"])();case 11:i=t.sent;case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t["catch"](2),t.t0;case 17:i&&n("setPayoutsBank",i);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));function e(e){return t.apply(this,arguments)}return e}(),sendPayoutsBank:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(o["n"])(n);case 4:s=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:s&&r("setPayoutsBank",s);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),removePayoutsBank:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,t.prev=1,t.next=4,Object(o["l"])();case 4:r=t.sent,r&&r.success&&n("fetchPayoutsBank"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(d["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayoutsAccount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(o["c"])();case 4:r=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:r&&n("setPayoutsAccount",r);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayoutsStripe:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,e.state,n("setLoading",!0),t.prev=2,t.next=5,Object(o["h"])();case 5:r=t.sent,t.next=11;break;case 8:throw t.prev=8,t.t0=t["catch"](2),t.t0;case 11:r&&(n("setPayoutsStripe",r),n("setLoading",!1));case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchStripeStates:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,t.prev=1,t.next=4,Object(u["j"])(r.payoutsAccount.id);case 4:s=t.sent,n("setStripeStates",s),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayoutsStripeLegal:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.dispatch,t.prev=1,t.next=4,Object(o["j"])();case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&(i()(s,"stripe_legal.fields.legal_address_state")&&r("fetchStripeStates"),n("setPayoutsStripeSections",s));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),sendPayoutsStripeLegal:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.dispatch,t.prev=1,t.next=4,Object(o["q"])(n);case 4:a=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:return a&&(i()(a,"stripe_legal.fields.legal_address_state")&&s("fetchStripeStates"),r("setPayoutsStripeSections",a)),t.abrupt("return",a);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchPayoutsStripeAccount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=c.length>1&&void 0!==c[1]?c[1]:{},s=r.edit,a=void 0!==s&&s,t.prev=2,t.next=5,Object(o["i"])(a);case 5:i=t.sent,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](2);case 10:i&&n("setPayoutsStripeSections",i);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}(),sendPayoutsStripeAccount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(o["p"])(n);case 4:s=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:s&&r("setPayoutsStripeSections",s);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchPaymentsAlternativeMethodsForm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(c["k"])(n);case 4:s=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:s&&(s.code="alternative",a={payouts:[]},a.payoutCode="alternative",a.payouts.push(s),r("setPayoutsBank",a));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),sendPaymentsAlternativeMethodsForm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.prev=1,t.next=4,Object(c["m"])(n);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"925c":function(t,e,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("a481");var r=n("bd86"),s=n("8247"),a=n.n(s),i=n("964f"),o=n.n(i),c=n("0591"),u=n.n(c),d=n("d634");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]={computed:l(l(l({},Object(d["eb"])(["isDarkMode"])),Object(d["q"])(["getInit"])),{},{thumbSrc:function(){var t=this.src,e=this.avatarThumbs,n=this.size,r=this.type;return this.thumbSrcLink(t,e,n,r)}}),methods:{srcByType:function(t){switch(t){case"avatar":return a.a;case"header":return this.isDarkMode?u.a:o.a;default:return a.a}},thumbSrcLink:function(t,e,n,r){return e&&n&&e[n]?e[n]:t?(-1!==t.indexOf("/theme/onlyfans/images/default_avatar.png")||(-1!==t.indexOf("/theme/onlyfans/images/default_header_image.png")&&this.isDarkMode&&(t=t.replace("default_header_image.png","default_header_image_dark.png")),-1===t.indexOf("/theme/onlyfans/images/default_header_image_dark.png")||this.isDarkMode||(t=t.replace("default_header_image_dark.png","default_header_image.png"))),t):this.srcByType(r)},thumbsSrcSet:function(t,e,n){return t&&e&&Object.keys(n).length?Object.keys(n).map((function(t){return"".concat(n[t]," ").concat(t.substr(1),"w")})).join()+", ".concat(t," ").concat(e.width,"w"):null},thumbsSizes:function(t,e){return t&&Object.keys(e).length?Object.keys(e).map((function(t){return"(max-width: ".concat(t.substr(1),"px) ").concat(t.substr(1),"px")})).join()+", ".concat(t.width,"px"):null}}}},9587:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return u})),n.d(e,"getters",(function(){return d})),n.d(e,"mutations",(function(){return f})),n.d(e,"actions",(function(){return l}));var r=n("6ee6"),s=(n("96cf"),n("3b8d")),a=n("75fc"),i=n("a1c3"),o=n("f05e"),c=function(){return{balances:{},stripeBalances:{},earnings:[],payments:[],payoutRequests:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,paymentsLoading:!1,payoutRequestsLoading:!1,payoutStatisticsLoading:!1}},u=c(),d={balances:function(t){return t.balances},stripeBalances:function(t){return t.stripeBalances},earnings:function(t){return t.earnings},payments:function(t){return t.payments},payoutRequests:function(t){return t.payoutRequests},stripeData:function(t){return t.stripeData},payoutStatistics:function(t){return t.payoutStatistics},earningsLoading:function(t){return t.earningsLoading},paymentsLoading:function(t){return t.paymentsLoading},payoutRequestsLoading:function(t){return t.payoutRequestsLoading},payoutStatisticsLoading:function(t){return t.payoutStatisticsLoading}},f={setEarningsLoading:function(t,e){t.earningsLoading=e},setPaymentsLoading:function(t,e){t.paymentsLoading=e},setPayoutRequestsLoading:function(t,e){t.payoutRequestsLoading=e},setPayoutStatisticsLoading:function(t,e){t.payoutStatisticsLoading=e},setBalances:function(t,e){var n=e.balances,r=e.isStripe;r?t.stripeBalances=n:t.balances=n},setEarnings:function(t,e){var n=e.items,r=e.more;t.earnings=r?[].concat(Object(a["a"])(t.earnings),Object(a["a"])(n)):Object(a["a"])(n)},setPayments:function(t,e){var n=e.items,r=e.more;t.payments=r?[].concat(Object(a["a"])(t.payments),Object(a["a"])(n)):Object(a["a"])(n)},setPayoutRequests:function(t,e){var n=e.items,r=e.more;t.payoutRequests=r?[].concat(Object(a["a"])(t.payoutRequests),Object(a["a"])(n)):Object(a["a"])(n)},setStripeData:function(t,e){var n=e.lastPayoutId,r=e.hasMore,s=e.currentStep;t.stripeData.lastPayoutId=n,t.stripeData.hasMore=r,void 0!==s&&(t.stripeData.currentStep=s)},setPayoutStatistics:function(t,e){t.payoutStatistics=e},logout:function(t){Object.assign(t,c())}},l={fetchBalances:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,o,c=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=c.length>1&&void 0!==c[1]?c[1]:{},s=r.isStripe,a=void 0!==s&&s,t.prev=2,t.next=5,Object(i["a"])(a);case 5:o=t.sent,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](2),Sentry.captureException(t.t0),o={};case 12:return n("setBalances",{balances:o,isStripe:a}),t.abrupt("return",o);case 14:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchEarnings:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.limit,a=r.offset,o=r.more,c=[],n("setEarningsLoading",!0),o||n("setEarnings",{items:c,more:o}),t.prev=5,a%s!==0){t.next=11;break}return t.next=9,Object(i["e"])({limit:s,offset:a});case 9:u=t.sent,c=u.list;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),Sentry.captureException(t.t0);case 16:return n("setEarnings",{items:c,more:o}),n("setEarningsLoading",!1),t.abrupt("return",c);case 19:case"end":return t.stop()}}),t,null,[[5,13]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayments:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.limit,a=r.offset,i=r.more,c=[],n("setPaymentsLoading",!0),i||n("setPayments",{items:c,more:i}),t.prev=5,a%s!==0){t.next=11;break}return t.next=9,Object(o["h"])({limit:s,offset:a});case 9:u=t.sent,c=u.list;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),Sentry.captureException(t.t0);case 16:return n("setPayments",{items:c,more:i}),n("setPaymentsLoading",!1),t.abrupt("return",c);case 19:case"end":return t.stop()}}),t,null,[[5,13]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayoutRequests:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,o,c,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.limit,a=r.offset,o=r.more,c=[],n("setPayoutRequestsLoading",!0),o||n("setPayoutRequests",{items:c,more:o}),t.prev=5,a%s!==0){t.next=11;break}return t.next=9,Object(i["b"])({limit:s,offset:a});case 9:u=t.sent,c=u.list;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),Sentry.captureException(t.t0);case 16:return n("setPayoutRequests",{items:c,more:o}),n("setPayoutRequestsLoading",!1),t.abrupt("return",c);case 19:case"end":return t.stop()}}),t,null,[[5,13]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayoutRequestsStripe:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,o,c,u,d,f,l,m,p,h,b=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,s=b.length>1&&void 0!==b[1]?b[1]:{},a=s.limit,o=s.more,c=[],r("setPayoutRequestsLoading",!0),o||(r("setPayoutRequests",{items:c,more:o}),r("setStripeData",{lastPayoutId:null,hasMore:!0,currentStep:0})),!n.stripeData.hasMore){t.next=18;break}return t.prev=6,t.next=9,Object(i["c"])({limit:a,currentStep:n.stripeData.currentStep,lastPayoutId:n.stripeData.lastPayoutId});case 9:u=t.sent,c=u.list,d=u.lastPayoutId,f=void 0===d?null:d,l=u.hasMore,m=void 0!==l&&l,p=u.currentStep,h=void 0===p?0:p,r("setStripeData",{lastPayoutId:f,hasMore:m,currentStep:h}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),Sentry.captureException(t.t0);case 18:return r("setPayoutRequests",{items:c,more:o}),r("setPayoutRequestsLoading",!1),t.abrupt("return",c);case 21:case"end":return t.stop()}}),t,null,[[6,15]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPayoutStatistics:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.start,a=n.end,r("setPayoutStatisticsLoading",!0),t.prev=3,t.next=6,Object(i["d"])(s,a);case 6:c=t.sent,o=c.list,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),Sentry.captureException(t.t0),o={};case 14:return r("setPayoutStatistics",o),r("setPayoutStatisticsLoading",!1),t.abrupt("return",o);case 17:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),updateWithdrawalPeriod:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,o,c,u,d,f,l=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=l.length>1&&void 0!==l[1]?l[1]:{},a=s.withdrawalPeriod,o=s.isStripe,c=void 0!==o&&o,t.prev=2,t.next=5,Object(i["f"])({withdrawalPeriod:a,isStripe:c});case 5:u=t.sent,u.success&&(d=r["auth/authUserId"],f=c?"withdrawalStripePeriod":"withdrawalPeriod",n("users/setUserField",{userId:d,field:f,status:a},{root:!0})),t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](2),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),sendPayoutRequest:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(r["a"])(e),t.prev=1,t.next=4,Object(i["g"])(n);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t["catch"](1),t.t0;case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},"964f":function(t,e,n){t.exports=n.p+"img/default_header_image.png"},9898:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return b})),n.d(e,"getters",(function(){return g})),n.d(e,"mutations",(function(){return v})),n.d(e,"actions",(function(){return y}));n("8e6e"),n("456d"),n("ac6a"),n("5df3"),n("4f7f");var r=n("75fc"),s=(n("55dd"),n("96cf"),n("3b8d")),a=n("bd86"),i=n("5e23"),o=n("559d"),c=n("5892"),u=n("b775"),d=function(t){var e="".concat(u["b"],"/comments/").concat(t,"/like");return u["d"].post(e).then((function(t){return t.data}))},f=function(t){var e="".concat(u["b"],"/comments/").concat(t,"/like");return u["d"].delete(e).then((function(t){return t.data}))},l=function(t){var e="".concat(u["b"],"/comments/").concat(t);return u["d"].delete(e).then((function(t){return t.data}))};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=function(){return{items:{},itemsIds:{},loading:!1}},b=h(),g={getComment:function(t){return function(e){return t.items[e]}},getCommentsByPostId:function(t){return function(e){return t.itemsIds[e]?t.itemsIds[e].map((function(e){return t.items[e]})):[]}},isCommentsLoading:function(t){return t.loading}},v={setLoading:function(t,e){t.loading=e},toggleCommentLike:function(t,e){var n=e.id,r=e.isLiked,s=e.likesCount,a=e.byAuthor;t.items[n].isLiked=r,t.items[n].likesCount=s,a&&(t.items[n].isLikedByAuthor=r)},deleteComment:function(t,e){var n=p({},t.items);delete n[e],t.items=n},logout:function(t){Object.assign(t,h())}},y={fetchPostComments:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var s,u,d,f,l,m,p,h,b,g,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,u=e.state,d=n.id,f=n.limit,l=n.offset,m=void 0===l?0:l,p=n.more,h=void 0!==p&&p,s("setLoading",!0),t.prev=3,t.next=6,Object(c["m"])({id:d,limit:f,offset:m});case 6:b=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t["catch"](3),s("setLoading",!1),t.abrupt("return",[]);case 13:return g=Object(i["a"])(b,o["e"]),s("set",g,{root:!0}),v=g.result,s("set",{entities:{commentIds:Object(a["a"])({},d,h?Object(r["a"])(new Set([].concat(Object(r["a"])(u.itemsIds[d]||[]),Object(r["a"])(v)))).sort((function(t,e){return t-e})):v)}},{root:!0}),s("setLoading",!1),t.abrupt("return",v);case 19:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),sendComment:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var s,u,d,f,l,m,p,h,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,u=e.state,d=n.id,f=n.text,l=n.answerTo,m=n.giphyId,t.next=4,Object(c["a"])({id:d,text:f,answerTo:l,giphyId:m});case 4:return p=t.sent,p&&p.id&&(h=Object(i["a"])(p,o["f"]),s("set",h,{root:!0}),b=h.result,s("set",{entities:{commentIds:Object(a["a"])({},d,[].concat(Object(r["a"])(u.itemsIds[d]||[]),[b]))}},{root:!0}),s("posts/incrementPostCommentsCount",d,{root:!0})),t.abrupt("return",p);case 7:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),likeComment:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=n.id,a=n.like,i=n.byAuthor,t.prev=2,!a){t.next=9;break}return t.next=6,d(s);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,f(s);case 11:t.t0=t.sent;case 12:o=t.t0,o&&o.success&&(c=o.isLiked,u=o.likesCount,r("toggleCommentLike",{id:s,isLiked:c,likesCount:u,byAuthor:i})),t.next=18;break;case 16:t.prev=16,t.t1=t["catch"](2);case 18:case"end":return t.stop()}}),t,null,[[2,16]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteComment:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var s,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,i=e.state,o=n.postId,c=n.commentId,t.prev=2,t.next=5,l(c);case 5:u=t.sent,u&&u.success&&(s("posts/decrementPostComment",o,{root:!0}),s("set",{entities:{commentIds:Object(a["a"])({},o,Object(r["a"])(i.itemsIds[o]||[]).filter((function(t){return t!==c})))}},{root:!0}),s("deleteComment",c)),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},a18c:function(t,e,n){"use strict";n("ac6a"),n("96cf");var r=n("3b8d"),s=(n("7f7f"),n("75fc")),a=(n("a481"),n("2b0e")),i=n("8c4f"),o=n("56d7"),c=n("4360"),u=n("3d2f");n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54");function d(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function f(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m=function(){var t,e=document.getElementsByClassName("b-dropdown-wrapper"),n=d(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.remove()}}catch(s){n.e(s)}finally{n.f()}},p=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"3dfd"))},h=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"4b14"))},b=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"29a3"))},g=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"6ae6"))},v=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"8901"))},y=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"605e"))},O=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"3ab7"))},w=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"45e8"))},j=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"1dd8"))},S=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"aae3d"))},k=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"20b3"))},x=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("main")]).then(n.bind(null,"ad76"))},P=function(){return n.e("actions").then(n.bind(null,"a565"))},I=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("chats~lists~subs"),n.e("chats")]).then(n.bind(null,"2154"))},R=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("chats~lists~subs"),n.e("chats")]).then(n.bind(null,"3472"))},T=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("chats~lists~subs"),n.e("chats")]).then(n.bind(null,"b7bd"))},C=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("chats~lists~subs"),n.e("chats")]).then(n.bind(null,"0d0a"))},A=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("chats~lists~subs"),n.e("chats")]).then(n.bind(null,"ad4b"))},E=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("chats~lists~subs"),n.e("chats")]).then(n.bind(null,"d1db"))},_=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"55a7"))},L=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"cd46"))},U=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"55e8"))},M=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"6f05"))},D=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"5648"))},F=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"07a2"))},N=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"08b0"))},B=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"415f"))},q=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"a17c"))},V=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"673f"))},H=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"194ea"))},G=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"546d"))},$=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"b2183"))},z=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("settings")]).then(n.bind(null,"47f3"))},W=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("bookmarks~main~statements~streaming~subs"),n.e("chats~lists~subs"),n.e("subs")]).then(n.bind(null,"dbcb"))},X=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("bookmarks~main~statements~streaming~subs"),n.e("chats~lists~subs"),n.e("subs")]).then(n.bind(null,"af87"))},Y=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("bookmarks~main~statements~streaming~subs"),n.e("chats~lists~subs"),n.e("subs")]).then(n.bind(null,"2217"))},K=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("bookmarks~main~statements~streaming~subs"),n.e("chats~lists~subs"),n.e("subs")]).then(n.bind(null,"dd49"))},Q=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("bookmarks~main~statements~streaming~subs"),n.e("chats~lists~subs"),n.e("subs")]).then(n.bind(null,"8888"))},J=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("payments")]).then(n.bind(null,"2d5f"))},Z=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("payments")]).then(n.bind(null,"8966"))},tt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("payments")]).then(n.bind(null,"4a44"))},et=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("payments")]).then(n.bind(null,"6919"))},nt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("payments")]).then(n.bind(null,"cc63"))},rt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("payments")]).then(n.bind(null,"0d2b"))},st=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("banking")]).then(n.bind(null,"70e8"))},at=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("banking")]).then(n.bind(null,"c36c"))},it=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("banking")]).then(n.bind(null,"8414"))},ot=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("banking")]).then(n.bind(null,"7e5e"))},ct=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("banking~payments~settings"),n.e("banking")]).then(n.bind(null,"cecd"))},ut=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("static")]).then(n.bind(null,"c1df5"))},dt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("static")]).then(n.bind(null,"871b"))},ft=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("static")]).then(n.bind(null,"2c65"))},lt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("static")]).then(n.bind(null,"ade8"))},mt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("static")]).then(n.bind(null,"4b01"))},pt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("static")]).then(n.bind(null,"d2ee"))},ht=function(){return Promise.all([n.e("vendor"),n.e("referrals")]).then(n.bind(null,"67a9"))},bt=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~main~statements~streaming~subs"),n.e("statements")]).then(n.bind(null,"bb12"))},gt=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~main~statements~streaming~subs"),n.e("statements")]).then(n.bind(null,"8a23"))},vt=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~main~statements~streaming~subs"),n.e("statements")]).then(n.bind(null,"c283"))},yt=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~main~statements~streaming~subs"),n.e("statements")]).then(n.bind(null,"e8de"))},Ot=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~main~statements~streaming~subs"),n.e("statements")]).then(n.bind(null,"6afc"))},wt=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~main~statements~streaming~subs"),n.e("bookmarks~lists"),n.e("bookmarks~live"),n.e("bookmarks")]).then(n.bind(null,"433d"))},jt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("chats~lists~subs"),n.e("bookmarks~lists"),n.e("lists")]).then(n.bind(null,"e666"))},St=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("chats~lists~subs"),n.e("bookmarks~lists"),n.e("lists")]).then(n.bind(null,"3364"))},kt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("streaming")]).then(n.bind(null,"b29e"))},xt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("streaming")]).then(n.bind(null,"4f3f"))},Pt=function(){return Promise.all([n.e("vendor"),n.e("banking~chats~lists~main~payments~settings~static~streaming~subs"),n.e("banking~chats~main~payments~settings~streaming"),n.e("bookmarks~main~statements~streaming~subs"),n.e("streaming")]).then(n.bind(null,"6ce5"))},It=function(){return Promise.all([n.e("vendor"),n.e("bookmarks~live"),n.e("live")]).then(n.bind(null,"53b8"))},Rt=function(){return n.e("verify").then(n.bind(null,"1635"))},Tt=function(){return Promise.all([n.e("vendor"),n.e("mediaVault")]).then(n.bind(null,"aa32"))};j.isErrorPage=!0;var Ct=i["a"].prototype.push,At=i["a"].prototype.replace,Et=["ProfileInner","Profile"];i["a"].prototype.push=function(t,e,n){if(e||n)return Ct.call(this,t,e,n);try{return Ct.call(this,t).catch((function(t){return t}))}catch(r){console.log(r)}},i["a"].prototype.replace=function(t,e,n){if(e||n)return At.call(this,t,e,n);try{return At.call(this,t).catch((function(t){return t}))}catch(r){console.log(r)}},a["default"].use(i["a"]);var _t=function(t){return"contacts"===t?dt:"how"===t?ft:"referrals"===t?pt:"faq"===t?lt:"terms"===t?mt:ut},Lt=(window.STATIC_PAGES||[]).reduce((function(t,e){var n=e.type.toLowerCase(),r=_t(n);switch(n){case"anchor":return t;case"faq":return[].concat(Object(s["a"])(t),[{path:"/help/:chapter?/:section?/:subsection?",title:e.name,name:"faq",component:r,meta:{hasStaticFooter:!0,type:n}}]);case"terms":return[].concat(Object(s["a"])(t),[{path:"/terms/:section?",title:e.name,name:"terms",component:r,meta:{hasFooter:!0,type:n}}]);default:return[].concat(Object(s["a"])(t),[{path:"/".concat(e.url),title:e.name,name:e.url,component:r,meta:{hasFooter:!0,type:n}}])}}),[]);Lt.push({path:"/my/tickets/:type?",component:lt,name:"TicketsPage",meta:{hasStaticFooter:!0,requiresAuth:!0}}),Lt.push({path:"/issues/:type?",component:lt,name:"Issues",meta:{hasStaticFooter:!0,hideHelperBtn:!0,hideHeader:!0,requiresGuest:!0}});var Ut=[{path:"/my/chats",component:I,meta:{requiresAuth:!0},children:[{path:"",name:"Chats",component:R},{path:"chat/:chatId",name:"Chat",component:R},{path:"chat/:chatId/gallery",name:"Gallery",component:C},{path:"send",name:"ChatsSend",component:A}]},{path:"/my/mass_chats",component:E,name:"MassMessagesStats",meta:{requiresPerformer:!0}},{path:"/my/schedule_message",component:T,name:"ScheduleMessage",meta:{requiresPerformer:!0}}],Mt=[{path:"/my/subscriptions",name:"Subscribes",component:W,meta:{requiresAuth:!0},children:[{path:":type(active|expired)",name:"SubscribesByType"}]}],Dt=[{path:"/my/subscribers/top/:year?/:month?",name:"SubscribersAwards",component:Y,meta:{requiresPerformer:!0}},{path:"/my/subscribers",name:"Subscribers",component:X,meta:{requiresAuth:!0},children:[{path:":type(active|expired|restricted|activity)",name:"SubscribersByType"}]},{path:"/my/promotions",name:"Promotions",component:K,meta:{requiresCanCreatePromotion:!0}},{path:"/my/blocked",name:"BlockedUsers",component:Q,meta:{requiresAuth:!0}}],Ft=[{path:"/my/referrals",name:"Referrals",component:ht,meta:{requiresReferrerAllowed:!0}},{path:"/my/referrals/return_from_referral",name:"ReturnFromReferral",beforeEnter:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].dispatch("auth/logoutFromReferral");case 2:"Referrals"===n.name?window.location.href="/my/referrals":(c["a"].commit("init/setNeededReload",!0),r({name:"Referrals"}));case 3:case"end":return t.stop()}}),t)})));function e(e,n,r){return t.apply(this,arguments)}return e}()}],Nt=[{path:"/bookmarks",name:"BookmarkPosts",component:wt,meta:{requiresAuth:!0,type:"all"},children:[{path:"photos",name:"BookmarkPosts_photos",component:wt,meta:{type:"photos"}},{path:"videos",name:"BookmarkPosts_videos",component:wt,meta:{type:"videos"}},{path:"audio",name:"BookmarkPosts_audio",component:wt,meta:{type:"audios"}},{path:"other",name:"BookmarkPosts_other",component:wt,meta:{type:"other"}},{path:"locked",name:"BookmarkPosts_locked",component:wt,meta:{type:"locked"}}]}],Bt=[{path:"/my/vault",name:"MediaVault",component:Tt,meta:{type:"all",requiresPerformer:!0},children:[{path:"posts",name:"MediaVault_posts",component:Tt,meta:{type:"posts",requiresPerformer:!0}},{path:"chats",name:"MediaVault_chats",component:Tt,meta:{type:"chats",requiresPerformer:!0}},{path:"stories",name:"MediaVault_stories",component:Tt,meta:{type:"stories",requiresPerformer:!0}},{path:"streams",name:"MediaVault_streams",component:Tt,meta:{type:"streams",requiresPerformer:!0}}]}],qt=[{path:"/my/lists",name:"UsersLists",component:jt,meta:{requiresAuth:!0}},{path:"/my/lists/:list",name:"CustomList",component:St,meta:{requiresAuth:!0}},{path:"/my/friends",name:"MyFriends",component:St,meta:{requiresPerformer:!0}},{path:"/my/bookmarks",name:"Bookmarks",component:St,meta:{requiresAuth:!0}},{path:"/my/favorites",name:"Favorites",component:St,meta:{requiresAuth:!0}}],Vt=[{path:"/my/payments",component:J,meta:{requiresAuth:!0},children:[{path:"",name:"Payments",component:tt},{path:"list",name:"PaymentsCreditsTransactions",component:et},{path:"add_card",name:"PaymentsAddCard",component:Z},{path:"alternative",name:"PaymentsAlternative",component:nt},{path:"alternative/add",name:"PaymentsAlternativeAdd",component:rt}]}],Ht=[{path:"/my/settings",component:_,meta:{requiresAuth:!0},children:[{path:"",name:"SettingsProfile",component:L},{path:"advanced",name:"SettingsAdvanced",component:U},{path:"messaging",name:"SettingsMessaging",component:M},{path:"notifications",name:"SettingsNotifications",component:D},{path:"security",name:"SettingsSecurity",component:F},{path:"other",name:"SettingsOther",component:N},{path:"changelog",name:"SettingsChangelog",component:B},{path:"story",name:"SettingsStory",component:q},{path:"email",name:"SettingsEmail",component:V,meta:{isPage:!0,requiresEmailNotChecked:!0}},{path:"change-email",name:"SettingsChangeEmail",component:H},{path:"helpers",name:"PerformerHelpers",component:z,meta:{requiresCanAddHelper:!0}},{path:"spotify/artists",name:"SpotifyArtists",component:G},{path:"spotify/anthem",name:"SpotifyAnthem",component:$}]}],Gt=[{path:"/my/statements",component:bt,meta:{requiresPerformer:!0},children:[{path:"",name:"Statements",redirect:{name:"StatementsEarnings"}},{path:"/my/statements/earnings",name:"StatementsEarnings",component:gt},{path:"/my/statements/payouts",name:"StatementsPayoutRequests",component:vt},{path:"/my/statements/payouts/stripe",name:"StatementsPayoutRequestsStripe",component:vt}]},{path:"/my/stats/earnings",component:bt,meta:{requiresPerformer:!0},children:[{path:"",name:"StatsEarnings",component:yt}]},{path:"/my/statements/support",name:"StatementsSupport",component:Ot,meta:{requiresAuth:!0}}],$t=[{path:"/my/banking",component:st,meta:{requiresAuth:!0},children:[{path:"",name:"Banking",component:at},{path:"payout_types",name:"BankingPayoutTypes",component:it},{path:"support",name:"BankingSupport",component:ot},{path:"w9",name:"W9",component:ct},{path:"w9custom",name:"W9custom",component:ct,meta:{type:"custom"}},{path:":section",name:"BankingSection",component:at}]}],zt=[{path:"/my/streaming",name:"Streaming",component:kt,meta:{requiresPerformer:!0}},{path:"/:user/live",name:"Live",component:It,meta:{requiresAuth:!0}},{path:"/my/live/view/:user",redirect:{name:"Live"}},{path:"my/streaming/chat",name:"StreamingChat",component:xt,meta:{requiresPerformer:!0}},{path:"my/streaming/dashboard",name:"StreamingDashboard",component:Pt,meta:{requiresAuth:!0,requiresPerformer:!0}}],Wt=[{path:"/action/restore_access_confirm",name:"RestoreAccess",component:P},{path:"/action/:trialType(trial|subscribe)/:code",name:"Feed",component:O}],Xt=[{path:"/support",redirect:"/help"},{path:"/faq/:chapter?/:section?/:subsection?",redirect:"/help/:chapter?/:section?/:subsection?"},{path:"/my/subscribes",redirect:"/my/subscriptions"},{path:"/my/subscribes/:type",redirect:"/my/subscriptions/:type"},{path:"/rileyreid",redirect:"/rileyreidx3"},{path:"/partners",redirect:"/referrals"},{path:"/my/notifications/mentioned",redirect:"/my/notifications/interactions"},{path:"/my/verify",name:"VerifyPage",component:Rt},{path:"/oauth/authenticate",name:"OAuthAuthenticate",component:k},{path:"/report_abuse/:type/:id",name:"ReportAbuse",component:x,meta:{requiresAuth:!0}},{path:"/my/notifications",name:"Notifications",component:w,meta:{requiresAuth:!0},children:[{path:":type",name:"NotificationsByType"}]},{path:"/",name:"Feed",component:O},{path:"/queue",name:"Queue",component:O,meta:{requiresPerformer:!0}},{path:"/purchased",name:"Purchased",component:O,meta:{requiresPurchased:!0}},{path:"/blurred",name:"Blurred",component:O,meta:{requiresPaidFeed:!0}},{path:"/closefriends",name:"FriendsFeed",component:O,meta:{requiresCloseFriends:!0,requiresCustomer:!0}},{path:"/posts/create",name:"PostsCreate",component:g,meta:{requiresAuth:!0}},{path:"/posts/edit/:postId(\\d+)",name:"PostsEdit",component:g,props:{isEditPage:!0},meta:{requiresAuth:!0}},{path:"/search/users/:q?",name:"SearchUsers",component:S,meta:{requiresMakePayment:!0}},{path:"/my/*",component:j},{path:"/:userId(\\D.+)/friends",name:"Friends",component:b,meta:{title:"profilePageTitle"}},{path:"/:userId(\\D.*[^/])",name:"Profile",component:h,children:[{path:":postType(photos|videos|audios|archived|likes|spotify|friends|streams)",name:"ProfileInner",meta:{title:"profilePageTitle"}}],meta:{title:"profilePageTitle"}},{path:"/:postId(\\d+)/:userId/likes",name:"PostLikes",component:y,meta:{requiresAuth:!0}},{path:"/:postId(\\d+)/:userId/tips",name:"PostTips",component:y,meta:{requiresAuth:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/buyers",name:"PostBuyers",component:y,meta:{requiresAuth:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/vote/:optionId",name:"PostVoters",component:y,meta:{requiresAuth:!0}},{path:"/:queueId(\\d+)/buyers",name:"QueueBuyers",component:y,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)",name:"Post",component:v},{path:"*",name:"Error",component:j}],Yt=[];Yt=[].concat(Object(s["a"])(Yt),[{path:"/contacts",redirect:"/help"}]),Yt=[].concat(Object(s["a"])(Yt),Ut),Yt=[].concat(Object(s["a"])(Yt),Object(s["a"])(Lt)),Yt=[].concat(Object(s["a"])(Yt),Mt),Yt=[].concat(Object(s["a"])(Yt),Dt),Yt=[].concat(Object(s["a"])(Yt),Ht),Yt=[].concat(Object(s["a"])(Yt),Ft),Yt=[].concat(Object(s["a"])(Yt),Nt),Yt=[].concat(Object(s["a"])(Yt),qt),Yt=[].concat(Object(s["a"])(Yt),Vt),Yt=[].concat(Object(s["a"])(Yt),Gt),Yt=[].concat(Object(s["a"])(Yt),$t),Yt=[].concat(Object(s["a"])(Yt),zt),Yt=[].concat(Object(s["a"])(Yt),Bt),Yt=[].concat(Object(s["a"])(Yt),Wt),Yt=[].concat(Object(s["a"])(Yt),Xt);var Kt=new i["a"]({mode:"history",base:"/",scrollBehavior:function(t,e,n){return-1!==Et.indexOf(t.name)&&-1!==Et.indexOf(e.name)||"faq"===t.name&&"faq"===e.name||"terms"===t.name&&"terms"===e.name?n:{x:0,y:0}},routes:[{path:"/",component:p,children:Yt}]});Kt.beforeEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n,r){var s,a,i,d,f,l,p,h,b,g,v,y,O,w,j,S,k,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(m(),!document.documentMode){t.next=4;break}return r(),t.abrupt("return");case 4:if(s=Object(u["a"])(),!s.length||!s.every((function(t){return e.fullPath.indexOf(t)<0}))){t.next=9;break}return document.querySelectorAll('a[href="'.concat(e.fullPath,'"]')).forEach((function(t){t.classList.add("m-forbidden")})),n.name||r(s[0]),t.abrupt("return");case 9:if(!(c["a"].getters["init/neededReload"]&&e.fullPath&&e.query)||e.query._||e.params&&(e.params.isLogout||e.params.noReload)){t.next=12;break}return window.location.href=e.fullPath,t.abrupt("return");case 12:if("Error"!==e.name){t.next=15;break}return r(),t.abrupt("return");case 15:if(null!==c["a"].getters["init/getInit"].isAuth){t.next=18;break}return t.next=18,c["a"].dispatch("init/fetchInit");case 18:if(a=c["a"].getters["init/getInit"],i=null,d=e.matched.some((function(t){return t.meta.requiresGuest})),f=e.matched.some((function(t){return t.meta.requiresCanCreatePromotion})),l=e.matched.some((function(t){return t.meta.requiresCanAddHelper})),p=e.matched.some((function(t){return t.meta.requiresCloseFriends})),h=e.matched.some((function(t){return t.meta.requiresPaidFeed})),b=e.matched.some((function(t){return t.meta.requiresPurchased})),g=f||e.matched.some((function(t){return t.meta.requiresPerformer})),v=p||e.matched.some((function(t){return t.meta.requiresCustomer})),y=e.matched.some((function(t){return t.meta.requiresMakePayment})),O=e.matched.some((function(t){return t.meta.requiresReferrerAllowed})),w=e.matched.some((function(t){return t.meta.requiresEmailNotChecked})),j=w||l||y||p||O||h||b||g||e.matched.some((function(t){return t.meta.requiresUser})),S=j||e.matched.some((function(t){return t.meta.requiresAuth})),!d||!a.isAuth){t.next=36;break}return r("/"),t.abrupt("return");case 36:if(!S||a.isAuth||c["a"].getters["init/apiError"]){t.next=42;break}if(!e||!e.fullPath){t.next=40;break}return r("/?return_to=".concat(e.fullPath)),t.abrupt("return");case 40:return r("/"),t.abrupt("return");case 42:if(!j||c["a"].getters["auth/isAuth"]){t.next=45;break}return t.next=45,c["a"].dispatch("auth/fetchUserMe",{root:!0});case 45:if(k=c["a"].getters["auth/authUser"],!l){t.next=51;break}if(k.id){t.next=50;break}return r("/my/chats"),t.abrupt("return");case 50:k.canAddHelper||k.helperAccess&&k.helperAccess.length||(i={name:"Error"});case 51:v&&k.isPerformer&&(i={name:"Error"}),(y&&!k.isMakePayment||O&&!k.isReferrerAllowed||g&&!k.isPerformer||f&&!k.canCreatePromotion)&&(i={name:"Error"}),(h&&!k.paidFeed||b&&!k.hasPurchasedPosts||p&&!(k.subscribesCount>=5||k.closeFriends))&&(i={name:"Feed"}),!w||c["a"].getters["auth/authUser"].email&&!c["a"].getters["auth/authUser"].isEmailChecked||(i={name:"SettingsAdvanced"}),i?r(i):n&&n.name&&"TicketsPage"===e.name&&!k.email?(x={message:o["default"].$i18n.t("message.tickets_need_valid_email"),html:!0,buttons:[{title:o["default"].$i18n.t("message.go_to_settings"),onclick:function(){r({name:"SettingsChangeEmail"})},closeOnClick:!0}]},"faq"!==n.name&&(x.onclose=r({name:"faq"})),alert(x)):(c["a"].commit("init/setGoBackRouteFrom",n),r());case 56:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()),Kt.afterEach((function(t,e){c["a"].commit("router/setRoute",{from:e,to:t})})),Kt.onError((function(t){/loading chunk .* failed./i.test(t.message)&&window.location.reload()})),Kt.pushAsync=function(t){return new Promise((function(e,n){Kt.push(t,e,n)}))};e["a"]=Kt},a1c3:function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return b}));var r=n("b775"),s=n("77c1"),a=n.n(s),i=n("cd9d"),o=n.n(i),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.offset,s=Object(r["c"])({limit:e,offset:n}),a="".concat(r["b"],"/payouts/transactions").concat(s);return r["d"].get(a).then((function(t){return t.data}))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="".concat(r["b"],"/payouts/balances");return t&&(e+="/stripe"),r["d"].get(e).then((function(t){return t.data}))},d=function(t,e){var n="".concat(r["b"],"/payouts/stats?startDate=").concat(t,"&endDate=").concat(e);return r["d"].get(n).then((function(t){return t.data}))},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.offset,s=Object(r["c"])({limit:e,offset:n}),a="".concat(r["b"],"/payouts/requests").concat(s);return r["d"].get(a).then((function(t){return t.data}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.currentStep,s=t.lastPayoutId,i=Object(r["c"])(a()({limit:e,currentStep:n,lastPayoutId:s},o.a)),c="".concat(r["b"],"/payouts/requests/stripe").concat(i);return r["d"].get(c).then((function(t){return t.data}))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.withdrawalPeriod,n=t.isStripe,s=void 0!==n&&n,a="".concat(r["b"],"/payouts/requests");return s&&(a+="/stripe"),r["d"].patch(a,{withdrawalPeriod:e}).then((function(t){return t.data}))},p=function(t){var e="".concat(r["b"],"/payouts/requests");return r["d"].post(e,{withdrawal_amount:t}).then((function(t){return t.data}))},h=function(t){var e=t.data,n=t.type,s=void 0===n?null:n,a="".concat(r["b"],"/payouts/w9");return s&&(a+="/".concat(s)),r["d"].post(a,e).then((function(t){return t.data}))},b=function(t){var e="".concat(r["b"],"/payouts/tin");return r["d"].post(e,{tin:t}).then((function(t){return t.data}))}},a836:function(t,e,n){"use strict";n.d(e,"f",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"u",(function(){return u})),n.d(e,"w",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"k",(function(){return m})),n.d(e,"x",(function(){return p})),n.d(e,"v",(function(){return h})),n.d(e,"a",(function(){return b})),n.d(e,"t",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"r",(function(){return y})),n.d(e,"p",(function(){return O})),n.d(e,"y",(function(){return w})),n.d(e,"s",(function(){return j})),n.d(e,"q",(function(){return S})),n.d(e,"z",(function(){return k})),n.d(e,"j",(function(){return x})),n.d(e,"m",(function(){return P})),n.d(e,"o",(function(){return I})),n.d(e,"n",(function(){return R})),n.d(e,"l",(function(){return T}));n("55dd");var r=n("b775"),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=t.filter,o=t.order,c=t.query,u=t.field,d=t.list_id,f=t.recent,l=t.skip_users,m=Object(r["c"])({limit:n,offset:a,filter:i,order:o,query:c,field:u,list_id:d,recent:f,skip_users:l,skip_users_dups:1}),p="".concat(r["b"],"/chats").concat(m);return r["d"].get(p).then((function(t){return t.data}))},a=function(t){var e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=t.query,o=t.sort,c=t.field,u=t.filter,d=t.total,f=t.skip_users,l=t.signed_up_before,m=t.signed_up_after,p=t.scheduledSubscribedOn,h=Object(r["c"])({limit:n,offset:a,query:i,sort:o,field:c,filter:u,total:d,skip_users:f,skip_users_dups:1,signed_up_before:l,signed_up_after:m,scheduledSubscribedOn:p}),b="".concat(r["b"],"/chats/users").concat(h);return r["d"].get(b).then((function(t){return t.data}))},i=function(t){var e=Object(r["c"])({scheduledSubscribedOn:t}),n="".concat(r["b"],"/chats/users/count").concat(e);return r["d"].get(n).then((function(t){return t.data}))},o=function(t,e){var n=Object(r["c"])({skip_users:e,skip_users_dups:1}),s="".concat(r["b"],"/chats/").concat(t).concat(n);return r["d"].get(s).then((function(t){return t.data}))},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.limit,s=void 0===n?r["e"]:n,a=e.offset,i=void 0===a?0:a,o=e.lastId,c=e.firstId,u=e.id,d=e.skip_users,f=Object(r["c"])({limit:s,offset:i,lastId:o,firstId:c,id:u,order:"desc",skip_users:d,skip_users_dups:1}),l="".concat(r["b"],"/chats/").concat(t,"/messages").concat(f);return r["d"].get(l).then((function(t){return t.data}))},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.query,s=Object(r["c"])({query:n}),a="".concat(r["b"],"/chats/").concat(t,"/messages/search").concat(s);return r["d"].get(a).then((function(t){return t.data}))},d=function(t,e){var n="".concat(r["b"],"/chats/").concat(t,"/messages");return r["d"].post(n,e).then((function(t){return t.data}))},f=function(t){var e="".concat(r["b"],"/chats/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},l=function(t){var e="".concat(r["b"],"/messages/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},m=function(){var t="".concat(r["b"],"/messages/queue");return r["d"].get(t).then((function(t){return t.data}))},p=function(t){var e="".concat(r["b"],"/messages/queue");return r["d"].post(e,t).then((function(t){return t.data}))},h=function(t,e){var n="".concat(r["b"],"/messages/queue/").concat(e);return r["d"].put(n,t).then((function(t){return t.data}))},b=function(t){var e="".concat(r["b"],"/messages/queue/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},g=function(t){var e="".concat(r["b"],"/chats/").concat(t,"/mark-as-read");return r["d"].post(e).then((function(t){return t.data}))},v=function(t){var e="".concat(r["b"],"/chats/").concat(t,"/mark-as-read");return r["d"].delete(e).then((function(t){return t.data}))},y=function(){var t="".concat(r["b"],"/chats/mark-as-read");return r["d"].post(t).then((function(t){return t.data}))},O=function(t){var e="".concat(r["b"],"/messages/").concat(t,"/like");return r["d"].post(e).then((function(t){return t.data}))},w=function(t){var e="".concat(r["b"],"/messages/").concat(t,"/like");return r["d"].delete(e).then((function(t){return t.data}))},j=function(t){var e="".concat(r["b"],"/chats/").concat(t,"/hide");return r["d"].post(e).then((function(t){return t.data}))},S=function(t){var e="".concat(r["b"],"/chats/").concat(t,"/mute");return r["d"].post(e).then((function(t){return t.data}))},k=function(t){var e="".concat(r["b"],"/chats/").concat(t,"/mute");return r["d"].delete(e).then((function(t){return t.data}))},x=function(t){var e=t.offset,n=void 0===e?0:e,s=t.limit,a=void 0===s?30:s,i=Object(r["c"])({offset:n,limit:a,format:"infinite"}),o="".concat(r["b"],"/messages/queue/stats").concat(i);return r["d"].get(o).then((function(t){return t.data}))},P=function(t){var e="".concat(r["b"],"/messages/queue/size");return r["d"].post(e,{queueBuyers:t}).then((function(t){return t.data}))},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=Object(r["c"])({order:"desc",limit:n,offset:e,filter:s}),i="".concat(r["b"],"/chats/").concat(t,"/media").concat(a);return r["d"].get(i).then((function(t){return t.data}))},R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(r["c"])({limit:t,offset:e}),s="".concat(r["b"],"/messages/scheduled").concat(n);return r["d"].get(s).then((function(t){return t.data}))},T=function(t){var e=t.queueId,n=t.limit,s=void 0===n?r["e"]:n,a=t.offset,i=void 0===a?0:a,o=t.skip_users,c=t.marker,u=Object(r["c"])({limit:s,offset:i,skip_users:o,skip_users_dups:1,marker:c}),d="".concat(r["b"],"/messages/queue/").concat(e,"/buyers").concat(u);return r["d"].get(d).then((function(t){return t.data}))}},a8e2:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return f})),n.d(e,"getters",(function(){return l})),n.d(e,"mutations",(function(){return m})),n.d(e,"actions",(function(){return p}));n("7f7f"),n("96cf");var r=n("3b8d"),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),a=n("5e23"),i=n("56d7"),o=n("09e4"),c=n("559d"),u=n("c34b"),d=function(){return{items:{},itemIds:[],modalOffer:null}},f=d(),l={offers:function(t){return t.itemIds},getOffer:function(t){return function(e){return t.items[e]}},modalOffer:function(t){return t.modalOffer}},m={setLoading:function(t,e){t.loading=e},setPromotionOffers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.itemIds,r=void 0===n?[]:n,a=e.more,i=void 0!==a&&a;t.itemIds=i?Object(s["a"])(new Set([].concat(Object(s["a"])(t.itemIds),Object(s["a"])(r)))):Object(s["a"])(r)},clearUnclaimedOffers:function(t){t.itemIds=t.itemIds.filter((function(e){return t.items[e].finishedAt}))},clearClaimedOffers:function(t){t.itemIds=t.itemIds.filter((function(e){return!t.items[e].finishedAt}))},unsetOffer:function(t,e){t.itemIds=t.itemIds.filter((function(t){return t!==e}))},setModalOffer:function(t,e){t.modalOffer=e},logout:function(t){Object.assign(t,d())}},p={fetchPromotionOffers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,i,o,d,f,l,m,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=p.length>1&&void 0!==p[1]?p[1]:{},t.prev=2,s=r.more,s||n("setPromotionOffers"),t.next=7,Object(u["g"])(r);case 7:if(i=t.sent,n("setLoading",!1),o=i.users,d=i.offers,o&&(f=Object(a["a"])(o,c["x"]),n("set",f,{root:!0})),!d){t.next=17;break}return l=Object(a["a"])(d,c["h"]),m=l.result,n("set",l,{root:!0}),n("setPromotionOffers",{itemIds:m,more:s}),t.abrupt("return",m);case 17:return t.abrupt("return",[]);case 20:return t.prev=20,t.t0=t["catch"](2),n("setLoading",!1),t.abrupt("return",[]);case 24:case"end":return t.stop()}}),t,null,[[2,20]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteUnclaimedOffers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,t.prev=1,t.next=4,Object(u["e"])();case 4:s=t.sent,n("setLoading",!1),s&&s.success&&(n("clearUnclaimedOffers"),a=r["auth/authUserId"],n("users/setUserField",{userId:a,field:"unclaimedOffersCount",status:0},{root:!0})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n("setLoading",!1),Object(o["b"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteUnclaimedOffer:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,c,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=n.offerId,c=n.userId,t.prev=2,t.next=5,Object(u["d"])(a);case 5:d=t.sent,d&&d.success&&(r("unsetOffer",a),f=s["users/getUser"](c),r("users/unsetUserOffer",{offerId:a,userId:c},{root:!0}),i["default"].$bvToast.toast(i["default"].$i18n.t("message.offer_cancelled",{NAME:f.displayName||f.name}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(o["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteClaimedOffers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,t.prev=1,t.next=4,Object(u["b"])();case 4:s=t.sent,n("setLoading",!1),s&&s.success&&(n("clearClaimedOffers"),a=r["auth/authUserId"],n("users/setUserField",{userId:a,field:"claimedOffersCount",status:0},{root:!0})),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n("setLoading",!1),Object(o["b"])(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}()}},af6c:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return S})),n.d(e,"getters",(function(){return k})),n.d(e,"mutations",(function(){return x})),n.d(e,"actions",(function(){return I}));n("8e6e"),n("456d"),n("7f7f");var r=n("7618"),s=(n("6762"),n("2fdb"),n("96cf"),n("3b8d")),a=(n("6b54"),n("a481"),n("c5f6"),n("5df3"),n("4f7f"),n("75fc")),i=(n("ac6a"),n("bd86")),o=n("5e23"),c=n("9b02"),u=n.n(c),d=n("56d7"),f=n("bc3a"),l=n.n(f),m=n("09e4"),p=n("b775"),h=n("559d"),b=n("2612"),g=n("d931"),v=n("5892"),y=n("82ab");function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(){return{items:{},itemIds:[],tempItemIds:{},feedItemIds:[],tempFeedItemIds:[],lastFeedItemIds:[],lastFeedType:null,lastProfileItemIds:{},hasPrevUserPostsToLoad:!1,currentPost:null,loading:!1,error:!1,layout:"grid",firstFeedPostsAuthor:null,postPublishedCounter:0,offset:0,scrollToComments:!1,disabledPinsOrder:!1,hasPrevPostsToLoad:!1,votersList:{},pinnedIds:[]}},S=j(),k={posts:function(t){return t.itemIds.map((function(e){return t.items[e]}))},postsPinned:function(t){return t.pinnedIds.map((function(e){return t.items[e]}))},userPostItemIds:function(t){return t.itemIds},hasPrevUserPostsToLoad:function(t){return t.hasPrevUserPostsToLoad},postsIdsList:function(t){return t.feedItemIds},lastFeedItemIds:function(t){return t.lastFeedItemIds},tempFeedItemIds:function(t){return t.tempFeedItemIds},lastFeedType:function(t){return t.lastFeedType},feedPosts:function(t){return t.feedItemIds.map((function(e){return t.items[e]}))},firstFeedPostsAuthor:function(t){return t.firstFeedPostsAuthor},filterExpiredposts:function(t){var e=+new Date;return t.itemIds.map((function(e){return t.items[e]})).filter((function(t){if(t.expiredAt){var n=+new Date(t.expiredAt);if(n<=e)return!1}return!0}))},pinnedPostsIds:function(t){return t.pinnedIds},filterExpiredFeedposts:function(t){var e=+new Date;return t.feedItemIds.map((function(e){return t.items[e]})).filter((function(t){if(!t)return!1;if(t.expiredAt){var n=+new Date(t.expiredAt);if(n<=e)return!1}return!0}))},totalPosts:function(t){return t.itemIds.length},postsByType:function(t){return function(e){return t.itemIds.map((function(e){return t.items[e]})).filter((function(t){return t.mediaType===e}))}},hasPosts:function(t){return!!t.itemIds.length},getPost:function(t){return function(e){return t.items[e]?[w({},t.items[e])]:[]}},activePost:function(t){return[w({},t.items[t.currentPost])]},activePostId:function(t){return t.currentPost},hasActivePost:function(t){return!!t.currentPost},isPostsLoading:function(t){return t.loading},isPostsError:function(t){return t.error},getLayout:function(t){return t.layout},isGridLayout:function(t){return"grid"===t.layout},postPublishedCounter:function(t){return t.postPublishedCounter},needScrollToComments:function(t){return t.scrollToComments},disabledPinsOrder:function(t){return t.disabledPinsOrder},postVoters:function(t){return function(e){return t.votersList[e]}},getLastProfileItemIds:function(t){return function(e,n){var r=[];return t.lastProfileItemIds[e]&&t.lastProfileItemIds[e].length&&t.lastProfileItemIds[e].forEach((function(t){n===t.postType&&r.push(t.id)})),r}},getTempItemIds:function(t){return function(e){return t.tempItemIds[e]?t.tempItemIds[e]:{pinnedPostsIds:[],userPostItemIds:[]}}}},x={saveFeedItemIds:function(t){t.tempFeedItemIds=t.feedItemIds,t.feedItemIds=[]},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},incrementPostCommentsCount:function(t,e){t.items[e]&&(t.items[e].commentsCount+=1)},decrementPostComment:function(t,e){t.items[e]&&t.items[e].commentsCount&&t.items[e].commentsCount>0&&(t.items[e].commentsCount-=1)},setItemIds:function(t,e){t.itemIds=Object(a["a"])(new Set(Object(a["a"])(e)))},addItemIds:function(t,e){t.itemIds=Object(a["a"])(new Set([].concat(Object(a["a"])(t.itemIds),Object(a["a"])(e))))},addNewItemIds:function(t,e){t.itemIds=Object(a["a"])(new Set([].concat(Object(a["a"])(e),Object(a["a"])(t.itemIds))))},setFeedItemIds:function(t,e){var n=e.postIds,r=e.purchased,s=void 0!==r&&r,i=e.setAuthor,o=void 0!==i&&i;if(t.feedItemIds=Object(a["a"])(new Set(Object(a["a"])(n))),o){var c=t.feedItemIds.length?t.items[t.feedItemIds[0]].author:0;s||c===t.firstFeedPostsAuthor||(t.firstFeedPostsAuthor=c)}},setPinnedIds:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.pinnedIds=e},resetFeedItemIds:function(t){t.feedItemIds=[],t.tempFeedItemIds=[]},addFeedItemIds:function(t,e){t.feedItemIds=Object(a["a"])(new Set([].concat(Object(a["a"])(t.feedItemIds),Object(a["a"])(e))))},addNewFeedItemIds:function(t,e){t.feedItemIds=Object(a["a"])(new Set([].concat(Object(a["a"])(e),Object(a["a"])(t.feedItemIds))))},setLastFeedItemIds:function(t,e){t.lastFeedItemIds=e},setLastFeedType:function(t,e){t.lastFeedType=e},addLastFeedItemId:function(t,e){t.lastFeedItemIds=Object(a["a"])(new Set([].concat(Object(a["a"])(t.lastFeedItemIds),Object(a["a"])(e))))},setPrevUserPostsToLoad:function(t,e){t.hasPrevUserPostsToLoad=e},setLastProfileItemId:function(t,e){var n=e.username,r=e.arr;n&&(t.lastProfileItemIds[n]=r)},addLastProfileItemId:function(t,e){var n=e.username,r=e.id,s=e.postType;n&&(void 0===t.lastProfileItemIds[n]&&(t.lastProfileItemIds[n]=[]),t.lastProfileItemIds[n].push({username:n,id:r,postType:s}))},setTempItemIds:function(t,e){var n=e.username,r=e.value;n&&(t.tempItemIds[n]=r)},setActivePost:function(t,e){t.currentPost=e},clearActivePost:function(t){t.currentPost=null},togglePostFavorite:function(t,e){var n=t.items[e].isFavorite;t.items[e].isFavorite=!n,n?t.items[e].favoritesCount-=1:t.items[e].favoritesCount+=1},togglePostPin:function(t,e){var n=t.items[e].isPinned;t.items[e].isPinned=!n},setLayout:function(t,e){t.layout=e},deletePost:function(t,e){if(void 0!==t.items[e]){var n=w({},t.items);delete n[e];var r=t.itemIds.filter((function(t){return Number(t)!==Number(e)}));r.length!==t.itemIds.length&&(t.itemIds=r);var s=t.pinnedIds.filter((function(t){return Number(t)!==Number(e)}));s.length!==t.pinnedIds.length&&(t.pinnedIds=s);var a=t.feedItemIds.filter((function(t){return Number(t)!==Number(e)}));a.length!==t.feedItemIds.length&&(t.feedItemIds=a),t.items=n}},deletePostId:function(t,e){t.itemIds=t.itemIds.filter((function(t){return t!==e}))},deletePinnedPostId:function(t,e){t.pinnedIds=t.pinnedIds.filter((function(t){return t!==e}))},updatePost:function(t,e){var n=e.id;t.items[n]&&(t.items[n]=w(w({},t.items[n]),e)),e&&e.fundRaising&&e.fundRaising.targetProgress&&t.items[n]&&t.items[n].tipsAmount&&(t.items[n].tipsAmount="$".concat(e.fundRaising.targetProgress))},incPostPublishedCounter:function(t){t.postPublishedCounter+=1},setPostPublishedCounter:function(t,e){t.postPublishedCounter=e},resetPostPublishedCounter:function(t){t.postPublishedCounter=0},setPrevPostsToLoad:function(t,e){t.hasPrevPostsToLoad=e},setStreamEvents:function(t,e){var n=e.events,r=e.postId;t.items[r].streamEvents=n},setPostFavorites:function(t,e){var n=e.postId,r=e.list,s=e.more;t.items[n].favoritesList=s?Object(a["a"])(new Set([].concat(Object(a["a"])(t.items[n].favoritesList),Object(a["a"])(r)))):r},setPostTips:function(t,e){var n=e.postId,r=e.list,s=e.more;t.items[n].tipsList=s?Object(a["a"])(new Set([].concat(Object(a["a"])(t.items[n].tipsList),Object(a["a"])(r)))):r},setPostBuyers:function(t,e){var n=e.postId,r=e.list,s=e.more;t.items[n].buyersList=s?Object(a["a"])(new Set([].concat(Object(a["a"])(t.items[n].buyersList),Object(a["a"])(r)))):r},updatePostInBookmarks:function(t,e){var n=e.id,r=e.isAdded;t.items[n].isAddedToBookmarks=r},setOffset:function(t,e){t.offset=Number(e)},setScrollToComments:function(t,e){t.scrollToComments=e},updatePostTips:function(t,e){var n=e.postId,r=e.amount;n&&r&&t.items[n]&&void 0!==t.items[n].tipsAmount&&(t.items[n].tipsAmount="$".concat((Number(t.items[n].tipsAmount.substr(1).replace(" ",""))+Number(r)).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")))},setDisabledPinsOrder:function(t,e){t.disabledPinsOrder=e},logout:function(t){Object.assign(t,j())}},P={},I={fetchPosts:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f,m,b,g,y,O,w,j,S,k,x,I,R,T,C,A,E,_,L,U=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.state,s=e.rootGetters,a=e.dispatch,i=U.length>1&&void 0!==U[1]?U[1]:{},c=i.queue,u=i.locked,d=i.purchased,f=i.closefriends,m=i.limit,b=void 0===m?p["e"]:m,g=i.more,y=void 0!==g&&g,O=i.addNew,w=void 0!==O&&O,j=i.query,S=i.beforePublishTime,k=i.afterPublishTime,P.fetchPosts&&P.fetchPosts.source&&(P.fetchPosts.source.cancel(),P.fetchPosts=null,n("setLoading",!1)),n("setLoading",!0),y||n("setOffset",0),(d||c||u||f)&&!y&&n("resetFeedItemIds"),I=l.a.CancelToken,R=l.a.Cancel,P.fetchPosts||(P.fetchPosts={}),P.fetchPosts.source=I.source(),T=P.fetchPosts.source.token,c?(A=s["auth/authUser"].view,C=A.a+864e5||A.f+864e5>+new Date?"all":void 0):C=s["users/needSkipUsersOnFeed"]?"all":void 0,t.prev=11,t.next=14,Object(v["q"])({queue:c,locked:u,purchased:d,closefriends:f,limit:b,offset:r.offset,query:j,cancelToken:T,skipUsers:C,beforePublishTime:S,afterPublishTime:k});case 14:x=t.sent,t.next=21;break;case 17:throw t.prev=17,t.t0=t["catch"](11),t.t0 instanceof R||n("setLoading",!1),t.t0;case 21:if(P.fetchPosts=null,E=Object(o["a"])(x,h["l"]),!C){t.next=26;break}return t.next=26,a("users/getUsersIfNeeded",E,{root:!0});case 26:return n("set",E,{root:!0}),_=E.result,n("setOffset",r.offset+_.length),y?n("addFeedItemIds",_):w?n("addNewFeedItemIds",_):(L=s["auth/authUser"],n("setFeedItemIds",{postIds:_,purchased:d,setAuthor:L.advBlock.includes("subscribe_offers")}),n("resetPostPublishedCounter")),n("setLoading",!1),t.abrupt("return",x);case 32:case"end":return t.stop()}}),t,null,[[11,17]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchBookmarkPosts:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,d,f,m,p,b,g,y,O,w,j,S,k,x,I,R,T=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.dispatch,a=T.length>1&&void 0!==T[1]?T[1]:{},i=a.limit,c=a.offset,u=a.more,d=void 0!==u&&u,f=a.addNew,m=void 0!==f&&f,p=a.query,b=a.type,g=void 0===b?"":b,y=a.filter,O=a.order,P.fetchPosts&&P.fetchPosts.source&&(P.fetchPosts.source.cancel(),P.fetchPosts=null,n("setLoading",!1)),n("setLoading",!0),d||n("resetFeedItemIds"),j=l.a.CancelToken,S=l.a.Cancel,P.fetchPosts||(P.fetchPosts={}),P.fetchPosts.source=j.source(),k=P.fetchPosts.source.token,x=r["users/needSkipUsersOnFeed"]?"all":void 0,t.prev=10,t.next=13,Object(v["i"])({type:g,limit:i,offset:c,query:p,cancelToken:k,filter:y,order:O,skipUsers:x});case 13:w=t.sent,t.next=20;break;case 16:return t.prev=16,t.t0=t["catch"](10),t.t0 instanceof S||n("setLoading",!1),t.abrupt("return",[]);case 20:if(P.fetchPosts=null,I=Object(o["a"])(w,h["l"]),!x){t.next=25;break}return t.next=25,s("users/getUsersIfNeeded",I,{root:!0});case 25:return n("set",I,{root:!0}),R=I.result,d?n("addFeedItemIds",R):m?n("addNewFeedItemIds",R):(n("setFeedItemIds",{postIds:R}),n("resetPostPublishedCounter")),n("setLoading",!1),t.abrupt("return",w);case 30:case"end":return t.stop()}}),t,null,[[10,16]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchUserPosts:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,c,u,d,f,l,m,p,g,v,y,O,w,j,S,k,x,P=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,s=e.dispatch,a=P.length>1&&void 0!==P[1]?P[1]:{},i=a.id,c=a.limit,u=a.more,d=void 0!==u&&u,f=a.addNew,l=void 0!==f&&f,m=a.type,p=void 0===m?"posts":m,g=a.query,v=a.order,y=a.filter,O=a.beforePublishTime,w=a.afterPublishTime,"friends"!==p&&"spotify"!==p){t.next=4;break}return t.abrupt("return");case 4:if(n("setLoading",!0),d||l||n("setItemIds",[]),t.prev=6,!O&&!w){t.next=14;break}return v&&"asc"===v.slice(v.length-3)&&(S=[w,O],O=S[0],w=S[1]),t.next=11,Object(b["y"])({id:i,limit:c,type:p,query:g,order:v,filter:y,beforePublishTime:O,afterPublishTime:w,pinned:0});case 11:j=t.sent,t.next=17;break;case 14:return t.next=16,Object(b["y"])({id:i,limit:c,type:p,query:g,order:v,filter:y,pinned:0});case 16:j=t.sent;case 17:t.next=23;break;case 19:throw t.prev=19,t.t0=t["catch"](6),n("setLoading",!1),t.t0;case 23:if("object"===Object(r["a"])(j)){t.next=26;break}throw n("setLoading",!1),new Error("Not object");case 26:if(j&&j.length){t.next=29;break}return n("setLoading",!1),t.abrupt("return",[]);case 29:return k=Object(o["a"])(j,h["l"]),t.next=32,s("users/getUsersIfNeeded",k,{root:!0});case 32:return n("set",k,{root:!0}),x=k.result,n(d?"addItemIds":l?"addNewItemIds":"setItemIds",x),n("setLoading",!1),t.abrupt("return",j);case 37:case"end":return t.stop()}}),t,null,[[6,19]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchUserPostsByType:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o,c,u,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.dispatch,t.prev=1,n("setPrevUserPostsToLoad",!1),a=r["users/userId"],i=d["default"].$route.query,o=i.order,c=i.filter,u=i.q,f=d["default"].$route.params.postType,t.next=8,s("fetchUserPosts",{id:a,type:f,query:u,order:o,filter:c});case 8:t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPostsPinned:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,u,f,l,m,p=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.dispatch,a=p.length>1&&void 0!==p[1]?p[1]:{},i=a.reset,c=void 0===i||i,t.prev=2,u=r["users/userId"],c&&n("setPinnedIds"),f=d["default"].$route.params.postType,t.next=8,Object(b["z"])({id:u,type:f});case 8:if(l=t.sent,!l||!l.length){t.next=15;break}return m=Object(o["a"])(l,h["l"]),t.next=13,s("users/getUsersIfNeeded",m,{root:!0});case 13:n("set",m,{root:!0}),n("setPinnedIds",m.result);case 15:t.next=19;break;case 17:t.prev=17,t.t0=t["catch"](2);case 19:case"end":return t.stop()}}),t,null,[[2,17]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchPost:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,c,d,f,l,m,p,b,g,y,O,w,j,S,k=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,r=e.state,s=e.rootGetters,a=e.dispatch,i=k.length>1&&void 0!==k[1]?k[1]:{},c=i.id,d=i.active,f=void 0!==d&&d,l=i.addToFeed,m=void 0!==l&&l,p=i.addToProfile,b=void 0!==p&&p,g=i.onlyExisted,y=void 0!==g&&g,!y||r.items[c]){t.next=4;break}return t.abrupt("return",[]);case 4:return n("setLoading",!0),O=s["users/needSkipUsersOnFeed"]?"all":void 0,t.prev=6,t.next=9,Object(v["l"])(c,O);case 9:w=t.sent,t.next=17;break;case 12:return t.prev=12,t.t0=t["catch"](6),n("setLoading",!1),n("setError",!0),t.abrupt("return",[]);case 17:if(f&&n("setActivePost",+w.id),j=Object(o["a"])(w,h["m"]),!O){t.next=22;break}return t.next=22,a("users/getUsersIfNeeded",j,{root:!0});case 22:return S=u()(j,"entities.posts[".concat(w.id,"]"))?j.entities.posts[w.id]:w,n("updatePost",S),n("set",j,{root:!0}),m&&n("addNewFeedItemIds",[j.result]),b&&n("addNewItemIds",[j.result]),n("setLoading",!1),t.abrupt("return",w);case 29:case"end":return t.stop()}}),t,null,[[6,12]])})));function e(e){return t.apply(this,arguments)}return e}(),setPost:function(t,e){var n,r=t.commit,s=Object(o["a"])(e,h["m"]);n=u()(s,"entities.posts[".concat(e.id,"]"))?s.entities.posts[e.id]:e,r("updatePost",n),r("set",s,{root:!0}),r("addNewFeedItemIds",[s.result])},postPublished:function(t,e){var n=t.commit,r=t.rootGetters,s=e.id,a=e.userId;if(s){var i=r["auth/authUserId"];Number(i)!==Number(a)&&n("incPostPublishedCounter")}},favoritePost:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.id,a=n.authorId,r("togglePostFavorite",s),t.prev=3,t.next=6,Object(v["h"])({id:s,authorId:a});case 6:i=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t["catch"](3),r("togglePostFavorite",s),t.abrupt("return",[]);case 13:return c=Object(o["a"])(i,h["m"]),r("set",c,{root:!0}),t.abrupt("return",i);case 16:case"end":return t.stop()}}),t,null,[[3,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),pinPostAction:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o,c,u,f,l,m,p,h,b,g,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=e.dispatch,i=e.rootGetters,o=n.id,c=n.userId,t.prev=2,t.next=5,Object(v["v"])(o);case 5:u=t.sent,u&&(r("togglePostPin",o),f=s.items[o],f&&(l=i["auth/authUser"],m=f.isPinned?l.pinnedPostsCount+1:l.pinnedPostsCount-1,r("users/setUserField",{userId:l.id,field:"pinnedPostsCount",status:m},{root:!0}),r("users/setUserField",{userId:l.id,field:"hasPinnedPosts",status:m>0},{root:!0})),f.isPinned?"Profile"!==d["default"].$route.name&&"ProfileInner"!==d["default"].$route.name||(r("deletePostId",o),a("fetchPostsPinned",{reset:!1})):(r("deletePinnedPostId",o),"Profile"!==d["default"].$route.name&&"ProfileInner"!==d["default"].$route.name||(p=d["default"].$route.params.postType,h=d["default"].$route.query,b=h.q,g=h.order,y=h.filter,a("fetchUserPosts",{id:c,type:p,query:b,order:g,filter:y})))),t.next=12;break;case 9:throw t.prev=9,t.t0=t["catch"](2),new Error(t.t0.data.error.message);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deletePost:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(v["e"])(n);case 4:if(s=t.sent,!s||!s.success){t.next=8;break}return r("deletePost",n),t.abrupt("return",!0);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](1),Object(m["b"])(t.t0),t.abrupt("return",!1);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),hidePost:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(v["t"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&s.success&&r("deletePost",n);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),unhidePost:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(v["A"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&s.success&&r("deletePost",n);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchStreamEvents:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=n.streamId,i=n.postId,t.prev=2,t.next=5,Object(y["d"])(a);case 5:o=t.sent,o&&o.length&&(o=o.reduce((function(t,e){switch(e.type){case"join":case"left":return t;case"tips":e.data.comment=Object(g["c"])({vm:d["default"],authUser:s["auth/authUser"],fromUser:e.data.user,toUser:e.data.toUser,amount:"$".concat(e.data.amount.toFixed(2).replace(".00","")),message:e.data.message}),e.type="comment";break;default:break}return e.time=parseFloat(e.time),t.push(e),t}),[]),r("setStreamEvents",{events:o,postId:i})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchFavoritesList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,u,d,f,l,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.postId,i=n.offset,c=void 0===i?0:i,u=n.more,d=void 0!==u&&u,t.prev=2,t.next=5,Object(v["j"])({postId:a,offset:c});case 5:f=t.sent,f&&f.list&&(l=Object(o["a"])(f.list,h["x"]),r("set",l,{root:!0}),s.items[a]||(m=Object(o["a"])({id:a},h["m"]),r("set",m,{root:!0})),r("setPostFavorites",{postId:a,list:l.result,more:d})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),r("setError",!0);case 12:return t.abrupt("return",f);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchTipsList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,u,d,f,l,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.postId,i=n.offset,c=void 0===i?0:i,u=n.more,d=void 0!==u&&u,t.prev=2,t.next=5,Object(v["r"])({postId:a,offset:c});case 5:f=t.sent,f&&f.list&&(l=Object(o["a"])(f.list,h["x"]),r("set",l,{root:!0}),s.items[a]||(m=Object(o["a"])({id:a},h["m"]),r("set",m,{root:!0})),r("setPostTips",{postId:a,list:l.result,more:d})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),r("setError",!0);case 12:return t.abrupt("return",f);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchBuyersList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,u,d,f,l,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.postId,i=n.offset,c=void 0===i?0:i,u=n.more,d=void 0!==u&&u,t.prev=2,t.next=5,Object(v["k"])({postId:a,offset:c});case 5:return f=t.sent,f&&f.list&&(s.items[a]||(l=Object(o["a"])({id:a},h["m"]),r("set",l,{root:!0})),m=Object(o["a"])(f.list,h["x"]),r("set",m,{root:!0}),r("setPostBuyers",{postId:a,list:m.result,more:d})),t.abrupt("return",f);case 10:return t.prev=10,t.t0=t["catch"](2),r("setError",!0),t.abrupt("return",{});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchVotersList:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,c,u,d,f,l,m,p,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,c=n.postId,u=n.offset,d=void 0===u?0:u,f=n.optionId,l=n.more,m=void 0!==l&&l,t.prev=2,t.next=5,Object(v["p"])({postId:c,optionId:f,offset:d});case 5:return p=t.sent,p&&p.list&&(s.items[c]||(b=Object(o["a"])({id:c},h["m"]),r("set",b,{root:!0})),g=Object(o["a"])(p.list,h["x"]),r("set",g,{root:!0}),r("set",{entities:{votersList:Object(i["a"])({},f,m?Object(a["a"])(new Set([].concat(Object(a["a"])(s.votersList[f]||[]),Object(a["a"])(g.result)))):g.result)}},{root:!0})),t.abrupt("return",p);case 10:return t.prev=10,t.t0=t["catch"](2),r("setError",!0),t.abrupt("return",{});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),addPostToBookmarks:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.id,a=n.authorId,t.prev=2,t.next=5,Object(v["b"])(s,a);case 5:i=t.sent,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](2);case 10:i&&i.success&&r("updatePostInBookmarks",{id:s,isAdded:!0});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),removePostFromBookmarks:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(v["w"])(n);case 4:s=t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:s&&s.success&&r("updatePostInBookmarks",{id:n,isAdded:!1});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleArchivePost:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,c,f,l,b,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.state,a=e.rootGetters,i=s.items[n],i){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,!i.isArchived){t.next=11;break}return t.next=8,Object(v["z"])(n);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,Object(v["c"])(n);case 13:t.t0=t.sent;case 14:c=t.t0,c&&c.post&&(i=c.post,f=d["default"].$createElement("span",{domProps:{innerHTML:d["default"].$i18n.t(i.isArchived?"message.post_moved_to_archive_toast":"message.post_moved_from_archive_toast",{POST_URL:"/".concat(i.id,"/").concat(i.author.username),ARCHIVE_URL:"/".concat(i.author.username,"/archived")})},on:{click:p["f"]}}),d["default"].$bvToast.toast([f],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),l=Object(o["a"])(i,h["m"]),b=u()(l,"entities.posts[".concat(i.id,"]"))?l.entities.posts[i.id]:i,r("updatePost",b),r("set",l,{root:!0}),g=a["auth/authUser"],r("setFeedItemIds",{postIds:s.feedItemIds.filter((function(t){return t!==n})),purchased:!1,setAuthor:g.advBlock.includes("subscribe_offers")}),r("deletePostId",n),r("deletePinnedPostId",n),delete c.post,Object.keys(c).forEach((function(t){r("users/setUserField",{userId:i.author.id,field:t,status:c[t]},{root:!0})}))),t.next=21;break;case 18:t.prev=18,t.t1=t["catch"](4),Object(m["b"])(t.t1);case 21:case"end":return t.stop()}}),t,null,[[4,18]])})));function e(e,n){return t.apply(this,arguments)}return e}(),savePinsOrder:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,r("setDisabledPinsOrder",!0),t.next=5,Object(v["x"])(n);case 5:s=t.sent,r("setDisabledPinsOrder",!1),s&&s.length&&(a=Object(o["a"])(s,h["l"]),r("set",a,{root:!0}),r("setPinnedIds",a.result)),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),r("setDisabledPinsOrder",!1),Object(m["b"])(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},b054:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return i})),n.d(e,"getters",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),s=(n("9b02"),n("2612")),a=function(){return{data:null,loading:!1,error:null}},i=a(),o={statsData:function(t){return t.data},loading:function(t){return t.loading},error:function(t){return t.error}},c={setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setData:function(t,e){t.data=e},reset:function(t){t.data=null,t.loading=!1,t.error=null},logout:function(t){Object.assign(t,a())}},u={fetchStat:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setLoading",!0),t.prev=2,t.next=5,Object(s["A"])();case 5:r=t.sent,n("setData",r),n("setLoading",!1),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),n("setLoading",!1),n("setError",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e){return t.apply(this,arguments)}return e}(),resetStat:function(t){var e=t.commit;e("reset")}}},b2d7:function(t,e,n){var r={"./ar":["300e","vendor"],"./ar.js":["300e","vendor"],"./az":["c143","vendor"],"./az.js":["c143","vendor"],"./bg":["f5ba","vendor"],"./bg.js":["f5ba","vendor"],"./ca":["42dc","vendor"],"./ca.js":["42dc","vendor"],"./cs":["8019","vendor"],"./cs.js":["8019","vendor"],"./da":["0b0f","vendor"],"./da.js":["0b0f","vendor"],"./de":["7d74","vendor"],"./de.js":["7d74","vendor"],"./el":["24ce","vendor"],"./el.js":["24ce","vendor"],"./en":["243b","vendor"],"./en.js":["243b","vendor"],"./es":["796a","vendor"],"./es.js":["796a","vendor"],"./et":["80af","vendor"],"./et.js":["80af","vendor"],"./eu":["221e","vendor"],"./eu.js":["221e","vendor"],"./fa":["0950","vendor"],"./fa.js":["0950","vendor"],"./fi":["8c7c","vendor"],"./fi.js":["8c7c","vendor"],"./fr":["8f76","vendor"],"./fr.js":["8f76","vendor"],"./he":["4702","vendor"],"./he.js":["4702","vendor"],"./hi":["e586","vendor"],"./hi.js":["e586","vendor"],"./hr":["ed81","vendor"],"./hr.js":["ed81","vendor"],"./hu":["1565","vendor"],"./hu.js":["1565","vendor"],"./id":["306c","vendor"],"./id.js":["306c","vendor"],"./it":["a23b","vendor"],"./it.js":["a23b","vendor"],"./ja":["f9b0","vendor"],"./ja.js":["f9b0","vendor"],"./ka":["59ea","vendor"],"./ka.js":["59ea","vendor"],"./ko":["3100","vendor"],"./ko.js":["3100","vendor"],"./lt":["8bfe","vendor"],"./lt.js":["8bfe","vendor"],"./lv":["ec0d","vendor"],"./lv.js":["ec0d","vendor"],"./mn":["a1ea","vendor"],"./mn.js":["a1ea","vendor"],"./ms_MY":["fb4d","vendor"],"./ms_MY.js":["fb4d","vendor"],"./nb_NO":["8852","vendor"],"./nb_NO.js":["8852","vendor"],"./ne":["8062","vendor"],"./ne.js":["8062","vendor"],"./nl":["6d2f","vendor"],"./nl.js":["6d2f","vendor"],"./nn_NO":["8e9d","vendor"],"./nn_NO.js":["8e9d","vendor"],"./pl":["beaf","vendor"],"./pl.js":["beaf","vendor"],"./pt_BR":["229e","vendor"],"./pt_BR.js":["229e","vendor"],"./pt_PT":["3b0e","vendor"],"./pt_PT.js":["3b0e","vendor"],"./ro":["a754","vendor"],"./ro.js":["a754","vendor"],"./ru":["b451","vendor"],"./ru.js":["b451","vendor"],"./sk":["bfec","vendor"],"./sk.js":["bfec","vendor"],"./sl":["7e84","vendor"],"./sl.js":["7e84","vendor"],"./sq":["7b10","vendor"],"./sq.js":["7b10","vendor"],"./sr":["ed05","vendor"],"./sr.js":["ed05","vendor"],"./sr_Latin":["6764","vendor"],"./sr_Latin.js":["6764","vendor"],"./sv":["4826","vendor"],"./sv.js":["4826","vendor"],"./th":["c666","vendor"],"./th.js":["c666","vendor"],"./tr":["4b1e","vendor"],"./tr.js":["4b1e","vendor"],"./uk":["a038","vendor"],"./uk.js":["a038","vendor"],"./vi":["bebc","vendor"],"./vi.js":["bebc","vendor"],"./zh_CN":["fd7a","vendor"],"./zh_CN.js":["fd7a","vendor"],"./zh_TW":["427f","vendor"],"./zh_TW.js":["427f","vendor"]};function s(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],s=e[0];return n.e(e[1]).then((function(){return n.t(s,7)}))}s.keys=function(){return Object.keys(r)},s.id="b2d7",t.exports=s},b775:function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return k})),n.d(e,"h",(function(){return j})),n.d(e,"e",(function(){return x})),n.d(e,"c",(function(){return E})),n.d(e,"f",(function(){return L})),n.d(e,"g",(function(){return _}));n("8e6e"),n("6762"),n("28a5"),n("386d");var r=n("7618"),s=(n("ac6a"),n("456d"),n("c5f6"),n("bd86")),a=n("bc3a"),i=n.n(a),o=n("04ac"),c=n.n(o),u=n("63ea"),d=n.n(u),f=n("9b02"),l=n.n(f),m=n("4360"),p=n("a18c"),h=n("56d7"),b=n("869c"),g=n("709f");function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O,w="onlyfans.com",j="33d57ade8c02dbc5a333db99ff9ae26a",S="https://".concat(w),k="/api2/v2",x=10,P=3e3,I=i.a.create({baseURL:S,headers:{"Content-Type":"application/json"},params:{},withCredentials:!0}),R=function(t,e,n){return new Promise((function(r,s){I[t](e,n).then((function(t){t&&r(t)})).catch((function(r){429===r.status?A(t,e,n,r.headers["retry-after"]):s(r)}))}))},T={get:function(t){return R("get",t)},post:function(t,e){return R("post",t,e)},put:function(t,e){return R("put",t,e)},patch:function(t,e){return R("patch",t,e)},delete:function(t,e){return R("delete",t,e)}},C={},A=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;C[e]||(C[e]=0),0===C[e]?(setTimeout((function(){T[t](e,n)}),1e3*r),C[e]+=1):(alert("Please try again later."),delete C[e])};c()(I,{retries:0,retryDelay:function(){return P}});try{I.defaults.params["app-token"]=j}catch(U){Sentry.captureException(U)}I.interceptors.request.use((function(t){if(0===t.url.indexOf("/api2/v2/")){t.headers=y(y({},t.headers),Object(b["a"])(t));var e=g["a"].getItem("accessToken");e&&(t.headers.common["access-token"]=e);var n=m["a"].getters["auth/authUserId"];n&&(t.headers.common["user-id"]=n)}return t})),I.interceptors.response.use((function(t){if(O=void 0,t.headers){var e=t.headers["user-id"],n=m["a"].getters["auth/authUserId"];if(e&&n&&Number(e)!==Number(n)||400===t.status&&301===l()(t,"data.error.code"))return window.showPreloader(),h["default"].$emit("removeAllBeforeUnloadListeners"),h["default"].$nextTick((function(){window.location.reload()})),t;var r=t.headers.date?+new Date(t.headers.date):Date.now();m["a"].commit("init/setCurrentDate",r);var s=t.headers["access-token"];s&&g["a"].setItem("accessToken",s);var a=m["a"].getters["init/neededReload"],i=t.headers["x-of-rev"];if(!a&&i){var o=m["a"].getters["init/currentRev"];null===o?m["a"].commit("init/setCurrentRev",i):o!==i&&m["a"].commit("init/setNeededReload",!0)}}return t}),(function(t){var e=t.response||t,n=l()(t,"response.headers");if(n){var r=n["user-id"],s=m["a"].getters["auth/authUserId"];if(r&&s&&Number(r)!==Number(s)||400===e.status&&301===l()(e,"data.error.code"))return window.showPreloader(),h["default"].$emit("removeAllBeforeUnloadListeners"),h["default"].$nextTick((function(){window.location.reload()})),Promise.reject(e)}var a=t.request&&t.request.responseURL?t.request.responseURL:t.config?t.config.url:"";if((t instanceof Error&&"Network Error"===t.message||t&&t.request&&t.request.status>500)&&(O?d()(O,t.config)?(O=void 0,l()(h["default"],"$children[0].$children[0]._isMounted")?alert(h["default"].$i18n.t("message.api_error")):h["default"].$once("mounted",(function(){alert(h["default"].$i18n.t("message.api_error"))})),m["a"].commit("init/setApiError",!0)):O=void 0:O=t.config),t.request){var i=!0;if((t.request.status<500||t instanceof Error&&"Network Error"===t.message)&&(i=!1),401===l()(t,"response.status")&&(i=!1,m["a"].commit("init/setInitAuth",!1),m["a"].commit("auth/setAuthUser",null),p["a"].push({name:"Feed",params:{isLogout:!0},query:{return_to:h["default"].$route.query.return_to||h["default"].$route.fullPath}})),101===l()(t,"response.data.error.code")&&(i=!1,m["a"].commit("modals/setOtpModalTitle",t.response.data.error.message,{root:!0}),m["a"].commit("modals/setOtpModalStrong",!!l()(t,"response.data.error.payload.strong"),{root:!0}),m["a"].commit("modals/otpModalShow",!0,{root:!0})),!a||-1===a.indexOf("/payments/pay")&&-1===a.indexOf("/users/login")&&-1===a.indexOf("/users/register")&&-1===a.indexOf("/users/forgot-password")||(i=!1),i){var o=new Error(a);o.name="API error ".concat(t.request.status),Sentry.withScope((function(e){e.setTag("responseStatus",t.request.status),e.setExtra("response",t.request.response),Sentry.captureException(o)}))}}return Promise.reject(e)}));var E=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=Object.keys(e).map((function(s){var a=e[s];if(void 0!==a)return"object"===Object(r["a"])(a)?t(a,s):n?"".concat(n,"[").concat(s,"]=").concat(encodeURIComponent(a)):"".concat(s,"=").concat(encodeURIComponent(a))})).filter((function(t){return!!t})).join("&");return s&&!n&&(s="?".concat(s)),s},_=function(t){var e=t.target;if(e&&"A"!==e.tagName&&(e=e.closest("a")),e&&"A"===e.tagName&&e.href){var n=t.altKey,r=t.ctrlKey,s=t.metaKey,a=t.shiftKey,i=t.button,o=t.defaultPrevented;if(s||n||r||a)return!1;if(o)return;if(void 0!==i&&0!==i)return!1;var c=e.getAttribute("target");if(/\b_blank\b/i.test(c))return!1;var u=new URL(e.href),d=u.search,f=u.pathname,l=["stripe","epayservice","payoneer"],m=f.split("/")[1];if(m&&l.includes(m))return!1;if(u.origin!==window.location.origin)return!1;var h=p["a"].getMatchedComponents(f)[1];return!h.isErrorPage&&(d?f+d:f)}return!1},L=function(t){var e=_(t);if(e){t.preventDefault(),h["default"].$emit("bv::hide::modal","ModalAlert"),h["default"].$emit("bv::hide::modal","ModalUserAlert");var n=t.target;n&&"A"!==n.tagName&&(n=n.closest("a"));var r=n.closest(".toast");r&&h["default"].$bvToast.hide(r.id),p["a"].push(e)}};e["d"]=T},ba6a:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"i",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"f",(function(){return l}));var r=n("b775"),s=function(t){var e=t.accessToken,n=t.tokenExpiration,s=t.refreshToken,a="".concat(r["b"],"/users/social/spotify");return r["d"].post(a,{accessToken:e,tokenExpiration:n,refreshToken:s}).then((function(t){return t.data}))},a=function(){var t="".concat(r["b"],"/users/social/spotify");return r["d"].delete(t).then((function(t){return t.data}))},i=function(t){var e;return e=t?"".concat(r["b"],"/users/").concat(t,"/social/spotify"):"".concat(r["b"],"/users/social/spotify"),r["d"].get(e).then((function(t){return t.data}))},o=function(){var t="".concat(r["b"],"/users/social/spotify/top");return r["d"].get(t).then((function(t){return t.data}))},c=function(){var t="".concat(r["b"],"/users/social/spotify/top/artists");return r["d"].get(t).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/users/social/spotify/artists");return r["d"].put(e,{topArtistsIds:t}).then((function(t){return t.data}))},d=function(){var t="".concat(r["b"],"/users/social/spotify/top/tracks");return r["d"].get(t).then((function(t){return t.data}))},f=function(t){var e="".concat(r["b"],"/users/social/spotify/anthem");return r["d"].put(e,{anthemId:t}).then((function(t){return t.data}))},l=function(t){var e=Object(r["c"])({query:t}),n="".concat(r["b"],"/users/social/spotify/search").concat(e);return r["d"].get(n).then((function(t){return t.data}))}},c34b:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f}));n("55dd");var r=n("b775"),s=function(t){var e="".concat(r["b"],"/promotions");return r["d"].post(e,t).then((function(t){return t.data}))},a=function(t){var e="".concat(r["b"],"/promotions/").concat(t,"/finish");return r["d"].post(e).then((function(t){return t.data}))},i=function(t){var e="".concat(r["b"],"/promotions/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},o=function(t){var e="".concat(r["b"],"/promotions/invite");return r["d"].post(e,t).then((function(t){return t.data}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=void 0===e?r["e"]:e,s=t.offset,a=void 0===s?0:s,i=t.query,o=t.sort,c=t.field,u=(t.type,t.filter),d=Object(r["c"])({type:"split",limit:n,offset:a,query:i,sort:o,field:c,filter:u}),f="".concat(r["b"],"/promotions/offers").concat(d);return r["d"].get(f).then((function(t){return t.data}))},u=function(){var t="".concat(r["b"],"/promotions/offers");return r["d"].delete(t).then((function(t){return t.data}))},d=function(t){var e="".concat(r["b"],"/promotions/offer/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},f=function(){var t="".concat(r["b"],"/promotions/offers/hide");return r["d"].post(t).then((function(t){return t.data}))}},c393:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"stream-new-like",style:{left:t.left+"px",top:t.top}},[n("svg",{staticClass:"g-icon",style:{left:t.iconLeft+"px"},attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icon-like"}})])])},s=[],a=(n("c5f6"),{name:"StreamingLike",props:{startLeft:{type:Number,required:!0},startTop:{type:[String,Number],required:!0}},data:function(){return{left:this.startLeft,top:isNaN(this.startTop)?this.startTop:this.startTop+"px",iconLeft:0}},computed:{},mounted:function(){this.animate()},destroyed:function(){cancelAnimationFrame(this.animationId)},methods:{animate:function(){var t=this;setTimeout((function(){t.animationId=requestAnimationFrame(t.animate)}),1e3/30),this.iconLeft+=this.getRandomInt(-3,4)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t))+t}}}),i=a,o=n("2877"),c=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=c.exports},c483:function(t,e,n){"use strict";function r(t){var e=new window.Hammer(t,{domEvents:!0});return e.get("rotate").set({enable:!0}),e}e["a"]=r},c785:function(t,e,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("c5f6"),n("96cf");var r=n("3b8d"),s=n("bd86"),a=n("d634");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]={computed:o(o(o({},Object(a["b"])(["authUser"])),Object(a["Ob"])(["getUser","findUserByUserName"])),Object(a["Eb"])(["getSubscriber"])),methods:o(o(o({},Object(a["Sb"])(["setModalUser"])),Object(a["Db"])(["fetchSubscriber"])),{},{maybeOpenCard:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.route,r=void 0===n?null:n,s=e.userId,!this.authUser||!this.authUser.activeHelperAccess){t.next=3;break}return t.abrupt("return");case 3:if(this.authUser.isPerformer){t.next=6;break}return r&&this.$router.push(r),t.abrupt("return");case 6:if(a=Number(s)!=s?this.findUserByUserName(s):this.getUser(s),a){t.next=19;break}return t.prev=8,window.showPreloader(),t.next=12,this.fetchSubscriber(s);case 12:window.hidePreloader(),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](8),r&&this.$router.push(r);case 18:a=Number(s)!=s?this.findUserByUserName(s):this.getUser(s);case 19:if(!a){t.next=34;break}if(i=this.getSubscriber(a.id),!(i||a.subscribedOn||a.subscribedOnExpiredNow)){t.next=31;break}if(i&&void 0!==a.promoOffers){t.next=27;break}return window.showPreloader(),t.next=26,this.fetchSubscriber(a.id);case 26:window.hidePreloader();case 27:i=this.getSubscriber(a.id),i?(this.setModalUser({userId:a.id}),this.$nextTick((function(){o.$root.$emit("bv::show::modal","ModalSubscribersItem")}))):r&&this.$router.push(r),t.next=32;break;case 31:r&&this.$router.push(r);case 32:t.next=35;break;case 34:r&&this.$router.push(r);case 35:case"end":return t.stop()}}),t,this,[[8,15]])})));function e(e){return t.apply(this,arguments)}return e}()})}},c7d4:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return f})),n.d(e,"getters",(function(){return l})),n.d(e,"mutations",(function(){return m})),n.d(e,"actions",(function(){return p}));n("96cf");var r=n("3b8d"),s=n("5e23"),a=n("559d"),i=n("3786"),o=n("2612"),c=n("56d7"),u=(n("709f"),function(){return{user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0}}),d=function(){try{var t=c["default"].$cookie.get("ref",{domain:".".concat("onlyfans.com")});t&&c["default"].$cookie.delete("ref",{domain:".".concat("onlyfans.com")});var e=c["default"].$cookie.get("ref_src",{domain:".".concat("onlyfans.com")});e&&c["default"].$cookie.delete("ref_src",{domain:".".concat("onlyfans.com")})}catch(n){}},f=u(),l={authUser:function(t,e,n){var r=t.user;return r?n.users.items[r]:{}},authUserNotificationsCount:function(t,e,n){var r=t.user;return r?n.users.items[r].notificationsCount:0},authUserId:function(t){return t.user},isAuth:function(t){return!!t.user},subscriptionInitiated:function(t){return t.subscriptionInitiated},isLogin:function(t){return t.isLogin}},m={setAuthUser:function(t,e){t.user=e},setLogoutInProgress:function(t,e){t.logoutInProgress=e},setSubscriptionInitiated:function(t,e){t.subscriptionInitiated=e},setIsLogin:function(t,e){t.isLogin=e},logout:function(t){c["default"].$emit("signout_success"),Object.assign(t,u())}},p={login:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch,t.next=3,Object(i["b"])(n);case 3:return r=t.sent,d(),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),loginAsReferral:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch,t.next=3,Object(i["c"])(n);case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),logoutFromReferral:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch,t.next=3,Object(i["d"])();case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),reqLogout:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("setLogoutInProgress",!0),t.next=4,Object(i["f"])();case 4:return r=t.sent,n("setAuthUser",null),n("init/setInitAuth",!1,{root:!0}),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dispatch,t.next=3,Object(i["e"])(n);case 3:return r=t.sent,d(),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),aboutCustomer:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(o["p"])();case 3:r=t.sent,i=Object(s["a"])(r,a["y"]),n("set",i,{root:!0}),n("setAuthUser",r.id);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),aboutMe:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,Object(o["q"])();case 3:r=t.sent,i=Object(s["a"])(r,a["y"]),n("set",i,{root:!0});case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fetchUserMe:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dispatch,r=e.state,s=e.rootState,t.prev=1,t.next=4,n("aboutCustomer");case 4:if(a=r.user,!a||!s.users.items[a].isPerformer){t.next=8;break}return t.next=8,n("aboutMe");case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),t.t0&&(401===t.t0.status||t.t0.data&&t.t0.data.error&&101===t.t0.data.error.code)||Sentry.captureException(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e){return t.apply(this,arguments)}return e}()}},caa2:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return m})),n.d(e,"getters",(function(){return p})),n.d(e,"mutations",(function(){return h})),n.d(e,"actions",(function(){return b}));n("8e6e"),n("456d"),n("96cf");var r=n("3b8d"),s=n("bd86"),a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("5e23"),o=n("559d"),c=n("1cf1"),u=n("09e4");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(){return{items:{},itemIds:[],loading:!1,count:null}},m=l(),p={subscribes:function(t){return t.itemIds.map((function(e){return t.items[e]})).filter((function(t){return void 0!==t}))},subscribesCount:function(t){return t.count},getSubscribe:function(t){return function(e){return t.items[e]}},isLoading:function(t){return t.loading}},h={setLoading:function(t,e){t.loading=e},setSubscribes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.itemIds,r=void 0===n?[]:n,s=e.more,i=void 0!==s&&s;t.itemIds=i?Object(a["a"])(new Set([].concat(Object(a["a"])(t.itemIds),Object(a["a"])(r)))):Object(a["a"])(r)},setSubscribesCount:function(t,e){t.count=e},setSubscribeField:function(t,e){var n=e.id,r=e.field,s=e.status,a={};a[r]=s,t.items[n]=f(f({},t.items[n]),a)},removeSubscribe:function(t,e){t.itemIds=t.itemIds.filter((function(t){return t!==e}))},logout:function(t){Object.assign(t,l())}},b={fetchSubscribes:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},n("setLoading",!0),s=r.more,delete r.more,s||n("setSubscribes"),t.prev=6,t.t0=i["a"],t.next=10,Object(c["i"])(r);case 10:return t.t1=t.sent,t.t2=o["x"],a=(0,t.t0)(t.t1,t.t2),u=a.result,n("set",a,{root:!0}),n("setSubscribes",{itemIds:u,more:s}),n("setLoading",!1),t.abrupt("return",u);case 20:return t.prev=20,t.t3=t["catch"](6),n("setLoading",!1),t.abrupt("return",[]);case 24:case"end":return t.stop()}}),t,null,[[6,20]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchSubscribesCount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=a.length>1&&void 0!==a[1]?a[1]:{},n("setSubscribesCount",null),t.prev=3,t.next=6,Object(c["j"])(r);case 6:s=t.sent,s&&void 0!==s.count&&n("setSubscribesCount",s.count),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:case"end":return t.stop()}}),t,null,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}(),autoprolongToggle:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,d,f,l,m,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.id,d=n.force,f=void 0!==d&&d,t.prev=2,m=s.items[a]||{},p="on"===f||(!m.renewedAt&&m.subscribePrice>0||m.subscribePrice>Math.max(m.newPrice,m.price))&&"off"!==f,t.next=7,Object(c["a"])({id:a,on:p});case 7:l=t.sent,l&&l.id&&(h=Object(i["a"])(l,o["y"]),r("set",h,{root:!0})),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),Object(u["b"])(t.t0);case 14:return t.abrupt("return",l);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));function e(e,n){return t.apply(this,arguments)}return e}(),updateSubscribe:function(t,e){var n=t.commit,r=Object(i["a"])(e,o["y"]);n("set",r,{root:!0})}}},cc4e:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return S})),n.d(e,"getters",(function(){return k})),n.d(e,"mutations",(function(){return x})),n.d(e,"actions",(function(){return P}));n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("8e6e"),n("a481"),n("c5f6"),n("7f7f"),n("96cf");var r=n("3b8d"),s=(n("7514"),n("bd86")),a=n("75fc"),i=(n("456d"),n("ac6a"),n("8615"),n("73be")),o=n("5e23"),c=n("559d"),u=n("a125"),d=n.n(u),f=n("1a1d"),l=n("2612"),m=n("56d7"),p=n("d931"),h=n("8975");function b(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,s=function(){};return{s:s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){o=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}function g(t,e){if(t){if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w=function(){return{type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isOpened:!0,canJoin:!1,isShowTips:!1,tipsSumm:0,showCoStreamingRequest:!1},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},streamState:"beforeStart",streamStopped:!1,videoPlaying:!1,volume:1,stretchVideo:!1,tipGoal:{isShowTipGoal:!1,sum:0,progress:0,description:"",showTipGoalProgress:!1}}},j=function(){return{mode:"",maxStreams:2,streams:{},streamsIds:[],primaryInstance:null,timer:"0:00",comments:[],commentsCount:[],likes:[],likesCount:0,viewers:{},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1}}},S=j(),k={mode:function(t){return t.mode},streams:function(t){return t.streams},streamsIds:function(t){return t.streamsIds},primary:function(t){return t.streams[t.primaryInstance]},primaryInstance:function(t){return t.primaryInstance},partners:function(t){return Object.values(t.streams).filter((function(e){return e.user.id!=t.primaryInstance}))},partner:function(t,e){return e.partners[0]},partner2:function(t,e){return e.partners[1]},partner3:function(t,e){return e.partners[2]},canJoinCoStream:function(t){return Object.keys(t.streams).length<t.maxStreams},comments:function(t){return t.comments},commentsCount:function(t){return t.comments.length},likes:function(t){return t.likes},likesCount:function(t){return t.likesCount},streamDescription:function(t,e){return e.primary?e.primary.stream.description:""},viewers:function(t){return t.viewers},totalViewers:function(t){return t.totalViewers},switchToDualStreaming:function(t){return t.switchToDualStreaming},primaryMovedToPartner:function(t){return t.primaryMovedToPartner},UI:function(t){return t.UI},timer:function(t){return t.timer},privateCommentUser:function(t){return t.privateCommentUser}},x={setMode:function(t,e){t.mode=e},setPrimaryInstance:function(t,e){t.primaryInstance=e},setStream:function(t,e){var n=e.stream,r=e.instance;r=r||t.primaryInstance,t.streams[r]||(m["default"].$set(t.streams,r,w()),t.streamsIds=[].concat(Object(a["a"])(t.streamsIds),[r])),t.streams[r]=O(O({},t.streams[r]),n)},setStreamStream:function(t,e){var n=e.stream,r=e.instance;r=r||t.primaryInstance,t.streams[r]||(m["default"].$set(t.streams,r,w()),t.streamsIds=[].concat(Object(a["a"])(t.streamsIds),[r])),t.streams[r].stream=O(O({},t.streams[r].stream),n)},setStreamUser:function(t,e){var n=e.user,r=e.instance;r=r||t.primaryInstance,t.streams[r]||(m["default"].$set(t.streams,r,w()),t.streamsIds=[].concat(Object(a["a"])(t.streamsIds),[r])),t.streams[r].user=O(O({},t.streams[r].user),n)},removeStream:function(t,e){t.streams[e]&&(t.streams[e]=null,delete t.streams[e],t.streams=O({},t.streams),t.streamsIds=t.streamsIds.filter((function(t){return t!=e})))},addComment:function(t,e){t.comments=[].concat(Object(a["a"])(t.comments),[e])},removeComment:function(t,e){e>0&&(t.comments=t.comments.filter((function(t){return t.id!=e})))},addLike:function(t,e){e.id=t.likesCount;var n=Object(a["a"])(Object.keys(t.streams));n.find((function(t){return t==e.streamUserId}))&&(t.likes=[].concat(Object(a["a"])(t.likes),[e]),t.likesCount++)},removeLike:function(t,e){t.likes=t.likes.filter((function(t){return t.id!=e.id}))},setTimer:function(t,e){t.timer=e},addViewer:function(t,e){t.viewers[e.id]=e},removeViewer:function(t,e){delete t.viewers[e.id],t.viewers=O({},t.viewers)},setTotalViewers:function(t,e){t.totalViewers=e||0},setStreamState:function(t,e){var n=e.value,r=e.instance;r=r||t.primaryInstance,t.streams[r]&&(t.streams[r].streamState=n)},setStreamStopped:function(t,e){var n=e.value,r=e.instance;r=r||t.primaryInstance,t.streams[r].streamStopped=n},setStreamDescription:function(t,e){var n=e.value,r=e.instance;r=r||t.primaryInstance,t.streams[r].stream.description=n},setStreamVideoPlaying:function(t,e){var n=e.value,r=e.instance;r=r||t.primaryInstance,t.streams[r].videoPlaying=n},setStreamVolume:function(t,e){var n=e.volume,r=e.instance;r=r||t.primaryInstance,t.streams[r].volume=n,m["default"].$root.$emit("live:volume",{volume:n,instance:r})},setStreamStretchVideo:function(t,e){var n=e.stretchVideo,r=e.instance;r=r||t.primaryInstance,t.streams[r].stretchVideo=n},setTipGoal:function(t,e){var n=e.data,r=e.instance;r=r||t.primaryInstance,t.streams[r].tipGoal=O(O({},t.streams[r].tipGoal),n)},setPrivateCommentUser:function(t,e){t.privateCommentUser=e?O({},e):null},setUI:function(t,e){t.UI=O(O({},t.UI),e)},setStreamUI:function(t,e){var n=e.UI,r=e.instance;r=r||t.primaryInstance,t.streams[r].UI=O(O({},t.streams[r].UI),n)},setSwitchToDualStreaming:function(t,e){t.switchToDualStreaming=e},setPrimaryMovedToPartner:function(t,e){t.primaryMovedToPartner=e},setDefaultState:function(t){Object.assign(t,j())},logout:function(t){Object.assign(t,j())}},P={createViewModules:function(t){var e=t.state,n=t.dispatch;for(var r in e.streams)n("createViewModule",r)},createViewModule:function(t,e){var n=t.state;t.commit;e=e||n.primaryInstance,window.viewModule||(window.viewModule={}),window.viewModule[e]||(window.viewModule[e]=new i["a"])},destroy:function(t){var e=t.state,n=(t.getters,t.commit);if(!e.switchToDualStreaming){for(var r in e.streams)Object(p["b"])(r),n("removeStream",r);delete window.viewModule}n("setDefaultState")},stopAll:function(){for(var t in k.partners)Object(p["e"])(t.user.id);S.switchToDualStreaming||Object(p["e"])(S.primaryInstance)},getUserStreamDataAndInit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,s=e.commit,t.next=3,Object(l["L"])(n);case 3:return a=t.sent,t.next=6,Object(f["j"])(a.id);case 6:if(i=t.sent,u=Object(o["a"])(a,c["y"]),s("set",u,{root:!0}),0!=i.id){t.next=11;break}throw Error("Stream not found");case 11:r("setStreamData",i);case 12:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),setUserStreamData:function(t,e){var n=t.state,r=t.commit,s=e.user.id;r("setStreamStream",{stream:{id:e.id,thumbUrl:e.thumbUrl,description:e.description,rawDescription:e.rawDescription,startedAt:e.startedAt,isOpened:e.isOpened,canJoin:e.canJoin,tipsSumm:e.tipsSumm,isShowTips:e.isShowTips,showCoStreamingRequest:e.showCoStreamingRequest},instance:s});var a=Object(o["a"])(e.user,c["y"]);r("set",a,{root:!0}),r("setStreamUser",{user:{id:e.user.id,name:Object(h["b"])(e.user.name),username:e.user.username,displayName:e.user.displayName,isVerified:e.user.isVerified,tipsEnabled:e.user.tipsEnabled,subscribedBy:e.user.subscribedBy,canEarn:e.user.canEarn,isPerformer:e.user.isPerformer,avatar:e.user.avatar,avatarThumbs:e.user.avatarThumbs},instance:s});var i={isShowTipGoal:!!e.isShowTipsGoal,sum:+e.tipsGoalSum,progress:+e.tipsGoalProgress,description:e.tipsGoal};i.isShowTipGoal?n.streams[s].tipGoal.isShowTipGoal&&i.sum==n.streams[s].tipGoal.sum&&i.description==n.streams[s].tipGoal.description||(i.showTipGoalProgress=!0):i.showTipGoalProgress=!1,r("setTipGoal",{data:i,instance:s})},setStreamData:function(t){var e=t.state,n=t.getters,r=t.commit,s=t.dispatch,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="";n.primary&&(i=n.primary.stream.rawDescription),s("setUserStreamData",a);var o=d()(e.streamsIds,[a.user.id,a.partners.map((function(t){return t.user.id}))],Number);o.forEach((function(t){Object(p["b"])(t),r("removeStream",t)})),a.partners&&a.partners.length?(a.partners.forEach((function(t){s("setUserStreamData",t)})),e.streamsIds.filter((function(t){return a.partners})),a.primaryPartnerUserId?(a.primaryPartnerUserId=Number(a.primaryPartnerUserId),e.primaryInstance&&e.primaryInstance!=a.primaryPartnerUserId&&r("setPrimaryMovedToPartner",!0),r("setPrimaryInstance",a.primaryPartnerUserId)):r("setPrimaryInstance",a.user.id),r("setMode","dual-live")):(r("setPrimaryInstance",a.user.id),r("setMode","live")),n.primary.stream.rawDescription?i!==n.primary.stream.rawDescription&&r("setUI",{showStreamDescription:!0}):r("setUI",{showStreamDescription:!1})},addComment:function(t,e){var n=t.commit;n("addComment",e)},addTipsComment:function(t,e){var n=t.state,r=t.commit,s=t.rootGetters,a=Object.values(n.streams).find((function(t){return t.user.id===Number(e.stream_user_id)}));if(a){var i=Object(p["c"])({vm:m["default"],authUser:s["auth/authUser"],fromUser:e.from_user,toUser:a.user,amount:e.amount_human,message:e.message});i&&r("addComment",{id:e.id,text:i,user:e.from_user})}},addLike:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.commit,r("addLike",n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),switchToDualStreaming:function(t){var e=t.state,n=t.getters,r=t.commit,s=t.dispatch;r("setSwitchToDualStreaming",!0),s("streaming/doSwitchFromLive",{livePrimary:n.primary,partners:n.partners,comments:e.comments,UI:{showCommentForm:e.UI.showCommentForm,commentsViewMode:e.UI.commentsViewMode,showStreamDescription:e.UI.showStreamDescription}},{root:!0}),m["default"].$router.replace({name:"Streaming",params:{switchFromLive:!0}})},toggleCommentsViewMode:function(t){var e=t.state,n=t.commit,r="full"===e.UI.commentsViewMode?"compact":"full";n("setUI",{commentsViewMode:r})},setTipGoal:function(t,e){var n=t.commit,r=e.data,s=e.instance;n("setTipGoal",{data:r,instance:s})},updateLiveUser:function(t,e){var n=t.state,r=t.commit,s=Object.keys(n.streams).find((function(t){return t==e.id}));s&&r("setStreamUser",{user:{tipsEnabled:e.tipsEnabled,subscribedBy:e.subscribedBy},instance:s})},joinUser:function(t,e){var n=t.commit;n("addViewer",e)},leaveUser:function(t,e){var n=t.commit;n("removeViewer",e)},showStreamingViewersModal:function(t){var e=t.commit;e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress:function(t,e){var n,r=t.state,s=t.commit,a=b(r.streamsIds);try{for(a.s();!(n=a.n()).done;){var i=n.value;s("setTipGoal",{data:{showTipGoalProgress:e},instance:i})}}catch(o){a.e(o)}finally{a.f()}}}},d3e9:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"getters",(function(){return c})),n.d(e,"mutations",(function(){return u}));n("8e6e"),n("ac6a"),n("456d");var r=n("bd86");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var i=function(){return{route:{from:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}},to:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}}}}},o=i(),c={route:function(t){return t.route||i()}},u={setRoute:function(t,e){t.route=a({},e)},logout:function(t){}}},d634:function(t,e,n){"use strict";n.d(e,"Tb",(function(){return c})),n.d(e,"Ob",(function(){return u})),n.d(e,"Sb",(function(){return d})),n.d(e,"Nb",(function(){return f})),n.d(e,"T",(function(){return l})),n.d(e,"U",(function(){return m})),n.d(e,"S",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"l",(function(){return b})),n.d(e,"A",(function(){return g})),n.d(e,"B",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return w})),n.d(e,"hb",(function(){return j})),n.d(e,"ib",(function(){return S})),n.d(e,"j",(function(){return k})),n.d(e,"k",(function(){return x})),n.d(e,"i",(function(){return P})),n.d(e,"wb",(function(){return I})),n.d(e,"vb",(function(){return R})),n.d(e,"yb",(function(){return T})),n.d(e,"zb",(function(){return C})),n.d(e,"xb",(function(){return A})),n.d(e,"Bb",(function(){return E})),n.d(e,"Cb",(function(){return _})),n.d(e,"Ab",(function(){return L})),n.d(e,"gb",(function(){return U})),n.d(e,"eb",(function(){return M})),n.d(e,"fb",(function(){return D})),n.d(e,"db",(function(){return F})),n.d(e,"q",(function(){return N})),n.d(e,"r",(function(){return B})),n.d(e,"p",(function(){return q})),n.d(e,"Jb",(function(){return V})),n.d(e,"Kb",(function(){return H})),n.d(e,"Ib",(function(){return G})),n.d(e,"Eb",(function(){return $})),n.d(e,"Fb",(function(){return z})),n.d(e,"Db",(function(){return W})),n.d(e,"D",(function(){return X})),n.d(e,"E",(function(){return Y})),n.d(e,"C",(function(){return K})),n.d(e,"nb",(function(){return Q})),n.d(e,"ob",(function(){return J})),n.d(e,"mb",(function(){return Z})),n.d(e,"R",(function(){return tt})),n.d(e,"Q",(function(){return et})),n.d(e,"P",(function(){return nt})),n.d(e,"O",(function(){return rt})),n.d(e,"N",(function(){return st})),n.d(e,"Y",(function(){return at})),n.d(e,"X",(function(){return it})),n.d(e,"o",(function(){return ot})),n.d(e,"n",(function(){return ct})),n.d(e,"G",(function(){return ut})),n.d(e,"H",(function(){return dt})),n.d(e,"F",(function(){return ft})),n.d(e,"kb",(function(){return lt})),n.d(e,"lb",(function(){return mt})),n.d(e,"jb",(function(){return pt})),n.d(e,"e",(function(){return ht})),n.d(e,"f",(function(){return bt})),n.d(e,"d",(function(){return gt})),n.d(e,"qb",(function(){return vt})),n.d(e,"pb",(function(){return yt})),n.d(e,"rb",(function(){return Ot})),n.d(e,"h",(function(){return wt})),n.d(e,"g",(function(){return jt})),n.d(e,"Hb",(function(){return St})),n.d(e,"Gb",(function(){return kt})),n.d(e,"tb",(function(){return xt})),n.d(e,"ub",(function(){return Pt})),n.d(e,"sb",(function(){return It})),n.d(e,"t",(function(){return Rt})),n.d(e,"u",(function(){return Tt})),n.d(e,"s",(function(){return Ct})),n.d(e,"w",(function(){return At})),n.d(e,"x",(function(){return Et})),n.d(e,"v",(function(){return _t})),n.d(e,"Z",(function(){return Lt})),n.d(e,"Qb",(function(){return Ut})),n.d(e,"Rb",(function(){return Mt})),n.d(e,"Pb",(function(){return Dt})),n.d(e,"Mb",(function(){return Ft})),n.d(e,"Lb",(function(){return Nt})),n.d(e,"M",(function(){return Bt})),n.d(e,"L",(function(){return qt})),n.d(e,"W",(function(){return Vt})),n.d(e,"V",(function(){return Ht})),n.d(e,"J",(function(){return Gt})),n.d(e,"K",(function(){return $t})),n.d(e,"I",(function(){return zt})),n.d(e,"z",(function(){return Wt})),n.d(e,"y",(function(){return Xt})),n.d(e,"bb",(function(){return Yt})),n.d(e,"ab",(function(){return Kt})),n.d(e,"cb",(function(){return Qt}));n("8e6e"),n("ac6a"),n("456d");var r=n("75fc"),s=n("bd86"),a=n("2f62");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(t){return o({},Object(a["e"])("users",Object(r["a"])(t)))},u=function(t){return o({},Object(a["c"])("users",Object(r["a"])(t)))},d=function(t){return o({},Object(a["d"])("users",Object(r["a"])(t)))},f=function(t){return o({},Object(a["b"])("users",Object(r["a"])(t)))},l=function(t){return o({},Object(a["c"])("posts",Object(r["a"])(t)))},m=function(t){return o({},Object(a["d"])("posts",Object(r["a"])(t)))},p=function(t){return o({},Object(a["b"])("posts",Object(r["a"])(t)))},h=function(t){return o({},Object(a["c"])("comments",Object(r["a"])(t)))},b=function(t){return o({},Object(a["b"])("comments",Object(r["a"])(t)))},g=function(t){return o({},Object(a["c"])("modals",Object(r["a"])(t)))},v=function(t){return o({},Object(a["d"])("modals",Object(r["a"])(t)))},y=function(t){return o({},Object(a["c"])("auth",Object(r["a"])(t)))},O=function(t){return o({},Object(a["d"])("auth",Object(r["a"])(t)))},w=function(t){return o({},Object(a["b"])("auth",Object(r["a"])(t)))},j=function(t){return o({},Object(a["c"])("socket",Object(r["a"])(t)))},S=function(t){return o({},Object(a["d"])("socket",Object(r["a"])(t)))},k=function(t){return o({},Object(a["c"])("chats",Object(r["a"])(t)))},x=function(t){return o({},Object(a["d"])("chats",Object(r["a"])(t)))},P=function(t){return o({},Object(a["b"])("chats",Object(r["a"])(t)))},I=function(t){return o({},Object(a["c"])("streams",Object(r["a"])(t)))},R=function(t){return o({},Object(a["b"])("streams",Object(r["a"])(t)))},T=function(t){return o({},Object(a["c"])("streamsPast",Object(r["a"])(t)))},C=function(t){return o({},Object(a["d"])("streamsPast",Object(r["a"])(t)))},A=function(t){return o({},Object(a["b"])("streamsPast",Object(r["a"])(t)))},E=function(t){return o({},Object(a["c"])("streamsScheduled",Object(r["a"])(t)))},_=function(t){return o({},Object(a["d"])("streamsScheduled",Object(r["a"])(t)))},L=function(t){return o({},Object(a["b"])("streamsScheduled",Object(r["a"])(t)))},U=function(t){return o({},Object(a["e"])("settings",Object(r["a"])(t)))},M=function(t){return o({},Object(a["c"])("settings",Object(r["a"])(t)))},D=function(t){return o({},Object(a["d"])("settings",Object(r["a"])(t)))},F=function(t){return o({},Object(a["b"])("settings",Object(r["a"])(t)))},N=function(t){return o({},Object(a["c"])("init",Object(r["a"])(t)))},B=function(t){return o({},Object(a["d"])("init",Object(r["a"])(t)))},q=function(t){return o({},Object(a["b"])("init",Object(r["a"])(t)))},V=function(t){return o({},Object(a["c"])("subscribes",Object(r["a"])(t)))},H=function(t){return o({},Object(a["d"])("subscribes",Object(r["a"])(t)))},G=function(t){return o({},Object(a["b"])("subscribes",Object(r["a"])(t)))},$=function(t){return o({},Object(a["c"])("subscribers",Object(r["a"])(t)))},z=function(t){return o({},Object(a["d"])("subscribers",Object(r["a"])(t)))},W=function(t){return o({},Object(a["b"])("subscribers",Object(r["a"])(t)))},X=function(t){return o({},Object(a["c"])("offers",Object(r["a"])(t)))},Y=function(t){return o({},Object(a["d"])("offers",Object(r["a"])(t)))},K=function(t){return o({},Object(a["b"])("offers",Object(r["a"])(t)))},Q=function(t){return o({},Object(a["c"])("static",Object(r["a"])(t)))},J=function(t){return o({},Object(a["d"])("static",Object(r["a"])(t)))},Z=function(t){return o({},Object(a["b"])("static",Object(r["a"])(t)))},tt=function(t){return o({},Object(a["c"])("postStats",Object(r["a"])(t)))},et=function(t){return o({},Object(a["b"])("postStats",Object(r["a"])(t)))},nt=function(t){return o({},Object(a["b"])("postStatCollector",Object(r["a"])(t)))},rt=function(t){return o({},Object(a["c"])("postDraft",Object(r["a"])(t)))},st=function(t){return o({},Object(a["b"])("postDraft",Object(r["a"])(t)))},at=function(t){return o({},Object(a["c"])("referrals",Object(r["a"])(t)))},it=function(t){return o({},Object(a["b"])("referrals",Object(r["a"])(t)))},ot=function(t){return o({},Object(a["c"])("creditTransactions",Object(r["a"])(t)))},ct=function(t){return o({},Object(a["b"])("creditTransactions",Object(r["a"])(t)))},ut=function(t){return o({},Object(a["c"])("payments",Object(r["a"])(t)))},dt=function(t){return o({},Object(a["d"])("payments",Object(r["a"])(t)))},ft=function(t){return o({},Object(a["b"])("payments",Object(r["a"])(t)))},lt=function(t){return o({},Object(a["c"])("statements",Object(r["a"])(t)))},mt=function(t){return o({},Object(a["d"])("statements",Object(r["a"])(t)))},pt=function(t){return o({},Object(a["b"])("statements",Object(r["a"])(t)))},ht=function(t){return o({},Object(a["c"])("banking",Object(r["a"])(t)))},bt=function(t){return o({},Object(a["d"])("banking",Object(r["a"])(t)))},gt=function(t){return o({},Object(a["b"])("banking",Object(r["a"])(t)))},vt=function(t){return o({},Object(a["c"])("stories",Object(r["a"])(t)))},yt=function(t){return o({},Object(a["b"])("stories",Object(r["a"])(t)))},Ot=function(t){return o({},Object(a["d"])("stories",Object(r["a"])(t)))},wt=function(t){return o({},Object(a["c"])("bundles",Object(r["a"])(t)))},jt=function(t){return o({},Object(a["b"])("bundles",Object(r["a"])(t)))},St=function(t){return o({},Object(a["c"])("subscribersStat",Object(r["a"])(t)))},kt=function(t){return o({},Object(a["b"])("subscribersStat",Object(r["a"])(t)))},xt=function(t){return o({},Object(a["c"])("streaming",Object(r["a"])(t)))},Pt=function(t){return o({},Object(a["d"])("streaming",Object(r["a"])(t)))},It=function(t){return o({},Object(a["b"])("streaming",Object(r["a"])(t)))},Rt=function(t){return o({},Object(a["c"])("live",Object(r["a"])(t)))},Tt=function(t){return o({},Object(a["d"])("live",Object(r["a"])(t)))},Ct=function(t){return o({},Object(a["b"])("live",Object(r["a"])(t)))},At=function(t){return o({},Object(a["c"])("massMessagesStat",Object(r["a"])(t)))},Et=function(t){return o({},Object(a["d"])("massMessagesStat",Object(r["a"])(t)))},_t=function(t){return o({},Object(a["b"])("massMessagesStat",Object(r["a"])(t)))},Lt=function(t){return o({},Object(a["c"])("router",Object(r["a"])(t)))},Ut=function(t){return o({},Object(a["c"])("usersLists",Object(r["a"])(t)))},Mt=function(t){return o({},Object(a["d"])("usersLists",Object(r["a"])(t)))},Dt=function(t){return o({},Object(a["b"])("usersLists",Object(r["a"])(t)))},Ft=function(t){return o({},Object(a["c"])("lastPosts",Object(r["a"])(t)))},Nt=function(t){return o({},Object(a["b"])("lastPosts",Object(r["a"])(t)))},Bt=function(t){return o({},Object(a["e"])("photoSwipe",t))},qt=function(t){return o({},Object(a["d"])("photoSwipe",t))},Vt=function(t){return o({},Object(a["c"])("profileStats",Object(r["a"])(t)))},Ht=function(t){return o({},Object(a["b"])("profileStats",Object(r["a"])(t)))},Gt=function(t){return o({},Object(a["c"])("performerHelpers",Object(r["a"])(t)))},$t=function(t){return o({},Object(a["d"])("performerHelpers",Object(r["a"])(t)))},zt=function(t){return o({},Object(a["b"])("performerHelpers",Object(r["a"])(t)))},Wt=function(t){return o({},Object(a["c"])("mediaVault",Object(r["a"])(t)))},Xt=function(t){return o({},Object(a["b"])("mediaVault",Object(r["a"])(t)))},Yt=function(t){return o({},Object(a["c"])("scheduledMessage",Object(r["a"])(t)))},Kt=function(t){return o({},Object(a["b"])("scheduledMessage",Object(r["a"])(t)))},Qt=function(t){return o({},Object(a["d"])("scheduledMessage",Object(r["a"])(t)))}},d7bc:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return s})),n.d(e,"getters",(function(){return a})),n.d(e,"mutations",(function(){return o}));var r=function(){return{sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1},reportPostId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1},preloader:{isShow:!1}}},s=r(),a={isSidebarShow:function(t){return t.sidebar.isShow},isOtpModalShow:function(t){return t.otpModal.isShow},otpModalTitle:function(t){return t.otpModal.title},otpModalStrong:function(t){return t.otpModal.strong},reportType:function(t){return{type:t.reportType,postId:t.reportPostId}},alert:function(t){return t.alert},isPreloaderShow:function(t){return t.preloader.isShow}},i=function(t){t?(document.documentElement.classList.add("m-sidebar-visible"),window.disableBodyScroll(!0)):(document.documentElement.classList.remove("m-sidebar-visible"),window.enableBodyScroll(!0))},o={sidebarShow:function(t,e){t.sidebar.isShow=e,i(e)},sidebarToggle:function(t){t.sidebar.isShow=!t.sidebar.isShow;var e=t.sidebar.isShow;i(e)},otpModalShow:function(t,e){t.otpModal.isShow=e,e?document.body.classList.add("m-prevent-scrolling","modal-open"):document.body.classList.remove("m-prevent-scrolling","modal-open")},setOtpModalTitle:function(t,e){t.otpModal.title=e},setOtpModalStrong:function(t,e){t.otpModal.strong=e},setReportType:function(t,e){var n=e.type,r=e.postId;t.reportType=n,r&&(t.reportPostId=r)},setAlert:function(t,e){var n=e.title,r=e.text,s=e.html,a=void 0!==s&&s,i=e.onclose,o=void 0===i?null:i,c=e.buttons,u=void 0===c?[]:c,d=e.hideCloseBtn,f=void 0!==d&&d;t.alert={title:n,text:r,html:a,onclose:o,buttons:u,hideCloseBtn:f}},preloaderShow:function(t,e){t.preloader.isShow=e},logout:function(t){Object.assign(t,r())}}},d931:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return d}));n("7f7f");var r=n("c393"),s=n("2b0e"),a=s["default"].extend(r["a"]),i=function(){window.streamModule&&window.streamModule.stopStream(),delete window.streamModule},o=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];window.viewModule&&window.viewModule[t]&&(e&&c(t),delete window.viewModule[t])},c=function(t){if(window.viewModule){var e=window.viewModule[t];e&&e.isStreamStarted&&e.stopStream(!1,!0)}},u=function(t){var e,n=t.vm,r=t.authUser,s=(t.fromUser,t.toUser),a=t.amount,i=t.message;return e=r.id==s.id?n.$root.$i18n.t("message.stream_tip_comment",{SUMM:"<strong>"+a+"</strong> "}):n.$i18n.t("message.stream_tip_comment_customer",{SUMM:"<strong>"+a+"</strong> ",MODEL:s.name}),i&&(e+="<br>".concat(i.trim())),e},d=function(t){var e=document.getElementById("video_".concat(t.streamUserId)),n=document.getElementById("video_container_".concat(t.streamUserId));if(e&&n){var r,s,i=0,o="100%",c=e,u=c.videoWidth,d=c.videoHeight,f=d/u,l=c.offsetWidth,m=c.offsetHeight,p=m/l;f>p?(d=m,u=d/f):(u=l,d=u*f),r=t.x*u,s=t.y*d,r&&(i=r-25+(l-u)/2,o=s+40+(m-d)/2);var h=new a({propsData:{startLeft:i,startTop:o}});h.$mount(),n.appendChild(h.$el),setTimeout((function(){h.$destroy(),n&&n.removeChild(h.$el)}),1e3)}}},d954:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return f})),n.d(e,"getters",(function(){return l})),n.d(e,"mutations",(function(){return m})),n.d(e,"actions",(function(){return p}));n("8e6e"),n("ac6a"),n("456d");var r=n("7618"),s=(n("96cf"),n("3b8d")),a=n("bd86"),i=(n("c5f6"),n("75fc")),o=n("5892");function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=function(){return{items:[],loading:!1,error:!1,offset:0,hasMore:!0}},f=d(),l={posts:function(t){return t.items.filter((function(t){return!t.hidden}))},totalPosts:function(t){return t.items.length},hasPosts:function(t){return!!t.items.length},isPostsLoading:function(t){return t.loading},isPostsError:function(t){return t.error},hasMore:function(t){return t.hasMore}},m={setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setItems:function(t,e){t.items=e},addItems:function(t,e){t.items=[].concat(Object(i["a"])(t.items),Object(i["a"])(e))},setOffset:function(t,e){t.offset=Number(e)},setHasMore:function(t,e){t.hasMore=e},hideMediaVaultByIds:function(t,e){t.items=t.items.map((function(t){return-1!==e.indexOf(t.id)?u(u({},t),{},{hidden:!0}):t}))},logout:function(t){Object.assign(t,d())}},p={fetchMediaVaultByType:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,s,a,i,c,u,d,f,l,m,p,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,s=h.length>1&&void 0!==h[1]?h[1]:{},a=s.limit,i=void 0===a?100:a,c=s.offset,u=void 0===c?0:c,d=s.more,f=void 0!==d&&d,l=s.type,m=void 0===l?"":l,n("setLoading",!0),n("setHasMore",!1),f||n("setItems",[]),t.prev=5,t.next=8,Object(o["s"])({limit:i,offset:u,type:m});case 8:p=t.sent,t.next=16;break;case 11:return t.prev=11,t.t0=t["catch"](5),n("setLoading",!1),n("setHasMore",!1),t.abrupt("return",[]);case 16:if(p&&"object"===Object(r["a"])(p)&&p.list.length){t.next=20;break}return n("setLoading",!1),n("setHasMore",!1),t.abrupt("return",[]);case 20:return n(f?"addItems":"setItems",p.list),n("setHasMore",p.hasMore),n("setLoading",!1),t.abrupt("return",p);case 24:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e){return t.apply(this,arguments)}return e}(),hideMediaVaultByIds:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(o["u"])({ids:n});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](1);case 8:r("hideMediaVaultByIds",n);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));function e(e,n){return t.apply(this,arguments)}return e}(),resetMediaVault:function(t){var e=t.commit;e("logout")}}},dd6f:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return f})),n.d(e,"mutations",(function(){return l})),n.d(e,"actions",(function(){return m}));n("96cf");var r=n("3b8d"),s=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),a=n("5e23"),i=n("559d"),o=n("1960"),c=n("09e4"),u=function(){return{items:{},helperAccess:[],heplersIds:[],permissions:{}}},d=u(),f={helpersIds:function(t){return t.heplersIds},permissions:function(t){return t.permissions},getHelper:function(t){return function(e){return t.items[e]}},helperAccess:function(t){return function(e){return t.helperAccess[e]}}},l={setHelpers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.itemIds,r=void 0===n?[]:n,a=e.more,i=void 0!==a&&a;t.heplersIds=i?Object(s["a"])(new Set([].concat(Object(s["a"])(t.heplersIds),Object(s["a"])(r)))):r},setPermissions:function(t,e){t.permissions=e},removeHelper:function(t,e){t.heplersIds=t.heplersIds.filter((function(t){return t!==e})),delete t.items[e]},logout:function(t){Object.assign(t,u())}},m={getPerformerHelpers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,c,u,d,f=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=f.length>1&&void 0!==f[1]?f[1]:{},s=r.more,c=void 0!==s&&s,t.prev=2,c||n("setHelpers"),t.next=6,Object(o["b"])();case 6:u=t.sent,u&&u.length&&(d=Object(a["a"])(u,i["k"]),n("set",d,{root:!0}),n("setHelpers",{itemIds:d.result,more:c})),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](2);case 12:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e){return t.apply(this,arguments)}return e}(),getPerformerHelper:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(o["a"])(n);case 4:s=t.sent,s&&s.isValid&&(c=Object(a["a"])(s,i["j"]),r("set",c,{root:!0})),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),getPerformerHelpersPermissions:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(o["c"])();case 4:r=t.sent,r&&n("setPermissions",r),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),setPerformerHelper:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,u,d,f,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.userId,u=n.permissions,d=void 0===u?[]:u,t.prev=2,t.next=5,Object(o["f"])(s,d);case 5:f=t.sent,f&&f.isValid?(l=Object(a["a"])(f,i["j"]),r("set",l,{root:!0})):r("removeHelper",s),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(c["b"])(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},e2c7:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return f})),n.d(e,"mutations",(function(){return l})),n.d(e,"actions",(function(){return m}));var r=n("7618"),s=(n("96cf"),n("3b8d")),a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("5e23"),o=n("559d"),c=n("2612"),u=function(){return{itemIds:[],loading:!1,error:!1}},d=u(),f={posts:function(t,e,n){var r=n.posts.items;return t.itemIds.map((function(t){return r[t]}))},totalPosts:function(t){return t.itemIds.length},hasPosts:function(t){return!!t.itemIds.length},isLastPostsLoading:function(t){return t.loading},isPostsError:function(t){return t.error}},l={setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setItemIds:function(t,e){t.itemIds=Object(a["a"])(new Set(Object(a["a"])(e)))},logout:function(t){Object.assign(t,u())}},m={resetLastPosts:function(t){var e=t.commit;e("setLoading",!1),e("setError",!1),e("setItemIds",[])},fetchLastPosts:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var s,a,u,d,f,l,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.rootGetters,u=n.id,s("setLoading",!0),s("setItemIds",[]),d=a["users/usersToSkip"],t.prev=5,t.next=8,Object(c["y"])({id:u,limit:6,type:"photos",skip_users:d,only_can_view:1,pinned_sort:0});case 8:f=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t["catch"](5),s("setLoading",!1),t.abrupt("return",[]);case 15:if(f&&"object"===Object(r["a"])(f)&&f.length){t.next=18;break}return s("setLoading",!1),t.abrupt("return",[]);case 18:return l=Object(i["a"])(f,o["l"]),s("set",l,{root:!0}),m=l.result,s("setItemIds",m),s("setLoading",!1),t.abrupt("return",f);case 24:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},e66b:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showTextAvatar?n("div",{staticClass:"g-avatar__placeholder"},[t._v(" "+t._s(t.textAvatar)+" ")]):!t.src||t.showDefaultAvatar?n("div",{staticClass:"g-avatar__placeholder"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-profile",attrs:{"extra-class":"b-default-avatar"}})]):n("img",{attrs:{src:t.thumbSrc,alt:t.alt},on:{error:function(){t.showDefaultAvatar=!0}}})},s=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("6b54"),n("75fc")),i=(n("28a5"),n("7f7f"),n("bd86")),o=n("d634"),c=n("925c");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={data:function(){return{showDefaultAvatar:!1}},mixins:[c["a"]],props:{type:{type:String,default:"avatar"},size:{type:String,required:!0},user:{type:Object,required:!0}},computed:d(d({},Object(o["eb"])(["userLoginPrefix"])),{},{src:function(){return this.user.avatar},avatarThumbs:function(){return this.user.avatarThumbs},alt:function(){return this.user.name||this.user.username},showTextAvatar:function(){return!!this.user&&((null===this.user.avatar||""===this.user.avatar)&&(this.user.name!==this.userLoginPrefix+this.user.id||this.user.displayName)&&this.textAvatar.length)},textAvatar:function(){var t=2,e=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,n=this.user.displayName||this.user.name,r=[];if(n)for(var s=n.trim().split(/\s+/),i=0;i<Math.min(s.length,t);i+=1){var o=Object(a["a"])(s[i].toString().trim())[0];r.length<1?r.push(o.toUpperCase()):e.exec(r[0])||e.exec(o)||r.push(o.toUpperCase())}return r.join("")}})},l=f,m=n("2877"),p=Object(m["a"])(l,r,s,!1,null,null,null);e["a"]=p.exports},ebf6:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));n("7f7f");var r=n("b775"),s=n("c785");e["a"]={methods:{innerLinkToRouter:r["f"]}};var a={mixins:[s["a"]],methods:{innerLinkToCard:function(t){var e=Object(r["g"])(t);if(e){t.preventDefault(),this.$root.$emit("bv::hide::modal","ModalAlert");var n=t.target;n&&"A"!==n.tagName&&(n=n.closest("a"));var s=n.closest(".toast");s&&this.$root.$bvToast.hide(s.id);var a=this.$router.resolve(e),i=a.route;if("Profile"===i.name){var o=i.params.userId;this.maybeOpenCard({route:{name:"Profile",params:{userId:o}},userId:o})}else this.$router.push(e)}}}}},f05e:function(t,e,n){"use strict";n.d(e,"i",(function(){return o})),n.d(e,"l",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"f",(function(){return l})),n.d(e,"s",(function(){return m})),n.d(e,"q",(function(){return p})),n.d(e,"r",(function(){return h})),n.d(e,"o",(function(){return b})),n.d(e,"p",(function(){return g})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return O})),n.d(e,"j",(function(){return w})),n.d(e,"k",(function(){return j})),n.d(e,"m",(function(){return S})),n.d(e,"n",(function(){return k})),n.d(e,"e",(function(){return x}));var r=n("b775"),s=n("9b02"),a=n.n(s),i=n("4360"),o=function(){var t="".concat(r["b"],"/payments/3ds-js");return r["d"].get(t).then((function(t){return t.data}))},c=function(t){var e=t.paymentType,n=t.token,s=t.amount,a=t.text,i=t.userId,o=t.postId,c=t.storyId,u=t.streamId,d=t.messageId,f=t.tipSource,l=t.recommender,m=t.bundleId,p=t.kountSessId,h=t.subscribeSource,b=t.vat,g=t.isPrivate,v="".concat(r["b"],"/payments/pay");return r["d"].post(v,{paymentType:e,token:n,amount:s,text:a,userId:i,postId:o,storyId:c,streamId:u,messageId:d,tipSource:f,recommender:l,bundleId:m,kountSessId:p,subscribeSource:h,vat:b,isPrivate:g}).then((function(t){return t.data}))},u=function(t){var e="".concat(r["b"],"/payments/cards");return r["d"].post(e,t).then((function(t){return t.data}))},d=function(){var t="".concat(r["b"],"/payments/cards");return r["d"].get(t).then((function(t){return t.data}))},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.offset,s=Object(r["c"])({limit:e,offset:n}),a="".concat(r["b"],"/payments/transactions").concat(s);return r["d"].get(a).then((function(t){return t.data}))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.limit,n=t.offset,s=Object(r["c"])({limit:e,offset:n}),a="".concat(r["b"],"/payments/all/transactions").concat(s);return r["d"].get(a).then((function(t){return t.data}))},m=function(){var t="".concat(r["b"],"/payments/token/stripe");return r["d"].get(t).then((function(t){return t.data}))},p=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="".concat(r["b"],"/payments/token/ccbill");return t&&(e+="?isForce=1"),r["d"].get(e).then((function(t){return t.data}))},h=function(){var t="".concat(r["b"],"/payments/token/optile");return r["d"].get(t).then((function(t){return t.data}))},b=function(t){var e=i["a"].getters["init/getInit"],n=a()(e,"cards.inovio.proxyHost"),s="".concat(n?"https://".concat(n):"").concat(r["b"],"/payments/proxy/inovio");return r["d"].post(s,t).then((function(t){return t.data}))},g=function(t){var e="".concat(r["b"],"/payments/cards/").concat(t,"/default");return r["d"].put(e).then((function(t){return t.data}))},v=function(t){var e="".concat(r["b"],"/payments/cards/").concat(t);return r["d"].delete(e).then((function(t){return t.data}))},y=function(t){var e="".concat(r["b"],"/payments/scan-card");return r["d"].post(e,t).then((function(t){return t.data}))},O=function(t,e){var n="".concat(r["b"],"/payments/cards/").concat(t,"/verification");return r["d"].post(n,{zip:e}).then((function(t){return t.data}))},w=function(){var t="".concat(r["b"],"/alternative-payment-methods");return r["d"].get(t).then((function(t){return t.data}))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(r["c"])(t),n="".concat(r["b"],"/alternative-payment-methods/form").concat(e);return r["d"].get(n).then((function(t){return t.data}))},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="".concat(r["b"],"/alternative-payment-methods/form");return r["d"].post(e,t).then((function(t){return t.data}))},k=function(t){var e=t.id,n=t.amount,s="".concat(r["b"],"/alternative-payment-methods/pay");return r["d"].post(s,{id:e,amount:n}).then((function(t){return t.data}))},x=function(t){var e="".concat(r["b"],"/alternative-payment-methods");return r["d"].delete(e,{data:{id:t}}).then((function(t){return t.data}))}},f406:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return L})),n.d(e,"getters",(function(){return U})),n.d(e,"mutations",(function(){return M})),n.d(e,"actions",(function(){return D}));n("8e6e"),n("456d"),n("6762"),n("2fdb"),n("ac6a"),n("7f7f"),n("c5f6");var r=n("bd86"),s=(n("96cf"),n("3b8d")),a=n("5e23"),i=n("56d7"),o=n("559d"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-toast-body",on:{click:t.innerLinkToRouter}},[t.relatedUser?n("router-link",{staticClass:"g-avatar m-w36 m-border-line",attrs:{to:{name:"Profile",params:{userId:t.relatedUser.username}}}},[n("image-thumb",{attrs:{user:t.relatedUser,size:"c50"}})],1):t._e(),n("div",{staticClass:"text-wrap"},[t.relatedUser?n("div",{staticClass:"b-toast-username"},[n("router-link",{attrs:{to:{name:"Profile",params:{userId:t.relatedUser.username}}}},[n("span",{staticClass:"g-user-name"},[t._v(t._s(t._f("encodeHtml")(t.relatedUser.name)))]),n("span",{staticClass:"g-user-username"},[t._v("@"+t._s(t.relatedUser.username))])])],1):t._e(),n(t.toastTemplate,{tag:"component",attrs:{data:t.toast.data,text:t.toastText}})],1)],1)},u=[],d=(n("3b2b"),n("a481"),n("e66b")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-toast-text"},[n("span",{staticClass:"toast-text",domProps:{innerHTML:t._s(t.text)}})])},l=[],m={name:"DefaultToastTemplate",props:{text:{type:String,required:!0}}},p=m,h=n("2877"),b=Object(h["a"])(p,f,l,!1,null,null,null),g=b.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-toast-text"},[n("span",{staticClass:"toast-text",domProps:{innerHTML:t._s(t.text)}}),n("span",{staticClass:"toast-message-text",domProps:{innerHTML:t._s(t.data.replacements["{MESSAGE}"])}})])},y=[],O={name:"NewTrialToastTemplate",props:{data:{type:Object,required:!0},text:{type:String,required:!0}}},w=O,j=Object(h["a"])(w,v,y,!1,null,null,null),S=j.exports,k=n("ebf6"),x={name:"SocketToast",components:{ImageThumb:d["a"],DefaultToastTemplate:g,NewTrialToastTemplate:S},mixins:[k["a"]],props:{toast:{type:Object,default:function(){return{}}}},computed:{relatedUser:function(){return this.toast.data.relatedUser},toastText:function(){return this.getToastText(this.toast.data.template,this.toast.data.replacements)},toastTemplate:function(){var t=null;switch(this.toast.data.code){case"new_trial":t=S;break;default:t=g}return t}},methods:{getToastText:function(t,e){var n,r=0,s=[];t=t.trim();while((n=t.indexOf("{",r))>-1){var a=t.indexOf("}",n+1);if(a>-1){var i=t.substr(n,a-n+1);i.length>0&&(s.includes(i)||s.push(i)),r=a+1}else r=n+1}var o=t;return s.forEach((function(t){"undefined"!==typeof e[t]&&(o=o.replace(new RegExp(t,"gim"),e[t]))})),o}}},P=x,I=Object(h["a"])(P,c,u,!1,null,null,null),R=I.exports,T=n("709f");function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E,_=function(){return{isOpened:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0}},L=_(),U={socketOpened:function(t){return t.isOpened},socketConnected:function(t){return t.isConnected},countOnlineRequests:function(t){return t.countOnlineRequests}},M={SOCKET_ONOPEN:function(t){t.isOpened=!0},SOCKET_ONCLOSE:function(t){t.isOpened=!1,t.isConnected=!1},SOCKET_ONERROR:function(){},SOCKET_RECONNECT:function(){},SOCKET_RECONNECT_ERROR:function(t){t.reconnectError=!0},incCountOnlineRequests:function(t){t.countOnlineRequests+=1},decrCountOnlineRequests:function(t){t.countOnlineRequests-=1},socketSetConnected:function(t){t.countOnlineRequests=0,t.isConnected=!0},setToastsThrottle:function(t,e){t.toastsThrottle=e},logout:function(t){Object.assign(t,_())}},D={SOCKET_ONMESSAGE:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,c,u,d,f,l,m,p,h,b,g,v,y,O,w,j,S,k,x,P,I,C,_,L,U,M,D,F,N,B,q,V,H,G,$,z,W,X,Y,K,Q,J,Z,tt,et,nt,rt,st,at,it,ot,ct,ut,dt,ft,lt,mt,pt,ht,bt,gt,vt,yt,Ot,wt,jt,St,kt,xt,Pt,It,Rt,Tt,Ct,At,Et,_t,Lt,Ut,Mt,Dt,Ft,Nt;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.dispatch,c=e.rootState,u=e.rootGetters,d=e.state,!n||!n.data){t.next=172;break}f=n.data;try{l=JSON.parse(f)}catch(Bt){Sentry.captureException(Bt)}if(m=document.activeElement&&document.activeElement.tagName&&("INPUT"===document.activeElement.tagName&&"text"===document.activeElement.type||"TEXTAREA"===document.activeElement.tagName),!l){t.next=172;break}if("function"===typeof doPong&&doPong(l),p=u["auth/authUserId"],"undefined"!==typeof l.connected&&l.connected&&r("socketSetConnected"),"undefined"!==typeof l.online&&(r("users/setOnline",l.online,{root:!0}),r("decrCountOnlineRequests")),l.account_connect&&s("users/addConnectedAccount",{userData:{connectedUser:l.account_connect.user,canConnectOfAccount:l.account_connect.canConnect}},{root:!0}),l.account_disconnect&&r("users/removeConnectedAccount",{userId:p,accountId:l.account_disconnect.userId,userData:{canConnectOfAccount:l.account_disconnect.canConnect,success:!0}},{root:!0}),l.account_switch&&p!==l.account_switch.user_id&&l.account_switch.access_token===T["a"].getItem("accessToken")&&(window.showPreloader(),i["default"].$emit("removeAllBeforeUnloadListeners"),i["default"].$nextTick((function(){window.location.reload()}))),"undefined"!==typeof l.api2_chat_message&&(h=A({},l.api2_chat_message),h.id=Number(h.id),b=h.fromUser||h.toUser,b.id=Number(b.id),g=!!h.toUser,delete h.toUser,h.fromUser||(h.fromUser={id:p}),"Chat"===i["default"].$route.name&&i["default"].$route.params&&Number(i["default"].$route.params.chatId)===Number(b.id)&&(h.needMarkChatAsRead=!0),v=Object(a["a"])(h,o["c"]),r("set",v,{root:!0}),y=v.result,(!h.isFromQueue||h.isFromQueue&&Number(i["default"].$route.params.chatId)===Number(h.fromUser.id))&&r("chats/setChatMessages",{id:b.id,messageIds:y,add:!0,before:!1,ownMsg:g,isTip:h.isTip,isPerformer:c.users.items[c.auth.user].isPerformer,isSocket:!0},{root:!0}),r("chats/setChatTyping",{chatId:b.id,status:!1},{root:!0}),r("chats/setLastMessage",{chatId:b.id,messageId:y,ownMsg:g},{root:!0})),l.chat_queue_finish&&(i["default"].$root.$emit("updateChatsList"),i["default"].$root.$emit("update_queue")),l.chat_queue_update&&i["default"].$root.$emit("update_queue"),"undefined"!==typeof l.chat_messages&&r("users/setChatMessagesCount",{userId:c.auth.user,chatMessagesCount:l.chat_messages},{root:!0}),"undefined"!==typeof l.chat_message_delete&&r("chats/deleteMessageById",l.chat_message_delete,{root:!0}),"undefined"!==typeof l.messages&&r("users/setNotificationsCount",{userId:c.auth.user,notificationsCount:l.messages},{root:!0}),"undefined"!==typeof l.typing&&(E&&clearInterval(E),r("chats/setChatTyping",{chatId:l.typing.id,status:!0},{root:!0}),E=setTimeout((function(){r("chats/setChatTyping",{chatId:l.typing.id,status:!1},{root:!0})}),5e3)),"undefined"===typeof l.stream){t.next=27;break}return O=l,w=O.stream,("Profile"===i["default"].$route.name&&i["default"].$route.params.userId===w.user.username||"Feed"===i["default"].$route.name||"Queue"===i["default"].$route.name||"Purchased"===i["default"].$route.name||"Blurred"===i["default"].$route.name)&&s("streams/fetchUserStream",w.user.id,{root:!0}),w.user&&(j=Object(a["a"])(w.user,o["y"]),r("set",j,{root:!0})),w.partners&&w.partners.forEach((function(t){var e=Object(a["a"])(t.user,o["y"]);r("set",e,{root:!0})})),"StreamingChat"===i["default"].$route.name&&(S=u["streaming/local"],k=u["streaming/streamingChatEnabled"],S.stream.id||k||w.user.id!=p||s("streaming/enableStreamingChat",{streamId:w.id,userId:p},{root:!0})),t.abrupt("return");case 27:if("undefined"===typeof l.stream_update){t.next=36;break}return x=l,P=x.stream_update,u["streaming/mode"],I=u["live/streams"],I[P.user.id]&&(P.primaryStreamUserId==P.user.Id?s("live/setStreamData",P,{root:!0}):s("live/setUserStreamData",P,{root:!0})),C=u["streaming/local"],_=u["streaming/partners"],P.id==C.stream.id?s("streaming/setStreamData",P,{root:!0}):_[P.user.id]&&(L=P.primaryPartnerUserId==P.user.id?"primary":"partner",s("streaming/setPartnerUserStreamData",{instance:P.user.id,streamData:P,partnerType:L,applyTips:!0},{root:!0})),t.abrupt("return");case 36:if("undefined"===typeof l.stream_stop){t.next=46;break}return U=l.stream_stop,M=Number(U.stream_user_id),s("streams/removeStreamFromFeed",{userId:M},{root:!0}),r("users/setUserField",{userId:M,field:"hasStream",status:!1},{root:!0}),D=u["live/streams"],D[M]&&"ended"!==D[M].streamState&&r("live/setStreamStopped",{value:!0,instance:M},{root:!0}),F=u["streaming/streamingChatEnabled"],F&&M==p&&s("streaming/disableStreamingChat",{},{root:!0}),t.abrupt("return");case 46:if("undefined"===typeof l.stream_comment){t.next=62;break}N=l.stream_comment,B=u["streaming/local"],q=u["live/primary"],V=u["streaming/primary"],H=u["streaming/mode"]||u["live/mode"],G={id:N.comment_id,text:N.comment,user:N.user},t.t0=H,t.next="live"===t.t0||"dual-live"===t.t0?56:"streaming"===t.t0||"dual-streaming"===t.t0?58:60;break;case 56:return N.stream_user_id==q.user.id&&s("live/addComment",G,{root:!0}),t.abrupt("break",61);case 58:return B.stream.id&&N.stream_user_id==V.user.id&&s("streaming/addComment",G,{root:!0}),t.abrupt("break",61);case 60:return t.abrupt("break",61);case 61:return t.abrupt("return");case 62:if("undefined"===typeof l.stream_comment_error){t.next=73;break}$=l.stream_comment_error,t.t1=$.errorType,t.next="bad_words"===t.t1?67:"empty_comment"===t.t1?69:71;break;case 67:return i["default"].$bvToast.toast(i["default"].$root.$i18n.t("message.stream_comment_error_restricted_message",{WORDS:$.badWords.join(", ")}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"}),t.abrupt("break",72);case 69:return i["default"].$bvToast.toast(i["default"].$root.$i18n.t("message.stream_comment_error_empty_message"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"}),t.abrupt("break",72);case 71:return t.abrupt("break",72);case 72:return t.abrupt("return");case 73:if("undefined"===typeof l.stream_tips){t.next=97;break}if(z=l,W=z.stream_tips,W.stream_user_id=Number(W.stream_user_id),W.stream_id=Number(W.stream_id),["Streaming","Live","StreamingChat"].includes(i["default"].$route.name)){t.next=80;break}return t.abrupt("return");case 80:if(W.amount){t.next=82;break}return t.abrupt("return");case 82:X=u["streaming/local"],Y=u["streaming/mode"]||u["live/mode"],t.t2=Y,t.next="live"===t.t2||"dual-live"===t.t2?87:"streaming"===t.t2?90:"dual-streaming"===t.t2?92:95;break;case 87:return K=u["live/streams"],K[W.stream_user_id]&&(z.is_show_tips&&r("live/setStreamStream",{stream:{tipsSumm:Number(z.tips_summ)},instance:W.stream_user_id},{root:!0}),s("live/addTipsComment",W,{root:!0}),+z.is_show_tips_goal&&s("live/setTipGoal",{data:{isShowTipGoal:!!+z.is_show_tips_goal,description:z.tips_goal,progress:+z.tips_goal_progress,sum:+z.tips_goal_sum},instance:W.stream_user_id},{root:!0})),t.abrupt("break",96);case 90:return X.stream.id==W.stream_id&&X.user.id==p&&(s("streaming/addTips",W,{root:!0}),X.stream.id==W.stream_id&&r("streaming/setLocalStream",{tipsSumm:Number(z.tips_summ)},{root:!0}),r("streaming/setTipGoal",{isShowTipGoal:!!+z.is_show_tips_goal,sum:+z.tips_goal_sum,progress:+z.tips_goal_progress,description:z.tips_goal},{root:!0})),t.abrupt("break",96);case 92:return K=u["streaming/streams"],K[W.stream_user_id]&&(s("streaming/addTips",W,{root:!0}),X.stream.id==W.stream_id?(r("streaming/setLocalStream",{tipsSumm:Number(z.tips_summ)||+z.tips_goal_progress},{root:!0}),r("streaming/setTipGoal",{isShowTipGoal:!!+z.is_show_tips_goal,sum:+z.tips_goal_sum,progress:+z.tips_goal_progress,description:z.tips_goal},{root:!0})):(r("streaming/setPartnerStream",{stream:{tipsSumm:Number(z.tips_summ)||+z.tips_goal_progress},instance:W.stream_user_id},{root:!0}),+z.tips_goal_sum>0&&r("streaming/setPartnerTipGoal",{data:{isShowTipGoal:!!+z.is_show_tips_goal,sum:+z.tips_goal_sum,progress:+z.tips_goal_progress,description:z.tips_goal},instance:W.stream_user_id},{root:!0}))),t.abrupt("break",96);case 95:return t.abrupt("break",96);case 96:return t.abrupt("return");case 97:if("undefined"===typeof l.stream_look){t.next=115;break}Q=l,J=Q.stream_look,Z=u["streaming/mode"]||u["live/mode"],t.t3=Z,t.next="live"===t.t3||"dual-live"===t.t3?103:"streaming"===t.t3||"dual-streaming"===t.t3?109:114;break;case 103:if(tt=u["live/primary"],tt&&tt.user.id==J.stream_user_id){t.next=106;break}return t.abrupt("return");case 106:return s("live/joinUser",J.user,{root:!0}),r("live/setTotalViewers",J.total,{root:!0}),t.abrupt("break",114);case 109:if(et=u["streaming/local"],J.stream_user_id==et.user.id){t.next=112;break}return t.abrupt("return");case 112:return J.user.id!=et.user.id&&s("streaming/joinUser",J.user,{root:!0}),t.abrupt("break",114);case 114:return t.abrupt("return");case 115:if("undefined"===typeof l.stream_unlook){t.next=133;break}nt=l,rt=nt.stream_unlook,st=u["streaming/mode"]||u["live/mode"],t.t4=st,t.next="live"===t.t4||"dual-live"===t.t4?121:"streaming"===t.t4||"dual-streaming"===t.t4?127:132;break;case 121:if(at=u["live/primary"],at&&at.id==rt.stream_user_id){t.next=124;break}return t.abrupt("return");case 124:return s("live/leaveUser",stream_look.user,{root:!0}),at.user.id==rt.stream_user_id&&r("live/setTotalViewers",rt.total),t.abrupt("break",132);case 127:if(it=u["streaming/local"],rt.stream_user_id==it.user.id){t.next=130;break}return t.abrupt("return");case 130:return rt.user.id!=it.user.id&&s("streaming/leaveUser",rt.user,{root:!0}),t.abrupt("break",132);case 132:return t.abrupt("return");case 133:if("undefined"!==typeof l.stream_like&&(ot=l,ct=ot.stream_like,ut=u["streaming/local"],dt=u["live/primary"],ut.stream.id&&s("streaming/addLike",{x:ct.x,y:ct.y,streamUserId:Number(ct.stream_user_id)},{root:!0}),dt&&s("live/addLike",{x:ct.x,y:ct.y,streamUserId:Number(ct.stream_user_id)},{root:!0})),"undefined"!==typeof l.co_stream&&(ft=l.co_stream,"request"===ft.status&&(lt=u["streaming/local"],mt=u["streaming/viewers"],pt=mt[ft.userId],pt&&ft.streamId==lt.stream.id&&i["default"].$root.$emit("show:co-stream:request",{user:pt,streamId:lt.stream.id})),"accept"===ft.status&&(ht=u["live/primary"],ht.stream.id===Number(ft.streamId)&&ht.user.id===Number(ft.userId)&&s("live/switchToDualStreaming",{},{root:!0})),"decline"===ft.status&&(bt=ft.streamId,gt=ft.userId,i["default"].$root.$emit("show:co-stream:decline",{userId:gt,streamId:bt}))),"undefined"!==typeof l.muted&&(vt=l.muted.user_id,yt=l.muted.state,Ot=Number(yt),r("chats/setMuted",{id:vt,status:Ot},{root:!0}),r("users/setUserField",{userId:vt,field:"canReceiveChatMessage",status:!yt},{root:!0})),"undefined"!==typeof l.post_expire&&r("posts/deletePost",l.post_expire,{root:!0}),"undefined"!==typeof l.post_published&&l.post_published.show_posts_in_feed&&s("posts/postPublished",{id:l.post_published.id,userId:l.post_published.user_id},{root:!0}),"undefined"!==typeof l.post_updated&&["Feed","Queue","Post","Profile","ProfileInner"].includes(i["default"].$route.name)&&s("posts/fetchPost",{id:Number(l.post_updated),onlyExisted:!0},{root:!0}),"undefined"!==typeof l.post_fundraising_updated&&r("posts/updatePost",l.post_fundraising_updated,{root:!0}),!l.toasts||m||document.hidden){t.next=145;break}if(wt=l,jt=wt.toasts,!["Streaming","Live","StreamingChat"].includes(i["default"].$route.name)){t.next=144;break}return t.abrupt("return");case 144:jt.forEach((function(t){var e=+new Date;if(!(d.toastsThrottle&&d.toastsThrottle+5e3>e)){r("setToastsThrottle",e);var n=i["default"].$createElement,s=n(R,{props:{toast:t}});i["default"].$bvToast.toast([s],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}}));case 145:if(l.logout&&null!==T["a"].getItem("accessToken")&&l.access_token===T["a"].getItem("accessToken")&&(c.auth.logoutInProgress||(r("auth/setLogoutInProgress",!0,{root:!0}),i["default"].$router.push({name:"Feed",params:{isLogout:!0}}),s("logout",{},{root:!0}))),l.has_new_alerts&&s("users/fetchAlert",{},{root:!0}),l.has_new_hints&&s("users/fetchHints",{},{root:!0}),St=p,"undefined"!==typeof l.creditBalance&&r("users/setUserField",{userId:St,field:"creditBalance",status:l.creditBalance},{root:!0}),"undefined"!==typeof l.isRealCardConnected&&r("users/setUserField",{userId:St,field:"isRealCardConnected",status:l.isRealCardConnected},{root:!0}),"undefined"!==typeof l.payoutLegalApproveState&&(r("users/setUserField",{userId:St,field:"payoutLegalApproveState",status:l.payoutLegalApproveState},{root:!0}),r("users/setUserField",{userId:St,field:"payoutLegalApproveRejectReason",status:l.payoutLegalApproveRejectReason},{root:!0}),r("users/setUserField",{userId:St,field:"isPayoutLegalApproved",status:"approved"===l.payoutLegalApproveState},{root:!0}),r("users/setUserField",{userId:St,field:"payoutType",status:l.payoutType},{root:!0}),r("users/setUserField",{userId:St,field:"hasStripe",status:l.hasStripe},{root:!0}),r("users/setUserField",{userId:St,field:"canEarn",status:l.canEarn},{root:!0})),"undefined"!==typeof l.canReceiveManualPayout&&r("users/setUserField",{userId:St,field:"canReceiveManualPayout",status:l.canReceiveManualPayout},{root:!0}),"undefined"!==typeof l.canReceiveStripePayout&&r("users/setUserField",{userId:St,field:"canReceiveStripePayout",status:l.canReceiveStripePayout},{root:!0}),"undefined"!==typeof l.needOndatoApprove&&r("users/setUserField",{userId:St,field:"needOndatoApprove",status:l.needOndatoApprove},{root:!0}),"undefined"!==typeof l.canCheckDocsByOndato&&i["default"].$root.$emit("msg",{canCheckDocsByOndato:l.canCheckDocsByOndato}),"undefined"!==typeof l.canCheckDocsBySecondaryOndato&&i["default"].$root.$emit("msg",{canCheckDocsBySecondaryOndato:l.canCheckDocsBySecondaryOndato}),"undefined"!==typeof l.ondatoStatus&&i["default"].$root.$emit("msg",{ondatoStatus:l.ondatoStatus}),"undefined"!==typeof l.ondatoFailReason&&i["default"].$root.$emit("msg",{ondatoFailReason:l.ondatoFailReason}),"undefined"===typeof l.stories){t.next=164;break}if(kt=l.stories.length?l.stories[0]:{},kt.isReady){t.next=163;break}return t.abrupt("return");case 163:kt.userId===p?s("stories/updateMyStories",{story:kt},{root:!0}):s("stories/fetchStories",void 0,{root:!0});case 164:"undefined"!==typeof l.template&&(xt=A({},l.template),r("settings/setAutoMessage",xt,{root:!0})),"undefined"!==typeof l["changelog.update"]&&r("settings/addChangelogUpdates",void 0,{root:!0}),l.price_changed&&s("subscribes/fetchSubscribes",{limit:0,type:"changed"},{root:!0}),"undefined"!==typeof l.subscribed&&(Pt=l,It=Pt.subscribed,console.log("subscribed",It,i["default"].$route.name),["Streaming","StreamingChat"].includes(i["default"].$route.name)&&(Rt=u["streaming/local"],Tt=u["streaming/viewers"],Rt.stream.id&&"undefined"!==typeof Tt[It.user.id]&&s("streaming/addSubscribedComment",It.user,{root:!0}))),l.vat&&(Ct=l.vat,At=Ct.vat,Et=Ct.vatCountry,r("users/setUserField",{userId:St,field:"vat",status:At},{root:!0}),r("users/setUserField",{userId:St,field:"vatCountry",status:Et},{root:!0})),l.tickets_comment_count&&(_t=l.tickets_comment_count,Lt=_t.id,Ut=_t.count,r("static/setTicket",{id:Lt,ticket:{hasNewReplies:!!Ut,commentCount:Ut}},{root:!0})),void 0!==l.hasNewTicketReplies&&r("users/setUserField",{userId:St,field:"hasNewTicketReplies",status:l.hasNewTicketReplies},{root:!0}),l.queueStats&&(Mt=l.queueStats,Dt=Mt.id,Ft=Mt.viewedCount,Nt=Mt.sentCount,r("massMessagesStat/setMessage",{id:Dt,viewedCount:Ft,sentCount:Nt},{root:!0}));case 172:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}},f47e:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return h})),n.d(e,"getters",(function(){return b})),n.d(e,"mutations",(function(){return g})),n.d(e,"actions",(function(){return v}));n("8e6e"),n("55dd"),n("96cf");var r=n("3b8d"),s=(n("456d"),n("6762"),n("2fdb"),n("c5f6"),n("bd86")),a=(n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),i=n("5e23"),o=n("559d"),c=n("a836"),u=n("09e4"),d=n("b775"),f=n("709f");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=function(){return{chats:[],items:{},currentChat:null,messages:{},loading:!1,sendMessageLoadind:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,subscribersOrderChats:null,mobileVersion:!1,chatsListHasMore:null,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,chatsUsersCount:{all:0,recent:0},isShowLists:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],showAdditionalGallery:!1,queueMessagesLoading:!1,queueBuyersOffset:0,queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1}},h=p(),b={chatsByType:function(t){return t.chats.map((function(e){return t.items[e]}))},getMobileVersion:function(t){return t.mobileVersion},getChat:function(t){return function(e){return t.items[e]}},getMessages:function(t){return function(e){return e.map((function(e){return t.messages[e]}))}},getMessage:function(t){return function(e){return t.messages[e]}},chatMessages:function(t){return function(e){return t.items[e].messages}},getEmptyChatsList:function(t){return t.emptyMessagesList},searchIds:function(t){return t.searchIds},currentSearchIndex:function(t){return t.currentSearchIndex},searchQuery:function(t){return t.searchQuery},chatsLoading:function(t){return t.loading},sendMessageLoading:function(t){return t.sendMessageLoadind},getChatsSort:function(t){return t.chatsSort},getLikePrevent:function(t){return function(e){return t.messages[e].likePrevent}},getIsMediaPlayed:function(t){return function(e){return t.messages[e].isMediaPlayed}},getSubscribersOrderChats:function(t){return t.subscribersOrderChats},getChatsItems:function(t){return t.items},getChatHasMore:function(t){return function(e){return!!t.items[e]&&t.items[e].hasMore}},getChatsListHasMore:function(t){return t.chatsListHasMore},getFirstLoadingChatsList:function(t){return t.firstLoadingChatsList},getFirstLoadingMessagesList:function(t){return t.firstLoadingMessagesList},chatsUsersCount:function(t){return t.chatsUsersCount},getShowList:function(t){return t.isShowLists},usersTotal:function(t){return t.usersTotal},getSelectedUsersIds:function(t){return t.selectedUsersIds},getChatsMedia:function(t){return t.media},getShowAdditionalGallery:function(t){return t.showAdditionalGallery},getQueueMessagesLoading:function(t){return t.queueMessagesLoading},queueBuyersIds:function(t){return t.queueBuyersIds},queueBuyersError:function(t){return t.queueBuyersError}},g={setLoading:function(t,e){t.loading=e},setSendMessageLoading:function(t,e){t.sendMessageLoadind=e},setMobileVersion:function(t,e){t.mobileVersion=e},setChats:function(t,e){var n=e.ids,r=void 0===n?[]:n;t.chats=r},resetChats:function(t){t.chats=[]},addChats:function(t,e){var n=e.ids;t.chats=Object(a["a"])(new Set([].concat(Object(a["a"])(t.chats),Object(a["a"])(n))))},setChatMessages:function(t,e){var n=e.id,r=e.messageIds,s=e.add,i=void 0!==s&&s,o=e.before,c=void 0===o||o,u=e.ownMsg,d=e.isTip,f=void 0!==d&&d,l=e.isPerformer,m=void 0!==l&&l,p=e.isSocket,h=void 0!==p&&p,b=Array.isArray(r)?r:[r];!1!==u||t.items[n]||(t.items[e.id]={withUser:e.id,unreadMessagesCount:1,messages:[],hasUnreadTips:!1});var g,v=null;(!f&&m&&h&&t.chats.some((function(e){return v=t.chats.indexOf(e),!(t.items[e]&&t.items[e].hasUnreadTips)})),i)?c?t.items[n]&&t.items[n].messages&&(t.items[n].messages=Object(a["a"])(new Set([].concat(Object(a["a"])(b),Object(a["a"])(t.items[n].messages))))):(t.items[n]&&t.items[n].messages&&(t.items[n].messages=Object(a["a"])(new Set([].concat(Object(a["a"])(t.items[n].messages),Object(a["a"])(b))))),(!u&&h&&("recent"===t.chatsSort||"unread"===t.chatsSort)||u&&h&&"recent"===t.chatsSort)&&(null===v&&(g=t.chats).unshift.apply(g,Object(a["a"])(t.chats.splice(t.chats.indexOf(n),1))),null!==v&&(t.chats.splice(t.chats.indexOf(n),1),t.chats.splice(v,0,n)))):t.items[n].messages=b},setLastMessage:function(t,e){var n=e.chatId,r=e.messageId,s=e.ownMsg,a=void 0!==s&&s;t.items[n]&&(t.items[n].prevMessage=t.items[n].lastMessage,t.items[n].lastMessage=r,a||void 0===t.items[n].unreadMessagesCount||null===t.items[n].unreadMessagesCount||(t.items[n].unreadMessagesCount+=1))},deleteChat:function(t,e){t.chats=t.chats.filter((function(t){return t!==e}));var n=m({},t.items);delete n[e],t.items=n},setSearchIds:function(t,e){t.searchIds=e},setCurrentSearchIndex:function(t,e){t.currentSearchIndex=e},setSearchQuery:function(t,e){t.searchQuery=e},deleteMessage:function(t,e){var n=e.chatId,r=e.messageId;if(t.items[n]){t.items[n].messages=t.items[n].messages.filter((function(t){return t!==r}));var s=t.items[n].messages.length,a=s?t.items[n].messages[s-1]:null;t.items[n].prevMessage=a,t.items[n].lastMessage=a}},deleteMessageById:function(t,e){var n=t.messages[e];if(n&&n.chatId&&t.items[n.chatId]){var r=t.items[n.chatId].messages.filter((function(t){return t!==Number(e)})),s=r[r.length-1];t.items[n.chatId].messages=r,t.items[n.chatId].lastMessage=s}},decrMessageCancelSeconds:function(t,e){t.messages[e].cancelSeconds<=0?t.messages[e].cancelSeconds=0:t.messages[e].cancelSeconds-=1},setChatTyping:function(t,e){var n=e.chatId,r=e.status;t.items[n]&&(t.items[n].typing=r)},setMessageIsNew:function(t,e){var n=e.messageId,r=e.status;t.messages[n]&&(t.messages[n].isNew=r)},setMuted:function(t,e){var n=e.id,r=e.status;t.items[n]&&(t.items[n].isMuted=r)},setChatsSort:function(t,e){var n;if(e&&(e.value||"undefined"!==e.isPerformer)){var r=e;n=r.isPerformer,e=r.value}if(void 0===e){var s=!1;try{null!==f["a"].getItem("sort_chats")&&(s=f["a"].getItem("sort_chats"))}catch(a){}e=s}"recent"!==e&&"unread"!==e&&"activity"!==e&&"name"!==e&&"available"!==e&&"unread_tips"!==e&&"old_unread"!==e&&(e=n?"unread_tips":"recent"),t.chatsSort=e;try{f["a"].setItem("sort_chats",e)}catch(a){}},setSubscribersOrderChats:function(t,e){if(void 0===e){var n=!1;try{n=f["a"].getItem("subscribersOrderChats")}catch(r){}e=n}"asc"!==e&&"desc"!==e&&(e="desc"),t.subscribersOrderChats=e;try{f["a"].setItem("subscribersOrderChats",e)}catch(r){}},setAddedNewItemChats:function(t,e){var n=e.id;t.chats.unshift(n)},setNewUserChats:function(t,e){t.chats.includes(e)||(t.chats.unshift(e),t.chats.splice(-1,1))},setChatAsRead:function(t,e){t.items[e]&&(t.items[e].unreadMessagesCount=!1)},setChatAsUnRead:function(t,e){t.items[e]&&(t.items[e].unreadMessagesCount=1)},setAllChatAsRead:function(t){Object.keys(t.items).forEach((function(e){t.items[e].unreadMessagesCount=!1}))},setMessageIsLiked:function(t,e){var n=e.messageId,r=e.value;t.messages[n]&&(t.messages[n].isLiked=r)},setLikePrevent:function(t,e){var n=e.messageId,r=e.value;t.messages[n]&&(t.messages[n].likePrevent=r)},setIsMediaPlayed:function(t,e){var n=e.messageId,r=e.value;t.messages[n]&&(t.messages[n].isMediaPlayed=r)},setChatsHasMore:function(t,e){var n=e.userId,r=e.hasMore;t.items[n]&&(t.items[n].hasMore=r)},setChatsListHasMore:function(t,e){t.chatsListHasMore=e},setEmptyMessagesList:function(t,e){t.emptyMessagesList=e},setHideChats:function(t,e){t.chats.includes(e)&&(t.chats=t.chats.filter((function(t){return t!==e})))},setMuteNotifications:function(t,e){t.items[e]&&(t.items[e].isMutedNotifications=!t.items[e].isMutedNotifications)},setFirstLoadingChatsList:function(t,e){t.firstLoadingChatsList=e},setFirstLoadingMessagesList:function(t,e){!t.firstLoadingMessagesList&&e&&(t.firstLoadingMessagesList=!0),e||(t.firstLoadingMessagesList=!1)},setChatsUsersCount:function(t,e){t.chatsUsersCount=e},setShowList:function(t,e){t.isShowLists=e},setUsersTotal:function(t,e){t.usersTotal=e},setSelectedUsersIds:function(t,e){t.selectedUsersIds=e},setChatUserMedia:function(t,e){t.media=e},addChatUserMedia:function(t,e){t.media=[].concat(Object(a["a"])(t.media),Object(a["a"])(e))},setShowAdditionalGallery:function(t,e){t.showAdditionalGallery=e},setQueueMessagesLoading:function(t,e){t.queueMessagesLoading=e},setQueueBuyersOffset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.queueBuyersOffset=e},setQueueBuyersMarker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t.queueBuyersMarker=e},setQueueBuyersIds:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.more,r=void 0!==n&&n,s=e.ids,i=void 0===s?[]:s;t.queueBuyersIds=r?Object(a["a"])(new Set([].concat(Object(a["a"])(t.queueBuyersIds),Object(a["a"])(i)))):i},setQueueBuyersError:function(t,e){t.queueBuyersError=e},logout:function(t){Object.assign(t,p())}},v={fetchChats:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,u,d,f,l,m,p,h,b,g,v,y,O,w,j,S,k,x=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.dispatch,a=x.length>1&&void 0!==x[1]?x[1]:{},u=a.limit,d=a.offset,f=a.filter,l=a.order,m=a.query,p=a.more,h=void 0!==p&&p,b=a.reset,g=void 0!==b&&b,v=a.field,y=a.list_id,O=a.recent,n("setLoading",!0),g&&(h||n("resetChats")),j=r["users/needSkipUsersOnChats"]?"all":void 0,t.prev=5,t.next=8,Object(c["f"])({limit:u,offset:d,filter:f,order:l,query:m,field:v,list_id:y,recent:O,skip_users:j});case 8:w=t.sent,t.next=15;break;case 11:return t.prev=11,t.t0=t["catch"](5),n("setLoading",!1),t.abrupt("return",[]);case 15:if(!w.list||!Array.isArray(w.list)){t.next=24;break}if(S=Object(i["a"])(w.list,o["a"]),k=S.result,!j){t.next=21;break}return t.next=21,s("users/getUsersIfNeeded",S,{root:!0});case 21:n("set",S,{root:!0}),n("setChatsListHasMore",w.hasMore),n(h?"addChats":"setChats",{ids:k});case 24:return n("setLoading",!1),n("setFirstLoadingChatsList",!0),t.abrupt("return",w);case 27:case"end":return t.stop()}}),t,null,[[5,11]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchChat:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,u,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=e.dispatch,t.prev=1,u=s["users/needSkipUsersOnChats"]?"all":void 0,t.next=5,Object(c["e"])(n,u);case 5:if(d=t.sent,f=Object(i["a"])(d,o["d"]),!u){t.next=10;break}return t.next=10,a("users/getUsersIfNeeded",f,{root:!0});case 10:r("set",f,{root:!0}),t.next=16;break;case 13:throw t.prev=13,t.t0=t["catch"](1),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchChatsMessages:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,u,f,l,m,p,h,b,g,v,y,O,w,j,S,k,x=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.dispatch,a=x.length>1&&void 0!==x[1]?x[1]:{},u=a.userId,f=a.lastId,l=a.firstId,m=a.id,p=a.more,h=void 0!==p&&p,b=a.before,g=void 0===b||b,v=a.limit,y=void 0===v?d["e"]:v,n("setEmptyMessagesList",!1),t.prev=3,O=r["users/needSkipUsersOnShort"]?"all":void 0,t.next=7,Object(c["g"])(u,{lastId:f,firstId:l,id:m,skip_users:O,limit:y});case 7:if(w=t.sent,n("setChatAsRead",u),1!==y||1!==w.list.length){t.next=14;break}j=Object(i["a"])(w.list[0],o["c"]),n("set",j,{root:!0}),t.next=24;break;case 14:if(S=Object(i["a"])(w.list,o["b"]),!O){t.next=18;break}return t.next=18,s("users/getUsersIfNeeded",S,{root:!0});case 18:S.chatId=u,n("set",S,{root:!0}),n("setChatsHasMore",{userId:u,hasMore:w.hasMore}),k=S.result.reverse(),h?n("setChatMessages",{id:u,messageIds:k,add:!0,before:g}):(n("setChatMessages",{id:u,messageIds:k}),w.list.length||n("setEmptyMessagesList",!0)),n("setFirstLoadingMessagesList",!0);case 24:return t.abrupt("return",w);case 27:return t.prev=27,t.t0=t["catch"](3),t.abrupt("return",[]);case 30:case"end":return t.stop()}}),t,null,[[3,27]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchChatsUsers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,u,f,l,m,p,h,b,g,v,y,O,w=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=e.rootGetters,s=e.dispatch,a=w.length>1&&void 0!==w[1]?w[1]:{},u=a.query,f=a.offset,l=a.sort,m=a.field,p=a.filter,h=a.limit,b=void 0===h?d["e"]:h,g=a.scheduledSubscribedOn,t.prev=2,f||n("setUsersTotal",0),v=r["users/needSkipUsersOnShort"]?"all":void 0,t.next=7,Object(c["h"])({query:u,offset:f,sort:l,field:m,filter:p,limit:b,total:f?0:1,skip_users:v,scheduledSubscribedOn:g});case 7:if(y=t.sent,O=Object(i["a"])(y.list,o["x"]),!v){t.next=12;break}return t.next=12,s("users/getUsersIfNeeded",O,{root:!0});case 12:return n("set",O,{root:!0}),void 0!==y.total&&n("setUsersTotal",y.total||0),t.abrupt("return",O.result);case 17:return t.prev=17,t.t0=t["catch"](2),n("setUsersTotal",0),t.abrupt("return",[]);case 21:case"end":return t.stop()}}),t,null,[[2,17]])})));function e(e){return t.apply(this,arguments)}return e}(),sendMessage:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,d,f,l,m,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.state,a=n.id,d=n.data,r("setSendMessageLoading",!0),t.prev=3,t.next=6,Object(c["w"])(a,d);case 6:if(f=t.sent,r("setSendMessageLoading",!1),!f||!f.id){t.next=16;break}return l=Object(i["a"])(f,o["c"]),r("set",l,{root:!0}),m=l.result,r("setChatMessages",{id:a,messageIds:m,add:!0,before:!1}),p=Number(a),s.chats.includes(p)||r("setAddedNewItemChats",{id:p}),t.abrupt("return",!0);case 16:t.next=23;break;case 18:return t.prev=18,t.t0=t["catch"](3),r("setSendMessageLoading",!1),Object(u["b"])(t.t0),t.abrupt("return",!1);case 23:return t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t,null,[[3,18]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteChat:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(c["b"])(n);case 4:s=t.sent,s&&s.success&&r("deleteChat",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(u["b"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),searchMessages:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.id,a=n.query,t.prev=2,t.next=5,Object(c["u"])(s,{query:a});case 5:i=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t["catch"](2),t.abrupt("return",[]);case 11:return r("setSearchIds",i),r("setSearchQuery",a),t.abrupt("return",i);case 14:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),deleteMessages:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=n.chatId,a=n.messageId,t.prev=2,t.next=5,Object(c["d"])(a);case 5:i=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),Object(u["b"])(t.t0);case 11:i&&i.success&&r("deleteMessage",{chatId:s,messageId:a});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),setMobileVersion:function(t,e){var n=t.commit;n("setMobileVersion",e)},markChatAsRead:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,t.prev=1,t.next=4,Object(c["t"])(n);case 4:a=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),Object(u["b"])(t.t0);case 10:a&&a.success&&(r("setChatAsRead",n),i=s["auth/authUserId"],o=s["users/getUser"](i).chatMessagesCount,r("users/setUserField",{userId:i,field:"chatMessagesCount",status:o?o-1:o},{root:!0}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),markChatAsUnRead:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,t.prev=1,t.next=4,Object(c["c"])(n);case 4:a=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),Object(u["b"])(t.t0);case 10:a&&a.success&&(r("setChatAsUnRead",n),i=s["auth/authUserId"],o=s["users/getUser"](i).chatMessagesCount,r("users/setUserField",{userId:i,field:"chatMessagesCount",status:o+1},{root:!0}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e,n){return t.apply(this,arguments)}return e}(),markAllChatAsRead:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,Object(c["r"])();case 4:r=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),Object(u["b"])(t.t0);case 10:r&&r.success&&n("setAllChatAsRead");case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));function e(e){return t.apply(this,arguments)}return e}(),setLikeMessage:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,r("setLoading",!0),t.next=5,Object(c["p"])(n);case 5:s=t.sent,r("setLoading",!1),s&&s.success&&r("setMessageIsLiked",{messageId:n,value:!0}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),r("setLoading",!1),Object(u["b"])(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),setUnlikeMessage:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,r("setLoading",!0),t.next=5,Object(c["y"])(n);case 5:s=t.sent,r("setLoading",!1),s&&s.success&&r("setMessageIsLiked",{messageId:n,value:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),r("setLoading",!1),Object(u["b"])(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),hideChats:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,Object(c["s"])(n);case 4:s=t.sent,s&&s.success&&r("setHideChats",n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(u["b"])(t.t0);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e,n){return t.apply(this,arguments)}return e}(),toggleMuteNotifications:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,s=e.state,a=s.items[n].isMutedNotifications,t.prev=2,!a){t.next=9;break}return t.next=6,Object(c["z"])(n);case 6:i=t.sent,t.next=12;break;case 9:return t.next=11,Object(c["q"])(n);case 11:i=t.sent;case 12:i&&i.success&&r("setMuteNotifications",n),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),Object(u["b"])(t.t0);case 18:return t.abrupt("return",i);case 19:case"end":return t.stop()}}),t,null,[[2,15]])})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchChatsUsersCount:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=i.length>1&&void 0!==i[1]?i[1]:{},s=r.scheduledSubscribedOn,t.prev=2,t.next=5,Object(c["i"])(s);case 5:a=t.sent,a&&a.all&&n("setChatsUsersCount",a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchChatsUsersMedia:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s,a,i,o,u,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=d.length>1&&void 0!==d[1]?d[1]:{},s=r.userId,a=r.offset,i=r.limit,o=r.filter,t.prev=2,t.next=5,Object(c["o"])(s,a,i,o);case 5:u=t.sent,u&&n(a?"addChatUserMedia":"setChatUserMedia",u.list),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Sentry.captureException(t.t0);case 12:return t.abrupt("return",u);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));function e(e){return t.apply(this,arguments)}return e}(),fetchQueueBuyersList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,s,a,u,f,l,m,p,h,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,s=e.rootGetters,a=e.dispatch,u=e.state,f=n.queueId,l=n.more,m=void 0!==l&&l,r("setQueueBuyersError",!1),t.prev=3,m||(r("setQueueBuyersOffset"),r("setQueueBuyersMarker"),r("setQueueBuyersIds")),p=s["users/needSkipUsersOnShort"]?"all":void 0,t.next=8,Object(c["l"])({queueId:f,skip_users:p,offset:u.queueBuyersOffset,marker:u.queueBuyersMarker});case 8:if(h=t.sent,!h||!h.list){t.next=18;break}if(r("setQueueBuyersOffset",u.queueBuyersOffset+d["e"]),h.marker&&r("setQueueBuyersMarker",h.marker),b=Object(i["a"])(h.list,o["x"]),!p){t.next=16;break}return t.next=16,a("users/getUsersIfNeeded",b,{root:!0});case 16:r("set",b,{root:!0}),r("setQueueBuyersIds",{more:m,ids:b.result});case 18:return t.abrupt("return",h&&h.hasMore);case 21:t.prev=21,t.t0=t["catch"](3),r("setQueueBuyersError",!0);case 24:return t.abrupt("return",!1);case 25:case"end":return t.stop()}}),t,null,[[3,21]])})));function e(e,n){return t.apply(this,arguments)}return e}()}},f606:function(t,e,n){var r={"./de":["b469","vendor","chunk-2d0be128"],"./de.js":["b469","vendor","chunk-2d0be128"],"./es":["898b","vendor","chunk-2d0be128"],"./es.js":["898b","vendor","chunk-2d0be128"],"./fr":["9f26","vendor","chunk-2d0be128"],"./fr.js":["9f26","vendor","chunk-2d0be128"],"./hi":["dc4d","vendor","chunk-2d0be128"],"./hi.js":["dc4d","vendor","chunk-2d0be128"],"./it":["6e98","vendor","chunk-2d0be128"],"./it.js":["6e98","vendor","chunk-2d0be128"],"./ja":["079e","vendor","chunk-2d0be128"],"./ja.js":["079e","vendor","chunk-2d0be128"],"./ko":["22f8","vendor","chunk-2d0be128"],"./ko.js":["22f8","vendor","chunk-2d0be128"],"./pt":["f260","vendor","chunk-2d0be128"],"./pt.js":["f260","vendor","chunk-2d0be128"],"./zh-cn":["5c3a","vendor","chunk-2d0be128"],"./zh-cn.js":["5c3a","vendor","chunk-2d0be128"],"./zh-tw":["90ea","vendor","chunk-2d0be128"],"./zh-tw.js":["90ea","vendor","chunk-2d0be128"]};function s(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],s=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n.t(s,7)}))}s.keys=function(){return Object.keys(r)},s.id="f606",t.exports=s},fd24:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return i})),n.d(e,"getters",(function(){return o})),n.d(e,"mutations",(function(){return c})),n.d(e,"actions",(function(){return u}));n("96cf");var r=n("3b8d"),s=(n("9b02"),n("5892")),a=function(){return{data:null,loading:!1,error:null}},i=a(),o={statsData:function(t){return t.data},loading:function(t){return t.loading},error:function(t){return t.error}},c={setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},setData:function(t,e){t.data=e},reset:function(t){t.data=null,t.loading=!1,t.error=null},logout:function(t){Object.assign(t,a())}},u={fetchStat:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,r("setLoading",!0),t.prev=2,t.next=5,Object(s["o"])(n);case 5:a=t.sent,r("setData",a),r("setLoading",!1),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),r("setLoading",!1),r("setError",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));function e(e,n){return t.apply(this,arguments)}return e}(),resetStat:function(t){var e=t.commit;e("reset")}}},ff1d:function(t,e,n){"use strict";(function(t){n("55dd"),n("28a5");var e=n("7618");n("456d"),n("a481"),n("ac6a");(function(r,s,a,i){var o,c=["","webkit","Moz","MS","ms","o"],u=s.createElement("div"),d="function",f=Math.round,l=Math.abs,m=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function h(t,e,n){return!!Array.isArray(t)&&(b(t,n[e],n),!0)}function b(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i){r=0;while(r<t.length)e.call(n,t[r],r,t),r++}else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function g(t,e,n){var s="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=r.console&&(r.console.warn||r.console.log);return a&&a.call(r.console,s,n),t.apply(this,arguments)}}o="function"!==typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}:Object.assign;var v=g((function(t,e,n){var r=Object.keys(e),s=0;while(s<r.length)(!n||n&&t[r[s]]===i)&&(t[r[s]]=e[r[s]]),s++;return t}),"extend","Use `assign`."),y=g((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function O(t,e,n){var r,s=e.prototype;r=t.prototype=Object.create(s),r.constructor=t,r._super=s,n&&o(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function j(t,n){return Object(e["a"])(t)==d?t.apply(n&&n[0]||i,n):t}function S(t,e){return t===i?e:t}function k(t,e,n){b(R(e),(function(e){t.addEventListener(e,n,!1)}))}function x(t,e,n){b(R(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function R(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);var r=0;while(r<t.length){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){var r=[],s=[],a=0;while(a<t.length){var i=e?t[a][e]:t[a];T(s,i)<0&&r.push(t[a]),s[a]=i,a++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function E(t,e){var n,r,s=e[0].toUpperCase()+e.slice(1),a=0;while(a<c.length){if(n=c[a],r=n?n+s:e,r in t)return r;a++}return i}var _=1;function L(){return _++}function U(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var M="ontouchstart"in r,D=!1,F=!0,N="touch",B="pen",q="mouse",V="kinect",H=25,G=1,$=2,z=4,W=8,X=1,Y=2,K=4,Q=8,J=16,Z=Y|K,tt=Q|J,et=Z|tt,nt=["x","y"],rt=["clientX","clientY"];function st(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){j(t.options.enable,[t])&&n.handler(e)},this.init()}function at(t){var e,n=t.options.inputClass;return e=n||(D?Pt:F?Lt:M?Dt:wt),new e(t,it)}function it(t,e,n){var r=n.pointers.length,s=n.changedPointers.length,a=e&G&&r-s===0,i=e&(z|W)&&r-s===0;n.isFirst=!!a,n.isFinal=!!i,a&&(t.session={}),n.eventType=e,ot(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ot(t,e){var n=t.session,r=e.pointers,s=r.length;n.firstInput||(n.firstInput=dt(e)),s>1&&!n.firstMultiple?n.firstMultiple=dt(e):1===s&&(n.firstMultiple=!1);var a=n.firstInput,i=n.firstMultiple,o=i?i.center:a.center,c=e.center=ft(r);e.timeStamp=m(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=ht(o,c),e.distance=pt(o,c),ct(n,e),e.offsetDirection=mt(e.deltaX,e.deltaY);var u=lt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=l(u.x)>l(u.y)?u.x:u.y,e.scale=i?gt(i.pointers,r):1,e.rotation=i?bt(i.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,ut(n,e);var d=t.element;P(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}function ct(t,e){var n=e.center,r=t.offsetDelta||{},s=t.prevDelta||{},a=t.prevInput||{};e.eventType!==G&&a.eventType!==z||(s=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=s.x+(n.x-r.x),e.deltaY=s.y+(n.y-r.y)}function ut(t,e){var n,r,s,a,o=t.lastInterval||e,c=e.timeStamp-o.timeStamp;if(e.eventType!=W&&(c>H||o.velocity===i)){var u=e.deltaX-o.deltaX,d=e.deltaY-o.deltaY,f=lt(c,u,d);r=f.x,s=f.y,n=l(f.x)>l(f.y)?f.x:f.y,a=mt(u,d),t.lastInterval=e}else n=o.velocity,r=o.velocityX,s=o.velocityY,a=o.direction;e.velocity=n,e.velocityX=r,e.velocityY=s,e.direction=a}function dt(t){var e=[],n=0;while(n<t.pointers.length)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:m(),pointers:e,center:ft(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ft(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};var n=0,r=0,s=0;while(s<e)n+=t[s].clientX,r+=t[s].clientY,s++;return{x:f(n/e),y:f(r/e)}}function lt(t,e,n){return{x:e/t||0,y:n/t||0}}function mt(t,e){return t===e?X:l(t)>=l(e)?t<0?Y:K:e<0?Q:J}function pt(t,e,n){n||(n=nt);var r=e[n[0]]-t[n[0]],s=e[n[1]]-t[n[1]];return Math.sqrt(r*r+s*s)}function ht(t,e,n){n||(n=nt);var r=e[n[0]]-t[n[0]],s=e[n[1]]-t[n[1]];return 180*Math.atan2(s,r)/Math.PI}function bt(t,e){return ht(e[1],e[0],rt)+ht(t[1],t[0],rt)}function gt(t,e){return pt(e[0],e[1],rt)/pt(t[0],t[1],rt)}st.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(U(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(U(this.element),this.evWin,this.domHandler)}};var vt={mousedown:G,mousemove:$,mouseup:z},yt="mousedown",Ot="mousemove mouseup";function wt(){this.evEl=yt,this.evWin=Ot,this.pressed=!1,st.apply(this,arguments)}O(wt,st,{handler:function(t){var e=vt[t.type];e&G&&0===t.button&&(this.pressed=!0),e&$&&1!==t.which&&(e=z),this.pressed&&(e&z&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:q,srcEvent:t}))}});var jt={pointerdown:G,pointermove:$,pointerup:z,pointercancel:W,pointerout:W},St={2:N,3:B,4:q,5:V},kt="pointerdown",xt="pointermove pointerup pointercancel";function Pt(){this.evEl=kt,this.evWin=xt,st.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(kt="MSPointerDown",xt="MSPointerMove MSPointerUp MSPointerCancel"),O(Pt,st,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),s=jt[r],a=St[t.pointerType]||t.pointerType,i=a==N,o=T(e,t.pointerId,"pointerId");s&G&&(0===t.button||i)?o<0&&(e.push(t),o=e.length-1):s&(z|W)&&(n=!0),o<0||(e[o]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),n&&e.splice(o,1))}});var It={touchstart:G,touchmove:$,touchend:z,touchcancel:W},Rt="touchstart",Tt="touchstart touchmove touchend touchcancel";function Ct(){this.evTarget=Rt,this.evWin=Tt,this.started=!1,st.apply(this,arguments)}function At(t,e){var n=C(t.touches),r=C(t.changedTouches);return e&(z|W)&&(n=A(n.concat(r),"identifier",!0)),[n,r]}O(Ct,st,{handler:function(t){var e=It[t.type];if(e===G&&(this.started=!0),this.started){var n=At.call(this,t,e);e&(z|W)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}}});var Et={touchstart:G,touchmove:$,touchend:z,touchcancel:W},_t="touchstart touchmove touchend touchcancel";function Lt(){this.evTarget=_t,this.targetIds={},st.apply(this,arguments)}function Ut(t,e){var n=C(t.touches),r=this.targetIds;if(e&(G|$)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var s,a,i=C(t.changedTouches),o=[];this.target;if(a=n.filter((function(t){return!0})),e===G){s=0;while(s<a.length)r[a[s].identifier]=!0,s++}s=0;while(s<i.length)r[i[s].identifier]&&o.push(i[s]),e&(z|W)&&delete r[i[s].identifier],s++;return o.length?[A(a.concat(o),"identifier",!0),o]:void 0}O(Lt,st,{handler:function(t){var e=Et[t.type],n=Ut.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:N,srcEvent:t})}});var Mt=2500;function Dt(){st.apply(this,arguments);var t=w(this.handler,this);this.touch=new Lt(this.manager,t),this.mouse=new wt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ft(t,e){t&G?(this.primaryTouch=e.changedPointers[0].identifier,Nt.call(this,e)):t&(z|W)&&Nt.call(this,e)}function Nt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,s=function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)};setTimeout(s,Mt)}}function Bt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var s=this.lastTouches[r],a=Math.abs(e-s.x),i=Math.abs(n-s.y);if(a<=DEDUP_DISTANCE&&i<=DEDUP_DISTANCE)return!0}return!1}O(Dt,st,{handler:function(t,e,n){var r=n.pointerType==N,s=n.pointerType==q;if(!(s&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Ft.call(this,e,n);else if(s&&Bt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var qt=E(u.style,"touchAction"),Vt=qt!==i,Ht="compute",Gt="auto",$t="manipulation",zt="none",Wt="pan-x",Xt="pan-y",Yt=Jt();function Kt(t,e){this.manager=t,this.set(e)}function Qt(t){if(I(t,zt))return zt;var e=I(t,Wt),n=I(t,Xt);return e&&n?zt:e||n?e?Wt:Xt:I(t,$t)?$t:Gt}function Jt(){if(!Vt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}Kt.prototype={set:function(t){t==Ht&&(t=this.compute()),Vt&&this.manager.element.style&&Yt[t]&&(this.manager.element.style[qt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return b(this.manager.recognizers,(function(e){j(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),Qt(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,s=I(r,zt)&&!Yt[zt],a=I(r,Xt)&&!Yt[Xt],i=I(r,Wt)&&!Yt[Wt];if(s){var o=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(o&&c&&u)return}if(!i||!a)return s||a&&n&Z||i&&n&tt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Zt=1,te=2,ee=4,ne=8,re=ne,se=16,ae=32;function ie(t){this.options=o({},this.defaults,t||{}),this.id=L(),this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=Zt,this.simultaneous={},this.requireFail=[]}function oe(t){return t&se?"cancel":t&ne?"end":t&ee?"move":t&te?"start":""}function ce(t){return t==J?"down":t==Q?"up":t==Y?"left":t==K?"right":""}function ue(t,e){var n=e.manager;return n?n.get(t):t}function de(){ie.apply(this,arguments)}function fe(){de.apply(this,arguments),this.pX=null,this.pY=null}function le(){de.apply(this,arguments)}function me(){ie.apply(this,arguments),this._timer=null,this._input=null}function pe(){de.apply(this,arguments)}function he(){de.apply(this,arguments)}function be(){ie.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ge(t,e){return e=e||{},e.recognizers=S(e.recognizers,ge.defaults.preset),new Oe(t,e)}ie.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(h(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=ue(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return h(t,"dropRecognizeWith",this)||(t=ue(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(h(t,"requireFailure",this))return this;var e=this.requireFail;return t=ue(t,this),-1===T(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(h(t,"dropRequireFailure",this))return this;t=ue(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<ne&&r(e.options.event+oe(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=ne&&r(e.options.event+oe(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=ae},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(ae|Zt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);if(!j(this.options.enable,[this,e]))return this.reset(),void(this.state=ae);this.state&(re|se|ae)&&(this.state=Zt),this.state=this.process(e),this.state&(te|ee|ne|se)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},O(de,ie,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(te|ee),s=this.attrTest(t);return r&&(n&W||!s)?e|se:r||s?n&z?e|ne:e&te?e|ee:te:ae}}),O(fe,de,{defaults:{event:"pan",threshold:10,pointers:1,direction:et},getTouchAction:function(){var t=this.options.direction,e=[];return t&Z&&e.push(Xt),t&tt&&e.push(Wt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,s=t.direction,a=t.deltaX,i=t.deltaY;return s&e.direction||(e.direction&Z?(s=0===a?X:a<0?Y:K,n=a!=this.pX,r=Math.abs(t.deltaX)):(s=0===i?X:i<0?Q:J,n=i!=this.pY,r=Math.abs(t.deltaY))),t.direction=s,n&&r>e.threshold&&s&e.direction},attrTest:function(t){return de.prototype.attrTest.call(this,t)&&(this.state&te||!(this.state&te)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=ce(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),O(le,de,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&te)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),O(me,ie,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Gt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(z|W)&&!s)this.reset();else if(t.eventType&G)this.reset(),this._timer=p((function(){this.state=re,this.tryEmit()}),e.time,this);else if(t.eventType&z)return re;return ae},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===re&&(t&&t.eventType&z?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}}),O(pe,de,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&te)}}),O(he,de,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|tt,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Z|tt)?e=t.overallVelocity:n&Z?e=t.overallVelocityX:n&tt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&t.eventType&z},emit:function(t){var e=ce(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),O(be,ie,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$t]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&G&&0===this.count)return this.failTimeout();if(r&&s&&n){if(t.eventType!=z)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,i=!this.pCenter||pt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,i&&a?this.count+=1:this.count=1,this._input=t;var o=this.count%e.taps;if(0===o)return this.hasRequireFailures()?(this._timer=p((function(){this.state=re,this.tryEmit()}),e.interval,this),te):re}return ae},failTimeout:function(){return this._timer=p((function(){this.state=ae}),this.options.interval,this),ae},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==re&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ge.VERSION="2.0.7",ge.defaults={domEvents:!1,touchAction:Ht,enable:!0,inputTarget:null,inputClass:null,preset:[[pe,{enable:!1}],[le,{enable:!1},["rotate"]],[he,{direction:Z}],[fe,{direction:Z},["swipe"]],[be],[be,{event:"doubletap",taps:2},["tap"]],[me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ve=1,ye=2;function Oe(t,e){this.options=o({},ge.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=at(this),this.touchAction=new Kt(this,this.options.touchAction),we(this,!0),b(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function we(t,e){var n,r=t.element;r.style&&(b(t.options.cssProps,(function(s,a){n=E(r.style,a),e?(t.oldCssProps[n]=r.style[n],r.style[n]=s):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}function je(t,e){var n=s.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}Oe.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ye:ve},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&re)&&(s=e.curRecognizer=null);var a=0;while(a<r.length)n=r[a],e.stopped===ye||s&&n!=s&&!n.canRecognizeWith(s)?n.reset():n.recognize(t),!s&&n.state&(te|ee|ne)&&(s=e.curRecognizer=n),a++}},get:function(t){if(t instanceof ie)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(h(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(h(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==i&&e!==i){var n=this.handlers;return b(R(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==i){var n=this.handlers;return b(R(t),(function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&je(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var r=0;while(r<n.length)n[r](e),r++}},destroy:function(){this.element&&we(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(ge,{INPUT_START:G,INPUT_MOVE:$,INPUT_END:z,INPUT_CANCEL:W,STATE_POSSIBLE:Zt,STATE_BEGAN:te,STATE_CHANGED:ee,STATE_ENDED:ne,STATE_RECOGNIZED:re,STATE_CANCELLED:se,STATE_FAILED:ae,DIRECTION_NONE:X,DIRECTION_LEFT:Y,DIRECTION_RIGHT:K,DIRECTION_UP:Q,DIRECTION_DOWN:J,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:tt,DIRECTION_ALL:et,Manager:Oe,Input:st,TouchAction:Kt,TouchInput:Lt,MouseInput:wt,PointerEventInput:Pt,TouchMouseInput:Dt,SingleTouchInput:Ct,Recognizer:ie,AttrRecognizer:de,Tap:be,Pan:fe,Swipe:he,Pinch:le,Rotate:pe,Press:me,on:k,off:x,each:b,merge:y,extend:v,assign:o,inherit:O,bindFn:w,prefixed:E});var Se="undefined"!==typeof r?r:"undefined"!==typeof self?self:{};Se.Hammer=ge,"function"===typeof define&&n("3c35")?define((function(){return ge})):t.exports?t.exports=ge:r[a]=ge})(window,document,"Hammer")}).call(this,n("dd40")(t))}});
//# sourceMappingURL=app.js.map?rev=202008311040-5a7dcf7da1