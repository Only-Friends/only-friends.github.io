(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["banking~chats~main~payments~settings~streaming"],{0:function(e,t){},"06f2":function(e,t,n){"use strict";n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("8e6e"),n("3b2b"),n("6b54");var r=n("7618"),a=(n("7f7f"),n("4917"),n("96cf"),n("3b8d")),i=(n("456d"),n("ac6a"),n("bd86")),o=n("0644"),s=n.n(o),d=n("9957"),u=n("56d7"),c=n("63ea"),l=n.n(c),f=n("9b02"),p=n.n(f),h=n("2b80"),m=n.n(h),g=n("d634"),v=n("5892"),y=n("ebdc"),b=n("1e52"),w=n("0f6f"),k=n("fb78"),E=n("ad97"),x=function(e,t,n){var r=!1;"audio"!==n&&("video"===n||"gif"===n?t.hasWatermarkVideo&&(r=!0):t.hasWatermarkPhoto&&(r=!0),r&&e.append("watermark[text]",t.watermarkText||"OnlyFans.com/".concat(t.username)))},U=n("168f");function F(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function O(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={mixins:[w["a"],b["a"],k["a"],E["a"]],data:function(){return{mediaConfig:{},uploadedFiles:[],hasBeforeunloadEvent:!1,beforeEachUploaderFunc:null,uploads:[]}},computed:j(j(j({},Object(g["q"])(["getInit"])),Object(g["b"])(["authUserId","authUser"])),{},{limitUploads:function(){var e=this,t={};return this.uploadedFiles.forEach((function(e){"undefined"!==typeof t[e.mediaType]?t[e.mediaType]+=1:t[e.mediaType]=1})),Object.keys(t).some((function(n){return e.mediaConfig.count[n]<=t[n]}))},countLoaded:function(){return this.uploadedFiles.filter((function(e){return e.progress<=100&&"DELETE"===e.deleteType})).length},allUploaded:function(){return!!this.uploadedFiles.length&&this.uploadedFiles.every((function(e){return 100===e.progress&&"DELETE"===e.deleteType}))},canEditMedia:function(){return this.post&&this.post.canEditMedia},checkLeaveConditionUploader:function(){return void 0!==this.countLoaded&&void 0!==this.uploadedFiles&&this.countLoaded<this.uploadedFiles.filter((function(e){return"tip"!==e.mediaType})).length},checkLeaveTextUploader:function(){return this.$t("message.upload_progress_leave_msg")},beforeunloadCheckLeaveWatchField:function(){return[this.uploadedFiles,this.countLoaded]},beforeunloadCheckLeaveConditionField:function(){return this.countLoaded<this.uploadedFiles.length}}),mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.beforeEachUploaderFunc=this.routerCheckLeave({conditionField:"checkLeaveConditionUploader",textField:"checkLeaveTextUploader"}),this.beforeunloadCheckLeave({watchField:"beforeunloadCheckLeaveWatchField",conditionField:"beforeunloadCheckLeaveConditionField",eventField:"hasBeforeunloadEvent",funcField:"handleBeforeUnload"}),this.mediaConfig=j(j({},this.getInit.postMediaConfig),this.mediaConfig),this.$refs.dragUploadArea||this.$parent.$refs.dragUploadArea&&(this.$refs.dragUploadArea=this.$parent.$refs.dragUploadArea),this.$refs.dragUploadArea&&this.enableDragUpload(),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){var e=this;this.beforeEachUploaderFunc&&this.beforeEachUploaderFunc(),this.uploadedFiles.filter((function(e){return e.progress<100})).map((function(t){return e.deleteFile(t)})),this.hasBeforeunloadEvent&&(window.removeEventListener("beforeunload",this.handleBeforeUnload),this.hasBeforeunloadEvent=!1),this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners)},methods:{handleBeforeUnload:function(e){if(this.hasBeforeunloadEvent){var t=this.checkLeaveTextUploader;return e=e||window.event,e&&(e.returnValue=t),t}},enableDragUpload:function(){var e=this;["dragend","dragover","dragenter","dragleave","drop"].forEach((function(t){e.$refs.dragUploadArea.addEventListener(t,(function(e){e.preventDefault(),e.stopPropagation()}))})),["drag","dragstart"].forEach((function(t){e.$refs.dragUploadArea.addEventListener(t,(function(){e.$refs.dragUploadArea.dataset.draggableMedia=!0}))})),["dragover","dragenter"].forEach((function(t){e.$refs.dragUploadArea.addEventListener(t,(function(){e.limitUploads||!e.canEditMedia||e.$refs.dragUploadArea.dataset.draggableMedia||e.$refs.dragUploadArea.classList.add("is-dragover")}))})),["dragleave","dragend","drop"].forEach((function(t){e.$refs.dragUploadArea.addEventListener(t,(function(){e.$refs.dragUploadArea.classList.remove("is-dragover")}))})),this.$refs.dragUploadArea.addEventListener("drop",(function(){delete e.$refs.dragUploadArea.dataset.draggableMedia})),this.$refs.dragUploadArea.addEventListener("drop",(function(t){e.canEditMedia&&(e.fakeMode?e.openNewPostPage({fileUploadData:t}):e.handleInputFile(t))}))},figureoutExif:function(e){var t=window.navigator.userAgent,n=!!t.match(/iPad/i)||!!t.match(/iPhone/i),r=!!t.match(/WebKit/i),a=new m.a,i=a.getBrowser(),o=parseInt(i.major,10),s="Chrome"===i.name&&o>=81,d=n&&r&&!t.match(/CriOS/i);if(s||d||s&&t.match(/CriOS/i))return{result:e};var u=0,c=new DataView(e);if(e.length<2||65496!==c.getUint16(u))return{result:e};var l=1,f=c.byteLength;u+=2;while(u<f-2){var p=c.getUint16(u);switch(u+=2,p){case 65505:var h=c.getUint16(u);f=h-u,u+=2;break;case 274:l=c.getUint16(u+6,!1),f=0;break}}var g={1:0,3:180,6:90,8:270};return{result:e,rotation:g[l],orientation:l}},readFileAsync:function(e){var t=this;return new Promise((function(n,r){var a=new FileReader;a.readAsArrayBuffer(e),a.onerror=r,a.onload=function(){n(t.figureoutExif(a.result))}}))},readFileByUrlAsync:function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onerror=function(e){t({error:e})},r.onload=function(){t(r.response)},r.send()}))},buildPreview:function(e){this.uploadedFiles.push(e),this.renderAudio()},objectToFormData:function(e,t,n){var a,i=t||new FormData;for(var o in e)e.hasOwnProperty(o)&&(a=n?"".concat(n,"[").concat(o,"]"):o,"object"!==Object(r["a"])(e[o])||e[o]instanceof File?i.append(a,e[o]):this.objectToFormData(e[o],i,o));return i},sendDataToConverter:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,d,c,l,f,h,m,g,y,b,w=this,k=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=k.length>4&&void 0!==k[4]?k[4]:0,o=k.length>5?k[5]:void 0,d="photo"===r?"image":"gif"===r?"video":r,Object(U["a"])({message:"Send data to converter",logger:"Converter",logData:{name:t.name,mediaType:d,ETag:a.ETag,uploadHostCount:i}}),l=!1,f=t.name,h=t.size,m=new FormData,o.length&&this.getInit.upload.geoUploadTypes&&-1!==this.getInit.upload.geoUploadTypes.indexOf(r)?(c=o[Math.floor(Math.random()*o.length)].url,l=!0):(c="video"===r?this.getInit.upload.videoUploadUrl:this.getInit.upload.uploadUrl,l="video"===r),g=l?s()(this.getInit.upload.geoUploadArgs):{},g.preset="of_beta",y=j(j({},g),{},{file:a}),this.objectToFormData(y,m),x(m,this.authUser,r),e.prev=14,Object(U["a"])({message:"Upload post",logger:"Converter",logData:{name:t.name,ETag:a.ETag,uploadHostCount:i}}),e.next=18,Object(v["B"])({data:m,url:c});case 18:if(b=e.sent,!b.error){e.next=27;break}if(!l||!o.filter((function(e){return e.url!==c})).length){e.next=25;break}return i++,e.next=24,this.sendDataToConverter(t,n,r,a,i,o.filter((function(e){return e.url!==c})));case 24:return e.abrupt("return");case 25:n=Object.assign(n,{error:!0}),alert(u["default"].$i18n.t("message.upload_error_message"));case 27:b&&b.files&&b.files[0]&&(l&&c===this.getInit.upload.videoUploadUrl&&(n=Object.assign(n,{videoUploadHost:this.getInit.upload.videoUploadHost})),n=Object.assign(n,b.files[0],{progress:100})),b&&b.processId&&(n=Object.assign(n,{processId:b.processId,thumbs:b.thumbs,name:f,host:b.host,progress:100,deleteType:"DELETE"})),e.next=47;break;case 31:if(e.prev=31,e.t0=e["catch"](14),Object(U["b"])({message:"Upload post error",logger:"Converter",logData:{name:t.name,processId:a.processId,uploadHostCount:i}}),!e.t0.message||"Cancel"!==e.t0.message){e.next=38;break}return e.abrupt("return");case 38:if(Sentry.withScope((function(t){t.setExtra("userId",w.authUserId),t.setExtra("uploadUrl",c),t.setExtra("file",{size:h,name:f}),Sentry.captureException(e.t0)})),400===e.t0.status||!l||!o.filter((function(e){return e.url!==c})).length){e.next=44;break}return i++,e.next=43,this.sendDataToConverter(t,n,r,a,i,o.filter((function(e){return e.url!==c})));case 43:return e.abrupt("return");case 44:p()(e.t0,"data.error.message")?alert(e.t0.data.error.message):alert(u["default"].$i18n.t("message.upload_error_message"));case 45:n=Object.assign(n,{error:!0}),this.uploadedFiles=this.uploadedFiles.filter((function(e){return e.id!==n.id}));case 47:case"end":return e.stop()}}),e,this,[[14,31]])})));function t(t,n,r,a){return e.apply(this,arguments)}return t}(),uploadFiles:function(e,t,n){var r=this;Object(U["a"])({logger:"S3Uploader",message:"Upload started",logData:{name:e.name,type:e.type,size:e.size}}),this.uploads[e.name]=this.fileUpload(e,function(){var i=Object(a["a"])(regeneratorRuntime.mark((function a(i){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return Object(U["a"])({logger:"S3Uploader",message:"Upload success",logData:{name:e.name,ETag:i.ETag}}),delete r.uploads[e.name],a.next=4,r.sendDataToConverter(e,t,n,i,0,r.getInit.upload.geoUploadHosts);case 4:r.renderAudio();case 5:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}(),(function(n){"RequestAbortedError"!==n.code?(Object(U["a"])({logger:"S3Uploader",message:"Upload error",logData:{name:e.name,error:n}}),Sentry.withScope((function(t){t.setExtra("userId",r.authUserId),t.setExtra("uploadUrl","s3"),t.setExtra("file",{size:e.size,name:e.name}),Sentry.captureException(n)})),t=Object.assign(t,{error:!0}),r.uploadedFiles=r.uploadedFiles.filter((function(e){return e.id!==t.id})),alert(u["default"].$i18n.t("message.upload_error_message"))):Object(U["a"])({logger:"S3Uploader",message:"Upload aborted",logData:{name:e.name,error:n}})}),(function(n){t.progress=.95*n,n%20==0&&Object(U["a"])({logger:"S3Uploader",message:"Upload progress",logData:{name:e.name,progress:n}})}))},onSaveEditedImage:function(e,t){this.deleteFile(this.uploadedFiles[t],t),this.handleInputFile({imageEditorFile:e})},saveAsCopyEditedImage:function(e){this.handleInputFile({imageEditorFile:e})},onDeleteFile:function(e){var t=e.file,n=e.index;this.deleteFile(t,n)},deleteFile:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.deleteUrl){e.next=10;break}return e.prev=1,e.next=4,Object(v["f"])(t.deleteUrl);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:e.next=11;break;case 10:this.uploads[t.name]&&this.uploads[t.name].abort&&this.uploads[t.name].abort();case 11:this.uploadedFiles=this.uploadedFiles.filter((function(e){return!l()(e,t)})),"function"===typeof this.onDeleteFileCallback&&this.onDeleteFileCallback();case 13:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(t){return e.apply(this,arguments)}return t}(),handleInputFile:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,s,d,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.target&&t.target.files&&(n=t.target.files),t.dataTransfer&&t.dataTransfer.files&&(n=t.dataTransfer.files),t.detail&&t.detail.file&&(n=[],n.push(t.detail.file)),t.imageEditorFile&&(n=[],n.push(t.imageEditorFile)),n){e.next=6;break}return e.abrupt("return");case 6:r=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,d,u,l,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="",!(t.size<=104857600)){e.next=21;break}return e.next=4,c.readFileAsync(t);case 4:if(a=e.sent,i=new Blob([a.result],{type:t.type}),r=URL.createObjectURL(i),"photo"!==n){e.next=11;break}return e.next=10,c.rotateImage({url:r,orientation:a.orientation,type:t.type});case 10:r=e.sent;case 11:return o=c.mediaConfig.params.photo,s=o.max_width,d=o.min_width,u=o.max_height,l=o.min_height,e.prev=12,e.next=15,c.imageChecker({media:n,url:r,maxWidth:s,minWidth:d,maxHeight:u,minHeight:l});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](12),alert(e.t0.message),e.abrupt("return");case 21:f={error:!1,deleteType:"",name:t.name,size:t.size,type:t.type,mediaType:n,url:r,preview:!0,progress:0,faceCount:0,orderId:Math.random().toString(36).substr(2,9)},c.buildPreview(f),c.uploadFiles(t,f,n);case 24:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(t,n){return e.apply(this,arguments)}}(),i=F(n),e.prev=8,s=regeneratorRuntime.mark((function e(){var t,n,a,i,s,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.value,n=c.getMediaFile(t.type),n){e.next=5;break}return alert(u["default"].$i18n.t("message.upload_error_file_not_allowed")),e.abrupt("return","continue");case 5:if(c.postUsage){e.next=10;break}if(a=c.firstFileType(),!a||a===n){e.next=10;break}return alert(u["default"].$i18n.t("message.upload_error_file_not_allowed")),e.abrupt("return","continue");case 10:if(i=c.countFilesByTypes(n),s=c.isChatUpload?"message":"post",!c.isChatUpload){e.next=18;break}if(!(i>=c.mediaConfig.count[n])){e.next=16;break}return alert("Please select only ".concat(c.mediaConfig.count[n]," media per ").concat(s)),e.abrupt("return","continue");case 16:e.next=25;break;case 18:if(d=c.uploadedFilesAudio.length>0,"audio"!==n||!d){e.next=22;break}return alert("Only one audio can be added to the ".concat(s)),e.abrupt("return","continue");case 22:if(!(c.uploadedFiles.length>=c.mediaConfig.count.photo)){e.next=25;break}return alert("Please select only ".concat(c.mediaConfig.count.photo," media per ").concat(s)),e.abrupt("return","continue");case 25:if(!i||!c.uploadedFiles.some((function(e){return t.name===e.name&&t.size===e.size&&t.type===e.type}))){e.next=28;break}return alert(u["default"].$i18n.t("message.media_already_added")),e.abrupt("return","continue");case 28:return e.next=30,r(t,n);case 30:case"end":return e.stop()}}),e)})),i.s();case 11:if((o=i.n()).done){e.next=18;break}return e.delegateYield(s(),"t0",13);case 13:if(d=e.t0,"continue"!==d){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=11;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](8),i.e(e.t1);case 23:return e.prev=23,i.f(),e.finish(23);case 26:"function"===typeof this.onAddFilesCallback&&this.onAddFilesCallback();case 27:case"end":return e.stop()}}),e,this,[[8,20,23,26]])})));function t(t){return e.apply(this,arguments)}return t}(),getMediaFile:function(e,t){for(var n=this.mediaConfig.ext,r=d["a"].getExtension(e),a=0,i=Object.keys(n);a<i.length;a++){var o=i[a];if(!t||t===o){var s=new RegExp("".concat(n[o]),"i");if(s.test(r))return o}}return null},countFilesByTypes:function(e){return this.uploadedFiles.filter((function(t){return t.mediaType===e})).length},firstFileType:function(){return this.uploadedFiles[0]&&this.uploadedFiles[0].mediaType||null},renderAudio:function(){var e=this;this.$nextTick((function(){e.$refs.audio&&e.$refs.audio.forEach((function(e){y["a"].init(e)}))}))},removeListeners:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}}}},"0f6f":function(e,t,n){"use strict";t["a"]={methods:{rotateImage:function(e){var t=e.url,n=e.orientation,r=e.type,a=function(e){if("undefined"===typeof n||n<=1)return e(t),!0;var a=new window.Image;return a.onload=function(){var t=a.width,i=a.height,o=document.createElement("canvas"),s=o.getContext("2d");switch(n>4&&n<9?(o.width=i,o.height=t):(o.width=t,o.height=i),n){case 2:s.transform(-1,0,0,1,t,0);break;case 3:s.transform(-1,0,0,-1,t,i);break;case 4:s.transform(1,0,0,-1,0,i);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,i,0);break;case 7:s.transform(0,-1,-1,0,i,t);break;case 8:s.transform(0,-1,1,0,0,t);break;default:break}s.drawImage(a,0,0),o.toBlob((function(t){return e(URL.createObjectURL(t))}),r)},a.src=t,!0};return new Promise(a)},imageChecker:function(e){var t=this,n=e.media,r=e.url,a=e.maxWidth,i=e.minWidth,o=e.maxHeight,s=e.minHeight;return new Promise((function(e,d){if("photo"===n||"gif"===n){var u=new Image;u.src=r;var c=t;u.onload=function(){if(this.width>a){var t=c.$i18n.t("message.upload_error_message_max_width",{size:a});d(new Error(t))}if(this.width<i){var n=c.$i18n.t("message.upload_error_message_min_width",{size:i});d(new Error(n))}if(this.height>o){var r=c.$i18n.t("message.upload_error_message_max_height",{size:o});d(new Error(r))}if(this.height<s){var u=c.$i18n.t("message.upload_error_message_min_height",{size:s});d(new Error(u))}e()}}else e()}))}}}},"1e52":function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("96cf");var r=n("3b8d"),a=(n("7f7f"),n("bd86")),i=n("d634"),o=n("b5e8"),s=n.n(o);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:u(u({},Object(i["q"])(["getInit"])),{},{settings:function(){return this.getInit.upload.s3},service:function(){return new s.a({apiVersion:"2006-03-01",params:{Bucket:this.settings.bucketName},useAccelerateEndpoint:!0,accessKeyId:this.settings.accessKeyId,secretAccessKey:this.settings.secretAccessKey,correctClockSkew:!0,httpOptions:{timeout:0},maxRetries:1e6})}}),methods:{getKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?this.settings.secureUploadPath:this.settings.uploadPath;return"".concat(n,"/").concat((Math.random()*(new Date).getTime()).toFixed(0),"/").concat(encodeURIComponent(e.name))},fileUpload:function(e,t,n,r){var a,i=new s.a.ManagedUpload({params:{Bucket:this.settings.bucketName,Key:this.getKey(e),Body:e,ContentType:e.type,ContentDisposition:"inline"},service:this.service,queueSize:6});return i.on("httpUploadProgress",(function(e){if("function"===typeof r){var t=Math.round(e.loaded/(.01*e.total));t!==a&&(r(t),a=t)}})),i.send((function(e,r){e?n(e):t(r)})),i},fileUploadAsync:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r=this,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.abrupt("return",new Promise((function(e){var a=new s.a.ManagedUpload({params:{Bucket:r.settings.bucketName,Key:r.getKey(t,n),Body:t,ContentType:t.type,ContentDisposition:"inline"},service:r.service,queueSize:6});a.send((function(t,n){e(t?{err:t}:n)}))})));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}}},9957:function(e,t,n){"use strict";var r=n("339e"),a=n.n(r);a.a.define({"video/avi":["avi"]}),a.a.define({"video/x-m4v":["m4v"]}),a.a.define({"video/quicktime":["mov"]},!0),a.a.define({"audio/ogg":["ogg"]},!0),a.a.define({"video/x-matroska":["mkv"]},!0),t["a"]=a.a},ad97:function(e,t,n){"use strict";n("7f7f"),n("6762"),n("2fdb");t["a"]={data:function(){return{alreadyConfirmLeave:!1}},mounted:function(){this.alreadyConfirmLeave=!1},methods:{$_checkLeave_confirm:function(e){return confirm(this[e])},routerCheckLeave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.conditionField,r=t.textField,a=t.component,i=void 0===a?"":a;return this.$router.beforeEach((function(t,a,o){if("story"===i&&["Feed","Queue","Purchased"].includes(t.name))o();else if("chat"!==i||t.path!==a.path)if(e[n]){if("checkLeaveConditionUploader"===n&&"/my/chats/send"===t.path&&"/my/chats/send"===a.path)return void o();if(e.alreadyConfirmLeave)return void o();var s=e.$_checkLeave_confirm(r);s?("Chat"!==t.name&&(e.alreadyConfirmLeave=!0),o()):o(!1)}else o();else o()}))},beforeunloadCheckLeave:function(e){var t=this,n=e.watchField,r=e.conditionField,a=e.eventField,i=e.funcField;this.$watch((function(e){return e[n]}),(function(){if(t[r]){if(!t[a]){t[a]=!0;try{window.addEventListener("beforeunload",t[i])}catch(e){t[a]=!1}}}else t[a]&&(t[a]=!1,window.removeEventListener("beforeunload",t[i]))}),{immediate:!0})}},beforeDestroy:function(){this.alreadyConfirmLeave=!1}}},ebdc:function(e,t,n){"use strict";n("6b54");var r=n("d225"),a=n("b0b4"),i=n("c1df"),o=n.n(i),s=[],d={},u=null,c=null,l=function(){function e(t,n){Object(r["a"])(this,e),this.audio=t,this.id=t.id,this.duration=n,this.isLoaded=!1}return Object(a["a"])(e,[{key:"bindAudioPlayer",value:function(e){this.audioplayer=document.getElementById("audioplayer-".concat(e)),this.playbutton=document.getElementById("playbutton-".concat(e)),this.timeline=document.getElementById("timeline-".concat(e)),this.playhead=document.getElementById("playhead-".concat(e)),this.progress=document.getElementById("progress-".concat(e)),this.currenttimeel=document.getElementById("currenttime-".concat(e)),this.durationtime=document.getElementById("durationtime-".concat(e)),this.errormessage=document.getElementById("errormessage-".concat(e)),this.timelineWidth=this.timeline.offsetWidth}},{key:"addEventListeners",value:function(){this.audio.addEventListener("timeupdate",this.timeUpdate,!1),this.audio.addEventListener("canplaythrough",this.canPlayThrough,!1),this.audio.addEventListener("onerror",this.onError,!1),this.audio.addEventListener("ended",this.onEnded,!1),this.timeline.addEventListener("click",this.timelineClick,!1),this.playbutton.addEventListener("click",this.pressPlay,!1),this.playhead.addEventListener("mousedown",this.mouseDown,!1),window.addEventListener("mouseup",this.mouseUp,!1)}},{key:"loadStart",value:function(){var e=s[d[this.id]];e.playbutton.querySelector("use").setAttribute("xlink:href","#icon-loading")}},{key:"canPlay",value:function(){var e=s[d[this.id]];e.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play")}},{key:"canPlayThrough",value:function(){var e=s[d[this.id]];e.durationtime.innerText=o()(1e3*Math.round(e.audio.duration)).format("mm:ss"),e.duration=e.audio.duration,e.audio.paused&&e.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play"),e.isLoaded=!0}},{key:"durationChange",value:function(){var e=s[d[this.id]];e.duration=this.duration}},{key:"pressPlay",value:function(e){e.stopPropagation(),e.preventDefault();var t=d[this.id];s[t].play()}},{key:"play",value:function(){this===u?(u=null,this.audio.pause(),this.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play")):(u&&(u.audio.pause(),this.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play")),this.audio.play(),u=this,this.playbutton.querySelector("use").setAttribute("xlink:href","#icon-pause"))}},{key:"onEnded",value:function(e){var t=s[d[this.id]];t.playbutton.querySelector("use").setAttribute("xlink:href","#icon-play"),t.audio.currentTime=0,t.audio.pause(),u=null}},{key:"onError",value:function(e){var t=s[d[this.id]];console.log("arg error",e),console.log("elm1 error",t.error),console.log("elm2 error",t.audio.error),t.errormessage.innerText="Error",t.errormessage.classList.remove("g-hidden"),t.errormessage.querySelector("use").setAttribute("xlink:href","#icon-alert")}},{key:"timelineClick",value:function(e){var t=s[d[this.id]];t.audio.currentTime=t.audio.duration*t.clickPercent(e,t.timeline,t.timelineWidth)}},{key:"mouseDown",value:function(e){c=this.id;var t=s[d[this.id]];window.addEventListener("mousemove",this.moveplayhead,!0),t.audio.removeEventListener("timeupdate",this.timeUpdate,!1)}},{key:"mouseUp",value:function(e){if(c){var t=s[d[c]];window.removeEventListener("mousemove",this.moveplayhead,!0),t.audio.currentTime=t.audio.duration*t.clickPercent(e,t.timeline,t.timelineWidth),t.audio.addEventListener("timeupdate",this.timeUpdate,!1)}c=null}},{key:"moveplayhead",value:function(e){var t=s[d[c]],n=e.clientX-this.getPosition(t.timeline);n>=0&&n<=t.timelineWidth&&(document.getElementById(c).style.marginLeft="".concat(n,"px")),n<0&&(this.playhead.style.marginLeft="0px"),n>t.timelineWidth&&(this.playhead.style.marginLeft="".concat(t.timelineWidth,"px"))}},{key:"timeUpdate",value:function(){var e=s[d[this.id]],t="".concat(e.audio.currentTime/e.audio.duration*100,"%");e.playhead.style.left=t,e.progress.style.width=t,e.currenttimeel.innerText=o()(1e3*Math.round(e.audio.currentTime)).format("mm:ss")}},{key:"clickPercent",value:function(e,t,n){return(e.clientX-this.getPosition(t))/n}},{key:"getPosition",value:function(e){return e.getBoundingClientRect().left}}]),e}(),f={init:function(e){if(e.id)return e.id;var t=(new Date).getTime().toString(36),n=new l(e,0),r=f.getPlayersHtml(t);return setTimeout((function(){n.isLoaded||e.load()}),1e3),e.id="audio-".concat(t),e.classList.add("g-hidden"),e.insertAdjacentHTML("afterend",r),s.push(n),n.bindAudioPlayer(t),n.addEventListeners(),f.populateComponentDictionary(),e.id},play:function(e){var t=f.init(e);s[d[t]].playbutton.click()},getPlayersHtml:function(e){return'<div id="audioplayer-'.concat(e,'" class="b-audioplayer">\n\t\t\t\t<button id="playbutton-').concat(e,'" class="b-audioplayer__btn-play">\n\t\t\t\t\t<svg aria-hidden="true" class="g-icon">\n\t\t\t\t\t\t<use xlink:href="#icon-loading"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<div id="timeline-').concat(e,'" class="b-audioplayer__timeline">\n\t\t\t\t\t<div id="playhead-').concat(e,'" class="b-audioplayer__playhead"></div>\n\t\t\t\t\t<div id="progress-').concat(e,'" class="b-audioplayer__progress"></div>\n\t\t\t\t</div>\n\t\t\t\t<div id="errormessage-').concat(e,'" class="g-hidden b-audioplayer__error-msg"></div>\n\t\t\t\t<div class="b-audioplayer__timing">\n          <span id="currenttime-').concat(e,'">00:00</span>/<span id="durationtime-').concat(e,'">00:00</span>\n\t\t\t\t</div>\n\t\t\t</div>')},populateComponentDictionary:function(){for(var e=0;e<s.length;e++)d[s[e].audio.id]=e,d[s[e].playbutton.id]=e,d[s[e].timeline.id]=e,d[s[e].playhead.id]=e}};t["a"]=f},fb78:function(e,t,n){"use strict";n("28a5"),n("ac6a"),n("456d");t["a"]={computed:{acceptFilesExt:function(){return this.acceptFilesExtByType()}},methods:{acceptFilesExtByType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.mediaConfig.ext;if(!t)return"";var n=[];return Object.keys(t).map((function(r){if(!(e.length&&e.indexOf(r)<0)){var a=t[r].split("|");a.forEach((function(e){if(-1===e.indexOf("?"))n.push(".".concat(e));else{var t=e.indexOf("?"),r=e.slice(0,t-1)+e.slice(t+1),a=e.slice(0,t)+e.slice(t+1);n.push(".".concat(r)),n.push(".".concat(a))}}))}})),n.join(",")}}}}}]);
//# sourceMappingURL=banking~chats~main~payments~settings~streaming.js.map?rev=202008311040-5a7dcf7da1