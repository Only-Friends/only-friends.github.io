(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main","bookmarks~lists","bookmarks~live"],{"0039":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-input__wrapper m-gap-sm"},[s("div",{staticClass:"b-settings__form credits-form-field"},[s("v-text-field",{staticClass:"v-tips-input",attrs:{id:"tipInput",value:e.value,min:e.min,max:e.max,step:e.step,required:"",error:!e.isCorrect,prefix:e.notEmpty||e.focusedImmediate?"$":"",label:e.label,placeholder:e.placeholder,autocomplete:"off",disabled:e.disabled,outlined:"",messages:e.notEmpty?"1":"","persistent-hint":"",hint:e.errorMsg,dark:e.isDarkModeComputed},on:{input:e.handleInput,focus:e.focus,blur:e.blur},scopedSlots:e._u([{key:"message",fn:function(){return[e.noCard?s("span",{staticClass:"tips-hint-message left blue"},[e._v(" Please add a payment card ")]):e._e(),e.focused||e.needTopUpWallet&&e.value?s("span",{staticClass:"tips-hint-message left"},[e.needTopUpWallet&&e.value?s("span",{domProps:{innerHTML:e._s(e.$t("message.top_up_wallet_msg",{MINVAL:e.min,VAL:e.tipAllowedMin,interpolation:{escapeValue:!1}}))}}):s("span",[e._v(" "+e._s(e.errorMsg)+" ")])]):e._e()]},proxy:!0}])},[e.vatValue&&e.isCorrect&&e.notEmpty?s("template",{staticClass:"suffix-wrapper",slot:"append"},[e.notEmpty&&e.vatEnabled?s("span",[s("p",{staticClass:"suffix-block top"},[e._v(" + $ "+e._s(+e.vatValue)+" (VAT) ")]),s("p",{staticClass:"suffix-block bottom"},[e._v(" Total: "),s("strong",{staticClass:"tips-hint-message__amount",class:{"m-dark-color":e.isDarkModeComputed}},[e._v(" $"+e._s(Number(e.value)?(+e.value+ +e.vatValue).toFixed(2).replace(".00",""):"0")+" USD ")])])]):e._e()]):e._e()],2)],1)])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("a481"),s("c5f6"),s("9b02")),o=s.n(a),c=s("b37e"),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"InputTips",props:{value:{type:[String,Number],required:!1},tipAllowedMin:{type:Number,required:!1,default:2},disabled:{type:Boolean,default:!1},noCard:{type:Boolean,default:!1},needTopUpWallet:{type:Boolean,default:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},step:{type:Number,required:!0},placeholder:{type:String,default:""},label:{type:String,default:""},currency:{type:String,default:"usd"},error:{type:String,default:null},vatEnabled:{type:Boolean,default:!1},forceDarkMode:{type:Boolean,default:!1}},data:function(){return{focusTimeout:null,focused:!1,focusedImmediate:!1,notEmpty:!1,price:null,vat:!1,vatValue:!1}},watch:{value:function(e){var t=e?String(e).trim().replace(/\D/g,""):"";this.maxlength&&t.length>this.maxlength&&(t=t.substr(0,this.maxlength)),this.$emit("input",t),this.notEmpty=!!t.length,this.vatEnabled&&o()(this,"authUser.vat.tips")&&Number(e)&&(this.vat=!0,this.vatValue=(Math.ceil(parseFloat(e)*parseFloat(this.authUser.vat.tips))/100).toFixed(2).replace(".00",""))}},computed:d(d(d({},Object(l["b"])(["isAuth","authUser"])),Object(l["eb"])(["isDarkMode"])),{},{isDarkModeComputed:function(){return this.isDarkMode||this.forceDarkMode},inputFilled:function(){return this.value>0},currencySymbol:function(){return c["a"].getSymbol(this.currency)},isCorrect:function(){return this.value>=this.tipAllowedMin&&this.value<=this.max||!this.notEmpty},errorMsg:function(){var e=this.currency.toUpperCase();return this.value?this.value<this.min?"Minimum ".concat(this.currencySymbol).concat(this.min," ").concat(e):this.value>this.max?"Maximum ".concat(this.currencySymbol).concat(this.max," ").concat(e):"Minimum ".concat(this.currencySymbol).concat(this.min," ").concat(e):"Minimum ".concat(this.currencySymbol).concat(this.min," ").concat(e)},topUpMsg:function(){return this.$i18n.t("message.top_up_wallet_msg",{VALUE:this.value,MINVAL:this.min})}}),methods:{handleInput:function(e){this.$emit("input",e)},clearInput:function(){this.$emit("input","")},focus:function(){this.focusedImmediate=!0,clearTimeout(this.focusTimeout),this.focused=!0},blur:function(){var e=this;this.focusedImmediate=!1,this.focusTimeout=setTimeout((function(){e.focused=!1}),150)}}},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},"00a0":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"ModalRestore","modal-class":"modal-restore","hide-footer":!0,centered:"","body-class":"m-footer-inside-body"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.forgot_password_title"))+" ")])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.doRestore(t)}}},[s("div",{staticClass:"modal-body"},[s("p",{staticClass:"m-mb-20"},[e._v(e._s(e.$t("message.forgot_password_text")))]),s("div",{staticClass:"g-input__wrapper m-reset-bottom-gap"},[s("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:e.$t("message.email_placeholder"),autocomplete:!1,"auto-grow":"",outlined:"",name:"email",type:"email",error:e.validEmailMessage,"error-messages":e.validEmailMessage},model:{value:e.email,callback:function(t){e.email="string"===typeof t?t.trim():t},expression:"email"}})],1),s("div",{staticClass:"captcha_wrapper",attrs:{id:"captcha_restore_wrapper"}})]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(t){e.show=!1}}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"submit",disabled:e.disabled}},[e._v(" "+e._s(e.$t("message.send_button"))+" ")])])])],2)},r=[],n=(s("96cf"),s("3b8d")),a=s("9b02"),o=s.n(a),c=s("2612"),l=s("fece"),u=s("09e4"),d={name:"ModalRestore",mixins:[l["a"]],props:{currentEmail:{type:String,default:""}},data:function(){return{action:"restore",captchaWrapperId:"captcha_restore_wrapper",show:!1,email:"",requestInProgress:!1}},computed:{disabled:function(){return!this.fields.email||this.fields.email.invalid||this.formDisabled||this.requestInProgress},validEmailMessage:function(){return this.errors.first("email")}},watch:{show:function(e){e&&(this.needToLoadRecaptcha=!0),this.V2rendered=!1,this.formDisabledV2=!1}},mounted:function(){this.currentEmail&&(this.email=this.currentEmail)},methods:{doRestore:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabled){e.next=2;break}return e.abrupt("return");case 2:return t={email:this.email,"v3-recaptcha-response":this["v3-recaptcha-response"],"g-recaptcha-response":this["g-recaptcha-response"]},e.prev=3,this.requestInProgress=!0,this.$window.showPreloader(),e.next=8,Object(c["o"])(t);case 8:s=e.sent,this.requestInProgress=!1,this.$window.hidePreloader(),s&&s.success&&(this.show=!1,alert(this.$i18n.t("message.restore_check_email_message"))),e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](3),this.requestInProgress=!1,this.$window.hidePreloader(),Object(u["a"])(e.t0,this.errorHandler);case 19:case"end":return e.stop()}}),e,this,[[3,14]])})));function t(){return e.apply(this,arguments)}return t}(),errorHandler:function(e){if(o()(e,"data.error")){if(this.maybeInitV3Captcha(),102===e.data.error.code)return void this.initV2Captcha();this.V2rendered&&this.initV2Captcha(),Object(u["b"])(e)}}}},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},"034f":function(e,t,s){"use strict";var i=s("85ec"),r=s.n(i);r.a},"0463":function(e,t,s){"use strict";var i=s("8d4a"),r=s.n(i);r.a},"04fc":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"PostStatModal",attrs:{id:"PostStatModal"+e.postId,"hide-footer":!0,centered:"","header-class":"m-border-header",size:"lg"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.post_stat_modal_title"))+" ")]),s("button",{staticClass:"b-modal__close m-with-round-hover",on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})])]),e.statsData.isAvailable?e.statsData.hasStats?[s("div",{staticStyle:{width:"100%",height:"150px"},attrs:{id:"chart"}}),s("div",{staticClass:"stream-chart-scale m-no-border"},e._l(e.arr,(function(t){return s("span",{key:t,staticClass:"stream-chart-scale__item"},[e._v(e._s(t))])})),0),s("div",{staticClass:"b-stats-row__content"},[void 0!==e.statsData.purchasedSumm&&void 0!==e.statsData.purchasedCount?[s("div",{staticClass:"b-stats-row__label m-border-line m-purchases"},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_post_purchases_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.statsData.purchasedSumm.toLocaleString("en-US",{style:"currency",currency:"USD"}))+" "),e.statsData.purchasedCount?s("span",[e._v("("+e._s(e.statsData.purchasedCount)+")")]):e._e()])])]:e._e(),s("div",{staticClass:"b-stats-row__label m-border-line m-viewers",class:{"m-current":"look"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="look"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_viewers_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.statsData.hasVideo?e.statsData.videoPlayCount:e.statsData.lookCount)+" ")])]),s("div",{staticClass:"b-stats-row__label m-border-line m-likes",class:{"m-current":"like"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="like"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_likes_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.statsData.likeCount)+" ")])]),s("div",{staticClass:"b-stats-row__label m-border-line m-comments",class:{"m-current":"comment"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="comment"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_comments_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.statsData.commentCount)+" ")])]),s("div",{staticClass:"b-stats-row__label m-border-line m-tips",class:{"m-current":"tip"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="tip"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_tips_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.statsData.tipSum.toLocaleString("en-US",{style:"currency",currency:"USD"}))+" "),e.statsData.tipCount?s("span",[e._v("("+e._s(e.statsData.tipCount)+")")]):e._e()])]),s("div",{staticClass:"b-stats-row__label m-border-line m-duration"},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_duration__title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.dur)+" ")])]),s("div",{staticClass:"b-stats-row__label m-border-line m-duration"},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_avarage_duration__title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.durAv)+" ")])])],2)]:s("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("message.post_stat_no_stats"))+" ")]):s("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("message.post_stat_unavailable"))+" ")])],2)},a=[],o=s("75fc"),c=(s("7514"),s("d634")),l=(s("eebe"),s("3217"),s("c1df")),u=s.n(l),d=s("4623"),h=s.n(d);function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={type:"serial",categoryField:"date",theme:"default",fontFamily:"Open Sans",color:"#7c8b96",autoDisplay:!1,autoMargins:!1,marginBottom:0,marginTop:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1,axisColor:"#fff",axisAlpha:.2,startOnAxis:!0,gridAlpha:0,tickLength:0},valueAxes:[{labelsEnabled:!1,axisThickness:0,dashLength:6,tickLength:0,gridAlpha:.1,gridColor:"#7c8b96",zeroGridAlpha:0,autoGridCount:!1,gridCount:4}],graphs:[{animationPlayed:!0,fillAlphas:0,lineColor:"#ffa000",type:"smoothedLine",fillColors:["#ffa000","rgba(0,0,0,0)"],valueField:"like",lineThickness:1.5,lineAlpha:.5},{animationPlayed:!0,fillAlphas:0,lineColor:"#ec407a",fillColors:["#ec407a","rgba(0,0,0,0)"],type:"smoothedLine",valueField:"look",lineThickness:1.5,lineAlpha:.5},{animationPlayed:!0,fillAlphas:0,lineColor:"#00bcd4",fillColors:["#00bcd4","rgba(0,0,0,0)"],type:"smoothedLine",valueField:"tip",lineThickness:1.5,lineAlpha:.5},{animationPlayed:!0,fillAlphas:0,lineColor:"#7cb342",fillColors:["#7cb342","rgba(0,0,0,0)"],type:"smoothedLine",valueField:"comment",lineThickness:1.5,lineAlpha:.5}],dataProvider:[]};h()(u.a);var b={name:"PostStatModal",data:function(){return{timer:0,arr:[],timeout:null,currentClickedRow:"look"}},props:{postId:{required:!0},startTime:{required:!0,type:String}},computed:m(m(m({},Object(c["Ob"])(["modalUser","getUser"])),{},{user:function(){return this.getUser(this.modalUser)}},Object(c["R"])(["statsData","loading","error"])),{},{chartSettings:function(){var e=this,t=f.graphs,s=t.filter((function(t){return t.valueField!==e.currentClickedRow})),i=t.find((function(t){return t.valueField==e.currentClickedRow}));return m(m({},f),{},{graphs:[].concat(Object(o["a"])(s),[m(m({},i),{},{lineThickness:3,lineAlpha:1})])})},dur:function(){if(this.statsData){var e=this.statsData.hasVideo?this.statsData.videoPlayDuration:this.statsData.lookDuration;return u.a.duration(e/1e3,"seconds").format()}return 0},durAv:function(){if(this.statsData){var e=this.statsData.hasVideo?this.statsData.videoPlayDurationAverage:this.statsData.lookDurationAverage;return u.a.duration(e/1e3,"seconds").format()}return 0}}),watch:{error:function(){this.error&&this.close()},currentClickedRow:function(){this.buildChart()}},mounted:function(){var e=this;this.setParams(),this.chartScaleUnits(),setTimeout((function(){e.buildChart()}),100)},beforeDestroy:function(){clearTimeout(this.timeout),this.CHART&&this.CHART.destroy()},methods:{close:function(){this.$refs.PostStatModal.hide()},setParams:function(){var e="sm"===this.$mq?2:4;this.start=new Date(this.startTime).getTime(),this.end=Date.now(),this.duration=this.end-this.start,this.format=this.duration<86400?"hh:mm a":"DD MMM hh:mm a",this.barCount=this.duration/1e3<47?this.duration/1e3:47,this.scale=this.duration<e?this.duration:e,this.streamScaleUnit=this.duration/this.scale,this.streamUnitTime=this.duration/this.barCount},buildChart:function(){var e=this;this.CHART=AmCharts.makeChart("chart",this.chartSettings),this.CHART.dataProvider=[];for(var t=0;t<this.barCount;t+=1)this.CHART.dataProvider.push({date:Math.round(this.start+t*this.streamUnitTime),look:0,like:0,tip:0,comment:0});this.timeout=setTimeout((function(){e.prepareData("comment"),e.prepareData("like"),e.prepareData("look"),e.prepareData("tip"),e.CHART.validateData()}),1e3)},prepareData:function(e){var t=this,s="".concat(e,"All"),i=this.statsData[s],r={};for(var n in i.forEach((function(e){for(var s=new Date(e).getTime(),i=0,n=0,a=0;a<t.barCount;a+=1){var o=Math.abs(t.CHART.dataProvider[a].date-s);(0===a||i>o)&&(i=o,n=a)}r[n]=(r[n]||0)+1})),r)this.CHART.dataProvider[n][e]=r[n];this.CHART.dataProvider.forEach((function(s,i){i>0&&(t.CHART.dataProvider[i][e]+=t.CHART.dataProvider[i-1][e])}))},chartScaleUnits:function(){for(var e=0;e<=this.scale;e+=1){var t=u()(this.start+Math.round(e*this.streamScaleUnit)).format(this.format);this.arr=[].concat(Object(o["a"])(this.arr),[t])}}}},v=b,g=(s("c7be"),s("2877")),_=Object(g["a"])(v,n,a,!1,null,null,null),y=_.exports;function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={name:"PostStatsMixin",components:{PostStatModal:y},data:function(){return{showPostStatModal:!1}},methods:O(O({},Object(c["Q"])(["fetchStat","resetStat"])),{},{openPostStat:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$window.showPreloader(),this.resetStat(),e.next=4,this.fetchStat(this.postId);case 4:this.$root.$emit("bv::show::modal","PostStatModal"+this.postId),this.$window.hidePreloader();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hidePostStat:function(){this.resetStat()}}),computed:O(O(O({},Object(c["R"])(["statsData"])),Object(c["T"])(["activePostId"])),{},{postId:function(){return this.activePostId||this.post.id}})}},"053c":function(e,t,s){"use strict";var i=s("188d"),r=s.n(i);r.a},"0687":function(e,t,s){"use strict";t["a"]={methods:{openCustomNamePopup:function(e){var t=this;this.setModalUser({userId:e}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalCustomName")}))}}}},"0a2a":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-btn m-rounded m-block m-uppercase",class:{"m-border":e.params.btnClass},attrs:{role:"button"},on:{click:e.params.handler}},[s("span",{staticClass:"b-btn-text",domProps:{innerHTML:e._s(e.text||e.params.btnText)}}),e.user.subscribePrice&&!1!==e.isExpiredNow?e._e():s("modal-confirm",{attrs:{"modal-show":e.isResubscribeConfirmShow,title:this.$i18n.t("message.dialog_resubscribe_title"),text:this.$i18n.t("message.dialog_resubscribe_desc_new",{AMOUNT:"<strong>"+e.amountHumanShort(e.user.subscribePrice)+"</strong>",DATE:"<strong>"+e.expiredDateHuman+"</strong>"}),"agree-btn":this.$i18n.t("message.confirm_yes_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isResubscribeConfirmShow=t},"update:modal-show":function(t){e.isResubscribeConfirmShow=t},"on-agree":e.doResubscribe}}),e.waitForExpire?s("modal-confirm",{attrs:{"modal-show":e.isEnableRenewConfirmShow,title:this.$i18n.t("message.renewal_confirmation"),text:this.$i18n.t("message.renewal_confirmation_desc",{NAME:e.user.name,AMOUNT:"<strong>"+e.amountHumanShort(e.user.subscribePrice)+"</strong>"}),"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isEnableRenewConfirmShow=t},"update:modal-show":function(t){e.isEnableRenewConfirmShow=t},"on-agree":e.doEnableRenew}}):e._e(),e.isExpiredNow&&e.user.isSuspended?s("modal-confirm",{attrs:{"modal-show":e.isSuspendedSubscribeConfirmShow,title:this.$i18n.t("message.renewal_confirmation"),text:this.$i18n.t("message.subscribe_suspended_confirm_popup",{LAST_POST_DATE:e.lastPostDate}),"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isSuspendedSubscribeConfirmShow=t},"update:modal-show":function(t){e.isSuspendedSubscribeConfirmShow=t},"on-agree":e.openSubscribeModal}}):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("96cf"),s("3b8d")),a=(s("386d"),s("7f7f"),s("bd86")),o=s("c1df"),c=s.n(o),l=s("d634"),u=s("2612"),d=s("8b3f"),h=s("1db1"),p=s("64dc"),m=s("09e4");function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var v={name:"SubscribeBtn",components:{ModalConfirm:d["a"]},mixins:[h["a"],p["a"]],props:{text:{type:String,default:""}},data:function(){return{isResubscribeConfirmShow:!1,isEnableRenewConfirmShow:!1,isSuspendedSubscribeConfirmShow:!1}},computed:b(b({},Object(l["b"])(["isAuth","authUserId","authUser","subscriptionInitiated"])),{},{isAuthUser:function(){return this.authUserId===this.id},expiredDateHuman:function(){return this.subscribe?c()(this.subscribe.expiredAt).format("MMM D, YYYY"):this.user.subscribedByExpireDate?c()(this.user.subscribedByExpireDate).format("MMM D, YYYY"):""},lastPostDate:function(){return this.subscribe&&this.subscribe.lastPostDate?c()(this.subscribe.lastPostDate).format("MMM D, YYYY"):""}}),mounted:function(){this.subscriptionInitiated||(-1!==window.location.hash.indexOf("#subscribeModal")&&(this.isAuthUser||this.user.subscribedBy||this.openSubscribeModal()),"Profile"===this.$route.name&&-1!==window.location.search.indexOf("?enable_renew=1")&&(this.isAuthUser||(!0===this.isExpiredNow?this.openSubscribeModal():this.waitForExpire&&(this.isEnableRenewConfirmShow=!0))))},methods:b(b(b(b(b(b({},Object(l["Sb"])(["setModalUser"])),Object(l["Nb"])(["fetchSubscriptionsCount"])),Object(l["Ib"])(["updateSubscribe"])),Object(l["i"])(["fetchChat"])),Object(l["c"])(["setSubscriptionInitiated"])),{},{subscribeFinish:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=14;break}if(this.updateSubscribe(t),this.fetchSubscriptionsCount(),"Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name&&"Post"!==this.$route.name){e.next=7;break}this.fetchProfileData(this.id),e.next=14;break;case 7:if("Chat"!==this.$route.name){e.next=13;break}return e.next=10,this.fetchChat(this.id);case 10:this.$emit("hide-dropdown"),e.next=14;break;case 13:"SubscribesByType"===this.$route.name&&this.removeSubscribe(this.id);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openSubscribeModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isAuthUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.setModalUser({userId:this.id});case 4:if(this.isAuth){e.next=8;break}this.$root.$emit("bv::show::modal","ModalSubscribe"),e.next=31;break;case 8:if(!this.user.subscribePrice){e.next=12;break}!1===this.isExpiredNow?this.isResubscribeConfirmShow=!0:this.$root.$emit("bv::show::modal","ModalSubscribe"),e.next=31;break;case 12:if(!this.user.isAdultContent||this.authUser.isMakePayment||this.authUser.isPaymentCardConnected){e.next=16;break}this.$root.$emit("bv::show::modal","ModalSubscribe"),e.next=31;break;case 16:return e.prev=16,this.setSubscriptionInitiated(!0),window.showPreloader(),e.next=21,Object(u["gb"])(this.id);case 21:t=e.sent,window.hidePreloader(),this.setSubscriptionInitiated(!1),this.subscribeFinish(t),e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](16),window.hidePreloader(),Object(m["b"])(e.t0);case 31:case"end":return e.stop()}}),e,this,[[16,27]])})));function t(){return e.apply(this,arguments)}return t}(),doEnableRenew:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.history.replaceState(null,"",window.location.href.replace(window.location.search,"")),t=this.id,e.next=4,this.autoprolongToggle({id:t});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openUnsubscribeModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.id,this.user.canAddSubscriber){e.next=7;break}return e.next=4,this.setModalUser({userId:t});case 4:this.$root.$emit("bv::show::modal","ModalUnsubscribe"),e.next=24;break;case 7:if(!this.user.isSuspended){e.next=17;break}if(!this.isExpiredNow){e.next=12;break}this.isSuspendedSubscribeConfirmShow=!0,e.next=15;break;case 12:return e.next=14,this.setModalUser({userId:t});case 14:this.$root.$emit("bv::show::modal","ModalUnsubscribe");case 15:e.next=24;break;case 17:if(!this.waitForExpire){e.next=21;break}this.autoprolongToggle({id:t}),e.next=24;break;case 21:return e.next=23,this.setModalUser({userId:t});case 23:this.$root.$emit("bv::show::modal","ModalUnsubscribe");case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doResubscribe:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["ab"])(this.id);case 3:t=e.sent,this.subscribeFinish(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Object(m["b"])(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()})},g=v,_=s("2877"),y=Object(_["a"])(g,i,r,!1,null,null,null);t["a"]=y.exports},"0c50":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-dropzone__preview",class:{"m-loaded":100===e.file.progress||"tip"===e.file.mediaType,"m-audio":"audio"===e.file.mediaType,"m-tip":"tip"===e.file.mediaType,"m-error":e.file.error}},[e.file.error?e._e():[e.file.url?["photo"===e.file.mediaType||"gif"===e.file.mediaType?s("a",{ref:"linkElement",staticClass:"media-file",attrs:{href:e.file.url},on:{click:function(t){return t.preventDefault(),e.openPreview(t)}}},[s("img",{ref:"fileImg",staticClass:"b-dropzone__preview__media",attrs:{src:e.file.url,alt:e.file.name,title:e.file.name},on:{load:e.loaded}})]):e._e(),"video"===e.file.mediaType&&100===e.file.progress&&"DELETE"===e.file.deleteType?[e.file.processId?e._e():s("a",{staticClass:"js-dropzone__video-lightbox-link",attrs:{href:e.uploadedVideoUrl},on:{click:function(t){return t.preventDefault(),e.openPreview(t)}}},[s("img",{staticClass:"b-dropzone__preview__media",attrs:{alt:e.file.name,title:e.file.name,src:e.videoPoster}}),s("span",{staticClass:"b-dropzone__preview__play-btn"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-play"})])]),e.file.processId&&(e.file.size<e.previewFileLimit||e.file.thumbs&&e.file.thumbs.length)?s("span",{staticClass:"media-file"},[s("video",{staticClass:"b-dropzone__preview__media m-video",attrs:{poster:e.videoPoster}},[s("source",{attrs:{type:e.file.type,src:e.file.url}})])]):e._e(),e.showChoosePreviewBtn?[s("span",{staticClass:"g-btn m-rounded m-icon m-icon-only m-sm-size m-flex m-colored m-cover-btn",on:{click:function(t){return e.chooseCover(e.file.processId||e.file.id)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-eye",attrs:{"extra-class":"m-aligned-top"}})]),s("button",{staticClass:"b-dropzone__preview__edit",attrs:{type:"button",title:"Preview"},on:{click:function(t){return e.chooseCover(e.file.processId||e.file.id)}}},["sm"!==e.$mq?[e._v(" "+e._s(e.$t("message.preview_button_text"))+" ")]:e._e(),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-edit"})],2),s("cover-picker",{attrs:{id:e.file.processId||e.file.id,thumbs:e.file.thumbs,selectedIndex:e.file.thumbId},on:{save:e.updateThumbId}})]:e._e(),e.file.processId&&e.file.size>=e.previewFileLimit&&!e.file.thumbs?s("span",{staticClass:"b-dropzone__preview__name"},[e._v(" "+e._s(e.file.name)+" ")]):e._e(),e.showIconPlay?s("span",{staticClass:"b-dropzone__preview__play-btn"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-play",staticClass:"icon-play"})]):e._e()]:e._e()]:e._e(),"tip"!==e.file.mediaType&&100!==e.file.progress?s("span",{staticClass:"b-dropzone__preview__progress-wrapper"},[s("span",{staticClass:"b-dropzone__preview__progress",style:{width:e.file.progress+"%"}})]):e._e(),"video"===e.file.mediaType&&e.file.progress<100?s("span",{staticClass:"b-chat__message__media__processing-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-loading",staticClass:"icon-loading"})]):e._e()],e.file.error||(!e.file.url||"video"===e.file.mediaType&&e.file.size>=e.previewFileLimit&&!e.file.thumbs)&&"tip"!==e.file.mediaType?s("span",{staticClass:"b-dropzone__preview__name"},[e._v(" "+e._s(e.file.name)+" ")]):e._e(),e.file.error?s("span",{staticClass:"b-dropzone__preview__error-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-alert",staticClass:"icon-alert"})]):e._e(),"tip"!==e.file.mediaType&&e.canEditMedia?s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",disabled:e.sendMessageLoading,title:"Delete"},on:{click:function(t){return t.preventDefault(),e.deleteFile(e.file,e.index)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-close",staticClass:"icon-close"})]):e._e(),"photo"===e.file.mediaType&&e.canEditMedia&&e.authUser.enabledImageEditorForChat&&e.showEditor?s("button",{staticClass:"b-dropzone__preview__edit",attrs:{type:"button",title:"Edit new"},on:{click:e.openImageEditor}},[e._v(" Edit "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-edit"})]):e._e(),e.file.error?e._e():["video"===e.file.mediaType&&e.file.size<e.previewFileLimit?s("span",{staticClass:"js-dropzone__video-lightbox-link media-file"},[s("video",{staticClass:"b-dropzone__preview__media m-video",attrs:{poster:e.file.thumbs&&e.file.thumbs.length?e.file.thumbs[0].url:""}},[s("source",{attrs:{type:e.file.type,src:e.file.url}})]),e.showIconPlay?s("span",{staticClass:"b-dropzone__preview__play-btn"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-play",staticClass:"icon-play"})]):e._e()]):e._e(),"audio"===e.file.mediaType?s("audio",{ref:"audio",staticClass:"g-hidden",attrs:{controlslist:"nodownload"}},[s("source",{attrs:{type:e.file.type,src:e.file.url}})]):e._e()],"tip"===e.file.mediaType?[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-funds",staticClass:"icon-funds"}),e._v(" "+e._s(e.$t("message.chat_message_on_tip_new",{SUMM:e.file.value.toFixed(2).replace(".00","")}))+" "),s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",title:"Delete"},on:{click:function(t){return e.deleteTip(e.index)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])]:e._e()],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("7f7f"),s("7514"),s("bd86")),o=(s("c5f6"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"coverPicker-"+this.id,attrs:{id:"coverPicker-"+this.id,"hide-header":!0,"hide-footer":!0,scrollable:"lg"!==e.$mq,centered:"lg"===e.$mq,"modal-class":"story-highlights","dialog-class":"story-highlights-dialog","content-class":"story-highlights-content"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"g-page__header"},[s("button",{staticClass:"g-page__header__btn m-with-round-hover",on:{click:e.close}},[s("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-back"}})])]),s("div",{staticClass:"g-page-title"},[e._v(" "+e._s(e.$t("message.choose_cover_picture"))+" ")]),s("div",{staticClass:"btns-highlights"},[s("button",{staticClass:"g-btn m-rounded",on:{click:e.save}},[e._v(" "+e._s(e.$t("message.save"))+" ")])])]),s("div",{staticClass:"modal-body"},[s("perfect-scrollbar",{staticClass:"b-photos m-custom-scrollbar m-highlights-wrapper"},e._l(e.thumbs,(function(t){return s("div",{key:t.id,staticClass:"b-photos__item m-highlight m-checkbox-control",class:{selected:t.id===e.thumbId},on:{click:function(s){return e.selectCover(t.id)}}},[s("div",{staticClass:"checkbox-item m-pos-left-bottom"},[s("span",{staticClass:"checkbox-item__num"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done",attrs:{"extra-class":"m-aligned-top"}})])]),s("img",{staticClass:"b-photos__item__img",attrs:{src:t.url,alt:""}})])})),0)],1)])}),c=[],l=s("b304"),u=(s("912b"),s("0f32"),{components:{BackToTopBtn:l["a"]},data:function(){return{show:!1,thumbId:1}},props:{id:{required:!0},thumbs:{required:!0},selectedIndex:{default:1}},computed:{},methods:{close:function(){this.$refs["coverPicker-".concat(this.id)].hide()},save:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("save",this.thumbId),this.$refs["coverPicker-".concat(this.id)].hide();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectCover:function(e){this.thumbId=e}},mounted:function(){},watch:{show:function(){this.show&&(this.thumbId=this.selectedIndex)}}}),d=u,h=s("2877"),p=Object(h["a"])(d,o,c,!1,null,null,null),m=p.exports,f=s("ebdc"),b=s("d634"),v=s("06f2");s("0644");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y={name:"UploadPreview",mixins:[v["a"]],components:{CoverPicker:m},props:{file:{type:Object,required:!0},index:{type:Number,required:!0},post:{type:Object,default:function(){}},showEditor:{type:Boolean,default:!0},filesCount:{type:Number,default:1},searchFace:{type:Boolean,default:!1}},data:function(){return{galleryIndex:null,previewFileLimit:2e7,editorOpened:!1}},computed:_(_(_({},Object(b["j"])(["sendMessageLoading"])),Object(b["b"])(["authUser"])),{},{videoPoster:function(){var e=this;if(this.file.thumbs&&this.file.thumbs.length){var t=this.file.thumbs.find((function(t){return t.id===e.file.thumbId}));return t?t.url:this.file.thumbs[0].url}return""},galleryMedia:function(){var e=this,t=[];if("photo"===this.file.mediaType||"gif"===this.file.mediaType||"video"===this.file.mediaType&&!this.file.processId){var s=this.file.url,i=this.file.url;if("video"===this.file.mediaType&&!this.file.processId&&this.file.thumbs&&this.file.thumbs.length){var r=this.file.thumbs.find((function(t){return t.id===e.file.thumbId}));s=r?r.url:s,i=r?r.url:i}t.push({src:i,thumbnail:s,w:this.file.width,h:this.file.height,orientation:this.file.orientation,rotation:this.file.rotation})}return t},uploadedVideoUrl:function(){return this.file.videoUploadHost&&this.file.previewUrl?"https://".concat(this.file.videoUploadHost).concat(this.file.url):this.file.url},showIconPlay:function(){return!this.file.error},canEditMedia:function(){return!this.post||!this.post.hasOwnProperty("canEditMedia")||this.post.canEditMedia},showChoosePreviewBtn:function(){return this.file.thumbs&&this.file.thumbs.length>1&&"ChatsSend"!==this.$route.name}}),mounted:function(){this.renderAudio()},methods:{deleteFile:function(e,t){this.$emit("deleteFile",{file:e,index:t})},openImageEditor:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s.file.url||!/^blob:/.test(s.file.url)){e.next=2;break}return e.abrupt("return",s.file.url);case 2:return window.showPreloader(),e.next=5,new Promise((function(e,t){var i=new XMLHttpRequest;i.responseType="arraybuffer",i.onload=function(t){e(i.response)},i.onerror=function(e){t(e)},i.open("GET",s.file.sourceUrl||s.file.url,!0),i.send()}));case 5:return t=e.sent,window.hidePreloader(),i=s.figureoutExif(t),e.abrupt("return",s.rotateImage({url:window.URL.createObjectURL(new Blob([i.result])),orientation:i.orientation,type:s.file.type}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,t();case 3:this.file.url=e.sent,this.imageEditor(this.file);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),imageEditor:function(e){var t=this;this.$imageEditor.$installFile(e,{disableGifs:this.filesCount>1}).then((function(e){e.asCopy?t.saveAsCopyEditedImage(e.file):t.saveEditedImage(e.file,t.index)})).catch((function(e){console.log("file closed",e)})).finally((function(){t.file.sourceUrl&&window.URL.revokeObjectURL(t.file.url)}))},updateThumbId:function(e){this.$emit("updateThumbId",e)},deleteTip:function(e){this.$emit("deleteTip",e)},saveEditedImage:function(e,t){this.$emit("saveEditedImage",e,t)},saveAsCopyEditedImage:function(e){this.$emit("saveAsCopyEditedImage",e)},onCloseImageEditor:function(){this.editorOpened=!1},setGalleryIndex:function(e){this.galleryIndex=e},renderAudio:function(){var e=this;this.$nextTick((function(){e.$refs.audio&&f["a"].init(e.$refs.audio)}))},openPreview:function(e){e.preventDefault(),e.stopPropagation(),this.$emit("openPreview",this.galleryMedia)},loaded:function(e){if(e){var t=e.srcElement;t.naturalWidth&&t.naturalHeight&&(this.file.width=t.naturalWidth,this.file.height=t.naturalHeight)}},chooseCover:function(e){this.$root.$emit("bv::show::modal","coverPicker-".concat(e))}}},w=y,O=(s("5144"),Object(h["a"])(w,i,r,!1,null,null,null));t["a"]=O.exports},"0cc8":function(e,t,s){},1384:function(e,t,s){},1577:function(e,t,s){"use strict";var i=s("d5ea"),r=s.n(i);r.a},"16d9":function(e,t,s){"use strict";t["a"]={methods:{scrollToTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,s=void 0===t?"smooth":t;if(window.pageYOffset>0)try{window.scrollTo({top:0,behavior:s})}catch(i){if(!(i instanceof TypeError))throw i;window.scrollTo(0,0)}},scrollTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,s=void 0===t?"smooth":t,i=e.top;window.innerWidth>767&&(i=Math.max(i-48,0));try{window.scrollTo({top:i,behavior:s})}catch(r){if(!(r instanceof TypeError))throw r;window.scrollTo(0,i)}},scrollToBottom:function(){this.$nextTick((function(){window.scrollTo(0,document.body.scrollHeight)}))},scrollToElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,s=void 0===t?"smooth":t,i=e.el,r=e.offset,n=void 0===r?0:r,a=e.offsetDesktop,o=void 0===a?48:a;if(i){var c=i.getBoundingClientRect().top+window.scrollY;"sm"!==this.$mq&&(c-=o),n&&(c-=n);try{window.scrollTo({top:c,behavior:s})}catch(l){if(!(l instanceof TypeError))throw l;window.scrollTo(0,c)}}}}}},"16eb":function(e,t,s){"use strict";var i=s("2710"),r=s.n(i);r.a},1793:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"video-js vjs-default-skin g-hidden b-chat__video-message__preview",attrs:{id:e.videoStreamId}},[s("video",{staticClass:"vjs-tech",attrs:{id:"video-message-el",playsinline:"",autoplay:"",muted:""},domProps:{muted:!0}}),s("button",{staticClass:"vjs-record-button vjs-control vjs-button vjs-icon-record-start",attrs:{type:"button",title:"Record","aria-disabled":"false"}},[s("span",{staticClass:"b-chat__videorec-btn__icon-rec"}),s("svg",{staticClass:"svg-progress",attrs:{width:"60",height:"60",viewBox:"0 0 60 60"}},[s("circle",{staticClass:"progress__meter",attrs:{cx:"30",cy:"30",r:"28","stroke-width":"4"}}),s("circle",{staticClass:"progress__value",attrs:{cx:"30",cy:"30",r:"28","stroke-width":"4"}})])]),s("button",{staticClass:"g-btn-close js-video-message-close m-light",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),s("div",{staticClass:"b-chat__videorec-live-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"})]),s("div",{staticClass:"b-chat__videorec-live-label g-hidden"},[e._v(" REC ")]),s("div",{staticClass:"b-chat__videorec-title"},[e._v(" RECORD VIDEO message ")]),s("div",{staticClass:"b-chat__videorec-orientation-notice"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-orientation"}),e._v(" Please set screen orientation before start ")]),e._m(0)]),s("video",{staticClass:"video-js vjs-default-skin g-hidden b-chat__video-message__preview",attrs:{id:e.videoId}})])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vjs-current-time vjs-time-control vjs-control",staticStyle:{display:"block"}},[s("span",{staticClass:"vjs-current-time-display",attrs:{"aria-live":"off",role:"presentation"}})])}],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("2b0e"),c=(s("7514"),s("75fc")),l=(s("6762"),s("2fdb"),s("7f7f"),s("4917"),s("3b2b"),s("a481"),s("f0e2")),u=s("c1df"),d=s.n(u),h=s("56d7"),p={controls:!0,width:320,height:240,fluid:!1,plugins:{record:{audio:!0,video:!0,maxLength:300,debug:!0}},controlBar:{fullscreenToggle:!1,volumePanel:!1,pipToggle:!1,deviceButton:!1,pictureInPictureToggle:!0}},m=!!(window&&window.MediaRecorder&&"function"===typeof window.MediaRecorder.isTypeSupported&&window.Blob),f=function(e){var t=!0,s=!0;e.forEach((function(e,i){var r,n,a="";if("videoinput"===e.kind)r=e.label?e.label.replace(/ *\([^)]*\) */g,""):"Camera ".concat(i),n=document.querySelector(".js-video-menu ul"),t&&(t=!1,a="m-active");else{if("audioinput"!==e.kind)return;r=e.label?e.label.replace(/ *\([^)]*\) */g,""):"Microphone ".concat(i),n=document.querySelector(".js-audio-menu ul"),s&&(s=!1,a="m-active")}var o=document.createElement("li"),c=document.createElement("a");c.dataset.id=i,c.classList.add("b-streaming__mic-select__option"),a&&c.classList.add(a),c.innerHTML='<span class="b-dropdown__icon"><svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-done"></use></svg></span>'.concat(r),o.appendChild(c),n.appendChild(o)}))},b=function(e,t,s){var i=2*Math.PI*28,r=s.querySelector(".progress__value"),n=Math.round(e/t*100);r.style.strokeDashoffset=i*(1-n/100),r.style.strokeDasharray=i},v=function(e,t){var s="",i=new RegExp("(.*?)(?=;|$)","gi"),r=e.type.match(i)[0];switch(r){case"audio/ogg":s="ogg";break;case"audio/webm":s="webm";break;case"video/webm":case"video/mp4":s="mp4";break;case"audio/wav":s="wav";break;case"video/x-matroska":s="mkv";break;default:s="mp3";break}try{return new File([e],"".concat(t,".").concat(s),{type:e.type})}catch(a){var n=new Blob([e],{type:e.type});return n.name="".concat(t,".").concat(s),Sentry.captureException(a),n}},g=null,_=window.innerWidth<768,y=function(e){var t,s=document.querySelector("#fileupload_photo"),i=v(e,"videorecord_".concat(g,"_").concat(d()().format("YYYYMMDDHHmmss")));window.CustomEvent?t=new CustomEvent("selectFile",{detail:{file:i}}):(t=document.createEvent("CustomEvent"),t.initCustomEvent("selectFile",!0,!0,{file:i})),s.disabled=!1,s.dispatchEvent(t)},w=function(e,t){e.classList.toggle("m-live",!t),e.querySelector(".b-chat__videorec-title").classList.toggle("g-hidden",!t),e.querySelector(".b-chat__videorec-orientation-notice").classList.toggle("g-hidden",!t),e.querySelector(".b-chat__videorec-live-icon").classList.toggle("m-live",!t),e.querySelector(".vjs-current-time").classList.toggle("g-hidden",t),e.querySelector(".b-chat__videorec-live-label").classList.toggle("g-hidden",t)},O=function(e){e.querySelector(".b-streaming__mic-select__btn").classList.add("g-hidden"),e.querySelector(".b-streaming__video-select__btn").classList.add("g-hidden"),e.querySelector(".vjs-record-button").innerHTML='<svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-stop"></use></svg>\n        <svg class="svg-progress" width="60" height="60" viewBox="0 0 60 60">\n          <circle class="progress__meter" cx="30" cy="30" r="28" stroke-width="4"></circle>\n          <circle class="progress__value" cx="30" cy="30" r="28" stroke-width="4"></circle>\n          </svg>',document.querySelector(".contact_button").classList.add("g-hidden"),w(e,!1)},C=function(e){e.querySelector(".b-streaming__mic-select__btn").classList.remove("g-hidden"),e.querySelector(".b-streaming__video-select__btn").classList.remove("g-hidden");var t=e.querySelector(".progress__value");t.style.strokeDashoffset=null,t.style.strokeDasharray=null,enableBodyScroll(),document.querySelector(".contact_button").classList.remove("g-hidden"),"Chat"!==h["default"].$route.name&&"SettingsMessaging"!==h["default"].$route.name||!document.documentElement.classList.contains("p-personal-chats-chat")||document.documentElement.classList.remove("p-personal-chats-chat")},P=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,r,a,o,u,d,v,P,x,k,S,E,T,A,j,$,M,I,L,D,R;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.IS_PERFORMER,r=t.userId,a=t.videoId,o=t.videoStreamId,u=t.isTester,g=r,d=!0,v=document.querySelector(".js-chat__video-record-btn"),v.classList.toggle("g-hidden",!i||!m),!m||u){e.next=18;break}return document.getElementById(o).remove(),e.next=9,s.e("vendor").then(s.t.bind(null,"3966",7));case 9:return P=null,x=Object(l["default"])(a,p,(function(){if(P=document.getElementById(x.id()),!P)return!1;x.isRecording=!1;var e=P.querySelector(".vjs-device-button");v.addEventListener("click",(function(t){P.classList.remove("g-hidden"),disableBodyScroll(),e&&setTimeout((function(){e.click()}),0)}));var t=document.createElement("button");t.type="button",t.classList.add("g-btn-close","js-video-message-close","m-light"),t.innerHTML='<svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-close"></use></svg>',t.onclick=function(){if(x.isRecording){var e=confirm(h["default"].$i18n.t("message.audiorecorder_leave_msg"));if(!e)return}x.isRecording=!1,P.classList.add("g-hidden"),enableBodyScroll(),x.record().reset(),document.documentElement.classList.contains("p-personal-chats-chat")&&document.documentElement.classList.remove("p-personal-chats-chat")},P.appendChild(t);var s=document.createElement("div");s.classList.add("b-chat__videorec-live-icon"),s.innerHTML='<svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-video"></use></svg>',P.appendChild(s);var i=document.createElement("div");i.classList.add("b-chat__videorec-live-label"),i.innerHTML="REC",P.appendChild(i);var r=document.createElement("div");r.classList.add("b-chat__videorec-title"),r.innerHTML="RECORD VIDEO message",P.appendChild(r);var n=document.createElement("div");n.classList.add("b-chat__videorec-orientation-notice"),n.innerHTML='<svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-orientation"></use></svg>Please set screen orientation before start',P.appendChild(n)})),x.on("deviceReady",(function(){x.record().enumerateDevices()})),x.on("enumerateReady",(function(){var e=x.record().devices.filter((function(e){return"default"!==e.deviceId&&!e.label.includes("default")}));if(P.querySelector(".vjs-record-button").innerHTML='<span class="b-chat__videorec-btn__icon-rec"></span>\n          <svg class="svg-progress" width="60" height="60" viewBox="0 0 60 60">\n          <circle class="progress__meter" cx="30" cy="30" r="28" stroke-width="4"></circle>\n          <circle class="progress__value" cx="30" cy="30" r="28" stroke-width="4"></circle>\n          </svg>',w(P,!0),d){d=!1,_&&P.classList.add("m-maybe-front-camera");var t=function(e,t){if(!1===e&&!1===t)return!1;e&&(x.record().recordAudio={deviceId:{exact:e}}),"undefined"===typeof e&&(x.record().recordAudio=!1),t&&(x.record().recordVideo={deviceId:{exact:t}}),x.record().getRecordType=function(){return"audio_video"};var s=x.record(),i=s.stream,r=i.getTracks();r.length>0&&(x.record().mediaElement.pause(),x.record().mediaElement.src="",r.forEach((function(e){e.stop()}))),x.record().getDevice()},s={allDevices:e,audioDevices:[{deviceId:void 0}].concat(Object(c["a"])(e.filter((function(e){return"audioinput"===e.kind})))),videoDevices:e.filter((function(e){return"videoinput"===e.kind}))},i=0,r=1;1===s.videoDevices.length&&(P.querySelector(".b-streaming__video-select__btn").disabled=!0),1===s.audioDevices.length&&(document.querySelector(".b-streaming__mic-select__btn").disabled=!0,document.querySelector(".b-streaming__mic-select__btn .g-icon use").setAttribute("xlink:href","#icon-voice-off")),2===s.videoDevices.length&&(document.querySelector(".b-streaming__video-select__btn").outerHTML='<button id="switch-camera" type="button" class="dropdown-toggle b-streaming__video-select__btn"><svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-video-switch"></use></svg></button>',document.getElementById("switch-camera").addEventListener("click",(function(e){_&&P.classList.toggle("m-maybe-front-camera"),i+=1,i>=s.videoDevices.length&&(i=0);var r=!!s.videoDevices[i]&&s.videoDevices[i].deviceId;t(!1,r)}))),2===s.audioDevices.length&&(document.querySelector(".b-streaming__mic-select__btn").outerHTML='<button id="switch-mic" type="button" class="dropdown-toggle b-streaming__mic-select__btn"><svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-voice"></use></svg></button>',document.getElementById("switch-mic").addEventListener("click",(function(e){r+=1,r>=s.audioDevices.length&&(r=0);var i=!!s.audioDevices[r]&&s.audioDevices[r].deviceId;t(i,!1),document.querySelector(".b-streaming__mic-select__btn .g-icon use").setAttribute("xlink:href",i?"#icon-voice":"#icon-voice-off")}))),f(s.allDevices),P.querySelectorAll(".js-video-menu .b-streaming__mic-select__option").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var i=e.target,r=!!s.allDevices[i.dataset.id]&&s.allDevices[i.dataset.id].deviceId;P.querySelector(".js-video-menu .m-active").classList.remove("m-active"),i.classList.add("m-active"),t(!1,r)}))})),P.querySelectorAll(".js-audio-menu .b-streaming__mic-select__option").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var i=e.target,r=s.allDevices[i.dataset.id]?s.allDevices[i.dataset.id].deviceId:void 0;P.querySelector(".js-audio-menu .m-active").classList.remove("m-active"),i.classList.add("m-active"),t(r,!1),document.querySelector(".b-streaming__mic-select .g-icon use").setAttribute("xlink:href",r?"#icon-voice":"#icon-voice-off")}))}))}})),x.on("deviceError",(function(){console.error("device error:",x.deviceErrorCode)})),x.on("error",(function(e,t){console.error(t)})),x.on("startRecord",(function(){x.isRecording=!0,O(P);var e=(new Date).getTime(),t=p.plugins.record.maxLength,s=setInterval((function(){if(x.record().isRecording()){var i=Math.round(((new Date).getTime()-e)/1e3);b(i,t,P),i>=t&&clearInterval(s)}else clearInterval(s)}),250)})),x.on("finishRecord",(function(){x.isRecording=!1;var e=x.recordedData;y(e),P.classList.add("g-hidden"),x.record().reset(),C(P)})),e.abrupt("return",x);case 18:if(!u){e.next=35;break}return console.log("isTester"),k="onlyfans.com",S="https://".concat(k),E=null,T=!1,A=0,e.next=27,Promise.resolve().then(s.bind(null,"7e97"));case 27:j=e.sent,$=j.default,M=new $,I=document.getElementById(o),L=p.plugins.record.maxLength,D=!1,R={videoElId:"video-message-el",getApiUrl:"".concat(S,"/my/streaming/get_api_url/video_message"),streamSource:"local",showErrorMessage:function(e){console.error(e)},onLocalStreamInit:function(){},onRemoteStreamInit:function(){},onStreamError:function(e){console.error(e)},onStreamTick:function(e){A=Math.round((new Date).getTime()/1e3)-e;var t=new Date(1e3*A),s=(t.getHours()<10?"0":"")+t.getHours(),i=(t.getMinutes()<10?"0":"")+t.getMinutes(),r=(t.getSeconds()<10?"0":"")+t.getSeconds(),n="".concat(i,":").concat(r);A>3600&&(n="".concat(s,":").concat(i,":").concat(r)),I.querySelector(".vjs-current-time-display").innerText=n,b(A,L,I),A>=L&&M.stopStream()},onStreamStart:function(e){fetch("".concat(S,"/my/streaming/start_stream/video_message?room_name=").concat(e),{headers:{"content-type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"GET",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){e?E=e.streamId:(T=!0,M.stopStream())})).catch((function(e){T=!0,M.stopStream(),Sentry.captureException(e)}))},onDestroy:function(){E&&fetch("".concat(S,"/my/streaming/finish_stream?stream_id=").concat(E).concat(T?"&cancel=1":""),{headers:{"content-type":"application/json","X-Requested-With":"XMLHttpRequest"},method:"GET",credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){T=!1})).catch((function(e){Janus.error(e),Sentry.captureException(e)}))},onStreamEnd:function(e){I.querySelector(".vjs-record-button").innerHTML='<span class="b-chat__videorec-btn__icon-rec"></span>\n            <svg class="svg-progress" width="60" height="60" viewBox="0 0 60 60">\n            <circle class="progress__meter" cx="30" cy="30" r="28" stroke-width="4"></circle>\n            <circle class="progress__value" cx="30" cy="30" r="28" stroke-width="4"></circle>\n            </svg>',I.querySelector(".vjs-current-time-display").innerText="",C(I),w(I,!0),T?I.classList.add("g-hidden"):showPreloader()},onDevicesReadyCallback:function(){D=!0,I.querySelector(".vjs-record-button").addEventListener("click",(function(){M.streamStarted?A<=5?my_dialog({message:"Only messages over 5 seconds will be saved",buttons:[{title:"Record again",onclick:function(){T=!0,M.stopStream(),my_dialog_close()}}],dismissBtn:"Close"}):M.stopStream():(disableBodyScroll(),O(I),M.startStream())})),I.querySelector(".js-video-message-close").onclick=function(){I.classList.add("g-hidden"),enableBodyScroll(),M.streamStarted&&(T=!0,M.stopStream())},window.ws.onmessage=function(e){console.log(e);var t=JSON.parse(e.data);if(t.video_message_stream){hidePreloader(),I.classList.add("g-hidden");var s=t.video_message_stream.media_src;fetch(s).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.blob();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){y(e)})).catch((function(e){Sentry.captureException(e)}))}},M.isMobile&&I.classList.add("m-maybe-front-camera");var e=M.getDevices(),t=0,s=1;1===e.videoDevices.length&&(I.querySelector(".b-streaming__video-select__btn").disabled=!0),1===e.audioDevices.length&&(document.querySelector(".b-streaming__mic-select__btn").disabled=!0,document.querySelector(".b-streaming__mic-select__btn .g-icon use").setAttribute("xlink:href","#icon-voice-off")),2===e.videoDevices.length&&(document.querySelector(".b-streaming__video-select__btn").outerHTML='<button id="switch-camera" type="button" class="dropdown-toggle b-streaming__video-select__btn"><svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-video-switch"></use></svg></button>',document.getElementById("switch-camera").addEventListener("click",(function(){M.isMobile&&I.classList.toggle("m-maybe-front-camera"),t=e.videoDevices.indexOf(e.videoDevices.find((function(e){return e.deviceId===M.videoVars.device.id}))),t+=1,t>=e.videoDevices.length&&(t=0);var s=!!e.videoDevices[t]&&e.videoDevices[t].deviceId;M.switchDevices(!1,s)}))),2===e.audioDevices.length&&(document.querySelector(".b-streaming__mic-select__btn").outerHTML='<button id="switch-mic" type="button" class="dropdown-toggle b-streaming__mic-select__btn"><svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-voice"></use></svg></button>',document.getElementById("switch-mic").addEventListener("click",(function(){s=e.audioDevices.indexOf(e.audioDevices.find((function(e){return e.deviceId===M.audioVars.device.id}))),s+=1,s>=e.audioDevices.length&&(s=0);var t=!!e.audioDevices[s]&&e.audioDevices[s].deviceId;M.switchDevices(t,!1),document.querySelector(".b-streaming__mic-select__btn .g-icon use").setAttribute("xlink:href",t?"#icon-voice":"#icon-voice-off")}))),f(e.allDevices),I.querySelectorAll(".js-video-menu .b-streaming__mic-select__option").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var s=t.target,i=!!e.allDevices[s.dataset.id]&&e.allDevices[s.dataset.id].deviceId;I.querySelector(".js-video-menu .m-active").classList.remove("m-active"),s.classList.add("m-active"),M.switchDevices(!1,i)}))})),I.querySelectorAll(".js-audio-menu .b-streaming__mic-select__option").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var s=t.target,i=e.allDevices[s.dataset.id]?e.allDevices[s.dataset.id].deviceId:void 0;I.querySelector(".js-audio-menu .m-active").classList.remove("m-active"),s.classList.add("m-active"),M.switchDevices(i,!1),document.querySelector(".b-streaming__mic-select__btn .g-icon use").setAttribute("xlink:href",i?"#icon-voice":"#icon-voice-off")}))}))},onCleanUp:function(){}},v.addEventListener("click",(function(){I.classList.remove("g-hidden"),D||M.init(R)}));case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=P,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-btns-panel"},[s("b-dropdown",{staticClass:"b-volume-btn m-btn-round b-streaming__mic-select",attrs:{left:"","toggle-class":"b-volume-btn__el b-streaming__mic-select__btn","menu-class":"js-audio-menu m-list-switcher"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"})]),s("ul",[s("li",[s("a",{staticClass:"b-streaming__mic-select__option",attrs:{"data-id":"",href:"#"}},[s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})]),e._v(" Disable Microphone ")])])])],2),s("b-dropdown",{staticClass:"b-volume-btn m-btn-round b-streaming__video-select",attrs:{right:"","toggle-class":"b-volume-btn__el b-streaming__video-select__btn","menu-class":"js-video-menu m-list-switcher"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"})]),s("ul")],2)],1)},S=[],E={name:"Videorec"},T=E,A=s("2877"),j=Object(A["a"])(T,k,S,!1,null,null,null),$=j.exports,M=s("ad97"),I=s("d634");function L(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function D(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?L(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var R={name:"Videomessage",mixins:[M["a"]],components:{Videorec:$},watch:{player:{handler:function(e){e&&void 0!==e.isRecording&&(this.isRecording=e.isRecording)},deep:!0}},data:function(){return{date:null,player:null,isRecording:!1,hasBeforeunloadVideomessageEvent:!1,beforeEachVideomessageFunc:null}},computed:D(D({},Object(I["b"])(["authUser"])),{},{videoId:function(){return"js-video-message".concat(this.date)},videoStreamId:function(){return"js-video-message-stream".concat(this.date)},checkLeaveVideomessage:function(){return this.isRecording},checkLeaveTextVideomessage:function(){return this.$i18n.t("message.audiorecorder_leave_msg")}}),mounted:function(){var e=this;this.date=+new Date,this.$nextTick((function(){e.initVideo()})),this.beforeEachVideomessageFunc=this.routerCheckLeave({conditionField:"checkLeaveVideomessage",textField:"checkLeaveTextVideomessage"}),this.beforeunloadCheckLeave({watchField:"checkLeaveVideomessage",conditionField:"checkLeaveVideomessage",eventField:"hasBeforeunloadVideomessageEvent",funcField:"handleBeforeUnloadVideomessage"}),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners)},beforeDestroy:function(){this.beforeEachVideomessageFunc&&this.beforeEachVideomessageFunc(),this.hasBeforeunloadVideomessageEvent&&(window.removeEventListener("beforeunload",this.handleBeforeUnloadVideomessage),this.hasBeforeunloadVideomessageEvent=!1),this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners)},methods:{handleBeforeUnloadVideomessage:function(e){if(this.hasBeforeunloadVideomessageEvent){var t=this.checkLeaveTextVideomessage;return e=e||window.event,e&&(e.returnValue=t),t}},initVideo:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({IS_PERFORMER:this.authUser.isPerformer,isTester:this.$cookie.get("tester",{domain:".".concat("onlyfans.com")}),userId:this.authUser.id,videoId:this.videoId,videoStreamId:this.videoStreamId});case 2:this.player=e.sent,t=this.player?this.player.id():this.videoStreamId,this.insertVideorec(t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),insertVideorec:function(e){var t=o["default"].extend($),s=new t;s.$mount(),document.getElementById(e).appendChild(s.$el)},removeListeners:function(){window.removeEventListener("beforeunload",this.handleBeforeUnloadVideomessage)}}},U=R,N=Object(A["a"])(U,i,r,!1,null,null,null);t["a"]=N.exports},"188d":function(e,t,s){},1994:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"b-story-item m-gradient-overlay js-my-stories-element",class:{"m-viewed":e.inProgress},on:{click:e.runStoryTrottled}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"g-avatar m-w36 m-border-line b-story-item__pos-avatar"},[s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-story-item__text online_status_class"},[s("div",{staticClass:"b-story-item__text-name"},[s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"b-username m-flex"},[s("div",{staticClass:"g-user-name"},[e._v(" "+e._s(e.storyTitle)+" ")])])])])]),e.preview?s("img",{staticClass:"img-responsive",attrs:{src:e.preview,draggable:"false"}}):e._e(),e.inProgress?s("div",{staticClass:"b-story-item__loader"},[s("spinner-loader")],1):e._e(),e.inProgress&&e.progress>0?s("span",{staticClass:"b-dropzone__preview__progress-wrapper"},[s("span",{staticClass:"b-dropzone__preview__progress",style:{width:e.progress+"%"}})]):e._e()])]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("bd86")),a=s("0f32"),o=s.n(a),c=s("d634"),l=s("e66b"),u=s("e528"),d=s("9b02"),h=s.n(d);function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={components:{ImageThumb:l["a"],SpinnerLoader:u["a"]},props:{value:{required:!0},uploading:{default:!1},progress:{default:0},startZuck:{type:Function,default:function(){}},storyAuthor:{default:null}},computed:m(m({},Object(c["b"])(["authUser"])),{},{user:function(){return this.storyAuthor||this.authUser},show:function(){return this.value.length||this.uploading},inProgress:function(){return!!this.uploading||!!Array.isArray(this.value)&&!!this.value.filter((function(e){return!e.isReady})).length},readyStories:function(){return Array.isArray(this.value)?this.value.filter((function(e){return e.isReady})):[]},readyStoriesLen:function(){return this.readyStories.length},preview:function(){if(this.readyStoriesLen)return h()(this.value[this.readyStoriesLen-1],"media[0].files.squarePreview.sources.w150",void 0)},runStoryTrottled:function(){return o()(this.runStory,1500)},storyTitle:function(){return-1!==["Profile","ProfileInner"].indexOf(this.$route.name)?this.$i18n.t("message.title_story"):this.user.name}}),methods:{runStory:function(){var e=this;this.startZuck(),this.$nextTick((function(){var t=document.querySelector('[data-id="user-'.concat(e.user.id,'"]'));e.readyStoriesLen&&t&&t.click()}))}}},b=f,v=s("2877"),g=Object(v["a"])(b,i,r,!1,null,null,null);t["a"]=g.exports},"1c95":function(e,t,s){},"1d62":function(e,t,s){"use strict";var i=s("1fe6"),r=s.n(i);r.a},"1db1":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("c5f6"),s("a481"),s("7f7f"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("9b02"),a=s.n(n),o=s("d173"),c=s.n(o),l=s("c1df"),u=s.n(l),d=s("d634"),h=s("e057"),p=s("16d9");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={data:function(){return{loadingError:!1,userLoaded:null}},mixins:[h["a"],p["a"]],computed:f({},Object(d["T"])(["getLastProfileItemIds","getPost","getTempItemIds"])),methods:f(f(f(f(f(f({},Object(d["pb"])(["fetchUserStories","fetchUserHighlights","resetUserStories","resetUserHighlights"])),Object(d["Sb"])(["setCurrentUser"])),Object(d["Nb"])(["fetchCurrentUser"])),Object(d["U"])(["setItemIds","setLastProfileItemId","setPrevUserPostsToLoad","setPinnedIds"])),Object(d["S"])(["fetchUserPosts","fetchPost","fetchPostsPinned"])),{},{fetchProfileData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,o,l,d,h,p,m,b,v,g,_,y,w,O,C,P,x,k,S,E,T,A=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loadingError=!1,t){e.next=4;break}return this.loadingError=!0,e.abrupt("return");case 4:if(this.setPrevUserPostsToLoad(!1),!this.userLoaded){e.next=10;break}s=this.userLoaded,this.userLoaded=null,e.next=20;break;case 10:return this.setCurrentUser(null),e.prev=11,e.next=14,this.fetchCurrentUser(t);case 14:s=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](11),this.loadingError=!0;case 20:if(!s){e.next=56;break}if(!this.$route||"Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name||s.username===this.$route.params.userId){e.next=25;break}return this.userLoaded=s,this.$router.replace(f(f({},this.$route),{},{params:{userId:s.username}})),e.abrupt("return");case 25:if(!(!s.isPrivateRestriction||s.isPrivateRestriction&&this.isAuthUser||s.subscribedBy)){e.next=55;break}if(!this.$route){e.next=34;break}if(i=this.$route,r=i.name,n=i.params.postId,"Post"!==r||!n){e.next=34;break}return e.next=31,this.fetchPost({id:n,active:!0});case 31:return o=e.sent,Array.isArray(o)&&!o.length&&(this.loadingError=!0),e.abrupt("return");case 34:return l=s,d=l.id,h=this.$route.params.postType,p=this.$route.query,m=p.q,b=p.order,v=p.filter,g=this.getLastProfileItemIds(s.username,h),g.length&&(C=this.getTempItemIds(s.username),w=C.pinnedPostsIds,O=C.userPostItemIds,this.route&&this.route.from&&"Post"===this.route.from.name&&this.route.from.params?P=[Number(this.route.from.params.postId)]:(P=c()(w,g),P.length||(P=c()(O,g))),_=O.indexOf(P[0]),w.length?y=w.indexOf(P[0]):this.setPinnedIds(),-1===y&&_>=0&&(this.setPinnedIds(),this.setPrevUserPostsToLoad(!0)),-1===y&&-1===_?this.fetchPostsPinned():(_>0||s.hasPinnedPosts&&!w.length)&&this.setPrevUserPostsToLoad(!0),(_>=0||y>=0)&&(y>=0&&this.setPinnedIds(w),this.setItemIds(P),x=document.querySelector(".b-compact-header")?document.querySelector(".b-compact-header").getBoundingClientRect().height:0,this.$nextTick((function(){A.scrollToElement({behavior:"instant",el:document.querySelector("#postId_".concat(P[0])),offset:x})})))),_>-1&&(S=this.getPost(O[0])[0],S&&(S.isPinned||(E=a()(S,"postedAt"),T=a()(S,"postedAtPrecise"),k=T?u.a.unix(T).format("X.SSSSSS"):u()(E).format("X.SSSSSS")))),e.prev=40,e.next=43,this.fetchUserPosts({id:d,type:h,query:m,order:b,filter:v,beforePublishTime:k,more:!!k});case 43:e.next=47;break;case 45:e.prev=45,e.t1=e["catch"](40);case 47:if(this.setLastProfileItemId({username:s.username,arr:[]}),!s.canLookStory){e.next=53;break}return e.next=51,this.fetchUserStories(d);case 51:return e.next=53,this.fetchUserHighlights(d);case 53:e.next=56;break;case 55:s.isPrivateRestriction&&"Post"===this.$route.name&&this.$router.replace({name:"Profile",params:{userId:s.username}});case 56:case"end":return e.stop()}}),e,this,[[11,17],[40,45]])})));function t(t){return e.apply(this,arguments)}return t}(),resetProfileData:function(){this.resetUserStories(),this.resetUserHighlights()}})}},"1dd8":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"b-404"},[s("h1",{staticClass:"b-404__title"},[e._v(" "+e._s(e.$t("message.page_404_title"))+" ")]),s("h2",{staticClass:"b-404__subtitle"},[e._v(" "+e._s(e.subtitle)+" ")]),e.isPostPage?e._e():s("p",{staticClass:"b-404__description"},[e._v(" "+e._s(e.$t("message.page_404_description"))+" ")]),e.isPostPage?s("router-link",{staticClass:"g-btn m-flat",attrs:{to:{name:"Profile",params:{userId:e.userId}}}},[e._v(" "+e._s(e.$t("message.go_profile_404_button"))+" ")]):"/"===e.$route.path?s("a",{staticClass:"g-btn m-flat",attrs:{href:"/"}},[e._v(" "+e._s(e.$t("message.go_back_404_button"))+" ")]):s("router-link",{staticClass:"g-btn m-flat",attrs:{to:{name:"Feed"}}},[e._v(" "+e._s(e.$t("message.go_back_404_button"))+" ")])],1)])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("bd86")),a=s("d634");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={name:"ErrorPage",computed:c(c({},Object(a["Ob"])(["hasUser"])),{},{isPostPage:function(){return"Post"===this.$route.name&&this.hasUser},userId:function(){return this.$route.params&&this.$route.params.userId?this.$route.params.userId:null},subtitle:function(){return this.isPostPage?this.$t("message.post_404_subtitle"):this.$t("message.page_404_subtitle")}})},u=l,d=s("2877"),h=Object(d["a"])(u,i,r,!1,null,null,null);t["default"]=h.exports},"1e36":function(e,t,s){"use strict";s("8e6e"),s("456d"),s("5df3"),s("ac6a");var i=s("7618"),r=(s("96cf"),s("3b8d")),n=s("bd86"),a=s("f05e"),o=s("e0a5"),c=s.n(o),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:d({},Object(l["eb"])(["paymentsLoaded"])),methods:d(d({},Object(l["fb"])(["setPaymentsLoaded"])),{},{getPaymentsJs:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.paymentsLoaded){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return this.setPaymentsLoaded("loading"),e.prev=3,e.next=6,Object(a["i"])();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),this.setPaymentsLoaded(!1),e.abrupt("return",Promise.reject());case 13:if("object"===Object(i["a"])(t)){e.next=16;break}return this.setPaymentsLoaded(!1),e.abrupt("return",Promise.reject());case 16:return s=[],t.vendorUrls.forEach((function(e){s.push(c()(e))})),e.next=20,Promise.all(s).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c()(t.scriptUrl).then(n.setPaymentsLoaded("complete")));case 1:case"end":return e.stop()}}),e)})))).catch((function(e){return n.setPaymentsLoaded(!1),Promise.reject()}));case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()})}},"1fe6":function(e,t,s){},2:function(e,t){},"20b3":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.OAuthConfirm?s("div",{staticClass:"container container-center"},[e.authUser.id?s("div",[e._v(" Hi, "+e._s(e.authUser.name)+"! ")]):e._e(),s("div",[s("strong",[e._v(e._s(e.OAuthConfirm.app.name))]),e._v(" would like to connect with your account. ")]),s("div",{staticClass:"g-btn__wrapper"},[s("a",{staticClass:"g-btn m-rounded",attrs:{href:e.OAuthConfirm.allowUrl}},[e._v("Allow")]),s("a",{staticClass:"g-btn m-rounded m-border",attrs:{href:e.OAuthConfirm.declineUrl}},[e._v("Decline")])])]):s("div",{staticClass:"container pt-2"},[s("SpinnerLoader",{staticClass:"text-center"})],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("d634"),c=s("3786"),l=s("e528");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"OAuthAuthenticate",components:{SpinnerLoader:l["a"]},mounted:function(){this.fetchOAuthConfirm()},data:function(){return{OAuthConfirm:null}},computed:d({},Object(o["b"])(["authUser"])),methods:{fetchOAuthConfirm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["a"])();case 3:this.OAuthConfirm=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()}},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["default"]=f.exports},"25ac":function(e,t,s){"use strict";var i=s("9957");t["a"]={methods:{fileType:function(e){return i["a"].getType(e)}}}},"25e7":function(e,t,s){"use strict";s("3b2b"),s("a481");t["a"]={methods:{highlight:function(e,t,s){t="(?![^<]*>)".concat(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(t,"gmi");return e.replace(i,(function(e){return'<span class="'.concat(s,'">').concat(e,"</span>")}))}}}},2710:function(e,t,s){},2773:function(e,t,s){"use strict";var i=s("f9b4"),r=s.n(i);r.a},"27d1":function(e,t,s){"use strict";var i=s("8c82"),r=s.n(i);r.a},"29a3":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isError?s("error-page"):s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header"},[s("go-back",{attrs:{default:{name:"Profile",params:{userId:e.user.username}}}}),s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.$t("message.user_friends_page_title",{NAME:e.user.displayName||e.user.name}))+" ")]),s("page-title",{attrs:{title:e.$t("message.user_friends_page_title",{NAME:e.user.displayName||e.user.name})}})],1),s("div",{staticClass:"b-profile__friends__list"},[e.friendsLoading?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e(),e._l(e.userFriends,(function(t){return s("friend",{key:t,attrs:{"profile-id":e.user.id,"user-id":t}})})),e.userFriends&&e.userFriends.length>=10&&e.hasMoreFriends?s("infinite-loading",{ref:"InfiniteLoading",attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e()],2),s("back-to-top-btn")],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("e166"),c=s.n(o),l=s("b775"),u=s("b304"),d=s("e528"),h=s("412e"),p=s("1db1"),m=s("1dd8"),f=s("b6ee"),b=s("d634");function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={name:"FriendsPage",components:{InfiniteLoading:c.a,SpinnerLoader:d["a"],BackToTopBtn:u["a"],Friend:h["a"],ErrorPage:m["default"],GoBack:f["a"]},mixins:[p["a"]],data:function(){return{hasMoreFriends:!0,infiniteId:+new Date,isError:!1}},computed:g(g({},Object(b["Ob"])(["user","friends","friendsLoading"])),{},{userFriends:function(){return this.friends[this.user.id]||[]}}),mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.params.userId,t){e.next=4;break}return this.isError=!0,e.abrupt("return");case 4:return e.next=6,this.fetchProfileData(t);case 6:if(this.user.isPerformer){e.next=9;break}return this.isError=!0,e.abrupt("return");case 9:return e.next=11,this.setCurrentUser(this.user.id);case 11:this.user.hasFriends&&this.loadFriendsList();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:g(g(g({},Object(b["Sb"])(["setCurrentUser"])),Object(b["Nb"])(["fetchFriendsList"])),{},{loadFriendsList:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFriendsList({userId:this.user.id});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchFriendsList({userId:this.user.id,more:!0,offset:this.userFriends.length});case 2:s=e.sent,s.length<l["e"]?(t.complete(),this.hasMoreFriends=!1):t.loaded();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},y=_,w=s("2877"),O=Object(w["a"])(y,i,r,!1,null,null,null);t["default"]=O.exports},"29d7":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("d634");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:o({},Object(n["b"])(["authUser"])),methods:o(o(o(o({},Object(n["Sb"])(["setUserField","setRecommendedUsers"])),Object(n["fb"])(["setSettingField"])),Object(n["Nb"])(["changeUser","patchUser","patchUserMeBySection"])),{},{sendCurrentUserField:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,s,i){var n,a,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!(c.length>3&&void 0!==c[3])||c[3],this[i]=!this[i],!(["isVisibleOnline","paidFeed","isSuggestionsOptOut","sendAwardsTop1","sendAwardsTop5","walletFirstRebills","isWalletAutorecharge","walletAutorechargeAmount","walletAutorechargeMin"].indexOf(s)>-1)){e.next=8;break}return e.next=5,this.patchUser(Object(r["a"])({},s,t));case 5:a=e.sent,e.next=17;break;case 8:if(!(["isPrivate","showPostsTips","showFriendsToSubscribers","showSubscribesOffers","showSubscribersCount","isWantComments","isAutoFollowBack","coStreamingRequestFrom","showMediaCount","strongOtp"].indexOf(s)>-1)){e.next=14;break}return e.next=11,this.patchUserMeBySection({data:Object(r["a"])({},s,t),section:"security"});case 11:a=e.sent,e.next=17;break;case 14:return e.next=16,this.changeUser(Object(r["a"])({},s,t));case 16:a=e.sent;case 17:return a&&a.success&&(this[i]=!this[i],["isPrivate","showPostsTips","showFriendsToSubscribers","showSubscribesOffers","isAutoFollowBack","sendAwardsTop1","sendAwardsTop5","coStreamingRequestFrom","strongOtp"].indexOf(s)>-1?this.setSettingField({field:s,status:t}):this.setUserField({userId:this.authUser.id,field:s,status:t}),"showSubscribesOffers"===s&&(o=this.authUser.advBlock.filter((function(e){return"subscribe_offers"!==e})),t&&o.push("subscribe_offers"),this.setUserField({userId:this.authUser.id,field:"advBlock",status:o})),this.setDataFromStore&&this.setDataFromStore(this.authUser),this.setDataFromSettings&&this.allSettings&&this.setDataFromSettings(this.allSettings),n&&this.$bvToast.toast(this.$i18n.t("message.changes_saved_toast"),{toastClass:"b-toaster__only_msg settings-toast",toaster:"b-toaster-bottom-left",autoHideDelay:1e3})),e.abrupt("return",a);case 19:case"end":return e.stop()}}),e,this)})));function t(t,s,i){return e.apply(this,arguments)}return t}()})}},"2ad6":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={methods:a({},Object(r["P"])(["startCollect","stopCollect"])),mounted:function(){this.startCollect()},beforeDestroy:function(){this.stopCollect()}}},"2cc0":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.authUser.isPaymentCardConnected&&e.isDefaultCardActive?[s("p",{staticClass:"b-wallet__add-funds-label",class:e.showBalance?"from-tips-popup":""},[e.showBalance?s("span",{staticClass:"balance-label"},[e._v(" "+e._s(e.$t("message.current_balance_message"))+" $"+e._s(e.authUser.creditBalance)+" USD ")]):s("span",[e._v(" "+e._s(e.$t("message.add_funds_to_wallet"))+" ")])]),s("div",{staticClass:"g-btn__group m-justify m-credits-add top-up-buttons-wrapper"},e._l(e.presets,(function(t){return s("button",{key:t,class:{selected:e.isSelected(t),"top-up-button":e.isSelectorView,"g-btn m-rounded m-border":!e.isSelectorView},attrs:{disabled:e.depositDisabled(t)||e.inProgress},on:{click:function(s){e.submitOnClick?e.topUpWallet(t):e.changeAmount(t)}}},[e._v(" $"+e._s(e.maxDeposit(t))+" ")])})),0),e.vatEnable?s("div",{staticClass:"m-credits-buttons-vat-info"},[e._v(" +$"+e._s(e.vatValue)+" (VAT), "),s("span",{staticClass:"total-amount-label"},[e._v("Total: ")]),e._v(" "),s("strong",[e._v("$"+e._s(e.totalValue)+" USD")])]):e._e()]:e._e(),e.authUser.isPaymentCardConnected&&e.isDefaultCardActive?e._e():s("div",{staticClass:"b-settings__form credits-form-field"},[s("router-link",{staticClass:"g-btn m-rounded m-border m-block",attrs:{to:{name:"PaymentsAddCard"}}},[e._v(" "+e._s(e.$t("message.tip_add_card_btn_label"))+" ")])],1),s("modal-confirm",{attrs:{"modal-show":e.isConfirmShow,title:"",text:e.$t("message.credits_add_confirm_popup_desc",{AMOUNT:"$"+e.amount}),"agree-btn":e.$t("message.chat_paid_massage_pay_button",{PRICE:"$"+e.amount}),"close-on-agree":"","close-on-cancel":"","body-class":"m-without-header"},on:{"update:modalShow":function(t){e.isConfirmShow=t},"update:modal-show":function(t){e.isConfirmShow=t},"on-agree":e.pay}})],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("7f7f"),s("c5f6"),s("a481"),s("bd86")),o=s("d634"),c=s("8b3f"),l=s("ce23"),u=s("36fa"),d=s("9b02"),h=s.n(d);function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={name:"SettingsCreditsAdd",components:{ModalConfirm:c["a"]},mixins:[u["a"],l["a"]],props:{addingCardInNewTab:{type:Boolean,default:!1},isSelectorView:{type:Boolean,default:!1},submitOnClick:{type:Boolean,default:!0},isTopUpClicked:{type:Boolean,default:!1},showBalance:{type:Boolean,default:!1},vatEnabled:{type:Boolean,default:!1}},data:function(){return{amount:null,presets:[10,20,50,100],isConfirmShow:!1,inProgress:!1,selectedAmount:null}},watch:{onTopUpClick:function(){var e=this.selectedAmount;this.topUpWallet(e)}},computed:m(m(m({},Object(o["b"])(["authUser"])),Object(o["G"])(["cards"])),{},{onTopUpClick:function(){return this.isTopUpClicked},isDefaultCardActive:function(){return!!this.cards.length&&!!this.cards.filter((function(e){return e.isDefault&&!e.isExpired})).length},vatEnable:function(){return this.vatEnabled&&h()(this,"authUser.vat.tips",null)},vatValue:function(){var e=this.selectedAmount,t=this.vatEnable;if(e&&t){var s=(Math.ceil(parseFloat(e)*parseFloat("20"))/100).toFixed(2).replace(".00","");return s}return 0},totalValue:function(){var e=this.selectedAmount,t=this.vatValue;if(e&&t){var s=Number(e)?(+e+ +t).toFixed(2).replace(".00",""):"0";return s}return 0},minimumDeposit:function(){return this.authUser.creditsMin},walletMax:function(){return this.authUser.creditsMax}}),mounted:function(){"Payments"!==this.$route.name&&this.fetchCards()},methods:m(m({},Object(o["F"])(["fetchCards"])),{},{changeAmount:function(e){this.$emit("set-selected-amount"),this.selectedAmount=e},isSelected:function(e){return this.selectedAmount===e},topUpWallet:function(e){this.amount=this.maxDeposit(e),this.isConfirmShow=!0},pay:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.inProgress=!0,e.next=3,this.makePayments({paymentType:"credit",amount:this.amount},this.pay);case 3:t=e.sent,this.inProgress=!1,t&&t.success&&(this.$bvToast.toast(this.$root.$i18n.t("message.walled_topped_up",{AMOUNT:"$".concat(this.amount)}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),this.$emit("success"),this.amount=null);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),depositDisabled:function(e){return this.presets[this.presets.indexOf(e)-1]?this.authUser.creditBalance+this.presets[this.presets.indexOf(e)-1]>this.walletMax:this.authUser.creditBalance+10>this.walletMax},maxDeposit:function(e){return this.depositDisabled(e)?e:(Math.round(100*Math.min(e,this.walletMax-this.authUser.creditBalance))/100).toFixed(2).replace(".00","")},onPaymentsAddCardLinkClick:function(){this.addingCardInNewTab&&this.$emit("payments-add-card-link-redirected")}})},b=f,v=(s("9344"),s("2877")),g=Object(v["a"])(b,i,r,!1,null,null,null);t["a"]=g.exports},"2dce":function(e,t,s){e.exports=s.p+"img/slide-4-2x.jpg"},"2dd3":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-story-item__inside",class:{"m-costreaming":e.partner}},[s("span",{staticClass:"g-avatar m-w36 m-border-line b-story-item__pos-avatar",class:{online_status_class:!e.partner}},[s("image-thumb",{attrs:{user:e.user,size:"c50"}}),e.partner?e._e():s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})])],1),e.partner?s("span",{staticClass:"g-avatar m-w36 m-border-line b-story-item__pos-avatar online_status_class"},[s("image-thumb",{attrs:{user:e.partner.user,size:"c50"}}),s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})])],1):e._e(),s("div",{staticClass:"b-story-item__text"},[s("div",{staticClass:"b-story-item__text-name"},[s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"b-username m-flex"},[s("div",{staticClass:"g-user-name"},[e._v(" "+e._s(e.streamTitle)+" ")])]),e.partner?s("div",{staticClass:"b-count-stream-viewers"},[e._v("+ "+e._s(e.partners.length))]):e._e()])])]),e.showDefaultCover?s("img",{staticClass:"img-responsive m-stream-image",attrs:{src:e.defaultCoverSrc,draggable:"false"}}):e._e(),s("img",{directives:[{name:"show",rawName:"v-show",value:e.streamThumbSrc&&!e.showDefaultCover,expression:"streamThumbSrc && !showDefaultCover"}],ref:"streamThumb",staticClass:"img-responsive m-stream-image",attrs:{src:e.streamThumbSrc,draggable:"false"},on:{load:e.checkStreamThumb,error:e.checkStreamThumb}})])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("6b54"),s("7f7f"),s("bd86")),a=s("e66b"),o=s("48f6"),c=s.n(o),l=s("64a1"),u=s.n(l),d=s("d634");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var m=3,f=10,b={components:{ImageThumb:a["a"]},data:function(){return{interval:m,streamThumbSrc:null,showDefaultCover:!1}},props:{value:{required:!0},hover:{type:Boolean,default:!1}},created:function(){this.streamThumbSrc=this.value.thumbUrl},computed:p(p(p(p({},Object(d["eb"])(["isDarkMode"])),Object(d["Ob"])(["getUser"])),Object(d["b"])(["authUserId"])),{},{user:function(){return this.getUser(this.value.user)},partners:function(){return this.value.partners},partner:function(){return this.value.partners[0]},paid:function(){return this.value.price>0&&!this.value.isOpened},defaultCoverSrc:function(){return this.isDarkMode?u.a:c.a},streamTitle:function(){return this.authUserId===this.user.id?this.$i18n.t("message.message_live_now"):this.user.name}}),methods:{checkStreamThumb:function(e){var t=e.type;return"error"===t?(this.showDefaultCover=!0,this.interval=f,void setTimeout(this.reloadStreamThumb,1e3*this.interval)):"load"===t?(this.showDefaultCover=!1,this.interval=m,void setTimeout(this.reloadStreamThumb,1e3*this.interval)):void 0},reloadStreamThumb:function(){this.streamThumbSrc="".concat(this.value.thumbUrl,"?").concat(Math.random().toString(36).substr(2,9))}}},v=b,g=s("2877"),_=Object(g["a"])(v,i,r,!1,null,null,null);t["a"]=_.exports},3:function(e,t){},"30ba":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:a(a({},Object(r["b"])(["authUser"])),{},{canPayToUser:function(){return!(!this.authUser||!this.user)&&(this.authUser.isPaymentCardConnected||this.authUser.isCreditsEnabled&&this.authUser.creditBalance>=1&&this.user.canPayInternal)}})}},"313e":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalBundle",attrs:{id:"ModalBundle","modal-class":"modal-bundle",size:"sm","hide-header-close":!0,centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.id?e.$t("message.bundles_author_update_bundle_title"):e.$t("message.bundles_author_add_btn_label"))+" ")])]),s("div",{staticClass:"row row_flex"},[s("div",{staticClass:"col-xs-7"},[s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.$t("message.subscription_discount_dialog_discount_label_new"))+" ")]),s("div",{staticClass:"g-select__wrapper"},[s("custom-select",{attrs:{options:e.discounts,searchable:!1},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1)]),s("div",{staticClass:"col-xs-5"},[s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.$t("message.subscription_discount_dialog_peroid_label_new"))+" ")]),s("div",{staticClass:"g-select__wrapper"},[s("custom-select",{attrs:{options:e.durations,searchable:!1},model:{value:e.duration,callback:function(t){e.duration=t},expression:"duration"}})],1)])]),s("p",{staticClass:"g-input__help",class:{"m-danger":e.maxPriceError}},[e._v(" "+e._s(e.maxPriceError||e.$t("message.bundle_popup_desc",{DURATION:e.durationName,AMOUNT:e.amount}))+" ")]),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.isDisabled},on:{click:e.save}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])],2):e._e()},r=[],n=(s("8e6e"),s("96cf"),s("3b8d")),a=(s("a481"),s("20d6"),s("ac6a"),s("456d"),s("bd86")),o=(s("c5f6"),s("9b02")),c=s.n(o),l=s("d634"),u=s("d1e5");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={name:"ModalBundle",components:{CustomSelect:u["a"]},props:{bundleDiscount:{type:Number,default:void 0},bundleDuration:{type:Number,default:void 0},id:{type:Number,default:void 0}},data:function(){return{show:!1,disable:!1,computedDiscount:0,computedDuration:0}},computed:h(h(h(h({},Object(l["Ob"])(["modalUser","getUser"])),Object(l["h"])(["getBundles"])),Object(l["b"])(["authUser"])),{},{user:function(){return this.getUser(this.modalUser)},bundles:function(){return this.user.subscriptionBundles?this.getBundles(this.user.subscriptionBundles):[]},discounts:function(){var e=this;return c()(this,"user.canAddSubscriberByBundle.discounts")?Object.keys(this.user.canAddSubscriberByBundle.discounts).map((function(t){return{code:t,name:e.user.canAddSubscriberByBundle.discounts[t]}})):[]},durations:function(){var e=this;return c()(this,"user.canAddSubscriberByBundle.durations")?Object.keys(this.user.canAddSubscriberByBundle.durations).map((function(t){return{code:t,name:e.user.canAddSubscriberByBundle.durations[t]}})).filter((function(t){return e.bundleDuration===Number(t.code)||e.bundles.findIndex((function(e){return e.duration===Number(t.code)}))<0})):[]},discount:{get:function(){return this.computedDiscount||(this.discounts.length?this.discounts[0].code:0)},set:function(e){this.computedDiscount=Number(e)}},duration:{get:function(){return this.computedDuration||(this.durations.length?this.durations[0].code:0)},set:function(e){this.computedDuration=Number(e)}},amount:function(){return(Math.round(this.duration*this.user.subscribePrice*(100-this.discount))/100).toFixed(2).replace(".00","")},durationName:function(){return c()(this,"user.canAddSubscriberByBundle.durations")&&this.user.canAddSubscriberByBundle.durations[this.duration]||""},maxAmount:function(){return this.authUser.bundleMaxPrice},maxPriceError:function(){return!!(this.maxAmount&&this.amount>this.maxAmount)&&this.$i18n.t("message.bundle_max_price_error",{PRICE:"$".concat(this.maxAmount)})},isDisabled:function(){return this.disable||this.maxPriceError}}),watch:{bundleDiscount:function(e){this.computedDiscount=e},bundleDuration:function(e){this.computedDuration=e}},methods:h(h({},Object(l["g"])(["saveBundle"])),{},{close:function(){this.show=!1},save:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disable){e.next=2;break}return e.abrupt("return");case 2:return this.close(),this.disable=!0,t=this.discount,s=this.duration,i={discount:t,duration:s},this.id&&(i.id=this.id),e.next=9,this.saveBundle(i);case 9:this.disable=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},m=p,f=s("2877"),b=Object(f["a"])(m,i,r,!1,null,null,null);t["a"]=b.exports},3251:function(e,t,s){},"361e":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isChats&&e.locked?s("ChatPurchase",{attrs:{message:e.post}}):e.media||e.isChats?s("div",{staticClass:"b-photos__item",attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.clickMedia(t)}}},[s("img",{staticClass:"b-photos__item__img",attrs:{src:e.media.thumb,alt:""}}),"video"===e.media.type?s("span",{staticClass:"b-photos__item__play-btn"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-play"})]):e._e()]):s("div",{staticClass:"b-photos__item"},[s("PostPurchase",{attrs:{post:e.post,"is-grid":!0}})],1)},r=[],n=(s("c5f6"),s("9fb6")),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"b-photos__item chat-purchase",attrs:{to:{name:"Chat",params:{chatId:this.$route.params.chatId},query:{firstId:e.message.id}},"active-class":"","exact-active-class":""}},[s("div",{staticClass:"post-purchase chat-purchase-media",staticStyle:{"border-radius":"0"},on:{mouseover:e.mouseover,mouseleave:e.mouseleave}},[s("div",{staticClass:"post-purchase__no-media"},[s("img",{staticClass:"locked-item-gallery",attrs:{src:e.message.media[0].locked,width:e.message.media[0].info.preview.width,height:e.message.media[0].info.preview.height,alt:""}}),e.showHoverButtonData?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-unlocked",staticClass:"icon-unlocked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-locked",staticClass:"icon-locked"})])]),s("div",{staticClass:"b-purchase profile-inner"},[s("div",{staticClass:"purchase-block profile-inner chat-purchase-inner"},[s("div",{staticClass:"content-icons"},[s("ul",{staticClass:"b-purchase__list"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-locked-text-icon",staticClass:"icon-text-frame-off"})]):e._e(),e.hasPhoto?s("li",{staticClass:"b-purchase__list-item isProfile",class:{"m-without-counter":e.hasVideo}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-photo-icon",staticClass:"icon-media"}),e.hasVideo?e._e():[e._v(" "+e._s(e.photoCount)+" ")]],2):e._e(),e.hasVideo?s("li",{staticClass:"b-purchase__list-item isProfile",class:{"m-without-counter":e.hasPhoto}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-video-icon",staticClass:"icon-video"}),e.hasPhoto?e._e():[e._v(" "+e._s(e.videos.length>1?e.videos.length:e.hasVideoDuration?e.videoDuration:"")+" ")]],2):e._e(),e.hasGif?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-gif-icon",staticClass:"icon-gif"}),e._v(" "+e._s(e.gifs.length>1?e.gifs.length:e.hasGifDuration?e.gifDuration:"")+" ")]):e._e()]),s("div",{staticClass:"b-post__price locked-icon chat-purchase-inner"},[e._v(" $"+e._s(e.message.price.toFixed(2).replace(".00",""))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})])])])])])},o=[],c=(s("ac6a"),s("8615"),s("7514"),s("c1df")),l=s.n(c),u={name:"ChatPurchase",props:{message:{type:Object,required:!0}},data:function(){return{showHoverButtonData:!1}},computed:{hasLockedText:function(){return this.message.text&&this.message.lockedText},hasMedia:function(){return this.message.media&&this.message.media.length},hasPhoto:function(){return!!Object.values(this.message.media).find((function(e){return"photo"===e.type}))},hasVideo:function(){return!!Object.values(this.message.media).find((function(e){return"video"===e.type}))},hasGif:function(){return!!Object.values(this.message.media).find((function(e){return"gif"===e.type}))},photos:function(){return this.message.media.filter((function(e){return"photo"===e.type}))},photoCount:function(){return this.photos.length},videos:function(){return this.message.media.filter((function(e){return"video"===e.type}))},video:function(){return this.videos.length?this.videos[0]:null},gifs:function(){return this.message.media.filter((function(e){return"gif"===e.type}))},gif:function(){return this.gifs.length?this.gifs[0]:null},hasVideoDuration:function(){return this.video&&this.video.duration},videoDuration:function(){return this.hasVideoDuration?l.a.duration(this.video.duration,"seconds").format():0},hasGifDuration:function(){return this.gif&&this.gif.duration},gifDuration:function(){return this.hasGifDuration?l.a.duration(this.gif.duration,"seconds").format():0}},methods:{mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1}}},d=u,h=s("2877"),p=Object(h["a"])(d,a,o,!1,null,null,null),m=p.exports,f={name:"UsersPostGrid",components:{PostPurchase:n["a"],ChatPurchase:m},props:{media:{type:Object,default:function(){}},post:{type:Object,default:function(){}},index:{type:Number,required:!0},isChats:{type:Boolean,default:function(){return!1}},locked:{type:Boolean,required:!1}},methods:{clickMedia:function(){this.$emit("mediaId",this.media.id)}}},b=f,v=Object(h["a"])(b,i,r,!1,null,null,null);t["a"]=v.exports},"36fa":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("d634");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:o({},Object(n["o"])(["allTransactions"])),methods:o(o({},Object(n["n"])(["fetchAllTransactions"])),{},{getTransactions:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},s=t.more,i=void 0!==s&&s,e.prev=1,r=i?this.allTransactions.length:0,e.next=5,this.fetchAllTransactions({limit:this.limit,offset:r,more:i});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e["catch"](1);case 10:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()})}},"39a7":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"b-chats__available-users__item m-search",class:{"m-active":e.isActive},attrs:{to:{name:"Profile",params:{userId:e.user.username}},event:""},nativeOn:{click:function(t){return t.preventDefault(),e.goTo(t)}}},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:e.user.isOnline}},[s("payer-rating",{attrs:{user:e.user,placement:"right"}}),s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-users__item-short__text"},[s("div",{staticClass:"g-user-name",domProps:{innerHTML:e._s(e.userName)}}),s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" "),e.subscribe?s("span",{staticClass:"g-user-username__subscription-text"},[e._v("  "+e._s(e.subscribedText)+" ")]):e._e()])])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("bd86")),a=(s("c5f6"),s("c1df")),o=s.n(a),c=s("d634"),l=s("e66b"),u=s("4683"),d=s("7e35"),h=s("925c");function p(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function m(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={name:"SearchUsersItem",components:{ImageThumb:l["a"],PayerRating:u["a"]},mixins:[h["a"],d["a"]],props:{userId:{type:Number,required:!0},preventClick:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},computed:m(m(m(m({},Object(c["Ob"])(["getUser"])),Object(c["eb"])(["userLoginPrefix"])),Object(c["Jb"])(["getSubscribe"])),{},{user:function(){return this.getUser(this.userId)},subscribe:function(){return this.getSubscribe(this.user.id)},isExpiredSubscribe:function(){return this.subscribe&&this.subscribe.expiredAt&&+new Date(this.subscribe.expiredAt)-+new Date<=0&&!this.subscribe.renewedAt&&!this.subscribe.status},userName:function(){return this.user.displayName?this.user.name==="".concat(this.userLoginPrefix).concat(this.user.id)?this.user.displayName:"".concat(this.user.displayName,' <span class="g-gray-text">(').concat(this.user.name,")</span>"):this.user.name},expiredSubscribeDays:function(){return this.isExpiredSubscribe?("en"!==this.$i18n.locale&&o.a.locale(this.$i18n.locale),o()(this.subscribe.expiredAt).toNow(!0)):""},subscribedText:function(){return this.isExpiredSubscribe?this.subscribe.newPostsAfterExpireCount?this.$i18n.tc("message.new_posts_count_plural",this.subscribe.newPostsAfterExpireCount,{COUNT:this.subscribe.newPostsAfterExpireCount>99?"99+":this.subscribe.newPostsAfterExpireCount}):this.$i18n.t("message.subscription_expired_ago_short",{DURATION:this.expiredSubscribeDays}):this.$i18n.t("message.message_type_subscribed")}}),methods:{goTo:function(){this.preventClick?this.$emit("click",this.user.id):this.$router.push({name:"Profile",params:{userId:this.user.username}})}}},b=f,v=s("2877"),g=Object(v["a"])(b,i,r,!1,null,null,null);t["a"]=g.exports},"3aa2":function(e,t,s){},"3ab7":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header",class:{"m-search-form-visible":e.isShowSearch}},[s("swiper",{ref:"tabsSwiper",staticClass:"b-tabs__nav m-text",attrs:{options:e.swiperOptions}},[s("swiper-slide",[s("router-link",{ref:"feedTabNav",staticClass:"b-tabs__nav__item",class:{"m-current":e.isFeed},attrs:{to:{name:"Feed"}}},[e._v(" "+e._s(e.$t("message.feed_home_tab_title"))+" ")])],1),e.authUser.isPerformer?s("swiper-slide",[s("router-link",{ref:"queueTabNav",staticClass:"b-tabs__nav__item",attrs:{to:{name:"Queue"},"active-class":"","exact-active-class":"m-current"}},[e._v(" "+e._s(e.$t("message.feed_queue_tab_title"))+" ")])],1):e._e(),e.authUser.hasPurchasedPosts?s("swiper-slide",[s("router-link",{ref:"purchasedTabNav",staticClass:"b-tabs__nav__item",attrs:{to:{name:"Purchased"},"active-class":"","exact-active-class":"m-current"}},[e._v(" "+e._s(e.$t("message.feed_purchased_tab_title"))+" ")])],1):e._e(),e.authUser.paidFeed?s("swiper-slide",[s("router-link",{ref:"blurredTabNav",staticClass:"b-tabs__nav__item",attrs:{to:{name:"Blurred"},"active-class":"","exact-active-class":"m-current"}},[e._v(" "+e._s(e.$t("message.feed_blurred_tab_title"))+" ")])],1):e._e(),!e.authUser.isPerformer&&(e.authUser.subscribesCount>=5||e.authUser.closeFriends)?s("swiper-slide",[s("router-link",{ref:"friendsFeedTabNav",staticClass:"b-tabs__nav__item",attrs:{to:{name:"FriendsFeed"},"active-class":"","exact-active-class":"m-current"}},[e._v(" "+e._s(e.$t("message.feed_friends_tab_title"))+" ")])],1):e._e()],1),e.isQueue?e._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_posts_placeholder"),expression:"$t('message.search_posts_placeholder')"}],staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.toggleSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search"})]),e.isQueue?e._e():s("feed-search",{attrs:{"is-show":e.isShowSearch},on:{close:e.toggleSearch}})],1),s("div",{staticClass:"b-feed__wrapper"},[s("div",{staticClass:"b-feed"},[e.authUser.isPerformer?s("make-post",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSearch,expression:"!isShowSearch"}],attrs:{"fake-mode":!0},on:{"reload-queue":e.reloadQueue}}):e._e(),s("Stories"),e.isQueue&&null!==e.settingsPost.currentCode?s("div",[s("div",{staticClass:"g-input__wrapper"},[s("label",{staticClass:"g-input__label"},[e._v(e._s(e.$t("message.queue_publish_label")))]),s("div",{staticClass:"g-select__wrapper"},[s("custom-select",{attrs:{options:e.settingsPost.options,searchable:!1,disabled:e.settingsPostDisabled},model:{value:e.settingsPostCurrentCode,callback:function(t){e.settingsPostCurrentCode=t},expression:"settingsPostCurrentCode"}})],1)])]):e._e(),e.isFeed?[e._l(e.hints,(function(t){return s("b-alert",{key:t.id||t.code,staticClass:"user_hint_message",attrs:{variant:t.isPermanent?"danger":"info",show:"",dismissible:!0},on:{dismissed:function(s){return e.hideHint(t)}}},[s("div",{staticClass:"alert-text-wrapper",domProps:{innerHTML:e._s(t.text)},on:{click:e.innerLinkToRouter}}),s("template",{slot:"dismiss"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])],2)})),e._l(e.subscribes,(function(e){return s("price-changed-user",{key:e.id,attrs:{id:e.id}})}))]:e._e(),e.showLoadNewBtn?s("button",{ref:"loadPrevPosts",staticClass:"g-btn m-rounded m-block",attrs:{disabled:e.disabledLoadPrevPosts},on:{click:e.loadPrevPosts}},[e._v(" "+e._s(e.showLoadNewBtnText)+" ")]):e._e(),s("div",{ref:"userPosts",staticClass:"user_posts"},[!e.isPurchased&&e.isAuth&&e.authUser.advBlock.length?s("div",{staticClass:"b-feed__aside b-recommended"},[e.authUser.advBlock.indexOf("banners")>-1?s("banner-place"):e._e(),e.authUser.advBlock.indexOf("subscribe_offers")>-1?s("recommended-list"):e._e()],1):e._e(),e.feedPostsList.length||e.loaderBottomError?e._e():[e.isPostsLoading?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):[s("div",{staticClass:"empty-message"},[s("p",[e._v(e._s(e.noPostMsg))]),e.isCloseFriends?s("button",{staticClass:"g-btn m-rounded m-flex m-fluid-width",attrs:{type:"button"},on:{click:e.enableAddUsersMode}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add"}),s("span",[e._v(" "+e._s(e.$t("message.add_users_to_close_friends"))+" ")])]):e._e()])]],e._l(e.feedPostsList,(function(t){return s("users-post-wrapper",{key:t.id,attrs:{post:t,type:"feed","no-posted":e.isQueue}})})),e.filterExpiredFeedposts.length>=e.limit&&!e.loaderBottomError?s("infinite-loading",{ref:"infiniteLoader",attrs:{identifier:e.infiniteId,distance:1600},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e.loaderBottomError?s("div",{staticClass:"manual-loader"},[e.loaderBottomErrorPreloader?e._e():s("button",{staticClass:"g-btn m-rounded m-block w-100",on:{click:e.manualLoadMorePosts}},[e._v(" "+e._s(e.$t("message.load_next_posts"))+" ")]),e.loaderBottomErrorPreloader?s("spinner-loader"):e._e()],1):e.feedPostsList.length&&e.feedPostsList.length<e.limit&&e.isPostsLoading?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e()],2)],2)]),s("div",{attrs:{"data-app":"true"}})])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("c5f6"),s("6762"),s("2fdb"),s("96cf"),s("3b8d")),a=s("75fc"),o=(s("a481"),s("bd86")),c=(s("7f7f"),s("9b02")),l=s.n(c),u=s("d173"),d=s.n(u),h=s("e166"),p=s.n(h),m=s("c1df"),f=s.n(m),b=s("d634"),v=s("9179"),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showPostsInFeed?s("users-post",{attrs:{post:e.post,type:e.type,"no-posted":e.noPosted}}):e._e()},_=[],y=s("632b");function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var C={components:{UsersPost:y["a"]},props:{post:{type:Object,required:!0},type:{type:String,default:"profile"},noPosted:{type:Boolean,default:!1},isLinked:{type:Boolean,default:!1}},computed:O(O(O({},Object(b["b"])(["authUserId","isAuth"])),Object(b["Ob"])(["getUser"])),{},{author:function(){return this.getUser(this.post.author)},isPurchased:function(){return"Purchased"===this.$route.name},showPostsInFeed:function(){if(this.isAuth&&!this.isPurchased&&this.author){var e=void 0===this.author.showPostsInFeed||this.author.showPostsInFeed;return e||this.author===this.authUserId}return!0}})},P=C,x=s("2877"),k=Object(x["a"])(P,g,_,!1,null,null,null),S=k.exports,E=s("f108"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.show?s("div",{staticClass:"b-recommended__wrapper"},[s("div",{staticClass:"g-section__header"},[s("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.$t("message.recommended_block_title"))+" ")]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.isRecommendsFree?e.$t("message.tooltip_recommended_show_all"):e.$t("message.tooltip_recommended_show_only_free"),expression:"isRecommendsFree ? $t('message.tooltip_recommended_show_all') : $t('message.tooltip_recommended_show_only_free')"}],staticClass:"g-btn m-icon",attrs:{type:"button"},on:{click:e.toggleFree}},[e.isRecommendsFree?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-price",staticClass:"icon-price"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-price-free",staticClass:"icon-price-free"})]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_refresh"),expression:"$t('message.tooltip_refresh')"}],staticClass:"g-btn m-icon",attrs:{type:"button"},on:{click:e.refresh}},[s("span",{class:e.loadingClass},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-renew"})])])]),s("div",{staticClass:"b-recommended__list"},[e.recommendedUsers.length?s("swiper",{ref:"recommendedSwiper",staticClass:"recommended-slider",attrs:{options:e.swiperOptions}},e._l(e.recommendedUsers,(function(e){return s("swiper-slide",{key:e.id},[s("friend",{attrs:{"user-id":e.id,isNotFixedPositionDropdown:!0}})],1)})),1):e._e(),e.recommendedUsers.length?s("div",{staticClass:"swiper-pagination b-recommended__pagination"}):e._e(),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_next"),expression:"$t('message.tooltip_next')"}],staticClass:"swiper-button-next b-recommended__next",attrs:{type:"button",disabled:!e.recommendedUsers.length}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_prev"),expression:"$t('message.tooltip_prev')"}],staticClass:"swiper-button-prev b-recommended__prev",attrs:{type:"button",disabled:!e.recommendedUsers.length}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})])],1)]):e._e()},A=[],j=s("412e");function $(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var I={name:"RecommendedList",components:{Friend:j["a"]},data:function(){return{loading:!1,swiperOptions:{slidesPerColumn:2,spaceBetween:0,pagination:{el:".b-recommended__pagination",clickable:!0},navigation:{nextEl:".b-recommended__next",prevEl:".b-recommended__prev"},breakpoints:{768:{slidesPerColumn:3}}},watchPostsLoading:null,loaded:!1,show:!1}},computed:M(M(M(M({},Object(b["Ob"])(["recommendedUsers","isRecommendsFree"])),Object(b["T"])(["isPostsLoading","firstFeedPostsAuthor"])),Object(b["b"])(["authUserId"])),{},{swiper:function(){return l()(this,"$refs.recommendedSwiper.$swiper")?this.$refs.recommendedSwiper.$swiper:null},loadingClass:function(){return this.loading?"animated-rotation":""}}),watch:{firstFeedPostsAuthor:{handler:function(e,t){null!==e&&void 0!==t&&this.getRecommends()},immediate:!0}},mounted:function(){(this.recommendedUsers.length||this.isRecommendsFree)&&(this.loaded=!0,this.show=!0)},methods:M(M(M({},Object(b["Nb"])(["fetchRecommendedUsers"])),Object(b["Sb"])(["toggleRecommendsFree"])),{},{getRecommends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.loading||this.loaded&&!this.show)){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.fetchRecommendedUsers();case 5:this.loading=!1,this.loaded||(this.show=!!this.recommendedUsers.length),this.loaded=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRecommends();case 2:this.swiper&&this.recommendedUsers.length&&this.$nextTick((function(){t.swiper.slideTo(0)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleFree:function(){this.loading||(this.toggleRecommendsFree(),this.refresh())}})},L=I,D=Object(x["a"])(L,T,A,!1,null,null,null),R=D.exports,U=s("4894"),N=s("e528"),B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user.canAddSubscriber&&!e.isExpired&&e.waitForExpire?s("b-alert",{staticClass:"alert-dismissible m-price-changed",attrs:{variant:"info",show:"",dismissible:!0},on:{dismissed:e.hide}},[s("span",{staticClass:"alert-text",domProps:{innerHTML:e._s(e.subscribe.newPrice?e.$t("message.need_price_agree_feed_alert_new",{PROFILE_URL:"/"+e.user.username,NAME:e.user.name,OLD_PRICE:"$"+e.subscribe.newPrice,NEW_PRICE:"$"+e.subscribe.subscribePrice,RENEW_DATE:e.renewDateHuman}):e.$t("message.need_price_agree_feed_alert",{PROFILE_URL:"/"+e.user.username,NAME:e.user.name,NEW_PRICE:"$"+e.subscribe.subscribePrice,RENEW_DATE:e.renewDateHuman}))},on:{click:e.innerLinkToRouter}}),s("button",{staticClass:"g-btn m-rounded m-sm",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.confirmPrice(t)}}},[e._v(" "+e._s(e.$t("message.confirm_button"))+" ")]),s("template",{slot:"dismiss"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])],2):e._e()},F=[],V=s("1cf1"),H=s("ebf6"),z=s("d981"),q=s("09e4"),G={name:"PriceChangedUser",mixins:[H["a"],z["a"]],props:{id:{type:Number,required:!0}},data:function(){return{disableConfirmBtns:!1}},computed:{renewDateHuman:function(){return f()(this.subscribe.renewedAt||this.subscribe.expiredAt).format("MMM D, YYYY")}},methods:{toggleAutoprolong:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"on",!this.disableConfirmBtns){e.next=3;break}return e.abrupt("return");case 3:return this.disableConfirmBtns=!0,s=this.id,e.next=7,this.autoprolongToggle({id:s,force:t});case 7:i=e.sent,i&&i.id&&this.removeSubscribe(s),this.disableConfirmBtns=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hide:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=this.id,e.next=4,Object(V["b"])(t);case 4:s=e.sent,s&&s.success&&this.removeSubscribe(t),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Object(q["b"])(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),confirmPrice:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.toggleAutoprolong();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Z=G,W=Object(x["a"])(Z,B,F,!1,null,null,null),Y=W.exports,X=s("d1e5"),K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShowContainer?s("div",{staticClass:"stories-list m-native-custom-scrollbar"},[s("div",{staticStyle:{display:"none"},attrs:{id:"stories"}}),s("AddStoryBtn"),e._l(e.liveStreams,(function(e){return s("Stream",{key:e.id,attrs:{value:e}})})),s("MyStories",{attrs:{value:e.myStories,uploading:e.newStoryMediaUploading,progress:e.newStoryMediaUploadingProgress,"start-zuck":e.startZuck}}),e._l(e.newStories,(function(t){return s("Story",{key:t.id,attrs:{value:t,"start-zuck":e.startZuck}})})),s("PromoteProfile"),e._l(e.watchedStories,(function(t){return s("Story",{key:t.id,attrs:{value:t,watched:!0,"start-zuck":e.startZuck}})})),e._l(e.scheduledStreams,(function(e){return s("ScheduledStream",{key:e.id,attrs:{value:e}})}))],2):e._e()},Q=[],J=s("9029"),ee=s("e941"),te=s("63a5"),se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-story-item m-gradient-overlay",class:{"m-viewed":e.watched},on:{click:e.runStoryTrottled}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"g-avatar m-w36 m-border-line b-story-item__pos-avatar"},[s("image-thumb",{attrs:{user:e.value.user,size:"c50"}})],1),s("div",{staticClass:"b-story-item__text online_status_class"},[s("div",{staticClass:"b-story-item__text-name"},[s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"b-username m-flex"},[s("div",{staticClass:"g-user-name"},[e._v(" "+e._s(e.value.user.name)+" ")])])])])]),s("img",{staticClass:"img-responsive",attrs:{src:e.preview,draggable:"false"}})])])},ie=[],re=s("0f32"),ne=s.n(re),ae=s("e66b"),oe={components:{ImageThumb:ae["a"]},props:{value:{required:!0},watched:{type:Boolean,default:!1},startZuck:{type:Function,default:function(){}}},computed:{preview:function(){var e=Array.isArray(this.value.stories)?this.value.stories.filter((function(e){return!e.isWatched})):[];return e.length?l()(e,"[0].media[0].files.squarePreview.sources.w150",void 0):l()(this.value.stories,"[0].media[0].files.squarePreview.sources.w150",void 0)},runStoryTrottled:function(){return ne()(this.runStory,1500)}},methods:{runStory:function(){var e=this;this.startZuck(),this.$nextTick((function(){var t=l()(e.value,"user.id",void 0);if(t){var s=document.querySelector('[data-id="user-'.concat(t,'"]'));s&&s.click()}}))}}},ce=oe,le=Object(x["a"])(ce,se,ie,!1,null,null,null),ue=le.exports,de=s("45d2"),he=s("ddd6"),pe=s("1994"),me=s("9798"),fe=s("912b");function be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ve(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?be(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ge={components:{AddStoryBtn:ee["a"],PromoteProfile:te["a"],Stream:de["a"],Story:ue,MyStories:pe["a"],ScheduledStream:he["a"]},mixins:[fe["a"]],data:function(){return{newStoryMediaUploading:!1,newStoryMediaUploadingProgress:0}},computed:ve(ve(ve(ve({},Object(b["qb"])(["myStories","stories"])),Object(b["b"])(["authUser"])),Object(b["wb"])(["streams"])),{},{liveStreams:function(){return this.streams.filter((function(e){return!1===e.isScheduled}))},scheduledStreams:function(){return this.streams.filter((function(e){return!0===e.isScheduled}))},isShowContainer:function(){return this.allStories.length||this.streams.length||this.authUser.canAddStory},type:function(){return"stories"},myReadyStories:function(){return Array.isArray(this.myStories)&&this.myStories.length?this.myStories.filter((function(e){return e.isReady})):[]},myStoriesNormalized:function(){return Object(me["b"])(this.myReadyStories,this.authUser,!0)},storiesNormalized:function(){return Array.isArray(this.stories)?this.stories.map((function(e){return Object(me["a"])(e)})):[]},allStories:function(){return this.myStoriesNormalized.id?[this.myStoriesNormalized].concat(Object(a["a"])(this.storiesNormalized)):Object(a["a"])(this.storiesNormalized)},newStories:function(){return Array.isArray(this.stories)?this.stories.filter((function(e){return e.user.hasNotViewedStory})):[]},watchedStories:function(){return Array.isArray(this.stories)?this.stories.filter((function(e){return!e.user.hasNotViewedStory})):[]},scrollBar:function(){return J["isMobile"]?"div":"perfect-scrollbar"}}),mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.$on("story::creation::upload::start",(function(){t.newStoryMediaUploading=!0,t.newStoryMediaUploadingProgress=0})),this.$root.$on("story::creation::upload::end",(function(){t.newStoryMediaUploading=!1,t.newStoryMediaUploadingProgress=100})),this.$root.$on("story::creation::upload::progress",(function(e){t.newStoryMediaUploadingProgress=e})),this.$root.$on("story::creation::upload::fromvault",(function(){t.fetchMyStories()})),e.next=6,this.fetchMyStories();case 6:return e.next=8,this.fetchStories();case 8:return e.next=10,this.fetchStreamsFeed();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:ve(ve(ve({},Object(b["pb"])(["fetchMyStories","fetchStories"])),Object(b["vb"])(["fetchStreamsFeed"])),{},{onCloseStory:function(){this.removePanel(),this.fetchStories(),this.fetchMyStories()},startZuck:function(){this.initZuck()}})},_e=ge,ye=Object(x["a"])(_e,K,Q,!1,null,null,null),we=ye.exports,Oe=s("e057"),Ce=s("16d9"),Pe=s("b775"),xe=s("2ad6");function ke(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Se(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ke(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ee={name:"PageFeed",components:{InfiniteLoading:p.a,FeedSearch:v["a"],UsersPostWrapper:S,MakePost:E["a"],RecommendedList:R,BannerPlace:U["a"],SpinnerLoader:N["a"],PriceChangedUser:Y,CustomSelect:X["a"],Stories:we},mixins:[Oe["a"],Ce["a"],H["a"],xe["a"]],data:function(){return{isShowSearch:!("Feed"!==this.$route.name||!this.$route.query||!this.$route.query.q),infiniteId:+new Date,showStreamModal:!1,settingsPostDisabled:!1,settingsModalShow:!1,swiperOptions:{slidesPerView:"auto",watchOverflow:!0},limit:Pe["e"],disabledLoadPrevPosts:!1,loaderBottomError:!1,loaderBottomErrorPreloader:!1}},computed:Se(Se(Se(Se(Se(Se(Se({},Object(b["Tb"])(["settingsPost"])),Object(b["Ob"])(["userHints"])),Object(b["T"])(["feedPosts","postsIdsList","lastFeedItemIds","lastFeedType","getPost","posts","filterExpiredFeedposts","isPostsLoading","postPublishedCounter","tempFeedItemIds"])),Object(b["b"])(["authUser","authUserId","isAuth"])),Object(b["Jb"])(["subscribes"])),Object(b["Z"])(["route"])),{},{showLoadNewBtnText:function(){return this.hasPrevPostsToLoad?this.$t("message.load_previous_posts"):this.$t("message.load_new_posts")},hasPrevPostsToLoad:{get:function(){return this.$store.state.posts.hasPrevPostsToLoad},set:function(e){this.setPrevPostsToLoad(e)}},showLoadNewBtn:function(){return!!this.isFeed&&(!(this.isPostsLoading&&!this.postsIdsList.length)&&(this.postPublishedCounter||this.hasPrevPostsToLoad))},hints:function(){var e=this;return this.userHints.filter((function(t){return!e.$cookie.get("hideHint_".concat(t.id||t.code,"_").concat(e.authUserId),{domain:".".concat("onlyfans.com"),expires:"1D"})}))},settingsPostCurrentCode:{get:function(){return this.settingsPost.currentCode},set:function(e){this.setSettingsPost(e)}},feedPostsList:function(){return this.filterExpiredFeedposts},noPostMsg:function(){var e;return e=this.isPurchased?this.$i18n.t("message.nothing_found_message_purchased"):this.isCloseFriends?this.$i18n.t("message.no_posts_close_friends"):this.isQueue?this.$i18n.t("message.nothing_found_message_queue"):this.getQuery?this.$i18n.t("message.nothing_found_message"):this.$i18n.t("message.no_posts_in_feed_message"),e},isFeed:function(){return"Feed"===this.route.to.name},isQueue:function(){return"Queue"===this.route.to.name},isPurchased:function(){return"Purchased"===this.route.to.name},isBlurred:function(){return"Blurred"===this.route.to.name},isCloseFriends:function(){return"FriendsFeed"===this.route.to.name},showNewPostAlert:function(){return this.postPublishedCounter>0&&!this.isQueue},getQuery:function(){return l()(this,"route.to.query.q")?this.route.to.query.q.replace(/[%#@]/gm,""):void 0},swiper:function(){return l()(this,"$refs.tabsSwiper.$swiper")?this.$refs.tabsSwiper.$swiper:null}}),watch:{route:{handler:function(e){var t=this,s=e.to,i=e.from;this.setLastFeedItemIds([]),this.$nextTick((function(){if(t.getSettingsPost(),t.getPosts(i,s),t.swiper)try{var e=t.$refs["".concat(s.name.toLowerCase(),"TabNav")].$el.parentElement,r=Object(a["a"])(e.parentElement.children).indexOf(e);t.swiper.slideTo(r)}catch(n){}}))}},feedPosts:function(){this.infiniteId+=1}},beforeRouteLeave:function(e,t,s){"Queue"!==e.name&&document.documentElement.classList.remove("p-index-queue-index"),s()},mounted:function(){var e=this;this.$nextTick((function(){e.getSettingsPost(),e.getPosts(e.route.from,e.route.to),e.setFeedUser(),e.authUser.hasNewHints?e.fetchHints():e.setUserHints([]),e.authUser.hasNewChangedPriceSubscriptions?e.fetchSubscribes({limit:0,type:"changed"}):e.setSubscribes({itemIds:[]})}))},beforeDestroy:function(){this.saveFeedItemIds(),this.setLastFeedType(this.route.from.name),this.setLastFeedItemIds([])},destroyed:function(){"Live"===l()(this,"route.to.name")&&this.setLastFeedItemIds([])},methods:Se(Se(Se(Se(Se(Se(Se(Se({},Object(b["Sb"])(["setCurrentUser","deleteUserHint","setUserHints"])),Object(b["Nb"])(["fetchHints","removeHint","fetchSettingsPost","sendSettingsPost"])),Object(b["U"])(["resetPostPublishedCounter","setPostPublishedCounter","resetFeedItemIds","setFeedItemIds","setLastFeedType","setLastFeedItemIds","setPrevPostsToLoad","saveFeedItemIds"])),Object(b["S"])(["fetchPosts"])),Object(b["Kb"])(["setSubscribes"])),Object(b["Ib"])(["fetchSubscribes"])),Object(b["Rb"])(["setIsAddUsersMode"])),{},{getPosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,s){var i,r,n,a,o,c,u,h,p,m,b=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s||!s.name||["Feed","Queue","Purchased","Blurred","FriendsFeed"].includes(s.name)){e.next=2;break}return e.abrupt("return");case 2:if(this.isAuth){e.next=4;break}return e.abrupt("return");case 4:return this.getQuery,this.isShowSearch=!("Feed"!==s.name||!s.query||!s.query.q),i=this.lastFeedType&&this.lastFeedType!==s.name,r=t&&"Streaming"===t.name,n=t&&["Feed","Queue","Purchased","Blurred","FriendsFeed"].includes(t.name),a=s&&["Queue","Purchased","Blurred","FriendsFeed"].includes(s.name),(i||r||!this.lastFeedItemIds.length&&n||a)&&this.resetFeedItemIds(),i&&this.setLastFeedType(null),this.lastFeedItemIds.length&&(c=t&&("Post"===t.name||"PostsEdit"===t.name)&&t.params?[Number(t.params.postId)]:d()(this.tempFeedItemIds,this.lastFeedItemIds),o=this.tempFeedItemIds.indexOf(c[0]),o>0&&(this.hasPrevPostsToLoad=!0),o>=0&&(this.setFeedItemIds({postIds:c}),this.$nextTick((function(){b.scrollToElement({behavior:"instant",el:b.$refs.userPosts})})))),o>-1&&(h=this.getPost(this.tempFeedItemIds[o])[0],h&&(p=l()(h,"postedAt"),m=l()(h,"postedAtPrecise"),u=m?f.a.unix(m).format("X.SSSSSS"):f()(p).format("X.SSSSSS"))),e.prev=14,e.next=17,this.loadMorePosts({reset:!this.lastFeedItemIds.length,beforePublishTime:u});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](14);case 21:"Queue"===s.name?document.documentElement.classList.add("p-index-queue-index"):document.documentElement.classList.remove("p-index-queue-index");case 22:case"end":return e.stop()}}),e,this,[[14,19]])})));function t(t,s){return e.apply(this,arguments)}return t}(),getSettingsPost:function(){this.isQueue&&null===this.settingsPost.currentCode&&this.fetchSettingsPost()},setSettingsPost:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.settingsPostDisabled=!0,e.next=3,this.sendSettingsPost(t);case 3:this.settingsPostDisabled=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setFeedUser:function(){var e=this.authUserId;this.setCurrentUser(e)},toggleSearch:function(){this.isShowSearch=!this.isShowSearch},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadMorePosts();case 3:s=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](0),t.loaded(),e.abrupt("return");case 10:s.length===this.limit?t.loaded():t.complete();case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),manualLoadMorePosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadMorePosts();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}(),loadMorePosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o,c,u,d,h,p,m,b,v,g,_,y,w,O,C,P=this,x=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=x.length>0&&void 0!==x[0]?x[0]:{},s=t.direction,i=void 0===s?"bottom":s,r=t.reset,n=void 0!==r&&r,a=t.beforePublishTime,o=t.afterPublishTime,c=this.getQuery,u="Queue"===this.route.to.name,d="Purchased"===this.route.to.name,h="Blurred"===this.route.to.name,p="FriendsFeed"===this.route.to.name,a||o||(this.postsIdsList.length&&!n&&(m="bottom"===i?this.postsIdsList[this.postsIdsList.length-1]:this.postsIdsList[0]),m&&(b=this.getPost(m),v=l()(b[0],"postedAt"),g=l()(b[0],"postedAtPrecise"),g?"bottom"===i?a=g:o=g:"bottom"===i?a=f()(v).format("X.SSSSSS"):o=f()(v).format("X.SSSSSS"))),_="top"===i&&m,_&&(y=this.$refs.userPosts?this.$refs.userPosts.getBoundingClientRect().top:0,w=this.$refs.loadPrevPosts?this.$refs.loadPrevPosts.getBoundingClientRect().height:0),this.loaderBottomError&&(this.loaderBottomErrorPreloader=!0),e.prev=10,e.next=13,this.fetchPosts({query:c,queue:u,purchased:d,locked:h,closefriends:p,beforePublishTime:a,afterPublishTime:o,more:!!a&&!n,addNew:!!o&&!n});case 13:O=e.sent,e.next=22;break;case 16:if(e.prev=16,e.t0=e["catch"](10),"bottom"!==i){e.next=22;break}throw this.loaderBottomError=!0,this.loaderBottomErrorPreloader=!1,e.t0;case 22:return this.loaderBottomError=!1,this.loaderBottomErrorPreloader=!1,_&&(C=O.length===this.limit?y-w:y,this.$nextTick((function(){P.scrollToElement({behavior:"instant",el:document.getElementById("postId_".concat(m)),offset:C})}))),e.abrupt("return",O);case 26:case"end":return e.stop()}}),e,this,[[10,16]])})));function t(){return e.apply(this,arguments)}return t}(),loadPrevPosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledLoadPrevPosts=!0,e.prev=1,e.next=4,this.loadMorePosts({direction:"top"});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),this.disabledLoadPrevPosts=!1,e.abrupt("return");case 11:this.postPublishedCounter&&(this.postPublishedCounter>t.length&&t.length===this.limit?this.setPostPublishedCounter(this.postPublishedCounter-t.length):this.resetPostPublishedCounter()),this.hasPrevPostsToLoad=t.length===this.limit,this.disabledLoadPrevPosts=!1;case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}(),reloadQueue:function(){var e=this.getQuery;this.fetchPosts({queue:!0,query:e})},loadNewPosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.scrollToTop({behavior:"instant"}),e.next=3,this.fetchPosts({addNew:!0});case 3:this.resetPostPublishedCounter();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hideHint:function(e){e.isPermanent?(this.$cookie.set("hideHint_".concat(e.id||e.code,"_").concat(this.authUserId),1,{domain:".".concat("onlyfans.com"),expires:"1D"}),this.deleteUserHint(e.id||e.code)):this.removeHint(e.id||e.code)},enableAddUsersMode:function(){var e=this;this.setIsAddUsersMode(!0),this.$nextTick((function(){e.$router.push({name:"CustomList",params:{list:"close_friends"}})}))}})},Te=Ee,Ae=Object(x["a"])(Te,i,r,!1,null,null,null);t["default"]=Ae.exports},"3bc9":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post_media",class:{"m-video":e.visibleVideos.length||e.visibleGifs.length,"m-one-video":e.oneVideo||e.oneGif,"m-only-video":e.onlyVideo||e.onlyGifs}},[e.isBlurFoto?s("div",{staticClass:"b-chat__message__pay-btn blur-foto-btn",on:{click:function(t){e.isBlurFoto=!1}}},[s("span",[e._v(e._s(e.$t("message.click_to_open")))])]):e._e(),!e.isPlaying&&e.visibleMediaWithoutAudio.length>1?s("Switcher",{attrs:{post:e.post,message:e.message,"current-media-type-item-num":e.currentMediaTypeItemNum,"current-index":e.currentContentIndex,"is-linked":e.isLinked},on:{changeType:e.setMediaType}}):e._e(),e.visibleMediaWithoutAudio.length>1&&!e.isLinked?s("swiper",{key:e.visibleMediaWithoutAudio.length,ref:"postSwiper",staticClass:"b-slideshow",class:{"m-square":"squarePreview"===e.mediaPreviewType,"m-only-video":e.onlyVideo||e.onlyGifs},attrs:{options:e.mediaOptions},on:{"click-slide":e.gallerySlideClicked,slideChange:e.slideChange,sliderMove:e.sliderMove,touchEnd:e.touchEnd}},[e._l(e.visibleMediaWithoutAudio,(function(t){return s("swiper-slide",{key:t.id},[s("post-media-item",{class:{"m-no-pointer":e.sliderIsMoving},style:{filter:e.isBlurFoto?"blur(20px)":""},attrs:{"media-item":t,"preview-type":e.mediaPreviewType,post:e.post},on:{changeVideoState:e.changeVideoState,"~mediaError":function(t){return e.mediaError(t)}}})],1)})),s("div",{staticClass:"swiper-button-prev",class:{"g-hidden":e.isPlaying},attrs:{slot:"button-prev"},slot:"button-prev"},[s("span",{staticClass:"b-swiper-button-icon "},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})])]),s("div",{staticClass:"swiper-button-next",class:{"g-hidden":e.isPlaying},attrs:{slot:"button-next"},slot:"button-next"},[s("span",{staticClass:"b-swiper-button-icon "},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})])])],2):1!==e.visiblePhotos.length||e.isLinked?s("post-media-item",{style:{filter:e.isBlurFoto?"blur(20px)":""},attrs:{"media-item":e.visibleMediaWithoutAudio[0],"preview-type":e.mediaPreviewType,post:e.post,message:e.message,"is-linked":e.isLinked},on:{changeVideoState:e.changeVideoState,"~mediaError":function(t){return e.mediaError(t)}}}):s("div",{staticClass:"post_img_block",on:{click:function(t){return t.preventDefault(),e.showPhotoSwipe(0)}}},[s("post-media-item",{style:{filter:e.isBlurFoto?"blur(20px)":""},attrs:{"media-item":e.visiblePhotos[0],"preview-type":e.mediaPreviewType,post:e.post,message:e.message},on:{"~mediaError":function(t){return e.mediaError(t)}}})],1)],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("28a5"),s("20d6"),s("bd86")),o=(s("7f7f"),s("9b02")),c=s.n(o),l=s("d634"),u=s("3c15"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-post__media__item-inner"},[e.isShowIconLock?s("span",{staticClass:"icn-lock"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"swiper-icon-unlocked",staticClass:"icon-price-free"})]):e._e(),"photo"===e.mediaItem.type?s("img",{class:{"img-responsive":1===e.visibleMediaWithoutAudio.length},attrs:{src:e.mediaItem[e.previewType],draggable:"false",alt:""},on:{"~error":function(t){return e.mediaError(t)}}}):e._e(),"gif"===e.mediaItem.type?s("post-gif",{attrs:{media:e.mediaItem,"is-linked":e.isLinked}}):"video"===e.mediaItem.type?s("post-video",{attrs:{media:e.mediaItem,"stream-id":e.post.streamId||0,"post-id":e.getPostId,"is-linked":e.isLinked},on:{changeVideoState:e.changeVideoState,"~videoError":function(t){return e.mediaError(t)}}}):e._e()],1)},h=[],p=(s("c5f6"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("figure",{staticClass:"post_img_big"},[s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"},{name:"touch",rawName:"v-touch",value:e.togglePlaying,expression:"togglePlaying"}],staticClass:"post_gif"},[s("img",{staticClass:"img-responsive post_gif_preview",attrs:{alt:"",src:e.media.preview}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isPlaying,expression:"!isPlaying"}],staticClass:"post_gif_play"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-play"})]),e.isPlaying&&!e.isVideo?s("img",{ref:"gifElement",staticClass:"post_gif_media",attrs:{src:e.mediaFull,alt:""}}):e._e(),e.isVideo?s("video",{ref:"videoElement",staticClass:"post_gif_media",attrs:{poster:e.media.preview,loop:"",muted:"",playsinline:""},domProps:{muted:!0}},[s("source",{attrs:{type:"video/mp4",src:e.mediaFull}})]):e._e()])])}),m=[],f={name:"PostGif",props:{media:{type:Object,required:!0}},data:function(){return{isPlaying:!1,playPromise:null}},computed:{isVideo:function(){return this.media.convertedToVideo||"mp4"===this.mediaFull.split("?").shift().split(".").pop().toLowerCase()},mediaFull:function(){return this.media.full?this.media.full:this.media.src}},methods:{togglePlayingCallback:function(e){var t=this;!e&&this.$refs.gifElement&&(this.$refs.gifElement.src=""),this.isPlaying=void 0!==e?e:!this.isPlaying,this.$nextTick((function(){if(t.isPlaying)if(t.isVideo){if(t.$refs.videoElement)try{t.playPromise=t.$refs.videoElement.play(),void 0!==t.playPromise&&t.playPromise.catch((function(){}))}catch(e){}}else t.$refs.gifElement.src=t.mediaFull;else t.isVideo&&t.playPromise&&t.playPromise.then((function(){if(t.$refs.videoElement)try{t.$refs.videoElement.pause()}catch(e){}t.playPromise=null})).catch((function(e){}))}))},togglePlaying:function(e){var t=this;this.$parent.toggleLikeMessage?(e&&(e.stopPropagation(),e.preventDefault()),this.$parent.toggleLikeMessage(e,(function(){t.togglePlayingCallback()}))):this.togglePlayingCallback()},visibilityChanged:function(e){this.togglePlayingCallback(e)}}},b=f,v=s("2877"),g=Object(v["a"])(b,p,m,!1,null,null,null),_=g.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"waypoint",rawName:"v-waypoint",value:{active:!0,callback:e.onWaypoint,options:e.intersectionOptions},expression:"{ active: true, callback: onWaypoint, options: intersectionOptions }"},{name:"observe-visibility",rawName:"v-observe-visibility",value:{callback:e.visibilityChanged,throttle:1e3,intersection:{rootMargin:"2000px 0px"}},expression:"{\n    callback: visibilityChanged,\n    throttle: 1000,\n    intersection: {\n      rootMargin: '2000px 0px'\n    },\n  }"}],key:e.keyUnique,ref:"videoWrapper",staticClass:"video-wrapper"},[s("div",{staticClass:"blurred-poster",style:"background-image: url("+e.media.preview+")"}),e.showPlaceholder?s("div",{staticClass:"video-js video-js-placeholder-wrapper",on:{click:e.mountPlayer}},[s("div",{staticClass:"vjs-tech placeholder-preview",class:{"no-placeholder-preview":!e.hasPreview}},[e.hasPreview?s("img",{staticClass:"g-invisible",attrs:{src:e.media.preview,width:e.mediaWidth,height:e.mediaHeight,alt:""},on:{load:e.placeholderImageLoaded,error:e.placeholderImageError}}):e._e()]),s("div",{staticClass:"vjs-poster show",style:"background-image: url("+e.media.preview+")",attrs:{"aria-disabled":"false"}}),e.showPlaceholderRunning?e._e():s("button",{staticClass:"vjs-big-play-button",attrs:{type:"button",title:"Play Video","aria-disabled":"false"}},[s("span",{staticClass:"vjs-icon-placeholder",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"vjs-control-text",attrs:{"aria-live":"polite"}},[e._v(" Play Video ")])])]):e._e(),e.showPlayer?s("video",{ref:"video",staticClass:"video-js vjs-default-skin",attrs:{width:e.mediaWidth,height:e.mediaHeight,preload:"none",playsinline:"",controls:"",controlsList:"nodownload",poster:e.media.preview,"data-setup":"{}",autoplay:e.autoplay}},[e.hasQuality?e._l(e.sources,(function(t,i){return s("source",{key:i,attrs:{type:e.getMediaSourceType(t),src:t,label:i,selected:i==e.defaultSourceSize}})})):s("source",{attrs:{type:e.mediaSourceType,src:e.mediaSource}})],2):e._e(),e.streamId?s("div",{ref:"actions",staticClass:"b-post__streaming-actions"},[s("div",{ref:"comments",staticClass:"b-streaming__comments",class:{"m-overflowed":e.limitReached}},e._l(e.comments,(function(t){return s("div",{key:t.time,staticClass:"b-streaming__comment"},[s("span",{staticClass:"g-avatar m-w36"},[s("image-thumb",{attrs:{user:t.data.user,size:"c50"}})],1),s("div",{staticClass:"b-username-row m-width-limit"},[s("span",{staticClass:"b-username"},[s("span",{staticClass:"g-user-name"},[e._v(" "+e._s(t.data.user.name)+" ")])])]),s("span",{staticClass:"b-streaming__comment__text",domProps:{innerHTML:e._s(t.data.comment)}})])})),0),e._l(e.likes,(function(e){return s("streaming-like",{key:e.time,attrs:{"start-left":e.left,"start-top":e.top}})}))],2):e._e(),e.needPreventHolder?s("div",{directives:[{name:"touch",rawName:"v-touch",value:e.clickToPlay,expression:"clickToPlay"}],staticClass:"video-wrapper-prevent-holder"}):e._e()])},w=[],O=s("77c1"),C=s.n(O),P=s("13ea"),x=s.n(P),k=s("63ea"),S=s.n(k),E=s("0f32"),T=s.n(E),A=s("f0e2"),j=s("9957"),$=s("e66b"),M=s("c393");function I(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function L(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?I(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}s("deae")(A["default"]),A["default"].log.level("off");var D={name:"PostVideo",components:{ImageThumb:$["a"],StreamingLike:M["a"]},props:{media:{type:Object,required:!0},postId:{type:Number,default:0},streamId:{type:Number,default:0},messageId:{type:Number,default:0}},data:function(){return{player:null,comments:[],likes:[],playerTime:0,limitReached:!1,needPreventHolder:!1,isPlaying:!1,isInFullScreenMode:!1,keyUnique:+new Date,videoError:!1,intersectionOptions:{threshold:[.5,.75]},showPlaceholder:!0,showPlaceholderRunning:!1,showPlayer:!1,hasPreview:!0,autoplay:!1}},computed:L(L({},Object(l["T"])(["getPost"])),{},{post:function(){if(this.postId){var e=this.getPost(this.postId);if(e.length)return e[0]}return{}},mediaSource:function(){return this.media.source||this.media.full?this.media.source?this.media.source.source:this.media.full:this.media.video&&this.media.video.mp4?this.media.video.mp4:this.media.src},sources:function(){return C()(L(L({},this.media.videoSources),{},{original:this.mediaSource}))},hasQuality:function(){return!x()(this.media.videoSources)},defaultSourceSize:function(){return this.media.videoSources["720"]?"720":"original"},mediaSourceType:function(){return this.fileType(this.mediaSource)},mediaWidth:function(){return this.media.source&&this.media.source.width&&this.media.source.width>0?this.media.source.width:""},mediaHeight:function(){return this.media.source&&this.media.source.height&&this.media.source.height>0?this.media.source.height:""}}),watch:{comments:function(){var e=this;this.$nextTick((function(){e.limitReached=!!e.$refs.comments&&e.$refs.comments.scrollHeight>e.$refs.comments.clientHeight,e.limitReached&&e.comments.pop()}),0)},media:function(e,t){var s=this;S()(e,t)||(this.keyUnique=+new Date,this.$nextTick((function(){s.dispose(),s.initialize()})))}},mounted:function(){this.$root.$on("changePostMediaType",this.changePostMediaType)},beforeDestroy:function(){this.$root.$off("changePostMediaType",this.changePostMediaType),this.player&&this.dispose()},methods:L(L(L({},Object(l["S"])(["fetchStreamEvents"])),Object(l["k"])(["setIsMediaPlayed"])),{},{visibilityChanged:function(e){!this.showPlayer||e||this.isPlaying||this.setShowPlaceholder()},placeholderImageLoaded:function(){var e=this;this.$refs.videoWrapper&&this.$nextTick((function(){e.$refs.videoWrapper.style.cssText=""}))},placeholderImageError:function(){this.hasPreview=!1},mountPlayer:function(){var e=this;if(this.$refs.videoWrapper){var t=this.$refs.videoWrapper.offsetHeight;this.$refs.videoWrapper.style.cssText="height: ".concat(t,"px")}this.autoplay=!0,this.showPlayer=!0,this.showPlaceholderRunning||this.$nextTick((function(){e.initialize()})),this.showPlaceholderRunning=!0},getMediaSourceType:function(e){return this.fileType(e)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e))+e},insertStreamPostComment:function(e){var t=this,s=this.comments.indexOf(e);-1==s&&(0==this.comments.length||this.comments[0].time<e.time)&&(e.commentTimeout&&(clearTimeout(e.commentTimeout),e.commentTimeout=null),e.commentTimeout=setTimeout((function(){e.commentTimeout=null;var s=t.comments.indexOf(e);-1!==s&&t.comments.splice(s,1)}),6e4),this.comments.unshift(e))},insertStreamPostLike:function(e){var t=this;e.left="0px",e.top="100%";var s=this.$refs.actions,i=Math.round(e.data.x*s.offsetWidth),r=Math.round(e.data.y*s.offsetHeight);i&&r&&(e.left=i-25,e.top=r+40),-1==this.likes.indexOf(e)&&(this.likes.push(e),setTimeout((function(){t.likes.shift()}),1e3))},timeUpdateThrottled:T()((function(){this.timeUpdate()}),1e3),timeUpdate:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.streamId&&this.player&&!this.player.ended()){var s=this.player.currentTime(),i=this.playerTime,r=this.post.streamEvents.filter((function(e){return s-60<=e.time&&e.time<=s}));this.playerTime=s,t&&this.clearStreamComments(),r.length&&r.forEach((function(t){switch(t.type){case"comment":e.insertStreamPostComment(t);break;case"like":t.time>=i&&e.insertStreamPostLike(t);break;default:break}}))}},firstPlay:function(){this.needPreventHolder=!1,this.streamId&&this.fetchStreamEvents({streamId:this.streamId,postId:this.postId})},clearStreamComments:function(){this.comments.forEach((function(e){e.commentTimeout&&(clearTimeout(e.commentTimeout),e.commentTimeout=null)})),this.comments=[]},seekStreamComments:function(){this.timeUpdate(!0)},initialize:function(){var e=this;this.$refs.video&&(A["default"].registerComponent("PlayToggle",A["default"].extend(A["default"].getComponent("PlayToggle"),{handleClick:function(){try{this.player_.paused()?this.player_.play().catch((function(e){})):this.player_.pause()}catch(e){}}})),this.player=Object(A["default"])(this.$refs.video,{controlBar:{seekToLive:!1}},(function(){e.showPlaceholder=!1,e.$root.$emit("video:player:init",{postId:e.postId})})),this.player.controlBar.addClass("swiper-no-swiping"),this.hasQuality&&this.player.controlBar.addChild("QualitySelector"),this.needPreventHolder=!!this.messageId,this.player.on("timeupdate",this.timeUpdateThrottled),this.player.on("firstplay",this.firstPlay),this.player.on("seeked",this.seekStreamComments),this.player.on("ended",this.clearStreamComments),this.player.on("fullscreenchange",this.toggleBodyScroll),this.player.on("playing",this.setVideoPlaying),this.player.on("pause",this.setVideoPaused),this.player.on("error",this.triggerVideoError),this.player.on("touchstart",this.togglePlaying))},togglePlaying:function(e){"VIDEO"===e.target.nodeName&&(this.isPlaying?this.player.pause():this.player.play())},toggleBodyScroll:function(){this.isInFullScreenMode=!!document.fullscreenElement||!!document.webkitCurrentFullScreenElement,this.isInFullScreenMode?window.disableBodyScroll(!0):window.enableBodyScroll(!0)},setVideoPlaying:function(){this.$refs.videoWrapper&&(this.$refs.videoWrapper.style.cssText=""),this.isPlaying=!0,this.$emit("changeVideoState",this.isPlaying)},setVideoPaused:function(){this.isPlaying=!1,this.$emit("changeVideoState",this.isPlaying)},setShowPlaceholder:function(){var e,t=this;this.$refs.videoWrapper&&(e=this.$refs.videoWrapper.offsetHeight),this.player&&this.dispose(),this.showPlaceholderRunning=!1,this.showPlaceholder=!0,this.showPlayer=!1,this.keyUnique=+new Date,this.$refs.videoWrapper&&e&&this.$nextTick((function(){t.$refs.videoWrapper.style.cssText="height: ".concat(e,"px")}))},dispose:function(){this.player&&(this.player.off&&(this.player.off("timeupdate",this.timeUpdateThrottled),this.player.off("firstplay",this.firstPlay),this.player.off("seeked",this.seekStreamComments),this.player.off("ended",this.clearStreamComments),this.player.off("fullscreenchange",this.toggleBodyScroll),this.player.off("playing",this.setVideoPlaying),this.player.off("pause",this.setVideoPaused),this.player.off("error",this.triggerVideoError),this.player.off("touchstart",this.togglePlaying)),this.player.dispose(),this.player=null),this.autoplay=!1,this.needPreventHolder=!1,this.isInFullScreenMode=!1},fileType:function(e){var t=j["a"].getType(e);return"video/mpeg"!==t&&"video/quicktime"!==t&&t||(t="video/mp4"),t},onWaypoint:function(e){var t=e.going;t===this.$waypointMap.GOING_OUT&&!this.isInFullScreenMode&&this.player&&this.isPlaying&&this.player.pause()},changePostMediaType:function(e){e===this.postId&&this.player&&this.isPlaying&&this.player.pause()},clickToPlay:function(e){var t=this;this.$parent.toggleLikeMessage&&(e.stopPropagation(),e.preventDefault(),this.$parent.toggleLikeMessage(e,(function(){t.player.play(),t.setIsMediaPlayed({messageId:t.messageId,value:!0})})))},triggerVideoError:function(){if(!this.videoError){var e=this.player.error();e&&4===e.code&&(this.videoError=!0,this.$emit("videoError"))}}})},R=D,U=(s("16eb"),Object(v["a"])(R,y,w,!1,null,null,null)),N=U.exports;function B(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function F(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?B(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var V={name:"PostMediaItem",components:{PostGif:_,PostVideo:N},mixins:[u["a"]],props:{post:{type:Object,required:!0},mediaItem:{type:Object,required:!0},previewType:{type:String,required:!0},isLinked:{type:Boolean,default:!1},message:{type:Object,default:function(){}},template:{type:Object,default:function(){}}},data:function(){return{isMediaError:!1}},computed:F(F({},Object(l["b"])(["authUserId"])),{},{isPostUser:function(){return this.post.author===this.authUserId},isShowIconLock:function(){return this.privatePost&&this.preview.indexOf(this.mediaItem.id)>=0&&(this.isPostUser&&!this.isLinked||this.isChats)},isChats:function(){return"Chat"===this.$route.name||"SettingsMessaging"===this.$route.name||"ScheduleMessage"===this.$route.name},getPostId:function(){return this.post?Number(this.post.id):this.message?Number(this.message.id):Number(this.template.id)}}),methods:{changeVideoState:function(e){this.$emit("changeVideoState",e)},mediaError:function(){this.isMediaError||(this.isMediaError=!0,this.$emit("mediaError"))}}},H=V,z=Object(v["a"])(H,d,h,!1,null,null,null),q=z.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"switcher-media-content"},e._l(e.visibleMediaWithoutAudioByType,(function(t,i){return s("div",{key:i,staticClass:"switcher-media-content__btn",class:{"active-btn":e.currentIndex===i}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:{"icon-media":"photo"===t.type,"icon-video":!e.isStream&&"video"===t.type,"icon-live":e.isStream&&"video"===t.type,"icon-gif":"gif"===t.type}}),t.media.length>1?[e.currentIndex===i?s("span",{staticClass:"switcher-media-content__val"},[s("span",[e._v(e._s(e.currentMediaTypeItemNum))]),e._v(" / ")]):e._e(),s("span",{staticClass:"switcher-media-content__val-total"},[e._v(" "+e._s(t.media.length)+" ")])]:e.getDuration(i)?s("span",{staticClass:"switcher-media-content__val"},[e._v(" "+e._s(e.getDuration(i))+" ")]):e._e()],2)})),0)},Z=[],W={name:"PostContentSwitcher",mixins:[u["a"]],props:{post:{type:Object,required:!0},currentMediaTypeItemNum:{type:Number,required:!0},currentIndex:{type:Number,required:!0},isLinked:{type:Boolean,default:!1}},methods:{changeType:function(e){this.isLinked||this.$emit("changeType",e)}}},Y=W,X=Object(v["a"])(Y,G,Z,!1,null,null,null),K=X.exports,Q=s("9d30"),J=s("7618"),ee=s("ab39"),te=s("8f95"),se=s("2ef0"),ie="/theme/onlyfans/spa/faceApi/models",re=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ee["d"].tinyFaceDetector.isLoaded){e.next=3;break}return e.next=3,ee["c"](ie);case 3:return s=512,i=new ee["a"]({inputSize:s,scoreThreshold:.4}),e.next=7,ee["b"](t,i);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=Object(J["a"])(t),"string"!==s||!/^blob/.test(t)){e.next=7;break}return i=new Image,i.src=t,e.abrupt("return",i);case 7:if(/^blob/.test(t)&&/^blob/.test(t.src)){e.next=15;break}return r="string"===s?t:t.src,e.next=11,new Promise((function(e,t){var s=new XMLHttpRequest;s.responseType="arraybuffer",s.onload=function(t){e(s.response)},s.onerror=function(e){t(e)},s.open("GET",r,!0),s.send()}));case 11:return n=e.sent,a=new Image,a.src=window.URL.createObjectURL(new Blob([n])),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=[],oe={data:function(){return{callStack:[],pointer:0,isWorking:!1}},methods:{checkFaces:function(e){var t=Object(te["a"])();return ae.push({defered:t,done:!0,img:e}),this.startCheck(),t.promise},startCheck:Object(se["debounce"])((function(){this.pointer=0,this.isWorking=!1,this.run()}),200),run:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!ae[this.pointer]||this.isWorking){e.next=13;break}return this.isWorking=!0,e.next=4,ne(ae[this.pointer].img);case 4:return t=e.sent,e.next=7,re(t);case 7:if(s=e.sent,ae[this.pointer]){e.next=10;break}return e.abrupt("return");case 10:ae[this.pointer].done=!0,ae[this.pointer].defered.resolve(s.length),ae.length&&(this.pointer+=1,this.isWorking=!1,this.run());case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),stopAndClearFacesChecks:function(){ae.forEach((function(e){e&&!1===e.done&&e.defered.resolve(0)})),ae=[],this.pointer=0,this.isWorking=!1}}};function ce(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function le(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ce(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ue={name:"PostMedia",components:{PostMediaItem:q,Switcher:K},mixins:[u["a"],Q["a"],oe],props:{post:{type:Object,required:!0},isLinked:{type:Boolean,default:!1},message:{type:Object,default:function(){}}},data:function(){return{isPlaying:!1,currentMediaTypeItemNum:1,currentContentIndex:0,player:null,mediaOptions:{autoHeight:!1,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},noSwipingClass:"swiper-no-swiping"},options:{},isVideoSlide:!1,sliderIsMoving:!1,isMediaError:!1,isBlurFoto:!1}},mounted:function(){var e=this;"Chat"===this.$route.name&&this.toggleIsBlurFoto();var t=(new Date).getTime(),s=new Date(this.post.postedAt).getTime(),i=(t-s)/1e3/60;if(!(i>5||!this.isPostUser||"Post"!==this.$route.name||this.post.linkedUsers.length>0||this.post.mentionedUsers.length>0))for(var r in this.visibleMediaWithoutAudio){var n=this.visibleMediaWithoutAudio[r];if("photo"!==n.type||!n.preview)return;this.checkFaces(n.preview).then((function(t){t<2||(e.stopAndClearFacesChecks(),e.$emit("faceDetection",t))}))}},computed:le(le(le({},Object(l["b"])(["authUser"])),Object(l["Ob"])(["getUser"])),{},{isOpen:{get:function(){return this.photoSwipeIsOpen},set:function(e){e?(this.$root.$on("closePhotoSwipe",this.hidePhotoSwipe),this.$root.$once("imgLoadErrorPhotoSwipe",this.mediaError)):(this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.$root.$off("imgLoadErrorPhotoSwipe",this.mediaError)),this.photoSwipeSetItems(e?this.photoSwipeItems:[]),this.photoSwipeSetOptions(e?this.options:{}),this.photoSwipeSetOpen(e)}},swiper:function(){return c()(this,"$refs.postSwiper.$swiper")},onlyVideo:function(){return this.visibleVideos.length&&!this.visiblePhotos.length&&!this.visibleGifs.length},oneVideo:function(){return this.onlyVideo&&1===this.visibleVideos.length},onlyGifs:function(){return this.visibleGifs.length&&!this.visiblePhotos.length&&!this.visibleVideos.length},oneGif:function(){return this.onlyGifs&&1===this.visibleGifs.length},photoSwipeItems:function(){var e=this;return this.visibleMediaWithoutAudio.map((function(t){if("video"===t.type||"gif"===t.type&&e.isVideo(t))return{media:t};var s=t.source||t.info||{},i=s.source;return"string"!==typeof i&&(i=t.src),{thumbnail:t.preview,src:i,w:s.width||0,h:s.height||0,postId:e.post.id}}))},isMineMessage:function(){return this.message&&this.message.fromUser===this.authUserId}}),watch:{visibleMediaWithoutAudio:{handler:function(e){e&&e.length&&(this.isVideoSlide="video"===e[0].type)},immediate:!0}},created:function(){this.setLoop()},updated:function(){this.setLoop()},beforeDestroy:function(){this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.$root.$off("imgLoadErrorPhotoSwipe",this.mediaError),this.$root.$off("destroyPhotoSwipe",this.gallerySlideClicked)},methods:le(le({},Object(l["S"])(["fetchPost"])),{},{setLoop:function(){this.visibleVideos.length||this.visibleGifs.length?this.mediaOptions.loop=!1:this.mediaOptions.loop=!0},gallerySlideClicked:function(){this.$root.$off("destroyPhotoSwipe",this.gallerySlideClicked);var e=c()(this,"swiper.realIndex")||0,t=c()(this,"visibleMediaWithoutAudio[".concat(e,"].type"));"video"!==t&&"gif"!==t&&this.showPhotoSwipe(e)},showPhotoSwipe:function(e){this.isBlurFoto||(this.$set(this.options,"index",e),this.isOpen=!0)},hidePhotoSwipe:function(){this.isOpen=!1},findIndex:function(e){return this.visibleMediaWithoutAudio.findIndex((function(t){return t.id===e[0].id}))},setMediaType:function(e){var t=this.visibleMediaWithoutAudioByType[e].media;if(this.currentContentIndex!==e){if(this.swiper){var s=this.mediaOptions.loop?"slideToLoop":"slideTo";this.swiper[s](this.findIndex(t))}this.currentContentIndex=e}},changeVideoState:function(e){this.isPlaying=e},mediaSource:function(e){return e.source||e.full?e.source?e.source.source:e.full:e.video&&e.video.mp4?e.video.mp4:e.src},isVideo:function(e){return e.convertedToVideo||"mp4"===this.mediaSource(e).split("?").shift().split(".").pop().toLowerCase()},slideChange:function(){var e=this;this.$root.$emit("changePostMediaType",this.post.id);var t=c()(this,"swiper.realIndex"),s=c()(this,"visibleMediaWithoutAudio[".concat(t,"].type"));this.isVideoSlide="video"===s,this.$nextTick((function(){var s=c()(e,"visibleMediaWithoutAudio[".concat(t,"].id")),i=e.visibleMediaWithoutAudioByType.findIndex((function(e){return e.media.some((function(e){return e.id===s}))})),r=c()(e,"visibleMediaWithoutAudioByType[".concat(i,"].media"));r&&r.length&&(e.currentMediaTypeItemNum=r.findIndex((function(e){return e.id===s}))+1,i!==e.currentContentIndex&&(e.currentContentIndex=i))}))},sliderMove:function(){this.sliderIsMoving=!0},touchEnd:function(){this.sliderIsMoving=!1},mediaError:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isMediaError){e.next=2;break}return e.abrupt("return");case 2:if(this.isMediaError=!0,"ScheduleMessage"!==this.$route.name&&"SettingsMessaging"!==this.$route.name){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.fetchPost({id:this.post.id});case 7:this.isOpen&&(this.$root.$once("destroyPhotoSwipe",this.gallerySlideClicked),this.isOpen=!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleIsBlurFoto:function(){var e=this.$route.params.chatId,t=this.getUser(e);this.isMineMessage||!1!==t.isRealPerformer&&t.isPerformer||(this.isBlurFoto=!0)}})},de=ue,he=Object(v["a"])(de,i,r,!1,null,null,null);t["a"]=he.exports},"3c15":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("20d6"),s("6762"),s("2fdb"),s("7f7f");var i=s("bd86"),r=s("c1df"),n=s.n(r),a=s("6edf"),o=s.n(a),c=s("c641"),l=s.n(c),u=s("2ef0"),d=s("4623"),h=s.n(d),p=s("d634");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}h()(n.a),t["a"]={name:"PostMediaMixin",props:{post:{type:Object,required:!0},isLinked:{type:Boolean,default:!1},message:{type:Object,default:function(){}},template:{type:Object,default:function(){}}},computed:f(f({},Object(p["b"])(["authUserId"])),{},{privatePost:function(){return this.message?!!this.message.price:this.template?!!this.template.price:!!this.post.price},isPostUser:function(){return this.message?this.message.fromUser===this.authUserId:this.post.author===this.authUserId},opened:function(){return"ScheduleMessage"===this.$route.name||("SettingsMessaging"===this.$route.name||(this.message?this.isPostUser:!(this.isLinked&&this.isPostUser&&this.privatePost)&&!!this.post.isOpened))},media:function(){return this.message?this.message.media||[]:this.templates?this.templates.media||[]:this.post.media||[]},lockedText:function(){return this.message?this.message.lockedText:this.post.lockedText},visibleMedia:function(){var e=this;return this.message&&!this.message.canPurchase||"ScheduleMessage"===this.$route.name||"SettingsMessaging"===this.$route.name||this.opened?this.media:this.hasPreview?this.media.filter((function(t){return e.preview.includes(t.id)})):[]},visibleMediaWithoutAudio:function(){return this.visibleMedia.filter((function(e){return"audio"!==e.type}))},visibleMediaWithoutAudioByType:function(){var e=[],t=o()(this.visibleMediaWithoutAudio,"type");return l()(t,(function(t,s){e.push({type:s,media:t})})),e},isStream:function(){return!!this.post.streamId},videos:function(){return this.media.filter((function(e){return"video"===e.type}))},video:function(){return this.videos.length?this.videos[0]:null},gifs:function(){return this.media.filter((function(e){return"gif"===e.type}))},gif:function(){return this.gifs.length?this.gifs[0]:null},photos:function(){return this.media.filter((function(e){return"photo"===e.type}))},videoIndex:function(){return this.visibleMedia.findIndex((function(e){return"video"===e.type||"gif"===e.type}))},visiblePhotos:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"photo"===e.type}))},visibleVideos:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"video"===e.type}))},visibleGifs:function(){return this.visibleMediaWithoutAudio.filter((function(e){return"gif"===e.type}))},photoCount:function(){return this.photos.length},audios:function(){return this.media.filter((function(e){return"audio"===e.type}))},audio:function(){return this.audios.length?this.audios[0]:null},preview:function(){return this.message?null!==this.message.previews&&void 0!==this.message.previews?void 0!==this.message.previews.length?this.message.previews:[this.message.vc-ps-previews__label]:[]:this.post.previews?null!==this.post.previews&&void 0!==this.post.previews?void 0!==this.post.previews.length?this.post.previews:[this.post.vc-ps-previews__label]:[]:null!==this.post.preview&&void 0!==this.post.preview?void 0!==this.post.preview.length?this.post.preview:[this.post.preview]:[]},hasPreview:function(){var e=this;return this.preview.length&&this.media.filter((function(t){return e.preview.includes(t.id)})).length},hasMedia:function(){return this.message?this.message.media&&this.message.media.length:this.post.media&&this.post.media.length},hasGif:function(){return!!this.gif},hasVideo:function(){return!!this.video},hasPhoto:function(){return!!this.photoCount},hasAudio:function(){return!!this.audio},hasAudioVisible:function(){return!!this.visibleMedia.filter((function(e){return"audio"===e.type})).length},hasPoll:function(){return!this.message&&0!==this.post.voting.length},hasLockedPoll:function(){return!this.message&&(0===this.post.voting.length&&this.post.hasVoting)},hasAny:function(){return this.hasPhoto||this.hasVideo||this.hasAudio||this.hasPoll||this.hasGif||this.lockedText||this.hasLockedPoll},hasLockedText:function(){return this.lockedText},hasVideoDuration:function(){return this.video&&this.video.source&&this.video.source.duration},hasLockedVideoDuration:function(){return this.video&&this.video.source&&this.video.source.duration},hasGifDuration:function(){return this.gif&&this.gif.source&&this.gif.source.duration},hasAudioDuration:function(){return this.audio&&this.audio.source&&this.audio.source.duration},videoDuration:function(){return this.hasVideoDuration?n.a.duration(this.video.source.duration,"seconds").format():0},gifDuration:function(){return this.hasGifDuration?n.a.duration(this.gif.source.duration,"seconds").format():0},audioDuration:function(){return this.hasAudioDuration?n.a.duration(this.audio.source.duration,"seconds").format():0},mediaPreviewType:function(){var e=this;return this.visiblePhotos.length<2?"preview":this.visiblePhotos.some((function(t,s){var i=t.info&&t.info.source||{},r=i.width,n=i.height,a=e.visiblePhotos[0].info&&e.visiblePhotos[0].info.source||{};return!r||!n||!a||!a.width||!a.height||s&&(r/n).toFixed(2)!==(a.width/a.height).toFixed(2)}))?"squarePreview":"preview"}}),data:function(){return{videoLockedDuration:null,gifLockedDuration:null,audioLockedDuration:null}},methods:{getDuration:function(e){var t=this.visibleMediaWithoutAudioByType[e].media;return t&&t[0]&&t[0].source&&t[0].source.duration?n.a.duration(t[0].source.duration,"seconds").format():0},postLockedMedia:function(e){var t=u["filter"](this.media,{type:e,canView:!1}),s=["video","gifs","audio"],i=t.length;if(i){this["".concat(e,"LockedCount")]=i;var r=-1!==u["indexOf"](s,e);if(1===+i&&r){var a=u["get"](t[0],this.message?"duration":"source.duration",!1);if(a){var o=n.a.duration(this.message?t[0].duration:t[0].source.duration,"seconds").format();this["".concat(e,"LockedDuration")]=o}}return!0}return!1}}}},"3c4c":function(e,t,s){"use strict";var i=s("6515"),r=s.n(i);r.a},"3dfd":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main-wrapper"},[e.isError?i("main",{attrs:{id:"content"}},[e.apiError?i("error-page"):i("div",{staticClass:"container"},[i("div",{staticClass:"b-404"},[i("h1",{staticClass:"b-404__title"},[e._v(" "+e._s(e.$t("message.page_404_title"))+" ")]),i("h2",{staticClass:"b-404__subtitle"},[e._v(" "+e._s(e.$t("message.browser_not_supported"))+" ")]),i("p",{staticClass:"b-404__description"},[e._v(" "+e._s(e.$t("message.browser_not_supported_support"))+" ")]),i("a",{staticClass:"g-btn m-flat",attrs:{href:"mailto:support@onlyfans.com"}},[e._v(" support@onlyfans.com ")])])])],1):[e.renderLoginOrOtp?i("login-page",{on:{"after-login":e.AfterLogin,"after-otp":e.AfterOtp}}):e._e(),e.renderLoginOrOtp?e._e():[i("website-sidebar"),e.showHeader&&!e.$route.meta.hideHeader?i("website-header"):e._e(),e.loaded?i("main",{attrs:{id:"content"}},[i("router-view"),e.$imageEditor.isOpen?i("image-editor"):e._e(),e.photoSwipeShow?i("photo-swipe",{on:{close:e.closePhotoSwipe,"~imgLoadError":function(t){return e.imgLoadErrorPhotoSwipe(t)},destroy:e.destroyPhotoSwipe}}):e._e()],1):e._e(),e.$route.meta.hasFooter?i("website-footer"):e._e(),e.$route.meta.hasStaticFooter?i("static-footer"):e._e()],e.showHelpBtn&&!e.$route.meta.hideHelperBtn?i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_help_support"),expression:"$t('message.tooltip_help_support')"}],staticClass:"contact_button visible-lg",class:{"m-unread":e.hasNewTicketReplies},attrs:{to:{name:"faq"}}},[i("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-support"})]):e._e(),i("modal-login"),e.isAuth?[i("modal-unsubscribe"),i("modal-tips"),i("modal-report"),e.userAlert?i("modal-user-alert",{attrs:{id:"dialog","alert-id":e.userAlert.id,"alert-text":e.userAlert.text}}):e._e(),i("subscriber-card"),i("modal-card-verify"),e.authUser.canCreateLists?[i("modal-custom-list"),i("modal-users-lists")]:e._e()]:[i("modal-restore")],i("modal-subscribe"),i("modal-subscribe-lite"),e.authUser.isPerformer?[i("modal-profile-statistics"),i("modal-block-user"),i("modal-custom-name"),i("modal-personal-offer"),e.authUser.canCreatePromotion?i("modal-promotion"):e._e()]:e._e(),e.showStoryStatData?i("story-stat",{attrs:{ev:e.showStoryStatData}}):e._e(),i("preloader"),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],domProps:{innerHTML:e._s(s("74ad"))}}),e.getInit.isAuth&&e.authUser.activeHelperAccess?i("div",{staticClass:"btn-referrals-back"},[i("button",{staticClass:"g-btn m-rounded",on:{click:e.returnFromHelper}},[e._v(" "+e._s(e.$t("message.return_title"))+" ")])]):[e.getInit.showReturnAdmin?i("div",{staticStyle:{position:"fixed",right:"8px",bottom:"56px","z-index":"10000000"}},[i("a",{staticClass:"btn btn-danger",attrs:{href:"/component/admin_return/post/go"}},[e._v(" Return to Admin ")])]):e._e(),e.showAdminTexts?i("admin-texts"):e._e(),e.getInit.isLoggedFromReferrer&&e.getInit.isAuth?i("div",{staticClass:"btn-referrals-back"},[i("button",{staticClass:"g-btn m-rounded",on:{click:e.returnFromReferralClick}},[e._v(" "+e._s(e.$t("message.return_title"))+" ")])]):e._e()]],i("modal-alert",{attrs:{"modal-show":e.showModalAlert},on:{"update:modalShow":function(t){e.showModalAlert=t},"update:modal-show":function(t){e.showModalAlert=t}}}),i("claim-trial")],2)},r=[],n=(s("8e6e"),s("7618")),a=(s("96cf"),s("3b8d")),o=(s("c5f6"),s("7514"),s("ac6a"),s("456d"),s("6762"),s("2fdb"),s("386d"),s("a481"),s("7f7f"),s("bd86")),c=s("b047c"),l=s.n(c),u=s("9b02"),d=s.n(u),h=s("ceac"),p=s.n(h),m=s("e813"),f=s.n(m),b=s("7a30"),v=s.n(b),g=s("3d2f"),_=s("1db1"),y=s("d634");function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var C={computed:O({},Object(y["q"])(["getInit"])),mounted:function(){var e=this;this.$nextTick((function(){e.$route.query&&e.$route.query.message&&(e.getInit.allowedMessages&&e.getInit.allowedMessages.length&&e.getInit.allowedMessages.includes(e.$route.query.message)?alert(e.$i18n.t("message.".concat(e.$route.query.message))):alert(e.$i18n.t("message.account_connected_to_another_user")),e.$router.replace(e.$route.path))}))}},P=s("b775"),x=s("1960"),k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"l-footer"},[s("nav",{staticClass:"b-menu__social"},[s("router-link",{staticClass:"l-footer__menu__item copyright",attrs:{to:"/"}},[e._v(" "+e._s(e.currentYear)+" OnlyFans ")]),s("span",{staticClass:"l-footer__menu__divider"}),s("a",{staticClass:"l-footer__menu__item",attrs:{href:"//blog.onlyfans.com/",target:"_blank"}},[e._v("Blog")]),s("span",{staticClass:"l-footer__menu__divider"}),s("a",{staticClass:"l-footer__menu__item",attrs:{href:"//twitter.com/onlyfans",target:"_blank"}},[e._v("Twitter")]),e._e(),e._e()],1),s("nav",{staticClass:"l-footer__menu"},[e._l(e.footerLinks,(function(t,i){return["anchor"!==t.type?s("router-link",{key:"link-"+t.path,staticClass:"l-footer__menu__item",attrs:{to:"/"+t.path}},[e._v(" "+e._s(t.name)+" ")]):s("a",{key:"link-"+t.path,staticClass:"l-footer__menu__item",attrs:{href:t.path}},[e._v(e._s(t.name))]),i!==e.footerLinks.length-1?s("span",{key:"divider-"+t.path,staticClass:"l-footer__menu__divider"}):e._e()]}))],2),s("LangSelector",{staticClass:"b-language-switcher m-lang-switcher"})],1)])},S=[],E=s("75fc"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{attrs:{right:"","menu-class":{"m-not-fixed-dropdown":e.isNotFixedPositionDropdown},"menu-class":"m-lang-switcher"}},[s("template",{slot:"button-content"},[s("span",{staticClass:"m-globe"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-language",attrs:{"extra-class":"l-sidebar__menu__icon"}})]),e._v(" "+e._s(e.currentLanguageName)+" "),s("span",{staticClass:"m-arrow"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down"})])]),e._l(e.langs,(function(t,i){return s("b-dropdown-item",{key:t,staticClass:"m-align-center b-input-radio__container",attrs:{href:"#",active:e.lang===i,"data-name":"Language-"+i},on:{click:function(t){return e.changeLanguage(i)}}},[s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})]),s("label",[e._v(e._s(t))])])}))],2)},A=[];function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function $(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var M={props:{isNotFixedPositionDropdown:{type:Boolean,default:!1}},data:function(){return{lang:this.$i18n.locale}},computed:$($({},Object(y["q"])(["getInit"])),{},{langs:function(){return this.getInit.languages},currentLanguageName:function(){return this.langs[this.lang]||this.langs.en}}),methods:{changeLanguage:function(e){var t=this;this.$cookie.set("lang",e,{domain:".".concat("onlyfans.com"),expires:"3Y"}),setTimeout((function(){t.$window.location.reload()}),100)}}},I=M,L=s("2877"),D=Object(L["a"])(I,T,A,!1,null,null,null),R=D.exports,U={name:"Footer",components:{LangSelector:R},computed:{currentYear:function(){return(new Date).getFullYear()},footerLinks:function(){return(window.STATIC_PAGES||[]).filter((function(e){return e.inFooter})).reduce((function(e,t){return[].concat(Object(E["a"])(e),[{path:t.url,name:t.name,type:t.type}])}),[])}},mounted:function(){var e;document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".l-footer__menu > a,.l-footer__menu > div").forEach((function(t,s){0===s?e=t.getBoundingClientRect().top:e<t.getBoundingClientRect().top&&(t.previousElementSibling.classList.add("m-new-row"),e=t.getBoundingClientRect().top)}))}))}},N=U,B=Object(L["a"])(N,k,S,!1,null,null,null),F=B.exports,V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"l-footer-static"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("nav",{staticClass:"b-menu__social"},[s("router-link",{staticClass:"l-footer-static__menu__item copyright",attrs:{to:"/"}},[e._v(" "+e._s(e.currentYear)+" OnlyFans ")]),s("a",{staticClass:"l-footer-static__menu__item",attrs:{href:"//blog.onlyfans.com/",target:"_blank"}},[e._v("Blog")]),s("a",{staticClass:"l-footer-static__menu__item",attrs:{href:"//twitter.com/onlyfans",target:"_blank"}},[e._v("Twitter")]),e._e()],1),s("LangSelector",{staticClass:"b-language-switcher"})],1),s("div",{staticClass:"col-sm-8"},[s("nav",{staticClass:"l-footer-static__menu"},[e._l(e.footerLinks,(function(t){return["anchor"!==t.type?s("router-link",{key:"link-"+t.path,staticClass:"l-footer-static__menu__item",attrs:{to:"/"+t.path}},[e._v(" "+e._s(t.name)+" ")]):s("a",{key:"link-"+t.path,staticClass:"l-footer-static__menu__item",attrs:{href:t.path}},[e._v(e._s(t.name))])]}))],2)])])])])},H=[],z={name:"Footer",components:{LangSelector:R},computed:{currentYear:function(){return(new Date).getFullYear()},footerLinks:function(){return(window.STATIC_PAGES||[]).filter((function(e){return e.inFooter})).reduce((function(e,t){return[].concat(Object(E["a"])(e),[{path:t.url,name:t.name,type:t.type}])}),[])}}},q=z,G=Object(L["a"])(q,V,H,!1,null,null,null),Z=G.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!==e.getInit.isAuth?s("header",{staticClass:"l-header",class:{"m-edge":e.isMobile&&e.isIOS&&e.isEdge&&!e.isNavigateShown}},[s("div",{staticClass:"container"},[s("nav",{staticClass:"l-header__menu"},[s("a",{staticClass:"l-header__menu__item m-with-round-hover",class:{"m-current":"Feed"===e.$route.name||"Queue"===e.$route.name},attrs:{href:"/"},on:{click:e.goHome}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-home"}),e.postPublishedCounter?s("span",{staticClass:"l-header__menu__item__count"},[e._v(" "+e._s(e.postPublishedCounter)+" ")]):e._e()]),e.isAuth?[s("base-link",{staticClass:"l-header__menu__item m-with-round-hover",attrs:{to:{name:"Notifications"},"active-class":"m-current","exact-active-class":""},nativeOn:{click:function(t){return e.closeSidebar(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-notifications"}),e.authUser.notificationsCount>0?s("span",{staticClass:"l-header__menu__item__count"},[e._v(" "+e._s(e.authUser.notificationsCount)+" ")]):e._e()]),s("a",{ref:"postCreate",staticClass:"l-header__menu__item m-with-round-hover",class:{"m-current":"PostsCreate"===e.$route.name},attrs:{href:"/posts/create"},on:{click:e.postCreate}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-compose"}),e.hasDraft?s("span",{staticClass:"l-header__menu__item__hasDraft"}):e._e()]),s("router-link",{staticClass:"l-header__menu__item m-with-round-hover",attrs:{to:{name:"Chats"},"active-class":"m-current","exact-active-class":""},nativeOn:{click:function(t){return e.closeSidebar(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-messages"}),e.authUser.chatMessagesCount>0?s("span",{staticClass:"l-header__menu__item__count"},[e._v(" "+e._s(e.authUser.chatMessagesCount)+" ")]):e._e()])]:e._e(),s("button",{staticClass:"l-header__menu__item m-with-round-hover",class:{"m-avatar-item":e.isAuth&&e.authUser.connectedOfAccounts&&e.authUser.connectedOfAccounts.length},attrs:{type:"button"},on:{click:e.sidebarToggle}},[e.isAuth&&e.authUser.connectedOfAccounts&&e.authUser.connectedOfAccounts.length?s("span",{staticClass:"g-avatar online_status_class m-w30"},[s("image-thumb",{attrs:{user:e.authUser,size:"c50"}})],1):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-menu"}),e.isBeta?s("span",{staticClass:"l-header__menu__item__count m-beta"},[e._v(" e ")]):e._e()])],2)])]):e._e()},Y=[],X=s("9029"),K=s("16d9"),Q=s("e66b");function J(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ee(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?J(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var te={name:"WebsiteHeader",components:{ImageThumb:Q["a"]},mixins:[K["a"]],data:function(){return{innerHeight:0,isNavigateShown:!0}},computed:ee(ee(ee(ee(ee({},Object(y["q"])(["getInit"])),Object(y["b"])(["isAuth","authUser"])),Object(y["O"])(["getDraft"])),Object(y["T"])(["postPublishedCounter"])),{},{hasDraft:function(){return!!this.getDraft},isBeta:function(){return!!this.$cookie.get("beta",{domain:".".concat("onlyfans.com")})},isMobile:function(){return X["isMobile"]},isIOS:function(){return X["isIOS"]},isEdge:function(){return X["isEdge"]}}),mounted:function(){this.isMobile&&this.isIOS&&this.isEdge&&window.addEventListener("resize",this.onResize)},beforeDestroy:function(){this.isMobile&&this.isIOS&&this.isEdge&&window.removeEventListener("resize",this.onResize)},methods:ee(ee(ee(ee({},Object(y["B"])(["sidebarShow","sidebarToggle"])),Object(y["U"])(["setPrevPostsToLoad","resetPostPublishedCounter","resetFeedItemIds"])),Object(y["S"])(["fetchPosts"])),{},{openSidebar:function(){this.sidebarShow(!0)},closeSidebar:function(){this.sidebarShow(!1)},postCreate:function(e){this.closeSidebar(),e.preventDefault(),"Feed"===this.$route.name&&this.authUser.isPerformer?document.getElementById("new_post_text_input").click():this.$router.push({name:"PostsCreate"})},goHome:function(e){if(this.closeSidebar(),!e.ctrlKey){if(e.preventDefault(),"Feed"===this.$route.name&&!this.$route.query.q)return this.scrollToTop({behavior:"instant"}),this.resetFeedItemIds(),this.fetchPosts(),void this.resetPostPublishedCounter();this.$router.push({name:"Feed"})}},onResize:function(){window.innerHeight<this.innerHeight&&!this.isNavigateShown&&(this.isNavigateShown=!0),window.innerHeight>this.innerHeight&&this.isNavigateShown&&(this.isNavigateShown=!1),this.innerHeight=window.innerHeight}})},se=te,ie=Object(L["a"])(se,W,Y,!1,null,null,null),re=ie.exports,ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"jsSidebar",staticClass:"l-sidebar"},[e.isAuth?s("div",{staticClass:"l-sidebar__wrapper-close"},[s("button",{staticClass:"l-sidebar__btn-close",attrs:{type:"button"},on:{click:e.closeSidebar}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])]):e._e(),s("div",{ref:"sidebarScroll",staticClass:"l-sidebar__inner m-native-custom-scrollbar"},[s("div",{staticClass:"l-sidebar__inner-overlay",on:{click:e.closeSidebar}}),e.isAuth?[s("router-link",{staticClass:"l-sidebar__avatar",attrs:{to:{name:"Profile",params:{userId:e.authUser.username}},"data-name":"Profile"}},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:e.authUser.isOnline}},[s("image-thumb",{attrs:{user:e.authUser,size:"c50"}})],1)]),s("user-switcher",{attrs:{"is-not-fixed-position-dropdown":!0}}),s("div",{staticClass:"l-sidebar__user-data"},[s("router-link",{staticClass:"l-sidebar__user-data__item",attrs:{to:{name:"SubscribersByType",params:{type:"active"}},"data-name":"Subscribers"}},[s("span",{staticClass:"l-sidebar__user-data__item__count"},[e._v(e._s(e._f("formatCount")(e.authUser.subscribersCount)))]),e._v(" "+e._s(e.$tc("message.dropdown_menu_item_subscribers_plural",e.authUser.subscribersCount))+" ")]),s("router-link",{staticClass:"l-sidebar__user-data__item",attrs:{to:{name:"SubscribesByType",params:{type:"active"}},"data-name":"Subscribes"}},[s("span",{staticClass:"l-sidebar__user-data__item__count"},[e._v(e._s(e._f("formatCount")(e.authUser.subscribesCount)))]),e._v(" "+e._s(e.$tc("message.dropdown_menu_item_subscribes"))+" ")])],1)]:e._e(),s("div",{staticClass:"l-sidebar__menu"},[e.isAuth?[s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"Profile",params:{userId:e.authUser.username}},"data-name":"Profile"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-profile",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_profile"))+" ")]),e.authUser.isReferrerAllowed&&e.$env.VUE_APP_SECTION_REFERRALS?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"Referrals"},"active-class":"m-current","data-name":"Referrals"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-referrals",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_referrals"))+" ")]):e._e(),e.$env.VUE_APP_SECTION_BOOKMARKPOSTS?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"BookmarkPosts"},"active-class":"m-current","data-name":"BookmarkPosts"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-bookmark",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_bookmarks"))+" ")]):e._e(),e.authUser.isPerformer?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"MediaVault"},"active-class":"m-current","data-name":"MediaVault"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-vault",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.page_vault_title"))+" ")]):e._e(),"true"===e.$env.VUE_APP_SECTION_USERS_LISTS?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"UsersLists"},"active-class":"m-current","data-name":"UsersLists"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-lists",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_lists"))+" ")]):e._e(),"true"===e.$env.VUE_APP_SECTION_SETTINGS?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"SettingsProfile"},"active-class":"m-current","data-name":"Settings"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-settings",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_settings_name"))+" ")]):s("a",{staticClass:"l-sidebar__menu__item",attrs:{href:"/my/settings","data-name":"Settings"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-settings",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_settings_name"))+" ")]),e.authUser.canStreaming&&e.authUser.isScheduledStreamsAllowed?s("router-link",{key:"streaming",staticClass:"l-sidebar__menu__item",attrs:{to:{name:"StreamingDashboard"},"active-class":"m-current","data-name":"Streaming"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"streamingIcon",staticClass:"icon-live",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.streaming"))+" ")]):e._e(),e.authUser.isPerformer?["true"===e.$env.VUE_APP_SECTION_STATEMENTS?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"Statements"},"active-class":"m-current","data-name":"Statements"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"statements",staticClass:"icon-statements",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_statements_name"))+" ")]):s("a",{staticClass:"l-sidebar__menu__item",attrs:{href:"/my/statements","data-name":"Statements"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"statements",staticClass:"icon-statements",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_statements_name"))+" ")])]:e._e(),e.authUser.canCreatePromotion?s("router-link",{key:"promotion",staticClass:"l-sidebar__menu__item",attrs:{to:{name:"Promotions"},"active-class":"m-current","data-name":"Promotions"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"promotionIcon",staticClass:"icon-trial",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.personal_promotions"))+" ")]):e._e(),s("hr",{staticClass:"l-sidebar__menu__divider"}),"true"===e.$env.VUE_APP_SECTION_PAYMENTS?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"Payments"},"data-name":"Payments"}},[e.authUser.isPaymentCardConnected||e.authUser.isCreditsEnabled?[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-card",staticClass:"icon-card",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e.authUser.creditBalance>0?s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_your_cards_with_balance",{BALANCE:"$"+e.authUser.creditBalance}))}}):s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_your_cards"))}})]:[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-add-card",staticClass:"icon-add-card",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e.authUser.creditBalance>0?s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_add_card_with_balance",{BALANCE:"$"+e.authUser.creditBalance}))}}):s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_add_card"))}})]],2):s("a",{staticClass:"l-sidebar__menu__item",attrs:{href:"/my/payments","data-name":"Payments"}},[e.authUser.isPaymentCardConnected||e.authUser.isCreditsEnabled?[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-card",staticClass:"icon-card",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_your_cards"))}})]:[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-add-card",staticClass:"icon-add-card",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_add_card"))}})]],2),"true"===e.$env.VUE_APP_SECTION_BANKING?s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:{name:"Banking"},"data-name":"Banking"}},[e.authUser.canReceiveManualPayout?[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-bank",staticClass:"icon-bank",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_bank"))}})]:e._e(),e.authUser.canReceiveManualPayout?e._e():[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-add-bank",staticClass:"icon-add-bank",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_add_bank"))}})]],2):s("a",{staticClass:"l-sidebar__menu__item",attrs:{href:"/my/banking","data-name":"Banking"}},[e.authUser.canReceiveManualPayout?[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-bank",staticClass:"icon-bank",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_bank"))}})]:e._e(),e.authUser.canReceiveManualPayout?e._e():[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-add-bank",staticClass:"icon-add-bank",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{domProps:{innerHTML:e._s(e.$t("message.dropdown_menu_item_add_bank"))}})]],2),s("hr",{staticClass:"l-sidebar__menu__divider"})]:e._e(),s("router-link",{staticClass:"l-sidebar__menu__item",class:{"m-unread":e.hasNewTicketReplies},attrs:{to:{name:"faq"},"data-name":"FAQ"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebar-icon-support",staticClass:"icon-support",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_support"))+" ")]),s("button",{staticClass:"l-sidebar__menu__item",attrs:{type:"button","data-name":"SwitchTheme"},on:{click:e.switchTheme}},[e.isDarkMode?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-theme-light",staticClass:"icon-theme-light",attrs:{"extra-class":"l-sidebar__menu__icon"}}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-theme-dark",staticClass:"icon-theme-dark",attrs:{"extra-class":"l-sidebar__menu__icon"}}),s("span",{staticClass:"l-sidebar__switch-mode__label"},[e._v(e._s(e.themeTitle))])]),s("div",{staticClass:"l-sidebar__menu__item"},[s("LangSelector",{attrs:{"is-not-fixed-position-dropdown":!0}})],1),s("hr",{staticClass:"l-sidebar__menu__divider"}),e.isAuth?s("a",{staticClass:"l-sidebar__menu__item",attrs:{"data-name":"Logout"},on:{click:e.onLogout}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebarIconLogout",staticClass:"icon-logout",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_logout"))+" ")]):s("router-link",{staticClass:"l-sidebar__menu__item",attrs:{to:"/?return_to="+e.$route.fullPath}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"sidebarIconLogin",staticClass:"icon-profile",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e._v(" "+e._s(e.$t("message.dropdown_menu_item_login"))+" ")]),e.isBeta||e.getInit.showBetaSwitcher&&e.getInit.isAuth?s("button",{staticClass:"l-sidebar__menu__item",on:{click:e.betaSwitcher}},[e.isBeta?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-beta-on",staticClass:"icon-test-tube",attrs:{"extra-class":"l-sidebar__menu__icon"}}),e.isBeta?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-beta-off",staticClass:"icon-test-tube-off",attrs:{"extra-class":"l-sidebar__menu__icon"}}):e._e(),e._v(" "+e._s(e.betaSwitcherLabel)+" ")]):e._e()],2)],2),s("div",{staticClass:"l-sidebar__overlay",on:{click:e.closeSidebar}})])},ae=[],oe=s("8121"),ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"l-sidebar__username",class:{"connected-accounts-switcher":e.isConnectedAccount}},[e.isConnectedAccount?s("b-dropdown",{attrs:{offset:"0,5",right:"","menu-class":{"m-not-fixed-dropdown m-user-switcher":e.isNotFixedPositionDropdown}}},[s("template",{slot:"button-content"},[s("span",{staticClass:"m-arrow"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down"})])]),e._l(e.accounts,(function(t,i){return[s("b-dropdown-item-button",{key:"dropdown"+t.id,staticClass:"connected-accounts-info",class:{"m-current":t.id===e.authUser.id},on:{click:function(s){return e.switchUser(t.id)}}},[s("span",{staticClass:"connected-accounts-profile-avatar g-avatar m-w36"},[s("image-thumb",{attrs:{user:t,size:"c36"}})],1),s("span",{staticClass:"connected-accounts-profile-link"},[s("span",{staticClass:"b-username-row m-width-limit"},[s("span",{staticClass:"b-username"},[s("span",{staticClass:"g-user-name"},[e._v(e._s(t.name))])])]),s("span",{staticClass:"b-username-row m-width-limit"},[s("span",{staticClass:"b-username"},[s("span",{staticClass:"g-user-username"},[e._v("@"+e._s(t.username))])])])]),t.id===e.authUser.id?s("span",{staticClass:"connected-accounts-actions"},[s("span",{staticClass:"m-success"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"})])]):e._e()]),i<e.accounts.length-1?s("b-dropdown-divider",{key:"divider"+t.id}):e._e()]})),e.authUser.canConnectOfAccount?[s("b-dropdown-divider"),s("b-dropdown-item",{staticClass:"connected-accounts-info",attrs:{to:{name:"SettingsAdvanced"}}},[s("span",{staticClass:"connected-accounts-profile-avatar"},[s("span",{staticClass:"connected-accounts-add-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-plus"})])]),s("span",{staticClass:"connected-accounts-profile-link"},[s("span",{staticClass:"g-user-name"},[e._v(" "+e._s(e.$t("message.add_another_account"))+" ")])])])]:e._e()],2):e._e(),s("div",{staticClass:"b-username-row m-width-limit"},[s("router-link",{staticClass:"b-username",attrs:{to:{name:"Profile",params:{userId:e.authUser.username}},"data-name":"Profile_topLink"}},[s("div",{staticClass:"g-user-name"},[e._v(" "+e._s(e._f("encodeHtml")(e.authUser.name))+" ")])])],1),s("div",{staticClass:"b-username-row m-width-limit"},[s("router-link",{staticClass:"g-user-realname__wrapper",attrs:{to:{name:"Profile",params:{userId:e.authUser.username}},"data-name":"Profile_bottomLink"}},[s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.authUser.username)+" ")])])],1)],1)},le=[],ue=s("2612"),de=s("09e4");function he(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function pe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?he(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):he(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var me={name:"UserSwithcer",components:{ImageThumb:Q["a"]},props:{isNotFixedPositionDropdown:{type:Boolean,default:!1}},computed:pe(pe(pe({},Object(y["b"])(["authUser"])),Object(y["Ob"])(["getUser"])),{},{accounts:function(){var e=this;return this.authUser.connectedOfAccounts&&this.authUser.connectedOfAccounts.length?[this.authUser].concat(Object(E["a"])(this.authUser.connectedOfAccounts.map((function(t){return e.getUser(t)})))):[this.authUser]},isConnectedAccount:function(){return this.authUser.canConnectOfAccount||this.authUser.connectedOfAccounts&&this.authUser.connectedOfAccounts.length}}),methods:{switchUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.authUser.id!==t){e.next=2;break}return e.abrupt("return");case 2:return this.$window.showPreloader(),e.prev=3,e.next=6,Object(ue["hb"])(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](3),this.$window.hidePreloader(),Object(de["b"])(e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));function t(t){return e.apply(this,arguments)}return t}()}},fe=me,be=Object(L["a"])(fe,ce,le,!1,null,null,null),ve=be.exports,ge=s("f1f7");function _e(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ye(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_e(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var we={name:"WebsiteSidebar",components:{ImageThumb:Q["a"],LangSelector:R,UserSwitcher:ve},filters:{formatCount:ge["a"]},computed:ye(ye(ye(ye(ye({},Object(y["b"])(["isAuth","authUser"])),Object(y["A"])(["isSidebarShow"])),Object(y["eb"])(["isDarkMode"])),Object(y["q"])(["getInit"])),{},{hasNewTicketRepliesOpen:function(){return d()(this,"authUser.hasNewTicketReplies.open")},hasNewTicketRepliesSolved:function(){return d()(this,"authUser.hasNewTicketReplies.solved")},hasNewTicketReplies:function(){return this.hasNewTicketRepliesOpen||this.hasNewTicketRepliesSolved||!0===this.authUser.hasNewTicketReplies},themeTitle:function(){return this.isDarkMode?this.$i18n.t("message.dropdown_menu_item__mode_light"):this.$i18n.t("message.dropdown_menu_item__mode_dark")},isBeta:function(){return!!this.$cookie.get("beta",{domain:".".concat("onlyfans.com")})},betaSwitcherLabel:function(){return this.isBeta?this.$i18n.t("message.beta_off_switch_label"):this.$i18n.t("message.beta_on_switch_label")},scrollBar:function(){return X["isMobile"]?"div":"perfect-scrollbar"}}),watch:{$route:function(){this.isSidebarShow&&this.closeSidebar()},isSidebarShow:function(e){!1===e&&this.$refs.sidebarScroll&&(this.$refs.sidebarScroll.scrollTop=0)}},mounted:function(){this.$refs.jsSidebar.addEventListener("click",this.trackStat)},beforeDestroy:function(){this.$refs.jsSidebar.removeEventListener("click",this.trackStat),this.closeSidebar()},methods:ye(ye(ye(ye({},Object(y["B"])(["sidebarShow"])),Object(y["fb"])(["switchTheme"])),Object(y["a"])(["reqLogout"])),{},{trackStat:function(e){if(this.getInit.isClicksStatsEnabled){var t=e.target.closest("a")||e.target.closest("button");if(t){this.closeSidebar();var s=t.dataset.name;s&&Object(oe["e"])({page:s,eventTime:(new Date).toISOString()})}}},closeSidebar:function(){this.sidebarShow(!1)},betaSwitcher:function(){this.isBeta?this.$cookie.delete("beta",{domain:".".concat("onlyfans.com")}):this.$cookie.set("beta",1,{domain:".".concat("onlyfans.com"),expires:"3Y"}),window.location.reload()},onLogout:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.showPreloader(),e.prev=1,e.next=4,this.reqLogout();case 4:window.hidePreloader(),this.$router.push({name:"Feed",params:{isLogout:!0}}),this.$store.dispatch("logout"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),window.hidePreloader(),Object(de["a"])(e.t0,de["b"]);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()})},Oe=we,Ce=Object(L["a"])(Oe,ne,ae,!1,null,null,null),Pe=Ce.exports,xe=s("1dd8"),ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"global_preloader",class:{active:e.isPreloaderShow}},[s("div",{staticClass:"loader-hearts"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"})])])},Se=[];function Ee(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Te(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ee(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ae={name:"Preloader",computed:Te({},Object(y["A"])(["isPreloaderShow"])),mounted:function(){this.init()},methods:Te(Te({},Object(y["B"])(["preloaderShow"])),{},{init:function(){var e=this;window.showPreloader=function(){e.preloaderShow(!0)},window.hidePreloader=function(){e.preloaderShow(!1)}}})},je=Ae,$e=Object(L["a"])(je,ke,Se,!1,null,null,null),Me=$e.exports,Ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.show?e._e():s("div",{staticStyle:{position:"fixed",right:"218px",bottom:"56px","z-index":"10000000"}},[s("button",{staticClass:"g-btn m-rounded",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openTextsPopup(t)}}},[e._v(" Translations ")])]),s("b-modal",{ref:"ModalTranslations",attrs:{id:"ModalTranslations",centered:"",size:"xl","no-stacking":"","footer-class":"m-border-footer"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" Translations ")]),s("button",{staticClass:"b-modal__close m-with-round-hover",on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})])]),s("form",[s("b-tabs",e._l(e.langs,(function(t,i){return s("b-tab",{key:t,attrs:{active:e.$i18n.locale===i},on:{click:function(){return e.updateTab(i)}}},[s("template",{slot:"title"},[s("img",{attrs:{src:"/admin/theme2/img/flags/"+i+".png",alt:""}}),e._v(" "+e._s(t)+" ")]),s("div",{staticClass:"p-3 b-translations__item m-native-custom-scrollbar"},[e._l(e.currentList,(function(t){return[s("div",{key:t},[s("code",[e._v(e._s(t))])]),s("div",{key:t+"-text",staticClass:"b-row-field"},["en"===i?s("p",{staticClass:"form-control g-input"},[e._v(" "+e._s(e.translations[e.current][t])+" ")]):s("editable",{ref:e.current+"-"+t+"-edit",refInFor:!0,staticClass:"g-input form-control",attrs:{value:e.translations[e.current][t]},on:{input:function(s){return e.change(s,e.current,t)}}}),"en"!==i&&e.translations[e.current][t]!==e.savedTranslations[e.current][t]?s("div",{key:t+"-btns",staticClass:"b-btns-group"},[s("span",{staticClass:"g-btn m-rounded m-icon m-icon-only m-sm-size",on:{click:function(){return e.saveOne(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done",attrs:{"extra-class":"m-pointer"}})]),s("span",{staticClass:"g-btn m-rounded m-icon m-icon-only m-sm-size m-gray-color",on:{click:function(){return e.change(e.savedTranslations[e.current][t],e.current,t,!0)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-pointer"}})])]):e._e()],1)]}))],2)],2)})),1)],1),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.closeModal}},[e._v(" "+e._s(e.$t("message.button_label_cancel"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.saveTranslations}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])],2)],1)},Le=[],De=s("63ea"),Re=s.n(De),Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",e._g({ref:"editable",attrs:{contenteditable:""}},e.listeners))},Ne=[];function Be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Fe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ve={props:{value:{type:String,default:""}},computed:{listeners:function(){return Fe(Fe({},this.$listeners),{},{input:this.onInput})}},mounted:function(){this.$refs.editable.innerText=this.value},methods:{onInput:function(e){this.$emit("input",e.target.innerText)},set:function(e){this.$refs.editable.innerText=e}}},He=Ve,ze=Object(L["a"])(He,Ue,Ne,!1,null,null,null),qe=ze.exports,Ge=(s("c5a2"),s("0644")),Ze=s.n(Ge),We=function(e,t){var s="".concat(P["b"],"/texts/search");return P["d"].post(s,{code:e,languages:t}).then((function(e){return e.data}))},Ye=function(e){var t=e.code,s=e.text,i="".concat(P["b"],"/texts/").concat(t);return P["d"].put(i,{text:s}).then((function(e){return e.data}))};function Xe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ke(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Qe={name:"AdminTexts",components:{Editable:qe},data:function(){return{show:!1,savedTranslations:{},translations:{},current:this.$i18n.locale}},computed:Ke(Ke({},Object(y["q"])(["getInit"])),{},{langs:function(){var e=this.getInit.languages;return"en"===this.$i18n.locale?{en:e.en}:Object(o["a"])({en:e.en},this.$i18n.locale,e[this.$i18n.locale])},currentList:function(){return Object.keys(this.translations[this.current]||{})||[]}}),methods:{openTextsPopup:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$window.showPreloader(),t="en"===this.$i18n.locale?["en"]:["en",this.$i18n.locale],e.prev=2,s=Object.keys(this.$i18n._path._cache).map((function(e){return r.$i18n._path._cache[e][1]})),e.next=6,We(s,t);case 6:i=e.sent,i&&i[this.$i18n.locale]&&i.en&&(this.translations=i,this.savedTranslations=Ze()(this.translations),this.show=!0),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](2);case 12:this.$window.hidePreloader();case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(){return e.apply(this,arguments)}return t}(),closeModal:function(){this.show=!1},change:function(e,t,s,i){if(this.$set(this.translations[t],s,e),i){var r="".concat(t,"-").concat(s,"-edit");this.$refs[r][0].set(e)}},saveTranslations:function(){var e=this;if("en"!==this.$i18n.locale){try{var t=[];Object.keys(this.translations[this.$i18n.locale]).forEach((function(s){e.translations[e.$i18n.locale][s]!==e.savedTranslations[e.$i18n.locale][s]&&t.push({code:s,text:Object(o["a"])({},e.$i18n.locale,e.translations[e.$i18n.locale][s])})})),t.forEach(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(s){var i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ye(s);case 2:i=t.sent,i&&i.success&&(r=e.$i18n.locale,n=e.$i18n.messages[r],n.message[s.code]=s.text[r],e.$i18n.setLocaleMessage(r,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}catch(s){}this.closeModal()}},saveOne:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.savedTranslations[this.$i18n.locale][t],this.savedTranslations[this.$i18n.locale][t]=this.translations[this.$i18n.locale][t],i={code:t,text:Object(o["a"])({},this.$i18n.locale,this.translations[this.$i18n.locale][t])},e.next=5,Ye(i);case 5:r=e.sent,r&&r.success?(n=this.$i18n.locale,a=this.$i18n.messages[n],a.message[i.code]=i.text[n],this.$i18n.setLocaleMessage(n,a)):this.savedTranslations[this.$i18n.locale][t]=s;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),updateTab:function(e){this.current=e,this.initEvent()},initEvent:function(){setTimeout((function(){var e=document.createEvent("HTMLEvents");e.initEvent("input",!0,!1),document.querySelectorAll("textarea").forEach((function(t){t.dispatchEvent(e)}))}),0)},close:function(){this.$refs.ModalTranslations.hide()}},watch:{show:function(){this.initEvent()}}},Je=Qe,et=(s("b45f"),Object(L["a"])(Je,Ie,Le,!1,null,"4a6bbc88",null)),tt=et.exports,st=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login_content"},[i("div",{staticClass:"guest_forms",class:{otp_form:e.isOtpModalShow},attrs:{id:"guest_content"}},[e.isOtpModalShow?e._e():i("div",{staticClass:"container"},[i("div",{staticClass:"guest_row"},["lg"===e.$mq?i("div",{staticClass:"phones-col"},[i("div",{staticClass:"guest_swiper_wrapper"},[i("swiper",{staticClass:"guest_swiper",attrs:{options:e.swiperOptions}},e._l(e.slides,(function(t,r){return i("swiper-slide",{key:r},[i("img",{attrs:{src:s("95c0")("./"+e.getSrc(t)),alt:""}})])})),1)],1)]):e._e(),i("div",{staticClass:"form-col"},[i("router-link",{attrs:{to:"/"}},[i("svg",{attrs:{width:"237",height:"59","aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-logo"}})])]),i("h6",[e._v(e._s(e.$t("message.guest_title_text")))]),i("form-sign",{on:{"sign-main":e.AfterLogin}})],1)])]),e.isOtpModalShow?i("form-otp",{on:{"otp-success":e.AfterOtp}}):e._e()],1),i("website-footer")],1)},it=[],rt=(s("28a5"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"b-loginreg__form",on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[s("a",{staticClass:"g-btn m-rounded m-flex m-lg m-with-icon social-login-button tw-button",attrs:{href:"/twitter/auth"+e.csrf}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-of-twitter"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.login_with_twitter_button")))])]),s("a",{staticClass:"g-btn m-rounded m-flex m-lg m-with-icon m-google social-login-button g-button",attrs:{href:"/auth/google"+e.csrf}},[s("img",{attrs:{src:e.googleImage,alt:""}}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.login_with_google_button")))])]),s("span",{staticClass:"trough"},[s("span",[e._v(e._s(e.$t("message.or")))])]),s("div",{staticClass:"g-input__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.email,expression:"userData.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"g-input form-control",attrs:{readonly:e.requestInProgress,type:"email",name:"email",placeholder:this.$i18n.t("message.email_placeholder")},domProps:{value:e.userData.email},on:{input:function(t){t.target.composing||e.$set(e.userData,"email",t.target.value)}}}),s("div",{staticClass:"g-input__help m-danger error_place error_place_for_email"},[e._v(" "+e._s(e.validEmailMessage)+" ")])]),s("div",{staticClass:"g-input__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.password,expression:"userData.password"},{name:"validate",rawName:"v-validate",value:e.isLogin?"required":"required|min:6|checkPassword",expression:"isLogin ? 'required' : 'required|min:6|checkPassword'"}],staticClass:"g-input form-control",attrs:{readonly:e.requestInProgress,type:"password",name:"password",placeholder:this.$i18n.t("message.password_placeholder")},domProps:{value:e.userData.password},on:{input:function(t){t.target.composing||e.$set(e.userData,"password",t.target.value)}}}),s("div",{staticClass:"g-input__help m-danger error_place error_place_for_password"},[e._v(" "+e._s(e.errors.first("password"))+" ")]),e.isLogin?s("button",{staticClass:"g-btn m-flat forgot",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openRestoreModal(t)}}},[e._v(" "+e._s(e.$t("message.forgot_password_link_title"))+" ")]):e._e()]),e.isLogin?e._e():[s("div",{staticClass:"g-input__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.name,expression:"userData.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{readonly:e.requestInProgress,type:"text",name:"name",placeholder:this.$i18n.t("message.name_placeholder"),maxlength:"40"},domProps:{value:e.userData.name},on:{input:function(t){t.target.composing||e.$set(e.userData,"name",t.target.value)}}}),s("div",{staticClass:"g-input__help m-danger error_place error_place_for_name"},[e._v(" "+e._s(e.errors.first("name"))+" ")])]),s("div",{staticClass:"g-input__wrapper"},[s("div",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userData.agree,expression:"userData.agree"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"b-input-radio",attrs:{id:"reg_agree",readonly:e.requestInProgress,type:"checkbox","data-vv-name":"agree"},domProps:{checked:Array.isArray(e.userData.agree)?e._i(e.userData.agree,null)>-1:e.userData.agree},on:{change:function(t){var s=e.userData.agree,i=t.target,r=!!i.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);i.checked?a<0&&e.$set(e.userData,"agree",s.concat([n])):a>-1&&e.$set(e.userData,"agree",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.userData,"agree",r)}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"reg_agree"},domProps:{innerHTML:e._s(e.$t("message.reg_agree"))},on:{click:e.innerLinkToRouter}}),s("span",{staticClass:"b-input-radio__label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})])])])],e._m(0),e.errorMsg?s("div",{staticClass:"g-input__help m-danger error_place error_place_form"},[e._v(" "+e._s(e.errorMsg)+" ")]):e._e(),s("button",{staticClass:"g-btn m-rounded m-flex m-lg",class:{"m-loading":e.loading},attrs:{type:"submit",disabled:e.submitDisabled}},[e._v(" "+e._s(e.buttonText)+" "),s("svg",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"},{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-loading"})]),(e.isLogin,e._e()),s("h3",[e._v(e._s(e.haveAccount))]),s("p",[s("button",{staticClass:"g-btn m-flat m-toggle-btn",attrs:{type:"button"},on:{click:e.toggleForm}},[e._v(" "+e._s(e.toggleFormText)+" ")])])],2)}),nt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-input__wrapper"},[s("div",{staticClass:"captcha_wrapper",attrs:{id:"captcha_login_wrapper"}})])}],at=s("dd20"),ot=s.n(at),ct=s("fece"),lt=s("8c16"),ut=s("ebf6"),dt=s("709f");function ht(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function pt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ht(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var mt={name:"FormSign",mixins:[_["a"],lt["b"],ct["a"],ut["a"]],props:{subscribe:{type:Boolean,default:!1}},data:function(){return{action:"login",captchaWrapperId:"captcha_login_wrapper",errorMsg:"",userData:{email:"",password:"",name:"",agree:!1},googleImage:ot.a,validatorPaused:!1,requestInProgress:!1,needToLoadRecaptcha:!0}},computed:pt(pt(pt(pt(pt({},Object(y["b"])(["isAuth","isLogin"])),Object(y["Ob"])(["userId"])),Object(y["q"])(["getInit"])),Object(y["A"])(["isOtpModalShow"])),{},{csrf:function(){return this.getInit.csrf?"?csrf=".concat(this.getInit.csrf):""},buttonText:function(){return this.isLogin?this.$i18n.t("message.sign_in_button"):this.$i18n.t("message.loginreg_signup_button")},submitDisabled:function(){var e=this;return this.isLogin?this.requestInProgress||this.V2rendered&&this.formDisabledV2:Object.keys(this.fields).some((function(t){return e.fields[t].invalid}))||this.requestInProgress},loading:function(){return this.requestInProgress},haveAccount:function(){return this.isLogin?this.$i18n.t("message.loginreg_no_have_account"):this.$i18n.t("message.loginreg_have_account")},toggleFormText:function(){return this.isLogin?this.$i18n.t("message.login_signup_button"):this.$i18n.t("message.loginreg_login_button")},validEmailMessage:function(){return this.errors.first("email")}}),watch:{userData:{handler:function(e,t){Re()(e,t)||(this.errorMsg="")},deep:!0},formDisabledV3:function(e){e||this.$emit("recaptcha:v3:pass")}},beforeDestroy:function(){this.$off("recaptcha:v3:pass",this.formSubmitForce)},methods:pt(pt(pt(pt(pt({},Object(y["a"])(["login","register","fetchUserMe"])),Object(y["c"])(["setIsLogin"])),Object(y["r"])(["setInitAuth"])),Object(y["p"])(["fetchInit"])),{},{formSubmitForce:function(){this.requestInProgress=!1,this.formSubmit()},formSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$off("recaptcha:v3:pass",this.formSubmitForce),this.$validator.validateAll(),!Object.keys(this.fields).some((function(e){return o.fields[e].invalid}))&&!this.requestInProgress){e.next=4;break}return e.abrupt("return");case 4:if(t=this.userData,s=t.email,i=t.password,!this.isLogin||s.length&&i){e.next=8;break}return this.errorMsg="Fields are required",e.abrupt("return");case 8:if(this.requestInProgress=!0,!this.formDisabledV3){e.next=12;break}return this.$once("recaptcha:v3:pass",this.formSubmitForce),e.abrupt("return");case 12:return r=pt(pt({},this.userData),{},{"v3-recaptcha-response":this["v3-recaptcha-response"],"g-recaptcha-response":this["g-recaptcha-response"]}),n=this.isLogin?"login":"register",e.prev=14,e.next=17,this[n](r);case 17:if(a=e.sent,!a){e.next=40;break}return e.next=21,this.fetchInit();case 21:if(this.getInit.isAuth){e.next=24;break}return this.requestInProgress=!1,e.abrupt("return");case 24:return this.setIsLogin(!0),e.next=27,this.fetchUserMe();case 27:if(dt["a"].removeItem("subscribeLogin"),this.isAuth||!this.isOtpModalShow){e.next=32;break}return this.requestInProgress=!1,this.isOtpModalShow&&(dt["a"].setItem("subscribeLogin","true"),this.$emit("sign-need-otp"),this.$root.$emit("sign-subscribe-close-modal")),e.abrupt("return");case 32:if(this.$root.$emit("sign_success"),!this.subscribe){e.next=38;break}return e.next=36,this.fetchProfileData(this.userId);case 36:return this.$root.$emit("sign-subscribe"),e.abrupt("return");case 38:this.$emit("sign-main"),this.requestInProgress=!1;case 40:e.next=46;break;case 42:e.prev=42,e.t0=e["catch"](14),Object(de["a"])(e.t0,this.errorHandler),this.requestInProgress=!1;case 46:case"end":return e.stop()}}),e,this,[[14,42]])})));function t(){return e.apply(this,arguments)}return t}(),errorHandler:function(e){if(d()(e,"data.error")){if(this.maybeInitV3Captcha(),102===e.data.error.code)return this.requestInProgress=!1,void this.initV2Captcha();this.V2rendered&&this.initV2Captcha(),e.data.error.message&&(this.errorMsg=e.data.error.message)}},toggleForm:function(){this.errorMsg="",this.setIsLogin(!this.isLogin)},openRestoreModal:function(){this.$root.$emit("bv::show::modal","ModalRestore")}})},ft=mt,bt=Object(L["a"])(ft,rt,nt,!1,null,null,null),vt=bt.exports,gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"guest_row"},[s("div",{staticClass:"form-col"},[s("a",{attrs:{href:"/"}},[s("svg",{attrs:{width:"237",height:"59","aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-logo"}})])]),e.otpModalTitle?s("h3",{staticClass:"b-otp-title"},[e._v(" "+e._s(e.$t("message.greeting_text"))+", "+e._s(e.otpModalTitle)+" ")]):e._e(),s("form",{staticClass:"b-otp-form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[s("div",{staticClass:"g-input__wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control",attrs:{id:"otp-code-input",type:"text",name:"code",placeholder:e.isPlaceholderEmail?this.$i18n.t("message.enter_otp_code_in_email"):this.$i18n.t("message.enter_otp_code_title"),autocomplete:"off",autofocus:""},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})]),s("div",{staticClass:"g-input__wrapper b-input-radio__wrapper m-gap-lg"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.agree,expression:"agree"}],staticClass:"b-input-radio",attrs:{id:"agree",name:"agree",type:"checkbox"},domProps:{checked:Array.isArray(e.agree)?e._i(e.agree,null)>-1:e.agree},on:{change:function(t){var s=e.agree,i=t.target,r=!!i.checked;if(Array.isArray(s)){var n=null,a=e._i(s,n);i.checked?a<0&&(e.agree=s.concat([n])):a>-1&&(e.agree=s.slice(0,a).concat(s.slice(a+1)))}else e.agree=r}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"agree"}},[e._v(" "+e._s(e.$t("message.otp_remember_agree_title"))+" ")]),s("span",{staticClass:"b-input-radio__label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})])])]),e.error.show?s("div",{staticClass:"b-otp-error"},[e._v(" "+e._s(e.error.msg)+" ")]):e._e(),s("button",{staticClass:"g-btn m-rounded",attrs:{id:"otp-submit-btn",type:"submit",disabled:e.disabledSubmit}},[e._v(" "+e._s(e.$t("message.send_button"))+" ")])]),e.otpModalStrong?e._e():s("div",{staticClass:"b-signup"},[s("p",{staticClass:"forgot"},[s("a",{staticClass:"lost-device-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.altVerification(t)}}},[e._v(" "+e._s(e.$t("message.verification_by_email"))+" ")])])]),s("div",{staticClass:"b-signup"},[e.otpModalTitle?s("h4",[e._v(" "+e._s(e.$t("message.not_user"))+" "+e._s(e.otpModalTitle)+"? ")]):e._e(),s("p",{staticClass:"forgot"},[s("a",{staticClass:"lost-device-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onLogout(t)}}},[e._v(" "+e._s(e.$t("message.switch_user_title"))+" ")])])])])])])},_t=[];function yt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function wt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ot={name:"ModalOtp",mixins:[_["a"]],data:function(){return{code:null,agree:!1,isPlaceholderEmail:!1,error:{show:!1,msg:""},disabledOtpSubmit:!1}},computed:wt(wt(wt(wt({},Object(y["Ob"])(["modalUser"])),Object(y["A"])(["otpModalTitle","otpModalStrong"])),Object(y["b"])(["isAuth"])),{},{disabledSubmit:function(){return!this.code||!this.code.length||this.disabledOtpSubmit}}),methods:wt(wt(wt(wt({},Object(y["a"])(["logout","reqLogout","fetchUserMe"])),Object(y["B"])(["otpModalShow"])),Object(y["r"])(["setInitAuth"])),{},{handleSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabledOtpSubmit){e.next=2;break}return e.abrupt("return");case 2:if(this.disabledOtpSubmit=!0,this.error.msg="",this.error.show=!1,!this.code||!this.code.length){e.next=28;break}return this.$window.showPreloader(),e.prev=7,e.next=10,Object(ue["U"])(this.code,this.agree);case 10:if(t=e.sent,!t||!t.success){e.next=20;break}return e.next=14,this.fetchUserMe();case 14:if(this.isAuth){e.next=16;break}return e.abrupt("return");case 16:this.otpModalShow(!1),this.$emit("otp-success"),e.next=22;break;case 20:this.error.msg="Code wrong",this.error.show=!0;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e["catch"](7),Object(de["a"])(e.t0,de["b"]);case 27:this.$window.hidePreloader();case 28:this.code=null,this.disabledOtpSubmit=!1;case 30:case"end":return e.stop()}}),e,this,[[7,24]])})));function t(){return e.apply(this,arguments)}return t}(),altVerification:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$window.showPreloader(),e.prev=1,e.next=4,Object(ue["V"])();case 4:t=e.sent,this.isPlaceholderEmail=!0,t&&t.success?this.$bvToast.toast(this.$i18n.t("message.check_email_text"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}):alert(this.$i18n.t("message.debug_alert_message")),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(de["a"])(e.t0,de["b"]);case 12:this.$window.hidePreloader();case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),onLogout:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.showPreloader(),e.prev=1,e.next=4,this.reqLogout();case 4:window.hidePreloader(),this.$router.push({name:"Feed",params:{isLogout:!0}}),this.$store.dispatch("logout"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),window.hidePreloader(),Object(de["a"])(e.t0,de["b"]);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()})},Ct=Ot,Pt=Object(L["a"])(Ct,gt,_t,!1,null,null,null),xt=Pt.exports;function kt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function St(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Et={name:"LoginPage",components:{FormSign:vt,FormOtp:xt,WebsiteFooter:F},data:function(){return{release:"202009030921-24eb8054b5",slides:["slide-1.png","slide-2.jpg","slide-3.jpg","slide-4.jpg","slide-5.jpg"],slideWidth:308,swiperOptions:{autoplay:{delay:4e3},loop:!0},pixelRatio:Math.min(Math.round(window.devicePixelRatio),3)}},computed:St({},Object(y["A"])(["isOtpModalShow"])),mounted:function(){document.body.setAttribute("id","guest_body")},beforeDestroy:function(){document.body.removeAttribute("id")},methods:{AfterLogin:function(){this.$emit("after-login"),this.$root.$emit("after-login")},AfterOtp:function(){this.$emit("after-otp")},getSrc:function(e){return this.pixelRatio>1&&(e=e.split(/(\.(jpg|png))/gim),e.splice(2,1),e.splice(1,0,"-".concat(this.pixelRatio,"x")),e=e.join("")),e}}},Tt=Et,At=Object(L["a"])(Tt,st,it,!1,null,null,null),jt=At.exports,$t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{"hide-footer":!0,centered:"","modal-class":"story-stats","dialog-class":"story-stats-dialog","content-class":"story-stats-content","header-class":"m-border-header"},on:{hide:e.hide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("button",{staticClass:"g-page__header__btn m-with-round-hover",on:{click:e.hide}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-back"})]),s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.your_story"))+" ")]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.settings_tooltip"),classes:"m-tooltip-higher"},expression:"{ content: $t('message.settings_tooltip'), classes: 'm-tooltip-higher' }"}],staticClass:"story-stats__settings",on:{click:e.goToSettings}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-settings",attrs:{"extra-class":"m-aligned-top"}})])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"stories-list-preview"},[s("swiper",{key:"viewerModalView",ref:"swiper",attrs:{options:e.swiperOption},on:{transitionEnd:e.transitionEnd,imagesReady:e.imagesReady}},e._l(e.stories,(function(t,i){return s("swiper-slide",{key:i},[s("div",{staticClass:"story-preview story-preview_viewers"},[s("img",{staticClass:"story-preview__img",attrs:{src:t.media[0].squarePreview},on:{contextmenu:function(e){return e.preventDefault(),function(){return!1}()},dragstart:function(e){return e.preventDefault(),function(){return!1}()}}}),e._e()])])})),1)],1),s("div",{staticClass:"stories-stats-data"},[s("div",{staticClass:"b-tabs-switchers"},[s("ul",{staticClass:"b-tabs__nav m-tabs-marks"},[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"details"===e.tab}},[s("button",{staticClass:"b-tabs__nav__link",on:{click:function(t){e.tab="details"}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.title_details"))+" ")])])]),s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"viewers"===e.tab}},[s("button",{staticClass:"b-tabs__nav__link",on:{click:function(t){e.tab="viewers"}}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.streaming_summary_viewers_title"))+" ")])])])])]),"details"!==e.tab||e.currentStoryStat?e._e():s("div",{staticClass:"spinner-container"},[s("spinner-loader")],1),"viewers"===e.tab&&!e.storyViewers.length&&e.storyViewersLoading?s("div",{staticClass:"spinner-container"},[s("spinner-loader")],1):e._e(),e.currentStoryStat?s("div",{directives:[{name:"show",rawName:"v-show",value:"details"===e.tab,expression:"tab === 'details'"}],staticClass:"b-tab-stats"},[s("div",{staticStyle:{width:"100%",height:"144px"},attrs:{id:"chart"}}),s("div",{staticClass:"stream-chart-scale m-no-border"},e._l(e.arr,(function(t){return s("span",{key:t,staticClass:"stream-chart-scale__item"},[e._v(e._s(t))])})),0),s("div",{staticClass:"b-stats-row__content"},[s("div",{staticClass:"b-stats-row__label m-border-line m-tips",class:{"m-current":"look"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="look"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_viewers_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.currentStoryStat.storyLookCount)+" ")])]),s("div",{staticClass:"b-stats-row__label m-border-line m-posts",class:{"m-current":"like"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="like"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_likes_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.currentStoryStat.storyLikeCount)+" ")])]),s("div",{staticClass:"b-stats-row__label m-border-line m-messages",class:{"m-current":"tip"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="tip"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_tips_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" $"+e._s(e.currentStoryStat.storyTipSum)+" "),e.currentStoryStat.storyTipCount?s("span",[e._v("("+e._s(e.currentStoryStat.storyTipCount)+")")]):e._e()])]),void 0!==e.currentStoryStat.storyPurchasedSumm&&void 0!==e.currentStoryStat.storyPurchasedCount?[s("div",{staticClass:"b-stats-row__label m-border-line m-purchases"},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_purchases_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" $"+e._s(e.currentStoryStat.storyPurchasedSumm)+" "),e.currentStoryStat.storyPurchasedCount?s("span",[e._v("("+e._s(e.currentStoryStat.storyPurchasedCount)+")")]):e._e()])])]:e._e(),s("div",{staticClass:"b-stats-row__label m-border-line m-referrals",class:{"m-current":"comment"===e.currentClickedRow},on:{click:function(t){e.currentClickedRow="comment"}}},[s("span",{staticClass:"b-stats-row__name m-dots"},[e._v(" "+e._s(e.$t("message.streaming_summary_comments_title"))+" ")]),s("span",{staticClass:"b-stats-row__val"},[e._v(" "+e._s(e.currentStoryStat.storyCommentCount)+" ")])])],2)]):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:"viewers"===e.tab,expression:"tab === 'viewers'"}],staticClass:"b-tab-stats"},[s("div",{staticClass:"list-viewers m-native-custom-scrollbar",on:{scroll:e.reachEnd}},e._l(e.storyViewers,(function(t){return s("Viewer",{key:t,attrs:{viewer:t,goToProfile:e.goToProfile}})})),1)])])])],2)},Mt=[],It=(s("eebe"),s("3217"),s("c1df")),Lt=s.n(It),Dt=s("ee41"),Rt=s("4623"),Ut=s.n(Rt),Nt=s("e528"),Bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-viewer-row"},[s("div",{staticClass:"b-viewer-row__name",class:{"m-disabled":e.user.isStoryBlockedUser||e.user.isBlocked}},[s("a",{staticClass:"b-viewer-row__link",attrs:{href:"/"+e.user.username},on:{click:function(t){return t.preventDefault(),function(){return e.goToProfile(e.user.username)}()}}},[s("span",{staticClass:"g-avatar m-w36"},[s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("span",{staticClass:"b-username-row m-width-limit"},[s("span",{staticClass:"b-username"},[s("span",{staticClass:"g-user-name"},[e._v(" "+e._s(e.user.username)+" ")])])])])]),s("div",{staticClass:"b-viewer-row__option"},[e.user.isStoryLiked?s("span",{staticClass:"stat-like-story"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"})]):e._e(),s("b-dropdown",{ref:"dropdown",attrs:{right:"","toggle-class":"m-not-width-limit",variant:"link",offset:"4"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-more"})]),s("b-dropdown-item-button",{staticClass:"m-align-center m-item-with-icon",on:{click:e.hideStoryHandler}},[e._v(" "+e._s(e.user.isStoryBlockedUser?e.$t("message.unhide_story_btn_title"):e.$t("message.hide_story_btn_title"))+" ")]),s("b-dropdown-item-button",{staticClass:"m-align-center m-item-with-icon",on:{click:e.blockUserHandler}},[e._v(" "+e._s(e.user.isBlocked?e.$t("message.unblock_user_btn_title"):e.$t("message.block_user_btn_title"))+" ")])],2)],1)])},Ft=[];function Vt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ht(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Vt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var zt={name:"storyViewer",components:{ImageThumb:Q["a"]},props:{viewer:{type:Number,required:!0},goToProfile:{type:Function,required:!0}},computed:Ht(Ht({},Object(y["Ob"])(["getUser"])),{},{user:function(){return this.getUser(this.viewer)}}),methods:Ht(Ht(Ht({},Object(y["Nb"])(["toggleHideStoryFromUser","toggleBlockUser"])),Object(y["pb"])(["blockUser","unblockUser"])),{},{hideStoryHandler:function(){this.toggleHideStoryFromUser(this.viewer),this.$refs.dropdown.hide(!0)},blockUserHandler:function(){this.toggleBlockUser(this.viewer),this.$refs.dropdown.hide(!0)}})},qt=zt,Gt=Object(L["a"])(qt,Bt,Ft,!1,null,null,null),Zt=Gt.exports,Wt={type:"serial",categoryField:"date",theme:"default",fontFamily:"Open Sans",color:"#7c8b96",autoDisplay:!1,autoMargins:!1,marginBottom:0,marginTop:0,marginLeft:0,marginRight:0,categoryAxis:{labelsEnabled:!1,axisColor:"#fff",axisAlpha:.2,startOnAxis:!0,gridAlpha:0,tickLength:0},valueAxes:[{labelsEnabled:!1,axisThickness:0,dashLength:6,tickLength:0,gridAlpha:.1,gridColor:"#7c8b96",zeroGridAlpha:0,autoGridCount:!1,gridCount:4}],graphs:[{animationPlayed:!0,fillAlphas:0,lineColor:"#00bcd4",fillColors:["#00bcd4","rgba(0,0,0,0)"],type:"smoothedLine",valueField:"look",lineThickness:1.5,lineAlpha:.5},{animationPlayed:!0,fillAlphas:0,lineColor:"#ff7043",fillColors:["#ff7043","rgba(0,0,0,0)"],type:"smoothedLine",valueField:"tip",lineThickness:1.5,lineAlpha:.5},{animationPlayed:!0,fillAlphas:0,lineColor:"#9575cd",fillColors:["#9575cd","rgba(0,0,0,0)"],type:"smoothedLine",valueField:"comment",lineThickness:1.5,lineAlpha:.5},{animationPlayed:!0,fillAlphas:0,lineColor:"#ec407a",type:"smoothedLine",fillColors:["#ec407a","rgba(0,0,0,0)"],valueField:"like",lineThickness:1.5,lineAlpha:.5}],dataProvider:[]};function Yt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Xt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}Ut()(Lt.a);var Kt={name:"storyStat",mixins:[Dt["a"]],components:{SpinnerLoader:Nt["a"],Viewer:Zt},props:{ev:{type:Object,required:!0}},data:function(){return{currentClickedRow:"look",stories:[],show:!1,currIndex:0,timer:0,arr:[],timeout:null,tab:"details",swiperOption:{slidesPerView:"auto",spaceBetween:10,centeredSlides:!0,slideToClickedSlide:!0,slideActiveClass:"active",grabCursor:!0}}},computed:Xt(Xt(Xt({},Object(y["Ob"])(["user"])),Object(y["qb"])(["currentStoryStat","storyViewers","storyViewersLoading","storyViewersLoaded"])),{},{swiper:function(){return this.$refs.swiper.$swiper},current:function(){return this.stories[this.currIndex]},dur:function(){if(this.currentStoryStat){var e=this.currentStoryStat.hasVideo?this.currentStoryStat.videoPlayDuration:this.currentStoryStat.lookDuration;return Lt.a.duration(e/1e3,"seconds").format()}return 0},durAv:function(){if(this.currentStoryStat){var e=this.currentStoryStat.hasVideo?this.currentStoryStat.videoPlayDurationAverage:this.currentStoryStat.lookDurationAverage;return Lt.a.duration(e/1e3,"seconds").format()}return 0},currStoryId:function(){return this.stories.length?this.stories[this.currIndex].id:void 0},chartSettings:function(){var e=this,t=Wt.graphs,s=t.filter((function(t){return t.valueField!==e.currentClickedRow})),i=t.find((function(t){return t.valueField==e.currentClickedRow}));return Xt(Xt({},Wt),{},{graphs:[].concat(Object(E["a"])(s),[Xt(Xt({},i),{},{lineThickness:3,lineAlpha:1})])})}}),watch:{show:function(){this.show?this.pauseStory():this.playStory()},currentClickedRow:function(){this.buildChart()},currStoryId:function(){this.destroy(),this.fetchStoryStat(this.currStoryId),this.resetStoryViewers(),this.fetchStoryViewers({storyId:this.currStoryId})},currentStoryStat:function(){var e=this;this.currentStoryStat&&(this.arr=[],this.setParams(),this.chartScaleUnits(),setTimeout((function(){e.buildChart()}),100))}},mounted:function(){this.show=!0,this.stories=this.ev.stories,this.startTime=this.ev.startTime},beforeDestroy:function(){this.destroy()},methods:Xt(Xt({},Object(y["pb"])(["fetchStoryStat","resetStat","fetchStoryViewers","resetStoryViewers"])),{},{setParams:function(){var e="sm"===this.$mq?2:4;this.start=new Date(this.currentStoryStat.createdAt).getTime(),this.end=Date.now(),this.duration=this.end-this.start,this.format=this.duration<86400?"hh:mm a":"DD MMM hh:mm a",this.barCount=this.duration/1e3<47?this.duration/1e3:47,this.scale=this.duration<e?this.duration:e,this.streamScaleUnit=this.duration/this.scale,this.streamUnitTime=this.duration/this.barCount},hide:function(){var e=this;this.show=!1,this.$nextTick((function(){e.$root.$emit("hide::story::stat"),document.documentElement.classList.remove("m-prevent-scrolling")}))},buildChart:function(){var e=this;console.log(this.chartSettings),this.CHART=AmCharts.makeChart("chart",this.chartSettings),this.CHART.dataProvider=[];for(var t=0;t<this.barCount;t+=1)this.CHART.dataProvider.push({date:Math.round(this.start+t*this.streamUnitTime),look:0,like:0,tip:0,comment:0});this.timeout=setTimeout((function(){e.prepareData("Comment"),e.prepareData("Like"),e.prepareData("Look"),e.prepareData("Tip"),e.CHART.validateData()}),1e3)},prepareData:function(e){var t=this,s="story".concat(e,"All"),i=this.currentStoryStat?this.currentStoryStat[s]:[],r={};for(var n in i.forEach((function(e){for(var s=new Date(e).getTime(),i=0,n=0,a=0;a<t.barCount;a+=1){var o=Math.abs(t.CHART.dataProvider[a].date-s);(0===a||i>o)&&(i=o,n=a)}r[n]=(r[n]||0)+1})),r)this.CHART.dataProvider[n][e.toLowerCase()]=r[n];this.CHART.dataProvider.forEach((function(s,i){i>0&&(t.CHART.dataProvider[i][e.toLowerCase()]+=t.CHART.dataProvider[i-1][e.toLowerCase()])}))},chartScaleUnits:function(){for(var e=0;e<=this.scale;e+=1){var t=Lt()(this.start+Math.round(e*this.streamScaleUnit)).format(this.format);this.arr=[].concat(Object(E["a"])(this.arr),[t])}},destroy:function(){var e=document.getElementById("chart");clearTimeout(this.timeout),this.CHART&&(e&&(e.innerHTML=""),this.CHART.destroy()),this.resetStat(),this.resetStoryViewers()},reachEnd:function(e){var t=e.srcElement,s=t.scrollHeight,i=t.scrollTop,r=t.offsetHeight,n=s-(r+i)<50;!n||this.storyViewersLoading||this.storyViewersLoaded||this.fetchStoryViewers({storyId:this.currStoryId,offset:this.storyViewers.length})},close:function(){this.destroy(),this.hide();var e=document.querySelector("#zuck-modal .close");e&&e.click()},goToSettings:function(){this.$router.push({name:"SettingsStory"}),this.close()},goToProfile:function(e){this.$router.push({name:"Profile",params:{userId:e}}),this.close()},transitionEnd:function(){this.currIndex=this.swiper.activeIndex},imagesReady:function(){var e=this;this.$nextTick((function(){e.swiper&&(e.swiper.slideTo(e.currIndex),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),5))}))}})},Qt=Kt,Jt=Object(L["a"])(Qt,$t,Mt,!1,null,null,null),es=Jt.exports,ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isAuth?s("div",[s("modal-subscribers-item"),e.offerIdToCancel?s("modal-confirm",{attrs:{"modal-show":e.needConfirmCancelOffer,title:this.$i18n.t("message.cancel_offer"),text:this.$i18n.t("message.cancel_offer_confirm"),"agree-btn":this.$i18n.t("message.yes"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.needConfirmCancelOffer=t},"update:modal-show":function(t){e.needConfirmCancelOffer=t},"on-agree":e.cancelOffer,"on-hide":function(t){e.offerIdToCancel=null}}}):e._e()],1):e._e()},ss=[],is=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalSubscribersItem",attrs:{id:"ModalSubscribersItem","modal-class":"m-subscriber","hide-header":!0,"hide-footer":!0,size:"lg",centered:""},on:{shown:e.updateSwiper},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("subscribers-item",{attrs:{"user-id":e.modalUser,"offer-id":e.modalOffer,expanded:!0,active:e.activeTab,"need-update-swiper":e.needUpdateSwiper}}),s("button",{staticClass:"b-modal__close m-with-round-hover",attrs:{type:"button"},on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})])],1)},rs=[],ns=s("483c");function as(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function os(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?as(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):as(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var cs={name:"ModalSubscribersItem",components:{SubscribersItem:ns["a"]},data:function(){return{show:!1,activeTab:!1,needUpdateSwiper:0}},computed:os(os({},Object(y["Ob"])(["modalUser"])),Object(y["D"])(["modalOffer"])),mounted:function(){this.$root.$on("subscriberModal::setActiveTab",this.setActiveTab)},beforeDestroy:function(){this.$root.$off("subscriberModal::setActiveTab",this.setActiveTab)},methods:{close:function(){var e=this;this.show=!1,setTimeout((function(){try{e.show||(e.activeTab=!1)}catch(t){}}),300)},setActiveTab:function(e){this.activeTab=e},updateSwiper:function(){this.needUpdateSwiper=+new Date}}},ls=cs,us=Object(L["a"])(ls,is,rs,!1,null,null,null),ds=us.exports,hs=s("8b3f");function ps(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ms(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ps(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var fs={name:"SubscriberCard",components:{ModalSubscribersItem:ds,ModalConfirm:hs["a"]},data:function(){return{offerIdToCancel:null,needConfirmCancelOffer:!1,disabledDeleteOffer:!1}},computed:ms(ms(ms(ms(ms({},Object(y["Ob"])(["modalUser"])),Object(y["b"])(["isAuth","authUser"])),Object(y["Eb"])(["getSubscriber"])),Object(y["Z"])(["route"])),{},{subscriber:function(){return this.getSubscriber(this.modalUser)}}),watch:{route:function(e){var t=e.to,s=e.from;t&&s&&t.name===s.name||this.$root.$emit("bv::hide::modal","ModalSubscribersItem")}},mounted:function(){this.$root.$on("personal::offer::delete",this.confirmCancelOffer)},beforeDestroy:function(){this.$root.$off("personal::offer::delete",this.confirmCancelOffer)},methods:ms(ms({},Object(y["C"])(["deleteUnclaimedOffer"])),{},{confirmCancelOffer:function(e){this.offerIdToCancel=e,this.needConfirmCancelOffer=!0},cancelOffer:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.offerIdToCancel){e.next=2;break}return e.abrupt("return");case 2:if(!this.disabledDeleteOffer){e.next=4;break}return e.abrupt("return");case 4:return this.disabledDeleteOffer=!0,e.next=7,this.deleteUnclaimedOffer({offerId:this.offerIdToCancel,userId:this.modalUser});case 7:this.offerIdToCancel=null,this.disabledDeleteOffer=!1,this.$root.$emit("subscribers::tab::reset",this.modalUser);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},bs=fs,vs=Object(L["a"])(bs,ts,ss,!1,null,null,null),gs=vs.exports,_s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalSubscribe",attrs:{id:"ModalSubscribe","modal-class":e.modalClass,"hide-header":e.isAuth,"hide-footer":!0,centered:"","body-class":e.isAuth?"m-reset-body-paddings":"",size:e.isAuth?"sm":"extra-lg"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},["sm"===e.$mq?s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.closeSubscribeModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-back",staticClass:"icon-back",attrs:{"extra-class":"m-aligned-top"}})]):e._e(),s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.login_to_subscribe"))+" ")])]),"sm"!==e.$mq||e.isAuth?s("button",{staticClass:"b-modal__close m-with-round-hover",class:{light:e.isAuth},attrs:{type:"button"},on:{click:e.closeSubscribeModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})]):e._e(),s("div",{staticClass:"row row_flex"},[s("div",{staticClass:"col-xs-12 b-modal__subscribe__container__col",class:{"col-sm-6":!e.isAuth,"col-sm-12":e.isAuth}},[s("div",{staticClass:"b-modal__subscribe__container"},[s("div",{staticClass:"b-modal__cover"},[s("img",{staticClass:"b-modal__cover-img",attrs:{src:e.thumbSrcLink(e.user.header,e.user.headerThumbs,"w480","header"),alt:e.user.name},on:{error:function(t){return e.errorCover(t)}}})]),s("div",{staticClass:"b-modal__user__info"},[s("span",{staticClass:"g-avatar online_status_class m-w150",class:{online:e.user.isOnline}},[s("payer-rating",{attrs:{user:e.user}}),s("image-thumb",{attrs:{user:e.user,size:"c144"}})],1),s("div",{staticClass:"b-username-row m-width-limit"},[s("router-link",{staticClass:"b-username",attrs:{to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""}},[s("div",{staticClass:"g-user-name m-extralg-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])])],1),s("div",{staticClass:"b-username-row m-width-limit"},[s("router-link",{staticClass:"g-user-realname__wrapper",attrs:{to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""}},[s("div",{staticClass:"g-user-username m-lg-size"},[e._v(" @"+e._s(e.user.username)+" ")])])],1)]),s("div",{staticClass:"b-modal__user__desc"},[s("div",{staticClass:"b-modal__user__desc__title"},[e._v(" "+e._s(e.$t("message.subscription_popup_title"))+" ")]),s("ul",{staticClass:"b-modal__list"},e._l(e.user.isAdultContent?4:3,(function(t){return s("li",{key:t,staticClass:"b-modal__list__item"},[s("div",{staticClass:"b-modal__list__icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"})]),s("div",{staticClass:"b-modal__list__title"},[e._v(" "+e._s(e.$t("message.subscription_popup_item_"+t))+" ")])])})),0),e.isAuth?[!e.promotion||e.userPrice||e.canPayToUser||e.bundle?e._e():[e._v(" "+e._s(e.$t("message.subscription_popup_promo_add_card_for_rebills_info"))+" "),s("br"),s("br")],s("div",{staticClass:"b-modal__btns"},[e.userPrice||e.showAddPaymentBtn||e.bundle?e._e():s("button",{staticClass:"g-btn m-rounded m-profile m-with-icon",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doSubscribe(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.subscription_subscribe_free_full_button")))])]),e.showAddPaymentBtn?s("router-link",{staticClass:"g-btn m-rounded m-border m-profile m-with-icon",attrs:{to:{name:"PaymentsAddCard"},event:""},nativeOn:{click:function(t){return t.preventDefault(),e.goBackToProfile(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.need_connect_stripe_message_new")))])]):e._e(),e.canPayToUser&&e.bundle?s("button",{staticClass:"g-btn m-rounded m-lg m-with-icon m-uppercase m-flex",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doBuyBundle(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.subscription_subscribe_by_bundle",{PRICE:"$"+e.bundle.price.toFixed(2).replace(".00",""),MONTHS:e.bundle.duration})))])]):e.canPayToUser&&e.userPrice?s("button",{staticClass:"g-btn m-rounded m-lg m-with-icon m-uppercase m-flex",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doSubscribePay(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.Subscription_subscribe_per_month_price_formatted",{PRICE:e.formattedSubscribeBtnPrice})))])]):e._e()],1),e.showAddPaymentBtn&&e.payWall&&!e.bundle?s("p",{staticClass:"b-subscribe__bottom-text"},[e._v(" "+e._s(e.$t("message.subscription_popup_paywall_text"))+" ")]):e._e(),e._e(),e.promotion&&!e.userPrice&&e.canPayToUser&&!e.bundle?s("p",{staticClass:"b-subscribe__bottom-text"},[e._v(" "+e._s(e.$t("message.subscription_popup_promo_price_info_new"))+" ")]):e._e(),e.canPayToUser&&e.bundle?s("p",{staticClass:"b-subscribe__bottom-text",domProps:{innerHTML:e._s(e.$t("message.bundle_label",{DURATION:e.bundle.duration,AMOUNT:e.bundle.price,DISCOUNT:e.bundle.discount}))}}):e._e()]:e._e()],2)])]),e.isAuth?e._e():s("div",{staticClass:"col-sm-6 col-xs-12 text-center"},[s("router-link",{staticClass:"b-modal__subscribe__logo-link",attrs:{to:"/"}},[s("svg",{attrs:{width:"237",height:"59","aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-logo"}})])]),s("form-sign",{attrs:{subscribe:!0}})],1)])],2):e._e()},ys=[],ws=s("4683"),Os=s("ce23"),Cs=s("d075"),Ps=s("925c"),xs=s("7e35"),ks=s("9df8"),Ss=s("30ba"),Es=s("f950");function Ts(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function As(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ts(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var js={name:"ModalSubscribe",components:{FormSign:vt,ImageThumb:Q["a"],PayerRating:ws["a"]},mixins:[_["a"],Ps["a"],xs["a"],Os["a"],ks["c"],Ss["a"]],data:function(){return{bundle:null,show:!1}},computed:As(As(As({},Object(y["Ob"])(["modalUser","getUser"])),Object(y["b"])(["isAuth","authUser"])),{},{user:function(){return this.getUser(this.modalUser)},promotion:function(){return this.promotionAll||this.promotionExpired},promotionAll:function(){return d()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return d()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},userPrice:function(){return this.promotion?this.promotion.price:this.user.subscribePrice},formattedSubscribeBtnPrice:function(){return this.promotion?"$".concat(this.promotion.price):this.priceHuman(this.user.subscribePrice)},showAddPaymentBtn:function(){return(this.bundle||this.userPrice)&&!this.canPayToUser||this.payWall},payWall:function(){return!this.userPrice&&this.authUser.isPaywallRestriction},modalClass:function(){return"b-modal b-modal__subscribe".concat(this.isAuth?"":" m-guest")}}),watch:{$route:function(){this.closeSubscribeModal()},show:function(e){var t=this;e||setTimeout((function(){t.bundle=null}),300)}},mounted:function(){var e=this;this.$root.$on("sign-subscribe",this.doSubscribe),this.$root.$on("sign-subscribe-close-modal",this.closeSubscribeModal),this.$root.$on("ModalSubscribeBundleShow",(function(t){e.bundle=t}))},beforeDestroy:function(){this.bundle=null},methods:As(As(As(As(As(As(As({},Object(y["i"])(["fetchChat"])),Object(y["Nb"])(["fetchSubscriptionsCount"])),Object(y["Ib"])(["updateSubscribe"])),Object(y["Kb"])(["removeSubscribe"])),Object(y["H"])(["setGoBackToProfile"])),Object(y["s"])(["updateLiveUser"])),{},{closeSubscribeModal:function(){this.bundle=null,this.$refs.ModalSubscribe&&this.$refs.ModalSubscribe.hide(),"Live"===this.$route.name&&this.$root.$emit("bv::hide::modal","ModalSubscribeLite")},doSubscribe:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.authUser.id&&!this.user.subscribedBy){e.next=3;break}return this.closeSubscribeModal(),e.abrupt("return");case 3:if(!this.userPrice&&!this.payWall){e.next=6;break}return this.$refs.ModalSubscribe&&this.$refs.ModalSubscribe.show(),e.abrupt("return");case 6:return this.closeSubscribeModal(),e.prev=7,t=this.user.id,s=Object(Cs["b"])(t),i=Object(Es["a"])(this.$route.name),e.next=13,Object(ue["gb"])(t,{recommender:s,source:i});case 13:if(r=e.sent,!r||!r.id){e.next=24;break}if(t&&Object(Cs["c"])(t),this.updateSubscribe(r),this.fetchSubscriptionsCount(),"Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name){e.next=23;break}return e.next=21,this.fetchProfileData(t);case 21:e.next=24;break;case 23:"Live"===this.$route.name&&(this.updateLiveUser(r),this.$root.$emit("bv::hide::modal","ModalSubscribeLite"));case 24:e.next=29;break;case 26:e.prev=26,e.t0=e["catch"](7),Object(de["b"])(e.t0);case 29:case"end":return e.stop()}}),e,this,[[7,26]])})));function t(){return e.apply(this,arguments)}return t}(),doSubscribePay:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.closeSubscribeModal(),t=this.user.id,s=Object(Cs["b"])(t),i=Object(Es["a"])(this.$route.name),e.next=6,this.makePayments({paymentType:"subscribe",userId:t,recommender:s,subscribeSource:i,amount:this.userPrice},this.doSubscribePay);case 6:if(r=e.sent,!r||!r.id){e.next=22;break}if(t&&Object(Cs["c"])(t),this.updateSubscribe(r),this.fetchSubscriptionsCount(),"Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name){e.next=16;break}return e.next=14,this.fetchProfileData(t);case 14:e.next=22;break;case 16:if("Chat"!==this.$route.name){e.next=21;break}return e.next=19,this.fetchChat(t);case 19:e.next=22;break;case 21:"SubscribesByType"===this.$route.name?this.removeSubscribe(t):"Live"===this.$route.name&&(this.updateLiveUser(r),this.$root.$emit("bv::hide::modal","ModalSubscribeLite"));case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doBuyBundle:function(){this.$root.$emit("buyBundle")},goBackToProfile:function(){var e=this;this.closeSubscribeModal(),this.setGoBackToProfile(this.user.username),setTimeout((function(){e.$router.push({name:"PaymentsAddCard",params:{noReload:!0}})}),350)}})},$s=js,Ms=Object(L["a"])($s,_s,ys,!1,null,null,null),Is=Ms.exports,Ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalLogin",attrs:{id:"ModalLogin","modal-class":"m-login-modal","hide-header":!0,"hide-footer":!0,centered:"",size:"sm"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("router-link",{staticClass:"b-modal__login__logo-link",attrs:{to:"/","active-class":"","exact-active-class":""}},[s("svg",{attrs:{width:"250",height:"52","aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-logo-new"}})])]),s("form-sign",{on:{"sign-main":e.afterLogin,"sign-need-otp":e.afterLogin}})],1)},Ds=[],Rs={name:"ModalLogin",components:{FormSign:vt},data:function(){return{show:!1}},watch:{$route:function(){this.$refs.ModalLogin&&this.$refs.ModalLogin.hide()}},methods:{afterLogin:function(){this.$root.$emit("after-login"),this.$refs.ModalLogin&&this.$refs.ModalLogin.hide()}}},Us=Rs,Ns=Object(L["a"])(Us,Ls,Ds,!1,null,null,null),Bs=Ns.exports,Fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalSubscribeLite",attrs:{id:"ModalSubscribeLite","modal-class":"b-modal b-modal__subscribe","content-class":"m-modal-view","body-class":"m-reset-body-paddings","hide-header":e.isAuth,"hide-footer":!0,centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},["sm"===e.$mq?s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.closeSubscribeModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-back",staticClass:"icon-back"})]):e._e(),s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.login_to_subscribe"))+" ")])]),"sm"!==e.$mq||e.isAuth?s("button",{staticClass:"b-modal__close m-with-round-hover",class:{light:e.isAuth},attrs:{type:"button"},on:{click:e.closeSubscribeModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})]):e._e(),s("div",{staticClass:"row row_flex"},[s("div",{staticClass:"col-xs-12 b-modal__subscribe__container__col",class:{"col-sm-6":!e.isAuth,"col-sm-12":e.isAuth}},[s("div",{staticClass:"b-modal__subscribe__container"},[s("div",{staticClass:"b-modal__cover"},[s("img",{staticClass:"b-modal__cover-img",attrs:{src:e.thumbSrcLink(e.user.header,e.user.headerThumbs,"w480","header"),alt:e.user.name},on:{error:function(t){return e.errorCover(t)}}})]),s("div",{staticClass:"b-modal__user__info"},[s("span",{staticClass:"g-avatar online_status_class m-w150",class:{online:e.user.isOnline}},[s("payer-rating",{attrs:{user:e.user}}),s("image-thumb",{attrs:{user:e.user,size:"c144"}})],1),s("div",{staticClass:"b-username-row m-width-limit"},[s("router-link",{staticClass:"b-username",attrs:{to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":"",target:"_blank"}},[s("div",{staticClass:"g-user-name m-extralg-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])])],1),s("div",{staticClass:"b-username-row m-width-limit"},[s("router-link",{staticClass:"g-user-realname__wrapper",attrs:{to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":"",target:"_blank"}},[s("div",{staticClass:"g-user-username m-lg-size"},[e._v(" @"+e._s(e.user.username)+" ")])])],1)]),s("div",{staticClass:"b-modal__user__desc"},[e.isAuth&&!e.user.subscribedBy?[s("div",{staticClass:"b-modal__btns"},[s("subscribe-btn",{attrs:{id:e.user.id,short:!0}})],1)]:e._e()],2)])])])],2):e._e()},Vs=[],Hs=s("a2fa");function zs(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function qs(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):zs(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Gs={name:"ModalSubscribeLite",components:{ImageThumb:Q["a"],PayerRating:ws["a"],SubscribeBtn:Hs["a"]},mixins:[Ps["a"],xs["a"]],data:function(){return{show:!1}},computed:qs(qs(qs({},Object(y["Ob"])(["modalUser","getUser"])),Object(y["b"])(["isAuth","authUser"])),{},{user:function(){return this.getUser(this.modalUser)}}),watch:{$route:function(){this.closeSubscribeModal()}},mounted:function(){},beforeDestroy:function(){},methods:{closeSubscribeModal:function(){this.$refs.ModalSubscribeLite&&this.$refs.ModalSubscribeLite.hide()}}},Zs=Gs,Ws=Object(L["a"])(Zs,Fs,Vs,!1,null,null,null),Ys=Ws.exports,Xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalUnsubscribe",attrs:{id:"ModalUnsubscribe",size:"sm","hide-header-close":!0,centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.dialog_unsubscribe_title"))+" ")])]),s("div",{staticClass:"dialog_message"},[e._v(" "+e._s(e.unsubscribeText)+" ")]),!e.canDisableReBill&&e.reasons.length?s("div",{staticClass:"dialog_form",attrs:{"data-app":""}},[s("v-select",{attrs:{items:e.reasonsList,label:e.$t("message.dialog_unsubscribe_reason_label"),outlined:"","hide-details":"false"},model:{value:e.selectedReason,callback:function(t){e.selectedReason=t},expression:"selectedReason"}})],1):e._e(),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(t){e.show=!1}}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.doUnsubscribe}},[e._v(" "+e._s(e.$t("message.confirm_yes_button"))+" ")])])],2):e._e()},Ks=[],Qs=s("44ba");function Js(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ei(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Js(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ti={name:"ModalUnsubscribe",mixins:[_["a"]],data:function(){return{selectedReason:"",show:!1,reasons:[]}},computed:ei(ei(ei({},Object(y["Ob"])(["modalUser","getUser"])),Object(y["Jb"])(["getSubscribe"])),{},{user:function(){return this.getUser(this.modalUser)},subscribe:function(){return this.getSubscribe(this.modalUser)},price:function(){return this.subscribe?this.subscribe.price:void 0!==this.user.currentSubscribePrice?this.user.currentSubscribePrice:0},expireDate:function(){return this.subscribe?Lt()(this.subscribe.expiredAt).format("MMM D, YYYY"):void 0!==this.user.subscribedByExpireDate?Lt()(this.user.subscribedByExpireDate).format("MMM D, YYYY"):""},canDisableReBill:function(){return!this.user.isFrozen&&!this.user.isSuspended&&(this.price&&(void 0!==this.subscribe&&this.subscribe.renewedAt||void 0!==this.user.subscribedByAutoprolong&&this.user.subscribedByAutoprolong))},unsubscribeText:function(){return this.canDisableReBill?this.$i18n.t("message.disable_auto_rebill_new",{DATE:this.expireDate}):!this.price||this.user.isFrozen||this.user.isSuspended?this.$i18n.t("message.dialog_unsubscribe_desc"):this.$i18n.t("message.dialog_unsubscribe_desc_price_new",{EXPIRY_DATE:this.expireDate,USER_NAME:"".concat(this.user.name)})},reasonsList:function(){var e=[],t=0;while(t<=this.reasons.length-1)e.push({value:t,text:0===t?"":this.reasons[t].name}),t+=1;return e}}),mounted:function(){this.$root.$on("bv::modal::show",this.fetchUnsubscribeReasons)},beforeDestroy:function(){this.$root.$off("bv::modal::show",this.fetchUnsubscribeReasons)},methods:ei(ei(ei(ei(ei(ei({},Object(y["Nb"])(["fetchSubscriptionsCount"])),Object(y["Ib"])(["updateSubscribe","autoprolongToggle"])),Object(y["Kb"])(["removeSubscribe"])),Object(y["i"])(["fetchChat"])),Object(y["s"])(["updateLiveUser"])),{},{doUnsubscribe:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$refs.ModalUnsubscribe.hide(),e.prev=1,t=this.user.id,!this.canDisableReBill){e.next=13;break}return e.next=6,this.autoprolongToggle({id:t,force:"off"});case 6:if("Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name||this.fetchProfileData(t),"Chat"!==this.$route.name){e.next=10;break}return e.next=10,this.fetchChat(this.user.id);case 10:"Live"===this.$route.name&&this.updateLiveUser(this.user),e.next=34;break;case 13:return e.next=15,Object(ue["mb"])(t,{reasonId:this.selectedReason});case 15:if(s=e.sent,!s||!s.id){e.next=34;break}if(this.fetchSubscriptionsCount(),this.updateSubscribe(s),this.selectedReason="","Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name){e.next=24;break}this.fetchProfileData(t),e.next=34;break;case 24:if("SubscribesByType"!==this.$route.name){e.next=28;break}this.removeSubscribe(t),e.next=34;break;case 28:if("Chat"!==this.$route.name){e.next=33;break}return e.next=31,this.fetchChat(this.user.id);case 31:e.next=34;break;case 33:"Live"===this.$route.name&&this.updateLiveUser(s);case 34:e.next=38;break;case 36:e.prev=36,e.t0=e["catch"](1);case 38:case"end":return e.stop()}}),e,this,[[1,36]])})));function t(){return e.apply(this,arguments)}return t}(),fetchUnsubscribeReasons:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("ModalUnsubscribe"!==t.componentId||this.reasons.length||this.canDisableReBill){e.next=11;break}return e.prev=1,e.next=4,Object(Qs["c"])();case 4:s=e.sent,s&&s.length&&(this.reasons=s),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Sentry.captureException(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(t){return e.apply(this,arguments)}return t}()})},si=ti,ii=Object(L["a"])(si,Xs,Ks,!1,null,null,null),ri=ii.exports,ni=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalTips",attrs:{id:"ModalTips",size:"sm","modal-class":"b-modal","content-class":"m-modal-view","body-class":"m-tip-modal m-reset-body-padding-bottom","hide-footer":!e.showWallet,centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e.showWallet?[e._v(" "+e._s(e.$t("message.top_up_your_wallet"))+" ")]:[e._v(" "+e._s(e.post.fundRaising?e.$t("message.enter_contribution_amount"):e.$t("message.enter_tip_amount"))+" ")]],2)]),e.showWallet?e._e():s("div",{staticClass:"b-header-userinfo"},[s("div",{staticClass:"g-avatar m-w50 online_status_class",class:{online:e.user.isOnline,"m-muted-by-me":e.user.isMuted}},[s("image-thumb",{staticClass:"tips__user__img",attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-username-row m-gap-lg"},[s("div",{staticClass:"b-username"},[s("div",{staticClass:"g-user-name m-md-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.displayName||e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])])]),s("div",{staticClass:"b-username-row"},[s("span",{staticClass:"b-username g-user-realname__wrapper"},[e.user.displayName&&e.user.name!==""+e.userLoginPrefix+e.user.id?s("div",{staticClass:"g-user-realname"},[e._v(" "+e._s(e.user.name)+" ")]):e._e(),s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" ")])])])]),e.showWallet?[s("credits-add",{attrs:{submitOnClick:!1,addingCardInNewTab:"stream"===e.tipSource,showBalance:"",isSelectorView:"",isTopUpClicked:e.isTopUpClicked},on:{"set-selected-amount":e.setSelectedAmount,success:e.successWallet,"payments-add-card-link-redirected":function(t){return e.onPaymentsAddCardLinkClick()}}})]:[s("form",{staticClass:"b-tips-form",on:{submit:function(t){return t.preventDefault(),e.tipSubmit(t)}}},[s("div",{staticClass:"g-input__group"},[s("input-tips",{attrs:{min:e.tipsMin,max:e.tipsMax,tipAllowedMin:e.tipAllowedMin,label:e.$t("message.tip_amount_placeholder"),step:e.post.fundRaising?1:.01,disabled:e.showAddCard,error:e.tipInputError,"vat-enabled":!0,"no-card":e.showAddCard,needTopUpWallet:e.needTopUpWallet},model:{value:e.tipValue,callback:function(t){e.tipValue=t},expression:"tipValue"}}),s("textarea-tips",{attrs:{maxlength:200,disabled:e.showAddCard,tipSource:e.tipSource,isPrivateComment:e.isPrivateComment},on:{"update:isPrivateComment":function(t){e.isPrivateComment=t},"update:is-private-comment":function(t){e.isPrivateComment=t}},model:{value:e.tipMsg,callback:function(t){e.tipMsg=t},expression:"tipMsg"}})],1),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{type:"button"},on:{click:e.hideModal}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),e.showAddCard?s("router-link",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{to:{name:"PaymentsAddCard"},target:"stream"===e.tipSource?"_blank":"_self"},nativeOn:{click:function(t){return e.onPaymentsAddCardLinkClick(t)}}},[e._v(" "+e._s(e.$t("message.tip_add_card_btn_label"))+" ")]):s("button",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{type:e.isButton?"button":"submit",disabled:e.submitDisabled},on:{click:e.showCreditsAdd}},[e._v(" "+e._s(e.needTopUpWallet&&e.tipValue?e.$t("message.top_up_your_wallet"):e.$t("message.send_tip_btn_label"))+" ")])],1)])],e.showWallet?s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{type:"button"},on:{click:e.cancelWallet}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg m-uppercase",attrs:{type:"button",disabled:e.isValueSelected},on:{click:e.topUpClicked}},[e._v(" "+e._s(e.$t("message.top_up_wallet_btn_msg"))+" ")])]):e._e()],2):e._e()},ai=[],oi=(s("8615"),s("0039")),ci=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-input__wrapper m-gap-xs m-tips-comment",class:{"m-state-private":e._isPrivateComment,"m-streaming":e.isStreaming}},[s("v-textarea",{attrs:{value:e.value,label:e.placeholder,autocomplete:!1,"auto-grow":"",maxlength:e.maxlength,counter:e.maxlength,outlined:"",rows:"1","row-height":"20","no-resize":"",disabled:e.disabled,dark:e.isDarkModeComputed},on:{input:e.handleInput}}),e.isStreaming?s("button",{staticClass:"b-comment-form__type-privacy m-with-round-hover",attrs:{type:"button"},on:{click:e.onPrivateClick}},[e._isPrivateComment?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-comment-private",staticClass:"icon-comment-private"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-comment",staticClass:"icon-comment"})]):e._e()],1)},li=[];function ui(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function di(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ui(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var hi={name:"TextareaTips",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1},maxlength:{type:Number,required:!0},forceDarkMode:{type:Boolean,default:!1},tipSource:{type:String,default:"profile"},isPrivateComment:{type:Boolean,default:!1}},data:function(){return{}},computed:di(di({},Object(y["eb"])(["isDarkMode"])),{},{inputFilled:function(){return this.value.length>0},isDarkModeComputed:function(){return this.isDarkMode||this.forceDarkMode},isStreaming:function(){return"stream"===this.tipSource},placeholder:function(){return this._isPrivateComment?this.$i18n.t("message.tip_add_private_message_placeholder"):this.$i18n.t("message.tip_add_message_placeholder")},_isPrivateComment:{get:function(){return this.isPrivateComment},set:function(e){console.log("update:isPrivateComment",e),this.$emit("update:isPrivateComment",e)}}}),methods:{handleInput:function(e){this.$emit("input",e)},clearInput:function(){this.$emit("input","")},onPrivateClick:function(){this._isPrivateComment=!this._isPrivateComment}}},pi=hi,mi=Object(L["a"])(pi,ci,li,!1,null,null,null),fi=mi.exports,bi=s("2cc0"),vi=s("2ef0");function gi(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function _i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):gi(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var yi={name:"ModalTips",components:{InputTips:oi["a"],TextareaTips:fi,ImageThumb:Q["a"],CreditsAdd:bi["a"]},mixins:[Os["a"],Ss["a"]],data:function(){return{tipValue:"",tipMsg:"",tipAllowedMin:2,cardMinimumAllowed:5,tipSource:"profile",tipNow:!1,showWallet:!1,show:!1,isTopUpClicked:!1,topUpAmountSelected:!1,isPrivateComment:!1}},mounted:function(){},computed:_i(_i(_i(_i(_i(_i(_i({},Object(y["b"])(["authUser"])),Object(y["Ob"])(["modalUser","modalPost","modalStory","getUser"])),Object(y["t"])(["streams"])),Object(y["T"])(["getPost"])),Object(y["eb"])(["userLoginPrefix"])),Object(y["G"])(["cards"])),{},{isDefaultCardActive:function(){return vi["get"](this.authUser,"isRealCardConnected",!1)},user:function(){return this.getUser(this.modalUser)},tipsMin:function(){return this.authUser.creditBalance>=this.tipAllowedMin&&this.user.canPayInternal?this.tipAllowedMin:this.user.tipsMin},showAddCard:function(){return!this.canPayToUser||!this.isDefaultCardActive&&this.authUser.creditBalance<this.tipAllowedMin},canPayFromWallet:function(){return this.user.canPayInternal&&this.authUser.isCreditsEnabled},isButton:function(){return this.needTopUpWallet||this.notEnoughFunds||!this.canPayWithVat},needTopUpWallet:function(){return this.canPayFromWallet&&this.authUser.creditBalance<this.tipValue&&this.tipValue<this.tipsMin&&this.tipValue>=this.tipAllowedMin&&this.tipValue<5},notEnoughFunds:function(){return this.authUser.creditBalance<this.tipValue&&this.tipValue>=this.tipAllowedMin&&this.tipValue<this.cardMinimumAllowed},canPayWithVat:function(){if(vi["get"](this,"authUser.vat.tips")){var e=(Math.ceil(parseFloat(this.tipValue)*parseFloat(this.authUser.vat.tips))/100).toFixed(2),t=Number(Number(this.tipValue)+Number(e));return this.authUser.creditBalance>=t||t>=this.cardMinimumAllowed}return!0},submitDisabled:function(){return!this.tipValue||this.tipValue>this.tipsMax||this.tipNow},isValueSelected:function(){return!this.topUpAmountSelected},tipInputError:function(){return this.needTopUpWallet?this.$i18n.t("message.need_topup_wallet_error_msg"):null},post:function(){return this.modalPost?this.getPost(this.modalPost)[0]:{}},tipsMax:function(){return this.post.fundRaising?Math.min(this.post.fundRaising.target,this.user.tipsMax):this.user.tipsMax}}),watch:{$route:function(){this.hideModal()},show:function(e){var t=this;e&&!this.tipNow&&(this.tipValue="",this.tipMsg=""),e||this.tipNow?this.setTipSource():setTimeout((function(){t.tipValue="",t.tipMsg="",t.tipSource="profile",t.showWallet=!1}),300)}},methods:_i(_i(_i({},Object(y["U"])(["updatePostTips"])),Object(y["F"])(["fetchCards"])),{},{getUserCards:function(){this.$window.showPreloader(),this.fetchCards().then(this.$window.hidePreloader())},hideModal:function(){this.isPrivateComment=!1,this.$refs.ModalTips&&(this.$refs.ModalTips.hide(),this.topUpAmountSelected=!1,this.$root.$emit("modal::tips::close"))},setSelectedAmount:function(){this.topUpAmountSelected=!0},setTipSource:function(){var e="profile";"Feed"===this.$route.name&&(e="feed_post"),"Profile"===this.$route.name&&this.modalPost&&(e="profile_post"),"Post"===this.$route.name&&(e="post"),"Live"===this.$route.name&&(e="stream"),"Subscribes"!==this.$route.name&&"SubscribesByType"!==this.$route.name||(e="subscriptions"),this.modalStory&&(e="story"),this.$root.$emit("getUserCards"),this.tipSource=e},tipSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.tipNow){e.next=2;break}return e.abrupt("return");case 2:this.tipNow=!0,t={paymentType:"tip",amount:this.tipValue,text:this.tipMsg,userId:this.user.id,tipSource:this.tipSource,hideVatPopup:!0},s=Object.values(this.streams).find((function(e){return e.user.id===n.modalUser})),e.t0=this.tipSource,e.next="stream"===e.t0?8:"story"===e.t0?15:17;break;case 8:if(!s){e.next=13;break}t.streamId=s.stream.id,t.isPrivate=this.isPrivateComment,e.next=14;break;case 13:return e.abrupt("return");case 14:return e.abrupt("break",19);case 15:return t.storyId=this.modalStory,e.abrupt("break",19);case 17:return t.postId=this.modalPost,e.abrupt("break",19);case 19:return this.hideModal(),e.next=22,this.makePayments(t,this.tipSubmit);case 22:i=e.sent,this.tipNow=!1,i&&i.success&&(this.modalPost&&this.updatePostTips({postId:this.modalPost,amount:this.tipValue}),this.tipValue="",this.tipMsg="",this.tipSource="profile",this.showWallet=!1,r=this.$i18n.t("message.tips_sent_success_message"),this.post.fundRaising&&(r=this.$i18n.t("message.contribution_was_sent_successfully")),alert(r));case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),topUpClicked:function(){this.isTopUpClicked=!this.isTopUpClicked},showCreditsAdd:function(){(this.needTopUpWallet||this.notEnoughFunds||!this.canPayWithVat)&&(this.showWallet=!0)},cancelWallet:function(){this.topUpAmountSelected=!1,this.showWallet=!1},successWallet:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.tipSubmit();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onPaymentsAddCardLinkClick:function(){"stream"===this.tipSource&&this.hideModal()}})},wi=yi,Oi=Object(L["a"])(wi,ni,ai,!1,null,null,null),Ci=Oi.exports,Pi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalReport",attrs:{id:"ModalReport","modal-class":"report-modal",centered:""},on:{hide:e.hide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.reportTitle)+" ")])]),e.loading&&!e.reasons.length?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e(),e._l(e.reasons,(function(t){return s("div",{key:t.id,staticClass:"g-input__wrapper b-input-radio__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reasonId,expression:"reasonId"}],staticClass:"input_report_reason b-input-radio",attrs:{id:"reason_"+t.id,type:"radio",name:"input_report_reason"},domProps:{value:t.id,checked:e._q(e.reasonId,t.id)},on:{change:function(s){e.reasonId=t.id}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"reason_"+t.id},domProps:{innerHTML:e._s(t.name)}}),s("span",{staticClass:"b-input-radio__label"},[s("span",{staticClass:"b-input-ripple"})])])])})),s("template",{slot:"modal-footer"},[e.disabledSubmitReport?s("spinner-loader"):e._e(),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.disabledSubmitReport},on:{click:function(t){e.show=!1}}},[e._v(" "+e._s(e.$t("message.button_label_cancel"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.disabledSubmit},on:{click:e.submitReport}},[e._v(" "+e._s(e.$t("message.report_button"))+" ")])],1)],2)},xi=[];function ki(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Si(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ki(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ei={name:"ModalReport",components:{SpinnerLoader:Nt["a"]},data:function(){return{show:!1,reasonId:null,reasons:[],disabledSubmitReport:!1,loading:!0}},computed:Si(Si(Si({},Object(y["Ob"])(["modalUser"])),Object(y["A"])(["reportType"])),{},{reportTitle:function(){switch(this.reportType.type){case"post":return this.$i18n.t("message.report_post_title");case"user":return this.$i18n.t("message.report_user_title");default:return"Report"}},disabledSubmit:function(){return!this.reasonId||this.disabledSubmitReport}}),mounted:function(){this.$refs.ModalReport.$on("show",this.fetchReportReasons)},methods:{fetchReportReasons:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.reasons.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.loading=!0,e.next=6,Object(Qs["b"])();case 6:t=e.sent,this.loading=!1,t&&t.length&&(this.reasons=t),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](2),this.loading=!1,this.$refs.ModalReport.hide(),alert(this.$i18n.t("message.debug_alert_message"));case 16:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),hide:function(){this.$root.$emit("bv::hide::modal")},submitReport:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.disabledSubmitReport=!0,e.prev=1,t=this.reasonId,s=this.modalUser,4!==t){e.next=12;break}return i=this.reportType.type,r="user"===i?s:this.reportType.postId,this.disabledSubmitReport=!1,this.reasonId=null,e.next=10,this.$refs.ModalReport.hide();case 10:return setTimeout((function(){a.$router.push({name:"ReportAbuse",params:{type:i,id:r}})}),350),e.abrupt("return");case 12:e.t0=this.reportType.type,e.next="user"===e.t0?15:"post"===e.t0?19:"story"===e.t0?23:27;break;case 15:return e.next=17,Object(Qs["f"])(s,t);case 17:return n=e.sent,e.abrupt("break",28);case 19:return e.next=21,Object(Qs["d"])(this.reportType.postId,t);case 21:return n=e.sent,e.abrupt("break",28);case 23:return e.next=25,Object(Qs["e"])(this.reportType.postId,t);case 25:return n=e.sent,e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:n&&n.success&&(this.reasonId=null,this.$refs.ModalReport.hide(),alert(this.$i18n.t("message.report_sent_success_message"))),e.next=35;break;case 31:e.prev=31,e.t1=e["catch"](1),Object(de["b"])(e.t1),this.disabledSubmitReport=!1;case 35:case"end":return e.stop()}}),e,this,[[1,31]])})));function t(){return e.apply(this,arguments)}return t}()}},Ti=Ei,Ai=Object(L["a"])(Ti,Pi,xi,!1,null,null,null),ji=Ai.exports,$i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalAlert",attrs:{id:"ModalAlert","modal-class":"modal-alert"+(e.isFaq?" m-faq":""),size:"sm","hide-header-close":!0,centered:""},on:{hide:e.onModalAlertHide,hidden:e.onModalAlertHidden},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[e.isFaq?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-new-tickets"}):e._e(),s("h4",{staticClass:"modal-title",domProps:{innerHTML:e._s(e.alert.title)}})]),e.alert.text?[e.alert.html?e._e():s("div",{staticClass:"dialog_message"},[e._v(" "+e._s(e.alert.text)+" ")]),e.alert.html?s("div",{staticClass:"dialog_message",domProps:{innerHTML:e._s(e.alert.text)},on:{click:e.innerLinkToRouter}}):e._e()]:e._e(),s("template",{slot:"modal-footer"},[e.alert.hideCloseBtn?e._e():s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.dialog_close_button"))+" ")]),e._l(e.alert.buttons,(function(t,i){return s("button",{key:i,staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),function(s){t.onclick(s),t.closeOnClick&&e.close()}(s)}}},[e._v(" "+e._s(t.title)+" ")])}))],2)],2)},Mi=[];function Ii(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Li(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ii(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Di={name:"ModalAlert",mixins:[ut["a"]],props:{modalShow:{type:Boolean,required:!0}},computed:Li(Li({},Object(y["A"])(["alert"])),{},{show:{get:function(){return this.modalShow},set:function(e){this.$emit("update:modalShow",e)}},isFaq:function(){return["faq","TicketsPage","Issues"].includes(this.$route.name)}}),methods:{close:function(){this.show=!1},onModalAlertHide:function(){this.$root.$emit("alert:was:closed"),this.alert.onclose&&this.alert.onclose()},onModalAlertHidden:function(){this.$window.enableBodyScroll()}}},Ri=Di,Ui=Object(L["a"])(Ri,$i,Mi,!1,null,null,null),Ni=Ui.exports,Bi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalUserAlert",attrs:{id:"ModalUserAlert",size:"sm",centered:"","hide-footer":!0},on:{hide:e.userAlertHide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.dialog_default_title"))+" ")]),s("button",{staticClass:"b-modal__close m-with-round-hover",on:{click:function(t){e.show=!1}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})])]),s("div",{staticClass:"dialog_message",domProps:{innerHTML:e._s(e.alertText)},on:{click:e.innerLinkToRouter}})],2)},Fi=[];function Vi(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Hi(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Vi(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var zi={name:"ModalUserAlert",mixins:[ut["a"]],props:{alertId:{type:Number,required:!0},alertText:{type:String,required:!0}},data:function(){return{show:!0}},methods:Hi(Hi({},Object(y["Nb"])(["removeAlert"])),{},{userAlertHide:function(){this.removeAlert(this.alertId)}})},qi=zi,Gi=Object(L["a"])(qi,Bi,Fi,!1,null,null,null),Zi=Gi.exports,Wi=s("00a0"),Yi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalBlockUser",attrs:{id:"ModalBlockUser","modal-class":"block-modal",centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.block_user_label",{USERNAME:e.user.username}))+" ")])]),s("div",{staticClass:"g-input__wrapper b-input-radio__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.actionType,expression:"actionType"}],staticClass:"input_report_reason b-input-radio",attrs:{id:"block_user_popup_input_block",type:"radio",value:"block"},domProps:{checked:e._q(e.actionType,"block")},on:{change:function(t){e.actionType="block"}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"block_user_popup_input_block"}},[e._v(" "+e._s(e.isExpired?e.$t("message.block_user_popup_input_block_expired_label"):e.$t("message.block_user_popup_input_block_label"))+" ")]),s("span",{staticClass:"b-input-radio__label"},[s("span",{staticClass:"b-input-ripple"})])])]),e.showMutedAction?s("div",{staticClass:"g-input__wrapper b-input-radio__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.actionType,expression:"actionType"}],staticClass:"input_report_reason b-input-radio",attrs:{id:"block_user_popup_input_mute",type:"radio",value:"mute"},domProps:{checked:e._q(e.actionType,"mute")},on:{change:function(t){e.actionType="mute"}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"block_user_popup_input_mute"}},[e._v(" "+e._s(e.$t("message.block_user_popup_input_restrict_label"))+" ")]),s("span",{staticClass:"b-input-radio__label"},[s("span",{staticClass:"b-input-ripple"})])])]):e._e(),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(t){return e.$refs.ModalBlockUser.hide()}}},[e._v(" "+e._s(e.$t("message.button_label_cancel"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.disabledSubmit},on:{click:e.submitBlock}},[e._v(" "+e._s(e.$t("message.confirm_button"))+" ")])])],2):e._e()},Xi=[];function Ki(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Qi(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ki(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ji={name:"ModalBlockUser",data:function(){return{show:!1,actionType:null,disabledSubmitBlock:!1}},computed:Qi(Qi(Qi({},Object(y["Ob"])(["modalUser","getUser"])),Object(y["Eb"])(["getSubscriber"])),{},{user:function(){return this.getUser(this.modalUser)},subscriber:function(){return this.getSubscriber(this.modalUser)},disabledSubmit:function(){return!this.actionType||this.disabledSubmitBlock},isExpired:function(){return!!this.subscriber&&(!this.subscriber.renewedAt&&this.subscriber.expiredAt&&+new Date(this.subscriber.expiredAt)-+new Date<=0)},showMutedAction:function(){return null!==this.user.subscribedOn&&null!==this.user.subscribedOnExpiredNow?!this.user.isMuted&&!this.user.isBlocked&&(this.user.subscribedOn||this.user.subscribedOnExpiredNow):!!this.subscriber&&(!this.user.isMuted&&!this.user.isBlocked)}}),watch:{show:function(e){e&&this.setActionType()},user:function(){this.setActionType()}},methods:Qi(Qi(Qi({},Object(y["Nb"])(["toggleMuteUser","toggleBlockUser"])),Object(y["i"])(["fetchChat"])),{},{submitBlock:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.disabledSubmitBlock=!0,this.$refs.ModalBlockUser.hide(),"block"!==this.actionType){e.next=7;break}return e.next=5,this.toggleBlockUser(this.modalUser);case 5:e.next=10;break;case 7:if("mute"!==this.actionType){e.next=10;break}return e.next=10,this.toggleMuteUser(this.modalUser);case 10:if("Chat"!==this.$route.name){e.next=13;break}return e.next=13,this.fetchChat(this.modalUser);case 13:this.disabledSubmitBlock=!1;case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setActionType:function(){this.actionType=this.user.isMuted?"block":null}})},er=Ji,tr=Object(L["a"])(er,Yi,Xi,!1,null,null,null),sr=tr.exports,ir=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalCustomName",attrs:{id:"ModalCustomName","hide-footer":!0,"modal-class":"b-modal__custom-name","body-class":"m-footer-inside-body",centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.title_rename_user"))+" ")])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.doSaveCustomName(t)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"b-post__header"},[s("router-link",{staticClass:"b-post__avatar",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}}}},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:e.user.isOnline,"m-muted-by-me":e.user.isMuted}},[s("payer-rating",{attrs:{user:e.user}}),s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1)]),s("div",{staticClass:"b-username-row m-gap-lg"},[s("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}}}},[s("div",{staticClass:"g-user-name",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])])],1),s("div",{staticClass:"b-username-row"},[s("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}}}},[s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" ")])])],1)],1),s("div",{staticClass:"g-input__wrapper no-padding"},[s("v-text-field",{ref:"inputName",attrs:{label:e.$t("message.custom_user_name_popup_input_placeholder"),autocomplete:!1,"auto-grow":"",maxlength:100,counter:100,outlined:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e.name?s("button",{staticClass:"g-input__clear-btn",attrs:{type:"button"},on:{click:e.clearInput}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]):e._e()],1)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(t){e.show=!1}}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"submit",disabled:e.formDisabled}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])])],2):e._e()},rr=[];function nr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ar(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):nr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var or={name:"ModalCustomName",components:{ImageThumb:Q["a"],PayerRating:ws["a"]},data:function(){return{loading:!1,show:!1,name:"",error:this.$i18n.t("message.maximum_symbols",{VALUE:100})}},computed:ar(ar({},Object(y["Ob"])(["modalUser","getUser"])),{},{user:function(){return this.getUser(this.modalUser)},formDisabled:function(){return!this.user.displayName&&!this.name.length||this.loading}}),watch:{user:function(){this.name=this.user.displayName||""},show:function(){var e=this;this.name=this.user.displayName||"",this.show?setTimeout((function(){e.$refs.inputName&&e.$refs.inputName.focus()}),500):this.error=this.$i18n.t("message.maximum_symbols",{VALUE:100})},$route:function(){this.$refs.ModalCustomName&&this.$refs.ModalCustomName.hide()}},methods:ar(ar({},Object(y["Nb"])(["saveCustomName"])),{},{clearInput:function(){this.name="",this.error=this.$i18n.t("message.maximum_symbols",{VALUE:100})},doSaveCustomName:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.user.id,!this.loading){e.next=3;break}return e.abrupt("return");case 3:return this.loading=!0,e.next=6,this.saveCustomName({id:t,displayName:this.name});case 6:this.show=!1,this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},cr=or,lr=Object(L["a"])(cr,ir,rr,!1,null,null,null),ur=lr.exports,dr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("b-modal",{ref:"ModalPersonalOffer",attrs:{id:"ModalPersonalOffer","hide-footer":!0,centered:"","modal-class":"m-discount","dialog-class":"m-discount-dialog","content-class":"m-discount-content","body-class":"m-footer-inside-body"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.title_promotional_offer"))+" ")]),s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:{content:e.$t("message.discount_popup_tip"),classes:"m-tooltip-higher"},expression:"{ content: $t('message.discount_popup_tip'), classes: 'm-tooltip-higher' }",modifiers:{enabled:!0}}],staticClass:"icon-info"})])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.saveForm(t)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"b-header-userinfo"},[s("div",{staticClass:"g-avatar m-w50 online_status_class",class:{online:e.user.isOnline,"m-muted-by-me":e.user.isMuted}},[s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-username-row m-gap-lg"},[s("router-link",{staticClass:"b-username",attrs:{id:"profileUrl",to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""}},[s("div",{staticClass:"g-user-name m-md-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.displayName||e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])])],1),s("div",{staticClass:"b-username-row"},[s("span",{staticClass:"b-username g-user-realname__wrapper"},[s("router-link",{staticClass:"g-user-realname__wrapper m-nowrap-text",attrs:{to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""}},[e.user.displayName&&e.user.name!==""+e.userLoginPrefix+e.user.id?s("div",{staticClass:"g-user-realname"},[e._v(" "+e._s(e.user.name)+" ")]):e._e(),s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" ")])])],1)])]),e.user.canTrialSend&&e.canGiveDiscount?s("div",{staticClass:"b-tabs-switchers"},[s("ul",{staticClass:"b-tabs__nav m-tabs-marks"},[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"discount"===e.promoType}},[s("button",{staticClass:"b-tabs__nav__link",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.promoType="discount"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-discount"}),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.user_discount_btn_label_short"))+" ")])])]),s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"trial"===e.promoType}},[s("button",{staticClass:"b-tabs__nav__link",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.promoType="trial"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-trial"}),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.free_trial_popup_title"))+" ")])])])])]):e._e(),s("p",{staticClass:"g-input__help",class:{"m-help-promo-offer":e.user.canTrialSend&&e.canGiveDiscount}},[e._v(" "+e._s("trial"===e.promoType?e.$t("message.offer_will_expire_label"):e.$t("message.discount_popup_accepted_desc"))+" ")]),"discount"===e.promoType?s("div",{staticClass:"b-fans__trial__select-wrapper",attrs:{"data-app":""}},[s("div",{staticClass:"b-fans__trial__select-group"},[s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-first-child"},[s("v-select",{attrs:{items:e.calculateDiscountPercents,label:e.$t("message.fans_promotions_trial_percent_label"),outlined:"","hide-details":"false"},model:{value:e.percent,callback:function(t){e.percent=t},expression:"percent"}})],1),s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-last-child"},[s("v-select",{attrs:{items:e.calculateDiscountDuration,label:e.$t("message.subscription_discount_dialog_peroid_label_new"),outlined:"","hide-details":"false"},model:{value:e.period,callback:function(t){e.period=t},expression:"period"}})],1)])]):e._e(),"trial"===e.promoType?s("div",{staticClass:"b-fans__trial__select-wrapper",attrs:{"data-app":""}},[s("div",{staticClass:"b-fans__trial__select-group"},[s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-first-child"},[s("v-select",{attrs:{items:e.maxDurationRange,label:e.$t("message.free_trial_duration_input_label"),outlined:"","hide-details":"false"},model:{value:e.duration,callback:function(t){e.duration=t},expression:"duration"}})],1),s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-last-child"},[s("v-select",{attrs:{items:e.maxExpireRange,label:e.$t("message.fans_promotions_trial_expiration_label_new"),outlined:"","hide-details":"false"},model:{value:e.expire,callback:function(t){e.expire=t},expression:"expire"}})],1)])]):e._e(),s("p",{staticClass:"g-input__help m-last",domProps:{innerHTML:e._s(e.promoSubscriptionDesc)}}),e._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),"discount"===e.promoType?s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.disabled||!e.subscriber||!e.subscriber.discountPercent},on:{click:e.clearDiscount}},[e._v(" "+e._s(e.$t("message.subscription_discount_dialog_clear_button"))+" ")]):e._e(),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"submit",disabled:e.disabled}},[e._v(" "+e._s(e.$t("message.subscription_discount_dialog_apply_button"))+" ")])])])],2):e._e()},hr=[],pr=s("c34b"),mr=s("41e7");function fr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function br(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var vr={name:"PersonalOffer",components:{ImageThumb:Q["a"]},mixins:[mr["a"],ks["c"],mr["b"]],data:function(){return{duration:7,expire:7,message:"",percent:50,finalPercent:100,period:1,disabled:!1}},computed:br(br(br(br({},Object(y["Ob"])(["modalUser","getUser"])),Object(y["Eb"])(["getSubscriber"])),Object(y["eb"])(["userLoginPrefix"])),{},{user:function(){return this.getUser(this.modalUser)},subscriber:function(){return"Chat"===this.$route.name?this.getUser(this.modalUser):this.getSubscriber(this.modalUser)},maxDuration:function(){return this.authUser.trialMaxDays||7},maxDurationRange:function(){var e=[],t=1;while(t<=this.maxDuration)e.push({value:t,text:this.$i18n.tc("message.count_day_plural_new",t,{COUNT:t})}),t+=1;return e},maxExpire:function(){return this.authUser.trialMaxExpiresDays||30},maxExpireRange:function(){var e=[],t=1;while(t<=this.maxExpire)e.push({value:t,text:this.$i18n.tc("message.count_day_plural_new",t,{COUNT:t})}),t+=1;return e},approximatePrice:function(){var e=this.authUser.subscribePrice/100*(100-this.finalPercent);return(e?Math.max(e,3):e).toFixed(2).replace(".00","")},promoSubscriptionDesc:function(){var e="&nbsp;";return"trial"===this.promoType&&(e=this.$i18n.t("message.expired_fans_promotion_desc",{AMOUNT:"0.00",DAYS_COUNT:this.$i18n.tc("message.count_day_plural",this.duration,{COUNT:this.duration})}),e+="<br /> ".concat(this.$i18n.t("message.expired_fans_promotion_prolong_by_choice_desc",{PRICE:this.authUser.subscribePrice}))),"discount"===this.promoType&&this.percent&&(e=this.$i18n.t("message.discount_popup_help",{PRICE:this.priceHuman(this.authUser.subscribePrice*(1-this.percent/100)),PERIOD:1===this.period?this.$i18n.t("message.one_month"):this.$i18n.t("message.months",{COUNT:this.period})})),e},maxDiscountPercent:function(){return this.authUser.subscribePrice?Math.min(Math.round(100*(this.authUser.subscribePrice-3)/this.authUser.subscribePrice),60):0},calculateDiscountPercents:function(){var e=[],t=5;while(t<=this.maxDiscountPercent)e.push({value:t,text:this.$i18n.tc("message.discount_option_label_percent",t,{VALUE:t})}),t+=5;return e},calculateDiscountDuration:function(){var e=[],t=1;while(t<=12)e.push({value:t,text:1===t?this.$i18n.tc("message.one_month"):this.$i18n.tc("message.months",t,{COUNT:t})}),t+=1;return e},canGiveDiscount:function(){return this.authUser.subscribePrice&&this.subscriber}}),watch:{percent:{handler:function(e){this.finalPercent=e,this.duration=100===this.percent?this.duration:this.maxDuration}},subscriber:function(e){e&&(this.percent=Math.min(e.discountPercent||50,this.maxDiscountPercent),this.period=Math.max(1,e.discountPeriod),this.setPromoType(this.promoType))}},mounted:function(){this.$root.$on("bv::set::modal::promoType",this.setPromoType),this.percent=Math.min(this.subscriber&&this.subscriber.discountPercent?this.subscriber.discountPercent:50,this.maxDiscountPercent),this.period=Math.max(1,this.subscriber&&this.subscriber.discountPeriod?this.subscriber.discountPeriod:1)},beforeDestroy:function(){this.$root.$off("bv::set::modal::promoType",this.setPromoType)},methods:br(br(br({},Object(y["Db"])(["putSubscriptionDiscount"])),Object(y["Sb"])(["setUserOffers"])),{},{close:function(){this.$refs.ModalPersonalOffer.hide()},saveForm:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabled){e.next=2;break}return e.abrupt("return");case 2:if(this.disabled=!0,e.prev=3,"discount"!==this.promoType){e.next=9;break}return e.next=7,this.putSubscriptionDiscount({id:this.modalUser,discount:this.percent,period:this.period});case 7:t=e.sent,this.disabled=!1;case 9:if("trial"!==this.promoType){e.next=17;break}return s=[this.modalUser],i=this.expire,r=this.message,e.next=14,Object(pr["h"])({userIds:s,expire:i,days:this.duration,message:r});case 14:t=e.sent,this.disabled=!1,t&&t.length&&("Promotions"===this.$route.name?this.getOffers():"Subscribers"===this.$route.name||"SubscribersByType"===this.$route.name?this.setUserOffers({userId:this.modalUser,offers:t}):this.$router.push({name:"Promotions"}));case 17:t&&this.close(),e.next=25;break;case 20:e.prev=20,e.t0=e["catch"](3),this.disabled=!1,this.close(),Object(de["b"])(e.t0);case 25:case"end":return e.stop()}}),e,this,[[3,20]])})));function t(){return e.apply(this,arguments)}return t}(),setPromoType:function(e){this.user&&(!this.canGiveDiscount&&this.user.canTrialSend?e="trial":this.canGiveDiscount&&!this.user.canTrialSend&&(e="discount")),"discount"===e?(this.duration=100===this.percent?this.duration:this.maxDuration,this.finalPercent=this.percent):(this.duration=7,this.finalPercent=100),this.promoType=e},clearDiscount:function(){this.disabled||(this.percent="",this.period=1,this.saveForm())}})},gr=vr,_r=Object(L["a"])(gr,dr,hr,!1,null,null,null),yr=_r.exports,wr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalPromotion",attrs:{id:"ModalPromotion","hide-footer":!0,centered:"","modal-class":"m-discount","dialog-class":"m-discount-dialog","content-class":"m-discount-content","body-class":"m-footer-inside-body",size:"lg"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.start_promotion_popup_title"))+" ")]),s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:{content:e.$t("message.trial_link_popup_tip"),classes:"m-tooltip-higher"},expression:"{content: $t('message.trial_link_popup_tip'), classes: 'm-tooltip-higher' }",modifiers:{enabled:!0}}],staticClass:"icon-info"})])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.saveForm(t)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"b-tabs-switchers"},[s("ul",{staticClass:"b-tabs__nav m-tabs-marks"},[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"discount"===e.activeTab}},[s("button",{staticClass:"b-tabs__nav__link",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.activeTab="discount"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-discount"}),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.user_discount_btn_label_short"))+" ")])])]),s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"trial"===e.activeTab}},[s("button",{staticClass:"b-tabs__nav__link",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.activeTab="trial"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-trial"}),s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.free_trial_popup_title"))+" ")])])])])]),s("div",{staticClass:"b-fans__trial__select-group"},[s("div",{staticClass:"b-fans__trial__select-item m-w-2-3"},[s("div",{staticClass:"b-fans__trial__select__wrapper"},[s("div",{staticClass:"g-select__wrapper"},[s("v-select",{attrs:{items:e.maxSubscribeCounts,label:e.$t("message.number_of_offers"),outlined:"","hide-details":"false"},model:{value:e.subscribeCounts,callback:function(t){e.subscribeCounts=t},expression:"subscribeCounts"}})],1)])])]),s("div",{staticClass:"promotion-expired-block"},[s("checkbox",{attrs:{label:e.$t("message.apply_to_subscribers_expired"),disabled:e.isNewCheckboxDisabled},model:{value:e.applyToNew,callback:function(t){e.applyToNew=t},expression:"applyToNew"}}),s("checkbox",{staticClass:"m-last",attrs:{label:e.$t("message.apply_to_subscribers_all"),disabled:e.isExpiredCheckboxDisabled},model:{value:e.applyToExpired,callback:function(t){e.applyToExpired=t},expression:"applyToExpired"}}),e.existedWarning.length?s("p",{staticClass:"g-input__help"},[e._v(" "+e._s(e.existedWarning)+" ")]):e._e()],1),s("div",{staticClass:"b-fans__trial__select-wrapper"},["discount"===e.activeTab?s("div",{staticClass:"b-fans__trial__select-group",attrs:{"data-app":""}},[s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-first-child"},[s("v-select",{attrs:{items:e.calculateDiscountPercents,label:e.$t("message.fans_promotions_trial_percent_label"),outlined:"","hide-details":"false"},model:{value:e.percent,callback:function(t){e.percent=t},expression:"percent"}})],1),s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-last-child"},[s("v-select",{attrs:{items:e.maxFinishDays,label:e.$t("message.subscription_discount_dialog_peroid_label_new"),outlined:"","hide-details":"false"},model:{value:e.finishDays,callback:function(t){e.finishDays=t},expression:"finishDays"}})],1)]):e._e(),"trial"===e.activeTab?s("div",{staticClass:"b-fans__trial__select-group",attrs:{"data-app":""}},[s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-first-child"},[s("v-select",{attrs:{items:e.maxDuration,label:"discount"===e.activeTab?e.$t("message.fans_promotions_trial_period_label_new"):e.$t("message.free_trial_duration_input_label"),outlined:"","hide-details":"false"},model:{value:e.duration,callback:function(t){e.duration=t},expression:"duration"}})],1),s("div",{staticClass:"b-fans__trial__select-item m-w-2-2 m-last-child"},[s("v-select",{attrs:{items:e.maxFinishDays,label:e.$t("message.fans_promotions_trial_expiration_label_new"),outlined:"","hide-details":"false"},model:{value:e.finishDays,callback:function(t){e.finishDays=t},expression:"finishDays"}})],1)]):e._e()]),s("p",{staticClass:"g-input__help",domProps:{innerHTML:e._s(e.promoSubscriptionDesc)}}),s("div",{staticClass:"g-input__wrapper m-gap-xs"},[s("v-textarea",{attrs:{label:e.$t("message.label_message_optional"),autocomplete:!1,"auto-grow":"",maxlength:500,counter:500,outlined:"",rows:"1","row-height":"20","no-resize":""},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.button_label_cancel"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"submit",disabled:e.disabledSave}},[e._v(" "+e._s(e.$t("message.button_label_start_campaign"))+" ")])])])],2)},Or=[],Cr=s("76db");function Pr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function xr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var kr={name:"ModalPromotion",components:{Checkbox:Cr["a"]},data:function(){return{subscribeCounts:10,duration:7,message:"",finishDays:7,disabledSave:!1,activeTab:"discount",percentProxy:null,applyToNewProxy:null,applyToExpiredProxy:null,presetsRechargeMin:[{value:1,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$1"})},{value:5,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$5"})},{value:10,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$10"})},{value:20,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$20"})},{value:30,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$30"})},{value:40,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$40"})},{value:50,text:this.$i18n.t("message.wallet_autorecharge_min_value",{VALUE:"$50"})}]}},computed:xr(xr({},Object(y["b"])(["authUser"])),{},{approximatePrice:function(){var e=this.authUser.subscribePrice*(100-this.discount)/100;return e?Math.max(e,3).toFixed(2).replace(".00",""):e.toFixed(2)},isSubscribersExpired:function(){return"SubscribersByType"===this.$route.name&&"expired"===this.$route.params.type},maxDiscountPercent:function(){return Math.min(Math.round(100*(this.authUser.subscribePrice-3)/this.authUser.subscribePrice),100)},maxSubscribeCounts:function(){var e=this,t=[0,1,2,3,4,5,6,7,8,9,10,20,30,40,50,60,70,80,90,100];return t.map((function(t){return{value:t,text:0===t?e.$i18n.t("message.fans_promotions_trial_no_limits"):e.$i18n.tc("message.count_subscriptions_plural",t,{COUNT:t})}}))},maxFinishDays:function(){var e=[],t=0;while(t<=30)e.push({value:t,text:0===t?this.$i18n.tc("message.trial_popup_expire_days_no_limit"):this.$i18n.tc("message.count_day_plural",t,{COUNT:t})}),t+=1;return e},maxDuration:function(){var e=[],t=1;while(t<=30)e.push({value:t,text:this.$i18n.tc("message.count_day_plural",t,{COUNT:t})}),t+=1;return e},calculateDiscountPercents:function(){var e=[],t=5;while(t<=Math.min(this.maxDiscountPercent,95))e.push({value:t,text:this.$i18n.t("message.discount_option_label_percent",{VALUE:t})}),t+=5;return e},promoSubscriptionDesc:function(){var e=this.$i18n.t("message.expired_fans_promotion_desc",{AMOUNT:this.approximatePrice,DAYS_COUNT:this.$i18n.tc("message.count_day_plural",this.subscribeDays,{COUNT:this.subscribeDays})});return 100===this.discount&&(e+="<br/> ".concat(this.$i18n.t("message.expired_fans_promotion_prolong_by_choice_desc",{PRICE:this.authUser.subscribePrice}))),e},promotion:function(){return this.promotionAll||this.promotionExpired},promotionAll:function(){return d()(this,"authUser.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return d()(this,"authUser.promotions",[]).find((function(e){return"expired"===e.type}))},existedWarning:function(){return this.isSubscribersExpired&&this.applyToNew&&this.promotionAll&&this.promotionAll.canClaim||!this.isSubscribersExpired&&this.applyToExpired&&this.promotionExpired&&this.promotionExpired.canClaim?this.$i18n.t("message.promo_replace_all_warning"):""},applyToNew:{get:function(){return null!==this.applyToNewProxy?this.applyToNewProxy:!this.isSubscribersExpired},set:function(e){this.applyToNewProxy=e}},applyToExpired:{get:function(){return null!==this.applyToExpiredProxy?this.applyToExpiredProxy:this.isSubscribersExpired},set:function(e){this.applyToExpiredProxy=e}},percent:{get:function(){return null!==this.percentProxy?this.percentProxy:Math.min(this.maxDiscountPercent,50)},set:function(e){this.percentProxy=e}},subscribeDays:function(){return"trial"===this.activeTab?this.duration:30},discount:function(){return"discount"===this.activeTab?this.percent:100},isNewCheckboxDisabled:function(){return this.applyToNew&&!this.applyToExpired},isExpiredCheckboxDisabled:function(){return this.applyToExpired&&!this.applyToNew}}),watch:{$route:function(){this.applyToNewProxy=null,this.applyToExpiredProxy=null}},methods:xr(xr({},Object(y["Nb"])(["createPromotion"])),{},{close:function(){this.$refs.ModalPromotion&&this.$refs.ModalPromotion.hide()},saveForm:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledSave=!0,t=this.message,s=this.finishDays,i=this.subscribeCounts,r=this.discount,n=this.subscribeDays,a={discount:r,message:t,finishDays:s,subscribeCounts:i,subscribeDays:n,type:[]},this.applyToNew&&a.type.push("all"),this.applyToExpired&&a.type.push("expired"),e.next=7,this.createPromotion(a);case 7:this.disabledSave=!1,this.percent=Math.min(this.maxDiscountPercent,50),this.duration=7,this.subscribeCounts=10,this.finishDays=7,this.message="",this.close();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},Sr=kr,Er=Object(L["a"])(Sr,wr,Or,!1,null,null,null),Tr=Er.exports,Ar=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalCustomList",attrs:{id:"ModalCustomList","hide-footer":!0,"modal-class":"b-modal__custom-list","body-class":"m-footer-inside-body",centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.modalCustomListId?e.$t("message.rename_list"):e.$t("message.create_new_list"))+" ")])]),s("form",{on:{submit:function(t){return t.preventDefault(),e.doSaveCustomList(t)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"g-input__wrapper no-padding"},[s("v-text-field",{ref:"inputName",attrs:{label:e.$t("message.enter_list_name"),autocomplete:!1,"auto-grow":"",maxlength:64,counter:64,outlined:"",clearable:"true"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"submit",disabled:e.formDisabled}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])])],2)},jr=[],$r=s("8975");function Mr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ir(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Lr={name:"ModalCustomList",data:function(){return{loading:!1,show:!1,name:"",error:this.$i18n.t("message.maximum_symbols",{VALUE:64})}},computed:Ir(Ir(Ir({},Object(y["Qb"])(["modalCustomListId","usersLists","getUsersList","needOpenListsModal"])),Object(y["Ob"])(["modalUser"])),{},{listsNames:function(){var e=this;return this.usersLists.map((function(t){return e.getUsersList(t).name}))},formDisabled:function(){var e=this;return!this.name.length||this.loading||void 0!==this.listsNames.find((function(t){return t.toLowerCase().trim()===e.name.toLowerCase().trim()}))||this.modalCustomListId&&this.name.toLowerCase().trim()===this.getUsersList(this.modalCustomListId).name.toLowerCase().trim()}}),watch:{show:function(e,t){var s=this;e?setTimeout((function(){s.$refs.inputName&&s.$refs.inputName.focus()}),500):(this.error=this.$i18n.t("message.maximum_symbols",{VALUE:64}),e!==t&&this.needOpenListsModal&&(this.setNeedOpenListsModal(!1),this.$root.$emit("bv::show::modal","ModalUsersLists")))},modalCustomListId:function(e){var t=this;e&&(this.name=Object($r["b"])(this.getUsersList(e).name),this.$nextTick((function(){t.error=t.$i18n.t("message.maximum_symbols",{VALUE:64})})))},$route:function(){this.setNeedOpenListsModal(!1),this.$refs.ModalCustomList&&this.$refs.ModalCustomList.hide()},name:function(e){void 0!==this.listsNames.find((function(t){return t.toLowerCase().trim()===e.toLowerCase().trim()}))||this.modalCustomListId&&e.toLowerCase().trim()===this.getUsersList(this.modalCustomListId).name.toLowerCase().trim()?this.error=this.$i18n.t("message.user_list_name_already_exists"):this.error=this.$i18n.t("message.maximum_symbols",{VALUE:64})}},methods:Ir(Ir(Ir({},Object(y["Rb"])(["setModalCustomListId","setNeedOpenListsModal"])),Object(y["Pb"])(["addUsersList","updateUsersList","toggleUserInList"])),{},{clearInput:function(){this.name="",this.error=this.$i18n.t("message.maximum_symbols",{VALUE:64})},doSaveCustomList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading){e.next=2;break}return e.abrupt("return");case 2:if(this.loading=!0,!this.modalCustomListId){e.next=8;break}return e.next=6,this.updateUsersList({id:this.modalCustomListId,name:this.name});case 6:e.next=14;break;case 8:return e.next=10,this.addUsersList(this.name);case 10:if(t=e.sent,!(this.needOpenListsModal&&this.modalUser&&t&&t.id)){e.next=14;break}return e.next=14,this.toggleUserInList({listId:t.id,userId:this.modalUser});case 14:this.close(),this.loading=!1;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),close:function(){var e=this;this.show=!1,this.setModalCustomListId(null);try{setTimeout((function(){e.name=""}),350)}catch(t){}}})},Dr=Lr,Rr=Object(L["a"])(Dr,Ar,jr,!1,null,null,null),Ur=Rr.exports,Nr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalUsersLists",attrs:{id:"ModalUsersLists","modal-class":"b-users-lists__modal",centered:"","header-class":"m-border-header","footer-class":"m-border-footer"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.save_to_list"))+" ")]),s("div",{staticClass:"b-fans__filter"},[s("users-lists-sort",{staticClass:"m-position-inline"})],1)]),e.loading&&!e.lists.length?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e(),s("div",{staticClass:"b-users-lists m-native-custom-scrollbar"},e._l(e.lists,(function(t){return s("label",{key:t,staticClass:"b-users-lists__item__label"},[s("input",{staticClass:"b-input-radio m-only-by-class",class:{"m-checked":e.userAdded(t)},attrs:{id:"users-list-"+t,type:"checkbox",disabled:e.disabled},on:{change:function(s){return e.toggleUser(t)}}}),e.user?s("label",{staticClass:"b-input-radio__label",attrs:{for:"users-list-"+t}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})]):e._e(),s("users-list",{attrs:{id:t,"is-modal":!0}})],1)})),0),e.usersLists.length>=e.limit?s("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e(),s("template",{slot:"modal-footer"},[e.authUser.canCreateLists?s("button",{staticClass:"g-btn m-transparent-bg m-uppercase b-users-lists__modal__add-list-btn",attrs:{type:"button"},on:{click:e.addNewList}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add"}),e._v(" "+e._s(e.$t("message.new_list"))+" ")]):e._e(),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.close_button"))+" ")])])],2)},Br=[],Fr=s("e166"),Vr=s.n(Fr),Hr=s("84df"),zr=s("a8fc");function qr(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Gr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):qr(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Zr={name:"ModalUsersLists",components:{UsersList:Hr["a"],InfiniteLoading:Vr.a,SpinnerLoader:Nt["a"],UsersListsSort:zr["a"]},data:function(){return{showSync:!1,limit:P["e"],infiniteId:+new Date,disabled:!1}},computed:Gr(Gr(Gr(Gr({},Object(y["b"])(["authUser"])),Object(y["Ob"])(["modalUser","getUser"])),Object(y["Qb"])(["usersLists","loading","getUsersList"])),{},{user:function(){return this.getUser(this.modalUser)},lists:function(){var e=this;return this.usersLists.filter((function(t){return e.canBeAdded(e.getUsersList(t))}))},show:{get:function(){return this.showSync},set:function(e){this.showSync=e,e&&!this.loading&&(this.getUsersLists(),this.setLoading(!0))}}}),watch:{$route:function(){this.close()}},methods:Gr(Gr(Gr({},Object(y["Pb"])(["fetchUsersLists","saveUsersListsOrder","toggleUserInList","addTopFansToList","addQueueBuyersToList"])),Object(y["Rb"])(["setLoading","setNeedOpenListsModal"])),{},{getUsersLists:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],e.next=3,this.fetchUsersLists({more:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),infiniteHandler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getUsersLists(!0);case 2:s=e.sent,s.length===this.limit?t.loaded():t.complete();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),close:function(){this.show=!1},addNewList:function(){this.close(),this.setNeedOpenListsModal(!0),this.$root.$emit("bv::show::modal","ModalCustomList")},canBeAdded:function(e){return["fans","following"].indexOf(e.type)<0&&!1!==e.canManageUsers&&this.canBeAddedByUser(e)},canBeAddedByUser:function(e){return!this.user||!!this.user.listsStates&&void 0===this.user.listsStates.filter((function(e){return!e.canAddUser&&!e.hasUser})).find((function(t){return Number(t.id)===e.id}))},userAdded:function(e){if(!this.user||!this.user.listsStates)return!1;var t=this.user.listsStates.find((function(t){return Number(t.id)===e}));return t&&t.hasUser},toggleUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabled){e.next=2;break}return e.abrupt("return");case 2:if(this.disabled=!0,this.user){e.next=21;break}if(s=this.$route.params,i=s.year,r=s.month,n=s.queueId,!(i&&r||n)){e.next=19;break}if(window.showPreloader(),!n){e.next=13;break}return e.next=10,this.addQueueBuyersToList({listId:t,queueId:n});case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,this.addTopFansToList({listId:t,year:i,month:r});case 15:e.t0=e.sent;case 16:a=e.t0,window.hidePreloader(),a&&(this.close(),this.$router.push({name:"CustomList",params:{list:t}}));case 19:e.next=26;break;case 21:return e.next=23,this.toggleUserInList({listId:t,userId:this.user.id});case 23:this.disabled=!1,o=this.getUsersList(t),(t===Number(this.$route.params.list)||"MyFriends"===this.$route.name&&"friends"===o.type||"close_friends"===this.$route.params.list&&"close_friends"===o.type||"Bookmarks"===this.$route.name&&"bookmarks"===o.type||"Favorites"===this.$route.name&&"favorites"===o.type)&&this.close();case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},Wr=Zr,Yr=Object(L["a"])(Wr,Nr,Br,!1,null,null,null),Xr=Yr.exports,Kr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ProfileStatModal",attrs:{id:"ProfileStatModal","hide-footer":!0,centered:"","header-class":"m-border-header"}},[s("template",{slot:"modal-header"},["sm"===e.$mq?s("button",{staticClass:"g-page__header__btn",on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-back",staticClass:"icon-back"})]):e._e(),s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.last_period_statistics",{PERIOD:"24h"}))+" ")]),"sm"!==e.$mq?s("button",{staticClass:"b-modal__close m-with-round-hover",on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-close",staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})]):e._e()]),s("div",{staticClass:"b-modal-scrollbar m-native-custom-scrollbar"},[e.loading?s("div",[s("spinner-loader",{staticClass:"text-center"})],1):e._e(),!e.loading&&e.statsData?[e.statsData.isAvailable?e.statsData.hasStats?[s("div",[s("table",{staticClass:"b-table"},[s("thead",[s("tr",[s("th",[e._v(e._s(e.$t("message.top_countries")))]),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.message_guests")))]),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.message_users")))]),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.message_total")))])])]),s("tbody",e._l(e.countries,(function(t){return s("tr",{key:t.countryCode},[s("td",{staticClass:"b-table__first"},[t.countryCode?s("country-flag",{attrs:{country:t.countryCode,size:"sm"===e.$mq?"small":"normal"}}):e._e(),e._v(" "+e._s(t.countryName)+" ")],1),s("td",{staticClass:"b-table__amount text-center",attrs:{"data-title":e.$t("message.message_guests")}},[s("span",[e._v(e._s(t.viewsCount.guests))])]),s("td",{staticClass:"b-table__fee text-center",attrs:{"data-title":e.$t("message.message_users")}},[s("span",[e._v(e._s(t.viewsCount.users))])]),s("td",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_total")}},[s("strong",[s("span",[e._v(e._s(t.viewsCount.total))])])])])})),0),s("tfoot",[s("tr",[s("th",{staticClass:"b-table__first"},[e._v(e._s(e.$t("message.message_total")))]),s("th",{staticClass:"b-table__amount text-center",attrs:{"data-title":e.$t("message.message_guests")}},[s("span",[e._v(e._s(e.countriesTotal.guests))])]),s("th",{staticClass:"b-table__fee text-center",attrs:{"data-title":e.$t("message.message_users")}},[s("span",[e._v(e._s(e.countriesTotal.users))])]),s("th",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_total")}},[s("span",[e._v(e._s(e.countriesTotal.total))])])])])])]),s("div",{staticClass:"mt-3"},[s("table",{staticClass:"b-table"},[s("thead",[s("tr",[s("th",[e._v(e._s(e.$t("message.top_sources")))]),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.message_guests")))]),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.message_users")))]),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.message_total")))])])]),s("tbody",e._l(e.sources,(function(t){return s("tr",{key:t.domain},[s("td",{staticClass:"b-table__first"},[e._v(" "+e._s(t.domain)+" ")]),s("td",{staticClass:"b-table__amount text-center",attrs:{"data-title":e.$t("message.message_guests")}},[s("span",[e._v(e._s(t.viewsCount.guests))])]),s("td",{staticClass:"b-table__fee text-center",attrs:{"data-title":e.$t("message.message_users")}},[s("span",[e._v(e._s(t.viewsCount.users))])]),s("td",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_total")}},[s("strong",[s("span",[e._v(e._s(t.viewsCount.total))])])])])})),0),s("tfoot",[s("tr",[s("th",{staticClass:"b-table__first"},[e._v(e._s(e.$t("message.message_total")))]),s("th",{staticClass:"b-table__amount text-center",attrs:{"data-title":e.$t("message.message_guests")}},[s("span",[e._v(e._s(e.sourcesTotal.guests))])]),s("th",{staticClass:"b-table__fee text-center",attrs:{"data-title":e.$t("message.message_users")}},[s("span",[e._v(e._s(e.sourcesTotal.users))])]),s("th",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_total")}},[s("span",[e._v(e._s(e.sourcesTotal.total))])])])])])]),s("div",{staticClass:"mt-3 mb-1"},[s("table",{staticClass:"b-table"},[s("thead",[s("tr",[s("th",[e._v(e._s(e.$t("message.profile_viewing_duration")))]),s("th"),s("th"),s("th",{staticClass:"text-center"},[e._v(e._s(e.$t("message.duration_title")))])])]),s("tbody",[e._l(e.users,(function(t){return s("tr",{key:t.userId},[s("td",{staticClass:"b-table__first"},[t.userId?s("a",{attrs:{href:"/"+e.userNameHelper(t.user)},on:{click:function(s){return s.preventDefault(),e.goToProfile(t.user)}}},[e._v("@"+e._s(e.userNameHelper(t.user)))]):s("span",[e._v(e._s(e.$t("message.message_others")))])]),s("td"),s("td"),s("td",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.duration_title")}},[s("strong",[s("span",[e._v(e._s(e.durationTotalHelper(t.viewsDurationSeconds.users)))])])])])})),s("tr",[s("td",{staticClass:"b-table__first"},[e._v(e._s(e.$t("message.message_users")))]),s("td"),s("td"),s("td",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_users")}},[s("span",[e._v(e._s(e.durationTotalHelper(e.usersTotal.users)))])])]),s("tr",[s("td",{staticClass:"b-table__first"},[e._v(e._s(e.$t("message.message_guests")))]),s("td"),s("td"),s("td",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_guests")}},[s("span",[e._v(e._s(e.durationTotalHelper(e.usersTotal.guests)))])])])],2),s("tfoot",[s("tr",[s("th",{staticClass:"b-table__first"},[e._v(e._s(e.$t("message.message_total")))]),s("th"),s("th"),s("th",{staticClass:"b-table__net text-center",attrs:{"data-title":e.$t("message.message_total")}},[s("span",[e._v(e._s(e.durationTotalHelper(e.usersTotal.total)))])])])])])])]:s("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("message.profile_stat_no_stats"))+" ")]):s("div",{staticClass:"text-center"},[e._v(" "+e._s(e.$t("message.post_stat_unavailable"))+" ")])]:e._e()],2)],2)},Qr=[],Jr=s("eea2"),en=s("c707"),tn=s.n(en);function sn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function rn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sn(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}Ut()(Lt.a);var nn={name:"ProfileStatModal",components:{CountryFlag:Jr["a"],SpinnerLoader:Nt["a"]},computed:rn(rn({},Object(y["W"])(["statsData","loading","error"])),{},{scrollBar:function(){return X["isMobile"]?"div":"perfect-scrollbar"},sources:function(){return this.statsData&&this.statsData.topDomains?tn()(this.statsData.topDomains.rows,(function(e){return e.rank})):[]},sourcesTotal:function(){return this.statsData&&this.statsData.topDomains?this.statsData.topDomains.totals:{}},countries:function(){return this.statsData&&this.statsData.topCountries?tn()(this.statsData.topCountries.rows,(function(e){return e.rank})):[]},countriesTotal:function(){return this.statsData&&this.statsData.topCountries?this.statsData.topCountries.totals:{}},users:function(){return[]},usersTotal:function(){return this.statsData&&this.statsData.topDurationUsers?this.statsData.topDurationUsers.totals:{}}}),watch:{error:function(){this.error&&this.close()}},mounted:function(){},methods:{close:function(){this.$refs.ProfileStatModal.hide()},goToProfile:function(e){this.close(),this.$router.push({name:"Profile",params:{userId:this.userNameHelper(e)}})},durationTotalHelper:function(e){return e?e/86400>=1?"".concat(Lt.a.duration(e,"seconds").format("HH"),"h"):Lt.a.duration(e,"seconds").format():"00:00"},userNameHelper:function(e){return e.username||e.name||"u"+e.id}}},an=nn,on=(s("2773"),Object(L["a"])(an,Kr,Qr,!1,null,"a631d298",null)),cn=on.exports,ln=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.cardNeedVerify.id?s("b-modal",{ref:"ModalCardVerify",attrs:{id:"ModalCardVerify",size:"sm","hide-footer":!0,"bode-class":"m-footer-inside-body",centered:""},on:{hide:e.onHide},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.card_verify_popup_title"))+" ")])]),s("p",[e._v(" "+e._s(e.$t("message.card_verify_popup_desc",{LAST4:e.cardNeedVerify.last4}))+" ")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.formSubmit(t)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"g-input__wrapper no-padding"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.zip,expression:"zip"}],staticClass:"form-control g-input",attrs:{type:"text",name:"name",placeholder:e.$t("message.card_verify_popup_zip_field"),maxlength:"20"},domProps:{value:e.zip},on:{input:function(t){t.target.composing||(e.zip=t.target.value)}}})]),e.error?s("p",{staticClass:"g-input__help m-danger",domProps:{innerHTML:e._s(e.error)}}):e._e()]),s("div",{staticClass:"modal-footer"},[e.inProgress?s("spinner-loader"):e._e(),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.inProgress},on:{click:e.hide}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"submit",disabled:e.formDisabled}},[e._v(" "+e._s(e.$t("message.send_button"))+" ")])],1)])],2):e._e()},un=[],dn=s("f05e");function hn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function pn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hn(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var mn={name:"CardVerify",components:{SpinnerLoader:Nt["a"]},data:function(){return{error:"",zip:"",show:!1,inProgress:!1}},computed:pn(pn({},Object(y["G"])(["cardNeedVerify"])),{},{formDisabled:function(){return this.inProgress||!this.zip.trim().length}}),mounted:function(){this.$root.$on("bv::modal::hide",this.reset)},beforeDestroy:function(){this.$root.$off("bv::modal::hide",this.reset)},methods:pn(pn(pn({},Object(y["H"])(["setCardNeedVerify"])),Object(y["F"])(["fetchCards"])),{},{reset:function(e){var t=this;"ModalCardVerify"===e.componentId&&(this.error="",this.zip="",setTimeout((function(){t.setCardNeedVerify({})}),350))},formSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.formDisabled){e.next=2;break}return e.abrupt("return");case 2:return this.inProgress=!0,this.error="",e.prev=4,e.next=7,Object(dn["c"])(this.cardNeedVerify.id,this.zip.trim());case 7:t=e.sent,this.inProgress=!1,t&&t.success&&(this.$root.$emit("card::verify::success"),this.$nextTick((function(){r.hide()}))),e.next=18;break;case 12:e.prev=12,e.t0=e["catch"](4),this.inProgress=!1,s=d()(e.t0,"data.error.payload.code"),i=d()(e.t0,"data.error.message"),s?"verification_not_required"===s?(this.$root.$emit("card::verify::success"),this.$nextTick((function(){r.hide()}))):"attempts_limit_reached"===s?("Payments"===this.$route.name&&this.fetchCards(),alert(i||this.$i18n.t("message.debug_alert_message")),this.hide()):i&&(this.error=i):i&&(this.error=i);case 18:case"end":return e.stop()}}),e,this,[[4,12]])})));function t(){return e.apply(this,arguments)}return t}(),hide:function(){this.show=!1},onHide:function(){this.$root.$emit("card::verify::hide")}})},fn=mn,bn=Object(L["a"])(fn,ln,un,!1,null,null,null),vn=bn.exports,gn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.code?s("div",[s("modal-confirm",{attrs:{"modal-show":e.showConfirm,text:e.$t("message.confirm_trial_claim",{NAME:e.performerName,DATE:e.trialFinishDate}),"agree-btn":e.$t("message.yes"),"close-on-cancel":"","close-on-agree":""},on:{"update:modalShow":function(t){e.showConfirm=t},"update:modal-show":function(t){e.showConfirm=t},"on-agree":e.claimTrial,"on-cancel":e.clearData}})],1):e._e()},_n=[];function yn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function wn(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yn(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var On={name:"ClaimTrial",components:{ModalConfirm:hs["a"]},data:function(){return{showConfirm:!1,performerName:"",trialFinishDate:"",code:null,error:null,inProgress:!1,user:{}}},computed:wn(wn({},Object(y["b"])(["authUser","isAuth"])),{},{trialType:function(){return this.$route.params.trialType}}),watch:{"authUser.isEmailChecked":{handler:function(e){e&&"email"===this.error&&(this.user.id&&this.user.id===this.authUser.id?this.setConfirmData():this.checkTrial())},immediate:!0},"authUser.isPaymentCardConnected":{handler:function(e){e&&"card"===this.error&&(this.user.id&&this.user.id===this.authUser.id?this.setConfirmData():this.checkTrial())},immediate:!0},isAuth:{handler:function(e,t){e&&!t&&"user"===this.error&&this.user.id&&this.user.id===this.authUser.id&&this.setConfirmData()},immediate:!0},$route:function(e,t){e&&"Feed"===e.name&&e.params.code&&t&&(this.code=e.params.code,this.claimSubscribeTrial(),this.checkTrial())}},mounted:function(){this.$root.$on("mounted",this.mounted)},beforeDestroy:function(){this.$root.$off("mounted",this.mounted)},methods:wn(wn({},Object(y["Nb"])(["fetchSubscriptionsCount"])),{},{mounted:function(){var e=this.$cookie.get("trial_personal",{domain:".".concat("onlyfans.com")});if(e){var t=JSON.parse(e);if(this.isAuth&&this.authUser.id===t.user.id)return this.code=t.code,this.error=t.error,this.user=t.user,void this.setConfirmData()}this.code=this.$route.params.code||this.$cookie.get("trial_code",{domain:".".concat("onlyfans.com")}),this.code&&("subscribe"===this.trialType?this.claimSubscribeTrial():(this.error=this.$cookie.get("trial_code_error",{domain:".".concat("onlyfans.com")}),this.error||this.checkTrial()))},setConfirmData:function(){if(this.user.name&&this.user.subscribeDays){this.performerName=this.user.name;var e=Lt()().year(),t=Lt()().add(this.user.subscribeDays,"days").year();this.trialFinishDate=Lt()().add(this.user.subscribeDays,"days").format(e===t?"MMM D":"MMM D, YYYY"),this.showConfirm=!0}},claimSubscribeTrial:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("subscribe"===this.trialType||this.user.id&&this.user.id===this.authUser.id)||this.inProgress){e.next=20;break}if(this.authUser.id){e.next=4;break}return this.$router.push("/?return_to=".concat(this.$route.fullPath)),e.abrupt("return");case 4:return e.prev=4,this.$window.showPreloader(),this.inProgress=!0,e.next=9,Object(oe["b"])(this.code);case 9:t=e.sent,this.inProgress=!1,this.fetchSubscriptionsCount(),this.$window.hidePreloader(),d()(t,"user.username")&&(this.$bvToast.toast(this.$i18n.t("message.trial_success_claim_message",{USER_URL:t.user.name,DAYS:t.subscribeDays}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),this.clearData({name:"Profile",params:{userId:t.user.username}})),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](4),this.inProgress=!1,this.errorHandler(e.t0);case 20:case"end":return e.stop()}}),e,this,[[4,16]])})));function t(){return e.apply(this,arguments)}return t}(),checkTrial:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("subscribe"===this.trialType||this.inProgress){e.next=21;break}return this.$window.showPreloader(),e.prev=2,this.inProgress=!0,e.next=6,Object(oe["a"])(this.code);case 6:if(t=e.sent,this.inProgress=!1,this.$window.hidePreloader(),!t){e.next=15;break}if(this.authUser.id){e.next=14;break}return this.setCookie(),this.$router.push("/?return_to=".concat(this.$route.fullPath)),e.abrupt("return");case 14:t.subscribeDays&&t.user&&(this.performerName=t.user.name,s=Lt()().year(),i=Lt()().add(t.subscribeDays,"days").year(),this.trialFinishDate=Lt()().add(t.subscribeDays,"days").format(s===i?"MMM D":"MMM D, YYYY"),this.showConfirm=!0);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](2),this.inProgress=!1,this.errorHandler(e.t0);case 21:case"end":return e.stop()}}),e,this,[[2,17]])})));function t(){return e.apply(this,arguments)}return t}(),claimTrial:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.inProgress){e.next=2;break}return e.abrupt("return");case 2:if(!this.user.id||this.user.id!==this.authUser.id){e.next=5;break}return this.claimSubscribeTrial(),e.abrupt("return");case 5:return this.$window.showPreloader(),e.prev=6,this.inProgress=!0,e.next=10,Object(oe["c"])(this.code);case 10:t=e.sent,this.inProgress=!1,this.fetchSubscriptionsCount(),this.$window.hidePreloader(),t.subscribeDays&&t.user&&(this.$bvToast.toast(this.$i18n.t("message.trial_success_claim_message",{USER_URL:t.user.name,DAYS:t.subscribeDays}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),this.clearData({name:"Profile",params:{userId:t.user.username}})),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](6),this.inProgress=!1,this.errorHandler(e.t0);case 21:case"end":return e.stop()}}),e,this,[[6,17]])})));function t(){return e.apply(this,arguments)}return t}(),setCookie:function(e){"subscribe"!==this.trialType&&(this.$cookie.set("trial_code",this.code,{domain:".".concat("onlyfans.com"),expires:"20m"}),e&&(this.$cookie.set("trial_code_error",e,{domain:".".concat("onlyfans.com"),expires:"20m"}),this.error=e))},setCookiePersonal:function(e){var t=e.error,s=e.user;if("subscribe"===this.trialType){var i={code:this.code};t&&(i.error=t,i.user=s,this.error=t,this.user=s),this.$cookie.set("trial_personal",JSON.stringify(i),{domain:".".concat("onlyfans.com")})}},errorHandler:function(e){this.$window.hidePreloader();var t=d()(e,"data.error.code");103===t?this.$router.push("/?return_to=".concat(this.$route.fullPath)):106===t?(this.setCookie("card"),this.setCookiePersonal({error:"card",user:{id:d()(e,"data.error.payload.offer.subscriber.id"),name:d()(e,"data.error.payload.offer.user.name"),subscribeDays:d()(e,"data.error.payload.offer.subscribeDays")}}),this.$router.push({name:"PaymentsAddCard"})):115===t?(this.setCookie("email"),this.setCookiePersonal({error:"email",user:{id:d()(e,"data.error.payload.offer.subscriber.id"),name:d()(e,"data.error.payload.offer.user.name"),subscribeDays:d()(e,"data.error.payload.offer.subscribeDays")}}),this.$router.push({name:"SettingsEmail"})):116===t?(this.setCookiePersonal({error:"user",user:{id:d()(e,"data.error.payload.offer.subscriber.id"),name:d()(e,"data.error.payload.offer.user.name"),subscribeDays:d()(e,"data.error.payload.offer.subscribeDays")}}),this.$router.push("/")):this.clearData(),Object(de["b"])(e)},clearData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.$cookie.delete("trial_code",{domain:".".concat("onlyfans.com")}),this.$cookie.delete("trial_code_error",{domain:".".concat("onlyfans.com")}),this.$cookie.delete("trial_personal",{domain:".".concat("onlyfans.com")}),this.error=null,this.code=null,this.user={},this.$router.push(t),setTimeout((function(){e.performerName="",e.trialFinishDate=""}),350)}})},Cn=On,Pn=Object(L["a"])(Cn,gn,_n,!1,null,null,null),xn=Pn.exports,kn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"image_editor"},[s("div",{staticClass:"image_editor_holder"},[s("editor-header",{directives:[{name:"show",rawName:"v-show",value:e.showFooter,expression:"showFooter"}],ref:"header",scopedSlots:e._u([{key:"left",fn:function(){return[e.headerComponentLeft?s(e.headerComponentLeft,{tag:"div"}):e._e()]},proxy:!0},{key:"center",fn:function(){return[e.headerComponentCenter?s(e.headerComponentCenter,{tag:"div"}):e._e()]},proxy:!0},{key:"right",fn:function(){return[e.headerComponentRight?s(e.headerComponentRight,{tag:"div"}):e._e()]},proxy:!0}])}),s("editor-main",{ref:"main",attrs:{config:e.$imageEditor.currentFileStage,screen:e.screen,showLongTap:e.longTap&&"default"===e.screen||e.longTap&&"deepAr"===e.screen}}),s("editor-footer",{directives:[{name:"show",rawName:"v-show",value:e.showFooter,expression:"showFooter"}],ref:"footer",attrs:{screen:e.screen}})],1)])},Sn=[],En=(s("3b2b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__header",attrs:{id:"imageEditorHeader"}},[s("div",{staticClass:"b-image-editor__header__wrapper justify-content"},[e._t("tools",[s("div",{staticClass:"default right-default"},[e._t("left")],2),s("div",[e._t("center")],2),s("div",{staticClass:"default left-default"},[e._t("right",[s("button",{staticClass:"g-btn m-rounded done",staticStyle:{"margin-right":"9px"},on:{click:e.done}},[e._v(" Done ")])])],2)])],2)])}),Tn=[],An={name:"ImageEditorHeader",methods:{done:function(){this.$imageEditor.currentFileStage.methods.done()}}},jn=An,$n=(s("3c4c"),Object(L["a"])(jn,En,Tn,!1,null,"2faf86e2",null)),Mn=$n.exports,In=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Crop reset"},on:{click:function(t){return e.resetCrop()}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-crop-reset"})])},Ln=[],Dn={name:"CropLeft",methods:{resetCrop:function(){this.$imageEditor.currentFileStage.methods.resetCrop()}}},Rn=Dn,Un=Object(L["a"])(Rn,In,Ln,!1,null,"65340de9",null),Nn=Un.exports,Bn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"g-btn m-rounded rounded",on:{click:e.changeOrientation}},[e._v(" "+e._s(e.title)+" ")])},Fn=[],Vn={name:"CropCenter",data:function(){return this.$imageEditor.currentFileStage.cropState},computed:{title:function(){var e=this.cropOrientation;return e[0].toUpperCase()+e.slice(1)}},methods:{changeOrientation:function(){var e=this.$imageEditor.currentFileStage.cropState.cropOrientation;this.$imageEditor.currentFileStage.cropState.cropOrientation="portrait"===e?"landscape":"portrait",this.$imageEditor.currentFileStage.methods.setUpCrop()}}},Hn=Vn,zn=Object(L["a"])(Hn,Bn,Fn,!1,null,"b3074bfe",null),qn=zn.exports,Gn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__header__wrapper no-margin-header"},[s("button",{staticClass:"b-image-editor__btn ",staticStyle:{"margin-right":"auto"},attrs:{type:"button",title:"Close"},on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:e.history.undo.length?1:.6},attrs:{disabled:!e.history.undo.length,title:"Undo"},on:{click:function(t){return e.proceedHistory("undo")}}},["undo"!==e.showDisable?s("span",[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-undo"})]):s("div",[s("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-loading",href:"#icon-loading"}},[s("svg",{attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"white",d:"M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"}})])])])])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:e.history.redo.length?1:.6},attrs:{disabled:!e.history.redo.length,title:"Redo"},on:{click:function(t){return e.proceedHistory("redo")}}},["redo"!==e.showDisable?s("span",[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-undo",staticStyle:{transform:"scaleX(-1)"}})]):s("div",[s("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-loading",href:"#icon-loading"}},[s("svg",{attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"white",d:"M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"}})])])])])]),s("modal-confirm",{attrs:{"modal-show":e.showEndingConfirm,title:e.$t("message.confirm_button"),"agree-btn":e.$t("message.yes"),"cancel-btn":e.$t("message.no"),text:e.$t("message.are_you_sure"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.showEndingConfirm=t},"update:modal-show":function(t){e.showEndingConfirm=t},"on-agree":e.end}})],1)},Zn=[],Wn={name:"DefaultLeftSlot",components:{ModalConfirm:hs["a"]},data:function(){return{showDisable:"none",showEndingConfirm:!1,history:{undo:[],redo:[]}}},mounted:function(){var e=this;this.$imageEditor.events.$on("mounted",(function(){e.history=e.$imageEditor.currentFileStage.history})),this.$imageEditor.currentFileStage.history&&(this.history=this.$imageEditor.currentFileStage.history)},methods:{close:function(){this.showEndingConfirm=!0},end:function(){this.showEndingConfirm=!1,this.$imageEditor.currentFileStage.rejectFile()},proceedHistory:Object(vi["throttle"])((function(e){var t=this;this.showDisable=e,this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$imageEditor.currentFileStage.methods.proceedHistory(e);case 2:t.showDisable="none";case 3:case"end":return s.stop()}}),s)}))))}),250)}},Yn=Wn,Xn=(s("053c"),Object(L["a"])(Yn,Gn,Zn,!1,null,null,null)),Kn=Xn.exports,Qn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Face beauty"},on:{click:e.openDeepAr}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-beauty"})]),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Stickers"},on:{click:e.openStickers}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M0 0h24v24H0V0z",fill:"none"}}),s("circle",{attrs:{cx:"15.5",cy:"9.5",r:"1.5",fill:"white"}}),s("circle",{attrs:{fill:"white",cx:"8.5",cy:"9.5",r:"1.5"}}),s("path",{attrs:{fill:"white",d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm4.41-6.11c-.35-.22-.82-.11-1.03.24-.74 1.17-2 1.87-3.38 1.87s-2.64-.7-3.38-1.88c-.22-.35-.68-.46-1.03-.24-.35.22-.46.68-.24 1.03C8.37 16.54 10.1 17.5 12 17.5s3.63-.97 4.65-2.58c.22-.35.11-.81-.24-1.03z"}})])]),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Crop"},on:{click:function(t){return e.changeScreen("crop")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-crop"})]),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Overlay"},on:{click:function(t){return e.changeScreen("overlay")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-overlay"})]),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Text"},on:{click:function(t){return e.changeScreen("text")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text"})]),s("StickersModal",{attrs:{disableGifs:e.disableGifs},on:{selectEmoji:e.addSticker,selectGiphy:e.addGif}})],1)},Jn=[],ea={name:"DefaultRightSlot",components:{StickersModal:function(){return Promise.all([s.e("vendor"),s.e("chunk-927afd44")]).then(s.bind(null,"36e4"))}},data:function(){return{disableGifs:!1}},mounted:function(){var e=this;this.$imageEditor.events.$on("stickerAdded",(function(){e.$root.$emit("bv::hide::modal","StickersModal")})),this.$imageEditor.events.$on("gifAdded",(function(){e.$root.$emit("bv::hide::modal","StickersModal")}))},methods:{changeScreen:function(e){this.$imageEditor.currentFileStage.methods.changeScreen(e)},openStickers:function(){this.disableGifs=this.$imageEditor.currentFileStage.settings.disableGifs,this.$root.$emit("bv::show::modal","StickersModal")},openDeepAr:function(){this.$imageEditor.currentFileStage.methods.startDeepAr()},addSticker:function(e){this.$imageEditor.currentFileStage.methods.addSticker(e)},addGif:function(e){this.$imageEditor.currentFileStage.methods.addGif(e)}}},ta=ea,sa=(s("95c5"),Object(L["a"])(ta,Qn,Jn,!1,null,null,null)),ia=sa.exports,ra=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Overlay reset"},on:{click:function(t){return e.resetOverlay()}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-overlay-reset"})])},na=[],aa={name:"OverlayLeft",methods:{resetOverlay:function(){this.$imageEditor.currentFileStage.methods.resetOverlay()}}},oa=aa,ca=Object(L["a"])(oa,ra,na,!1,null,"740202b0",null),la=ca.exports,ua=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"g-btn m-rounded rounded capitalize",on:{click:e.textBoldSwitch}},[e._v(" "+e._s(e.textBold)+" ")])},da=[],ha={name:"TextCenter",data:function(){return this.$imageEditor.currentFileStage.textState},methods:{textBoldSwitch:function(){this.$imageEditor.currentFileStage.methods.textBoldSwitch()}}},pa=ha,ma=(s("cd68"),Object(L["a"])(pa,ua,da,!1,null,"871fdf28",null)),fa=ma.exports,ba=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",id:"text_align",title:"Text align"},on:{click:function(t){return e.textAlignSwitch()}}},[s("svg",{directives:[{name:"show",rawName:"v-show",value:"center"===e.textAlign,expression:"textAlign === 'center'"},{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-align-center"}),s("svg",{directives:[{name:"show",rawName:"v-show",value:"right"===e.textAlign,expression:"textAlign === 'right'"},{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-align-right"}),s("svg",{directives:[{name:"show",rawName:"v-show",value:"left"===e.textAlign,expression:"textAlign === 'left'"},{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-align-left"})]),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Text background"},on:{click:function(t){return e.textBackgoundSwitch()}}},[s("svg",{directives:[{name:"show",rawName:"v-show",value:this.textBackground,expression:"this.textBackground"},{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text-frame-on",attrs:{id:"text_background_svg_on"}}),s("svg",{directives:[{name:"show",rawName:"v-show",value:!this.textBackground,expression:"!this.textBackground"},{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text-frame-off",attrs:{id:"text_background_svg_off"}})])])},va=[],ga={name:"Text",data:function(){return this.$imageEditor.currentFileStage.textState},methods:{textBackgoundSwitch:function(){this.$imageEditor.currentFileStage.methods.textBackgroundSwitch()},textAlignSwitch:function(){this.$imageEditor.currentFileStage.methods.textAlignSwitch()}}},_a=ga,ya=Object(L["a"])(_a,ba,va,!1,null,"12ff61b4",null),wa=ya.exports,Oa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-left_btns"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Cancel deepAr"},on:{click:function(t){return e.closeStart()}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:e.history.undo.length?1:.6},attrs:{disabled:!e.history.undo.length,title:"Reset"},on:{click:e.resetStart}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-renew"})]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:e.history.undo.length?1:.6},attrs:{disabled:!e.history.undo.length,title:"Undo"},on:{click:function(t){return e.proceedHistory("undo")}}},["undo"!==e.showDisable?s("span",[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-undo"})]):s("div",[s("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-loading",href:"#icon-loading"}},[s("svg",{attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"white",d:"M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"}})])])])])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:e.history.redo.length?1:.6},attrs:{disabled:!e.history.redo.length,title:"Redo"},on:{click:function(t){return e.proceedHistory("redo")}}},["redo"!==e.showDisable?s("span",[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-undo",staticStyle:{transform:"scaleX(-1)"}})]):s("div",[s("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-loading",href:"#icon-loading"}},[s("svg",{attrs:{viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"white",d:"M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"}})])])])])]),s("modal-confirm",{attrs:{"modal-show":e.showEndingConfirmEnd,title:e.$t("message.confirm_button"),"agree-btn":e.$t("message.yes"),"cancel-btn":e.$t("message.no"),text:e.$t("message.are_you_sure"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.showEndingConfirmEnd=t},"update:modal-show":function(t){e.showEndingConfirmEnd=t},"on-agree":e.close}}),s("modal-confirm",{attrs:{"modal-show":e.showEndingConfirmReset,title:e.$t("message.confirm_button"),"agree-btn":e.$t("message.yes"),"cancel-btn":e.$t("message.no"),text:e.$t("message.are_you_sure"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.showEndingConfirmReset=t},"update:modal-show":function(t){e.showEndingConfirmReset=t},"on-agree":e.reset}})],1)},Ca=[],Pa={name:"DeepArLeft",components:{ModalConfirm:hs["a"]},data:function(){return{showDisable:"none",showEndingConfirmEnd:!1,showEndingConfirmReset:!1,history:{undo:[],redo:[]}}},mounted:function(){this.history=this.$imageEditor.currentFileStage.historydeepAr},methods:{resetStart:function(){this.showEndingConfirmReset=!0},reset:function(){this.showEndingConfirmReset=!1,this.$imageEditor.currentFileStage.methods.cancelDeepAr(),this.$imageEditor.currentFileStage.methods.startDeepAr()},closeStart:function(){this.showEndingConfirmEnd=!0},close:function(){this.showEndingConfirmEnd=!1,this.$imageEditor.currentFileStage.methods.cancelDeepAr()},proceedHistory:Object(vi["throttle"])((function(e){var t=this;this.showDisable=e,this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$imageEditor.currentFileStage.methods.proceedHistory(e,"deepAr");case 2:t.showDisable="none";case 3:case"end":return s.stop()}}),s)}))))}),250)}},xa=Pa,ka=(s("669f"),Object(L["a"])(xa,Oa,Ca,!1,null,null,null)),Sa=ka.exports,Ea=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-left_btns"},[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"makeup"===e.category?1:.6},attrs:{type:"button",title:"Makeup"},on:{click:function(t){return e.changeCategory("makeup")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-makeup"})]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"face"===e.category?1:.6},attrs:{type:"button",title:"Face dimensions"},on:{click:function(t){return e.changeCategory("face")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-face"})])])},Ta=[],Aa={name:"DeepArLeft",data:function(){return this.$imageEditor.currentFileStage.deepArSettings},methods:{changeCategory:function(e){this.$imageEditor.currentFileStage.deepArSettings.category=e}}},ja=Aa,$a=(s("7fbd"),Object(L["a"])(ja,Ea,Ta,!1,null,null,null)),Ma=$a.exports,Ia=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"imageContainer",staticClass:"b-image-editor__image-container",attrs:{id:"imageEditorStage"}},[s("div",{staticClass:"b-image-editor__side-column b-image-editor__side-column_left"},[e.leftComponent?s(e.leftComponent,{tag:"div"}):e._e()],1),s("div",{staticClass:"konva_block main_stage"},[e.showPreloader?s("spinner-loader"):e._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showPreloader&&!e.showLongTap,expression:"!showPreloader && !showLongTap"}],attrs:{id:"deepArCanvasPlaceholder"}}),s("v-stage",{directives:[{name:"show",rawName:"v-show",value:e.showMainStage&&!e.showPreloader,expression:"showMainStage && !showPreloader"}],ref:"stage",attrs:{config:e.konvaConfig}}),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showLongTap,expression:"showLongTap"}],staticClass:"image-editor-longTap",style:{height:e.config.height+"px",width:e.config.width+"px",position:this.isLongTapLoaded?"static":"absolute",top:"-999999px"}},[s("img",{staticStyle:{"max-width":"100%","max-height":"100%"},style:{width:e.longTapData.width,height:e.longTapData.height},attrs:{src:e.longTapData.src},on:{load:e.longTapLoaded}})])],1),s("div",{staticClass:"b-image-editor__side-column b-image-editor__side-column_right"},[e.rightComponent?s(e.rightComponent,{tag:"div"}):e._e()],1)])},La=[],Da=s("c483"),Ra=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__side-column-holder"},[s("div",{staticClass:"overlay_color copy_color",class:{active_color:"transparent"===e.leftColor},on:{click:function(t){return e.changeLeftOverlayColor("transparent")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),e._l(e.colors,(function(t,i){var r;return"transparent"!==i?s("div",{staticClass:"overlay_color",class:(r={},r["c-"+i]=!0,r.active_color=e.leftColor===i,r),on:{click:function(t){return e.changeLeftOverlayColor(i)}}}):e._e()}))],2)},Ua=[],Na={name:"OverlayLeft",data:function(){return this.$imageEditor.currentFileStage.overlayState},methods:{transparentOverlayColor:function(e){this.$imageEditor.currentFileStage.methods.transparentOverlayColor(e)},changeLeftOverlayColor:function(e){this.leftColor=e,this.$imageEditor.currentFileStage.methods.setOverlayColors()}}},Ba=Na,Fa=Object(L["a"])(Ba,Ra,Ua,!1,null,"7228072b",null),Va=Fa.exports,Ha=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__side-column-holder"},[e._l(e.reverseColors,(function(t,i){var r;return"transparent"!==i?s("div",{staticClass:"overlay_color",class:(r={},r["c-"+i]=!0,r.active_color=e.rightColor===i,r),on:{click:function(t){return e.changeRightOverlayColor(i)}}}):e._e()})),s("div",{staticClass:"overlay_color copy_color",class:{active_color:"transparent"===e.rightColor},on:{click:function(t){return e.changeRightOverlayColor("transparent")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])],2)},za=[],qa={name:"OverlayRight",data:function(){return this.$imageEditor.currentFileStage.overlayState},computed:{reverseColors:function(){var e=this,t=[],s={};for(var i in this.colors)t.push(i);return t=t.reverse(),t.forEach((function(t){s[t]=e.colors[t]})),s}},methods:{transparentOverlayColor:function(e){this.$imageEditor.currentFileStage.methods.transparentOverlayColor(e)},changeRightOverlayColor:function(e){this.rightColor=e,this.$imageEditor.currentFileStage.methods.setOverlayColors()}}},Ga=qa,Za=Object(L["a"])(Ga,Ha,za,!1,null,"49d05256",null),Wa=Za.exports,Ya=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__side-column-holder"},[s("button",{staticClass:"b-image-editor__btn d-block",attrs:{type:"button",title:"Increase text size"},on:{click:e.increaseTextSize}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text"})]),s("vue-slider",{attrs:{direction:"btt",height:"256px",width:"5px",min:9,max:36},model:{value:e.sizeModel,callback:function(t){e.sizeModel=t},expression:"sizeModel"}}),s("button",{staticClass:"b-image-editor__btn d-block small_icon",attrs:{type:"button",title:"Decrease text size"},on:{click:e.decreaseTextSize}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-text"})])],1)},Xa=[],Ka=s("4971b"),Qa=s.n(Ka),Ja=(s("24df"),{name:"TextLeft",components:{VueSlider:Qa.a},data:function(){return this.$imageEditor.currentFileStage.textState},computed:{sizeModel:{get:function(){return this.currentText?this.currentText.fontSize()*this.$imageEditor.currentFileStage.imageConf.ratio:this.defaultTextFontSize},set:function(e){var t=document.getElementById("textEditArea");if(t){t.style.fontSize="".concat(e,"px");var s=this.$imageEditor.currentFileStage.methods.calcTextAreaParams(t);t.style.width="".concat(s.width,"px"),t.style.height="".concat(s.height,"px"),t.style.left="".concat(s.x,"px"),t.style.top="".concat(s.y,"px")}var i=this.currentLabel.position().x+this.currentLabel.width()/2,r=this.currentLabel.position().y+this.currentLabel.height()/2;this.currentText.fontSize(e/this.$imageEditor.currentFileStage.imageConf.ratio),this.currentLabel.x(i-this.currentLabel.width()/2),this.currentLabel.y(r-this.currentLabel.height()/2),this.$imageEditor.currentFileStage.layer.batchDraw()}}},methods:{transparentOverlayColor:function(e){this.$imageEditor.currentFileStage.methods.transparentOverlayColor(e)},changeLeftOverlayColor:function(e){this.leftColor=e,this.$imageEditor.currentFileStage.methods.setOverlayColors()},decreaseTextSize:function(){},increaseTextSize:function(){}}}),eo=Ja,to=(s("1577"),Object(L["a"])(eo,Ya,Xa,!1,null,null,null)),so=to.exports,io=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__side-column-holder"},e._l(e.reverseColors,(function(t,i){return s("div",{staticClass:"overlay_color",class:"c-"+i,on:{click:function(t){return e.changeTextColor(i)}}},[e.currentTextMenuColor===i?s("div",{staticClass:"active_color"}):e._e()])})),0)},ro=[],no={name:"OverlayLeft",data:function(){return this.$imageEditor.currentFileStage.textState},computed:{reverseColors:function(){var e=this,t=[],s={};for(var i in this.$imageEditor.currentFileStage.overlayState.colors)t.push(i);return t=t.reverse(),t.forEach((function(t){s[t]=e.$imageEditor.currentFileStage.overlayState.colors[t]})),s},currentTextMenuColor:function(){return this.textBackground?this.textBackgroundColor:this.rightTextColor}},methods:{changeTextColor:function(e){this.$imageEditor.currentFileStage.methods.changeTextColor(e)}}},ao=no,oo=Object(L["a"])(ao,io,ro,!1,null,"6598bfa8",null),co=oo.exports,lo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"image-editor-loader"},[s("svg",{staticClass:"g-icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-loading",href:"#icon-loading"}},[s("svg",{attrs:{id:"icon-loading",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"white",d:"M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"}})])])])])},uo=[],ho={name:"SpinnerLoader"},po=ho,mo=(s("0463"),Object(L["a"])(po,lo,uo,!1,null,null,null)),fo=mo.exports,bo=function(){if("text"===this.$imageEditor.currentFileStage.viewState.screen){var e=document.getElementById("textEditArea");if(e){var t=this.$imageEditor.currentFileStage.methods.calcTextAreaParams(e);e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px")}}else this.$imageEditor.currentFileStage.methods.normalizeStageFile(),this.config=this.$imageEditor.currentFileStage.config},vo={overlayLeft:Va,overlayRight:Wa,textLeft:so,textRight:co,SpinnerLoader:fo},go=Object.keys(vo),_o={name:"EditorMain",components:vo,props:{screen:{type:String,default:"default"},showLongTap:{type:Boolean,default:!1}},data:function(){return{konvaConfig:{height:0,width:0},showPreloader:!0,isLongTapLoaded:!1,config:{}}},computed:{leftComponent:function(){var e=this;return go.find((function(t){return new RegExp("".concat(e.screen,"Left")).test(t)}))},rightComponent:function(){var e=this;return go.find((function(t){return new RegExp("".concat(e.screen,"Right")).test(t)}))},showMainStage:function(){return"deepAr"!==this.screen&&(!this.showLongTap||!this.isLongTapLoaded)},longTapData:function(){return!this.showLongTap&&this.$imageEditor.currentFileStage&&this.$imageEditor.currentFileStage.history?{src:"deepAr"!==this.screen?this.$imageEditor.currentFileStage.history.initialImageUrl:this.$imageEditor.currentFileStage.history.currentImageUrl}:this.showLongTap?{width:"deepAr"!==this.screen?"auto":"".concat(this.$imageEditor.currentFileStage.deepArSettings.width,"px"),height:"deepAr"!==this.screen?"auto":"".concat(this.$imageEditor.currentFileStage.deepArSettings.height,"px"),src:"deepAr"!==this.screen?this.$imageEditor.currentFileStage.history.initialImageUrl:this.$imageEditor.currentFileStage.history.currentImageUrl}:{}}},mounted:function(){var e=this;bo=bo.bind(this),window.addEventListener("resize",bo),this.$imageEditor.events.$on("mounted",(function(){e.showPreloader=!1,e.config=e.$imageEditor.currentFileStage.config,Object(Da["a"])(e.$refs.imageContainer)})),this.$imageEditor.events.$on("showPreloader",(function(){e.showPreloader=!0})),this.$imageEditor.events.$on("hidePreloader",(function(){e.showPreloader=!1})),this.$imageEditor.$fileDispatch("setUpStage",{$el:this.$refs.stage,config:this.konvaConfig})},methods:{longTapLoaded:function(){console.log("loaded"),this.isLongTapLoaded=!0}},beforeDestroy:function(){window.removeEventListener("resize",bo)}},yo=_o,wo=(s("7e6d"),Object(L["a"])(yo,Ia,La,!1,null,"e21255ba",null)),Oo=wo.exports,Co=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-image-editor__footer d-flex",class:{"static-bottom":"deepAr"===e.screen},attrs:{id:"imageEditorFooter"}},["default"===e.screen?[e.isSaveAsCopyAllowed?s("button",{staticClass:"g-btn m-rounded save_as_copy",on:{click:function(t){return e.save(!0)}}},[e._v(" SAVE AS COPY ")]):e._e(),s("button",{staticClass:"g-btn m-rounded done",on:{click:function(t){return e.save(!1)}}},[e._v(" SAVE ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.shapeIsDraging,expression:"shapeIsDraging"}],staticClass:"text_delete"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-delete"})])]:[s(e.screen,{tag:"div"})]],2)},Po=[],xo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"max-width"},[s("div",{staticClass:"b-image-editor__crop_slider"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Rotate"},on:{click:e.rotateRightOverlay}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-rotate-right"})]),s("TouchRange",{attrs:{min:-180,max:180},model:{value:e.overlayRotationComputedModel,callback:function(t){e.overlayRotationComputedModel=t},expression:"overlayRotationComputedModel"}}),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Rotate"},on:{click:e.rotateLeftOverlay}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-rotate-left"})])],1),s("div",{staticClass:"b-image-editor__crop_slider"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Opacity"},on:{click:e.decreaseOvelayOpacity}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-opacity-min"})]),s("TouchRange",{attrs:{min:0,max:100},model:{value:e.overlayOpacityComputedModel,callback:function(t){e.overlayOpacityComputedModel=t},expression:"overlayOpacityComputedModel"}}),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Opacity"},on:{click:e.increaseOvelayOpacity}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-opacity-max"})])],1)])},ko=[],So=s("4fce"),Eo=s.n(So),To={name:"OverlayFooter",components:{TouchRange:Eo.a},data:function(){return this.$imageEditor.currentFileStage.overlayState},computed:{overlayRotationComputedModel:{get:function(){return+this.overlayRotation},set:function(e){this.overlayRotation=+e;var t=this.$imageEditor.currentFileStage.methods.getOverlayGradientCoordinates();this.overlayRect.fillLinearGradientStartPoint(t.startPoint),this.overlayRect.fillLinearGradientEndPoint(t.endPoint),this.layer.batchDraw()}},overlayOpacityComputedModel:{get:function(){return 100*this.overlayOpacity},set:function(e){this.overlayReset=0===e,this.overlayOpacity=e/100,this.overlayRect.opacity(this.overlayOpacity),this.layer.batchDraw()}},layer:function(){return this.$imageEditor.currentFileStage.layer}},mounted:function(){var e=this;this.$imageEditor.events.$on("overlayComputedsChange",(function(t){e.overlayRotationComputedModel=t.rotation,e.overlayOpacityComputedModel=t.opacity}))},methods:{rotateRightOverlay:function(){this.overlayRotationComputedModel=this.overlayRotation<=135?this.overlayRotation+45:180},rotateLeftOverlay:function(){this.overlayRotationComputedModel=this.overlayRotation>=-135?this.overlayRotation-45:-180},increaseOvelayOpacity:function(){this.overlayOpacityComputedModel=this.overlayOpacityComputed<=80?this.overlayOpacityComputed+20:100},decreaseOvelayOpacity:function(){this.overlayOpacityComputedModel=this.overlayOpacityComputed>=20?this.overlayOpacityComputed-20:0}}},Ao=To,jo=Object(L["a"])(Ao,xo,ko,!1,null,"7c8ee29b",null),$o=jo.exports,Mo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"max-width"},[s("div",{staticClass:"b-image-editor__crop_preset"},e._l(e.cropRelations,(function(t){return s("button",{staticClass:"b-image-editor__btn",class:{"rotate-90":"portrait"===e.cropOrientation,active:e.cropRelationActive===t[0]*t[1]},attrs:{type:"button",title:e.getRelationTitle(t)},on:{click:function(s){return e.changeCropSize(t[0],t[1])}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:"icon-crop-"+t[1]+"x"+t[0]}),s("span",[e._v(e._s("portrait"===e.cropOrientation?t[0]+":"+t[1]:t[1]+":"+t[0]))])])})),0),s("div",{staticClass:"b-image-editor__crop_slider"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Rotate"},on:{click:e.rotateRightImage}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-rotate-right"})]),s("TouchRange",{attrs:{min:-180,max:180},on:{input:e.countImageRotateCompModel},model:{value:e.imageRotate,callback:function(t){e.imageRotate=t},expression:"imageRotate"}}),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Rotate"},on:{click:e.rotateLeftImage}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-rotate-left"})])],1),s("div",{staticClass:"b-image-editor__crop_slider"},[s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Resize"},on:{click:e.decreaseImageSize}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-size-min"})]),s("TouchRange",{ref:"sizeRange",attrs:{min:e.minImageScale,max:e.maxImageScale,value:e.imageScale},on:{input:e.countImageSizeCompModel},nativeOn:{dblclick:function(t){return e.resetImageScale(t)}}}),s("button",{staticClass:"b-image-editor__btn",attrs:{type:"button",title:"Resize"},on:{click:e.increaseImageSize}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-size-max"})])],1)])},Io=[],Lo={name:"CropFooter",components:{TouchRange:Eo.a},data:function(){return Object.assign(this.$imageEditor.currentFileStage.cropState,{imageScale:0,imageRotate:0})},computed:{image:function(){return this.$imageEditor.currentFileStage.image},layer:function(){return this.$imageEditor.currentFileStage.layer}},mounted:function(){var e=this;this.$imageEditor.events.$on("imageSizeViewChange",(function(t){e.countImageSizeCompModel(t,!0)})),this.$imageEditor.events.$on("imageRotateViewChange",(function(t){e.countImageRotateCompModel(t,!0)}))},methods:{getRelationTitle:function(e){return"portrait"===this.cropOrientation?"".concat(e[0],":").concat(e[1]):"".concat(e[1],":").concat(e[0])},changeCropSize:function(e,t){this.$imageEditor.currentFileStage.methods.setUpCrop(e,t)},rotateRightImage:function(){this.countImageRotateCompModel(+this.image.rotation()<=90?+this.image.rotation()+90:180)},rotateLeftImage:function(){this.countImageRotateCompModel(+this.image.rotation()<=-90?-180:+this.image.rotation()-90)},increaseImageSize:function(){this.countImageSizeCompModel(this.imageScale<=this.maxImageScale-25?this.imageScale+25:this.maxImageScale)},decreaseImageSize:function(){this.countImageSizeCompModel(this.imageScale>=this.minImageScale+25?this.imageScale-25:this.minImageScale)},resetImageScale:function(){this.countImageSizeCompModel(100)},countImageSizeCompModel:function(e,t){t||this.$imageEditor.events.$emit("imageSizeStateChange",e),this.$set(this,"imageScale",+e),this.$forceUpdate()},countImageRotateCompModel:function(e,t){t||this.$imageEditor.events.$emit("imageRotateStateChange",e),this.$set(this,"imageRotate",+e),this.$forceUpdate()}}},Do=Lo,Ro=Object(L["a"])(Do,Mo,Io,!1,null,"389919e7",null),Uo=Ro.exports,No=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-footer-btns"},[s(e.comp,{tag:"div"})],1)},Bo=[],Fo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-control-panel"},[s("face",{on:{makeup:e.changeMakeupDeepAr,makeupVector:e.implementColor}})],1)},Vo=[],Ho=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-makeup"},[s("div",{staticClass:"deepAr-range"},["smooth"===e.makeupsub?[s("TouchRange",{attrs:{min:0,max:2},on:{mouseup:function(t){return e.changeMakeup(t,t.from)},input:e.changeMakeup},model:{value:e.$imageEditor.currentFileStage.deepArSettings.face_makeup[e.activeMakeup],callback:function(t){e.$set(e.$imageEditor.currentFileStage.deepArSettings.face_makeup,e.activeMakeup,t)},expression:"$imageEditor.currentFileStage.deepArSettings.face_makeup[activeMakeup]"}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",on:{click:function(t){return e.changeMakeup({value:0},e.$imageEditor.currentFileStage.deepArSettings.face_makeup[e.activeMakeup])}}})]:e.foundationIndex>=0?[s("TouchRange",{attrs:{min:0,max:.4},on:{mouseup:function(t){return e.changeFoundationLuma(t,t.from)},input:e.changeFoundationLuma},model:{value:e.$imageEditor.currentFileStage.deepArSettings.foundationColorsMapStates[""+e.foundation+e.foundationColorsMap[e.foundation][e.foundationIndex]],callback:function(t){e.$set(e.$imageEditor.currentFileStage.deepArSettings.foundationColorsMapStates,""+e.foundation+e.foundationColorsMap[e.foundation][e.foundationIndex],t)},expression:"$imageEditor.currentFileStage.deepArSettings.foundationColorsMapStates[`${foundation}${foundationColorsMap[foundation][foundationIndex]}`]"}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",on:{click:function(t){return e.changeFoundationLuma({value:0},e.$imageEditor.currentFileStage.deepArSettings.foundationColorsMapStates[""+e.foundation+e.foundationColorsMap[e.foundation][e.foundationIndex]])}}})]:e._e()],2),"foundation"===e.makeupsub&&e.foundation?s("div",{staticClass:"deepAr-control-btns deepAr-color-thumbs"},e._l(e.foundationColorsMap[e.foundation],(function(t,i){return s("button",{staticClass:"b-image-editor__btn",style:{"border-color":e.foundationIndex===i?"white":"black"},attrs:{type:"button",title:"Face dimensions"},on:{click:function(t){return e.changeFoundationColor(i,!0)}}},[s("div",{staticClass:"deepAr-color-thumb",style:{"background-color":"rgba("+t.join(",")+")"}})])})),0):e._e(),s("div",{staticClass:"deepAr-control-btns"},["smooth"!==e.makeupsub?s("default-back",{on:{back:e.goBack}}):e._e(),s("div",{staticClass:"deepAr-control-btns"},["smooth"===e.makeupsub?[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"smooth"===e.makeupsub?1:.6},attrs:{type:"button",title:"Smooth"},on:{click:function(t){return e.changeCategory("smooth")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-smooth"}),s("span",[e._v(" Smooth ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"foundation"===e.makeupsub?1:.6},attrs:{type:"button",title:"Foundation"},on:{click:function(t){return e.changeCategory("foundation")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-face"}),s("span",[e._v(" Foundation ")])])]:[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"light"===e.foundation?1:.6},attrs:{type:"button",title:"Light"},on:{click:function(t){return e.changeFoundation("light")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"light",staticClass:"icon-color-light"}),s("span",[e._v(" Light ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"medium"===e.foundation?1:.6},attrs:{type:"button",title:"Medium"},on:{click:function(t){return e.changeFoundation("medium")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"medium",staticClass:"icon-color-medium"}),s("span",[e._v(" Medium ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"dark"===e.foundation?1:.6},attrs:{type:"button",title:"Dark"},on:{click:function(t){return e.changeFoundation("dark")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-color-dark"}),s("span",[e._v(" Dark ")])])]],2)],1)])},zo=[],qo=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{ref:"ff",attrs:{type:"range",step:e.step,min:e.min,max:e.max,disabled:e.disabled},domProps:{value:e.value},on:{input:function(t){return e.emit(t.target.value)},mouseup:function(t){return e.mouseUp(t.target.value)},mousedown:function(t){return e.start(t.target.value)},touchmove:e.touchmove,touchstart:e.touchmove}})},Go=[],Zo={name:"TouchRange",props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:1},step:{type:[Number,String],default:"any"},disabled:{type:Boolean,default:!1}},data:function(){return{startFrom:0}},computed:{range:function(){return this.max-this.min}},methods:{emit:function(e){this.$emit("input",{value:Number(e),from:+this.startFrom})},mouseUp:function(e){this.$emit("mouseup",{value:+e,from:+this.startFrom})},start:function(e){this.startFrom=e},touchmove:function(e){e.preventDefault();var t=e.target.clientWidth,s=Math.max(0,Math.min(t,e.touches[0].pageX-e.target.offsetLeft))/t;this.emit(s*this.range+this.min)}}},Wo=Zo,Yo=Object(L["a"])(Wo,qo,Go,!1,null,null,null),Xo=Yo.exports,Ko=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"b-image-editor__btn",staticStyle:{opacity:"0.6"},attrs:{type:"button",title:"Back"},on:{click:e.sendBack}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-back"}),s("span",[e._v(" Return ")])])},Qo=[],Jo={methods:{sendBack:function(){this.$emit("back")}}},ec=Jo,tc=Object(L["a"])(ec,Ko,Qo,!1,null,null,null),sc=tc.exports,ic={smooth:"smoothingAmount"},rc={name:"Face",components:{TouchRange:Xo,defaultBack:sc},data:function(){return this.$imageEditor.currentFileStage.deepArSettings},mounted:function(){var e=this;this.$imageEditor.events.$on("deepArRerender",(function(){e.$forceUpdate()}))},computed:{activeMakeup:function(){return ic[this.makeupsub]}},methods:{changeMakeup:function(e,t){this.$imageEditor.currentFileStage.deepArSettings.face_makeup[this.activeMakeup]=+e.value,this.$emit("makeup",{value:e.value,path:ic[this.makeupsub],log:t,makeupsub:this.makeupsub})},changeCategory:function(e){this.makeupsub=e,this.foundationIndex=-1},changeFoundation:function(e){this.foundation=e,this.changeFoundationColor(-1)},changeFoundationLuma:function(e,t){this.$imageEditor.currentFileStage.deepArSettings.foundationColorsMapStates["".concat(this.foundation).concat(this.foundationColorsMap[this.foundation][this.foundationIndex].join(","))]=+e.value,this.$emit("makeup",{value:e.value,path:"foundationLumaClamp",index:this.foundationIndex,makeupsub:this.makeupsub,foundation:this.foundation}),this.$emit("makeupVector",{data:{colors:{r:this.foundationColorsMap[this.foundation][this.foundationIndex][0],g:this.foundationColorsMap[this.foundation][this.foundationIndex][1],b:this.foundationColorsMap[this.foundation][this.foundationIndex][2]},opacity:1},path:"foundationColor",node:"face_makeup",log:t,oldLumaValue:"number"===typeof t?+t:0,index:this.foundationIndex,shouldSaveIndex:+e.from,makeupsub:this.makeupsub,foundation:this.foundation,lumaValue:e.value}),this.$forceUpdate()},changeFoundationColor:function(e,t){if(this.foundationIndex=e,-1!==e){var s=this.$imageEditor.currentFileStage.deepArSettings.foundationColorsMapStates["".concat(this.foundation).concat(this.foundationColorsMap[this.foundation][e].join(","))];+s?this.changeFoundationLuma({value:s},t):this.changeFoundationLuma({value:.2},t)}},goBack:function(){"foundation"===this.makeupsub?this.makeupsub="smooth":this.$emit("back")}}},nc=rc,ac=(s("44d7"),Object(L["a"])(nc,Ho,zo,!1,null,null,null)),oc=ac.exports,cc={name:"DeepArMakeup",components:{Face:oc},data:function(){return{previousState:{}}},methods:{implementColor:function(e){var t=e.node,s=e.path,i=e.data,r=e.log,n=e.index,a=e.makeupsub,o=e.foundation,c=e.lumaValue,l=e.oldLumaValue,u=e.shouldSaveIndex,d=[t,"MeshRenderer",s,i.colors.r/100,i.colors.g/100,i.colors.b/100,i.opacity-.01],h={index:n,foundation:o,category:"makeup",subcategory:a,shouldSaveIndex:u};this.$imageEditor.currentFileStage.deepAr.changeParameterVector.apply(null,d),"undefined"!==typeof r&&this.$imageEditor.currentFileStage.historydeepAr.push("deepAr","vector",{to:d,toState:h,fromState:Object.keys(this.previousState).length>0?this.previousState:h,lumaValue:c,oldLumaValue:l}),this.previousState=h},changeMakeupDeepAr:function(e){var t=["face_makeup","MeshRenderer",e.path,+e.value];if(this.$imageEditor.currentFileStage.deepAr.changeParameter.apply(null,t),"number"===typeof e.log&&"foundation"!==e.makeupsub){var s=["face_makeup","MeshRenderer",e.path,+e.log];this.$imageEditor.currentFileStage.historydeepAr.push("deepAr","parameter",{to:t,from:s,category:"makeup",subcategory:e.makeupsub,foundation:e.foundation,index:e.index})}}}},lc=cc,uc=(s("c618"),Object(L["a"])(lc,Fo,Vo,!1,null,null,null)),dc=uc.exports,hc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-control-panel"},[e.activeBeauty?s("div",{staticClass:"deepAr-range"},[s("TouchRange",{attrs:{min:-100,max:100},on:{input:e.changeBeautyDeepAr,mouseup:function(t){return e.changeBeautyDeepAr(t,t.from)}},model:{value:e.$imageEditor.currentFileStage.deepArSettings.beauty_shapes[e.activeBeauty],callback:function(t){e.$set(e.$imageEditor.currentFileStage.deepArSettings.beauty_shapes,e.activeBeauty,t)},expression:"$imageEditor.currentFileStage.deepArSettings.beauty_shapes[activeBeauty]"}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",on:{click:function(t){return e.changeBeautyDeepAr(0,e.$imageEditor.currentFileStage.deepArSettings.beauty_shapes[e.activeBeauty])}}})],1):e._e(),e.haveNoSubs?[s("div",{staticClass:"deepAr-control-btns"},[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"face"===e.facesub?1:.6},attrs:{type:"button",title:"Face dimensions"},on:{click:function(t){return e.changeCategory("face")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-face"}),s("span",[e._v(" Face ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"eyes"===e.facesub?1:.6},attrs:{type:"button",title:"Face dimensions"},on:{click:function(t){return e.changeCategory("eyes")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-eye"}),s("span",[e._v(" Eyes ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"nose"===e.facesub?1:.6},attrs:{type:"button",title:"Face dimensions"},on:{click:function(t){return e.changeCategory("nose")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-nose"}),s("span",[e._v(" Nose ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"eyebrows"===e.facesub?1:.6},attrs:{type:"button",title:"Makeup"},on:{click:function(t){return e.changeCategory("eyebrows")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-eyebrows"}),s("span",[e._v(" Eyebrows ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"lips"===e.facesub?1:.6},attrs:{type:"button",title:"Makeup"},on:{click:function(t){return e.changeCategory("lips")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-lips"}),s("span",[e._v(" Lips ")])])])]:[s("div",{staticClass:"deepAr-control-panel-flex"},[s("default-back",{on:{back:function(t){e.facesub=!1}}}),s(e.facesub,{tag:"div",staticClass:"deepAr-control-btns",on:{category:function(t){e.facesubsub=t}}})],1)]],2)},pc=[],mc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"height"===e.facesubsub?1:.6},attrs:{type:"button",title:"Height"},on:{click:function(t){return e.changeCategory("height")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-height"}),s("span",[e._v(" Height ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"width"===e.facesubsub?1:.6},attrs:{type:"button",title:"Weight"},on:{click:function(t){return e.changeCategory("width")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-width"}),s("span",[e._v(" Weight ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"jawline"===e.facesubsub?1:.6},attrs:{type:"button",title:"Jawline"},on:{click:function(t){return e.changeCategory("jawline")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-jawline"}),s("span",[e._v(" Jawline ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"chin"===e.facesubsub?1:.6},attrs:{type:"button",title:"Chin"},on:{click:function(t){return e.changeCategory("chin")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-chin"}),s("span",[e._v(" Chin ")])])])},fc=[],bc={name:"Face",data:function(){return this.$imageEditor.currentFileStage.deepArSettings},mounted:function(){this.changeCategory("height")},methods:{changeCategory:function(e){this.facesubsub=e,this.$emit("category",e)}}},vc=bc,gc=Object(L["a"])(vc,mc,fc,!1,null,"0844bd94",null),_c=gc.exports,yc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-left_btns"},[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"position"===e.facesubsub?1:.6},attrs:{type:"button",title:"Position"},on:{click:function(t){return e.changeCategory("position")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-height"}),s("span",[e._v(" Position ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"thick"===e.facesubsub?1:.6},attrs:{type:"button",title:"Thickness"},on:{click:function(t){return e.changeCategory("thick")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-thickness"}),s("span",[e._v(" Thickness ")])])])},wc=[],Oc={name:"Eyebrows",data:function(){return this.$imageEditor.currentFileStage.deepArSettings},mounted:function(){this.changeCategory("position")},methods:{changeCategory:function(e){this.facesubsub=e,this.$emit("category",e)}}},Cc=Oc,Pc=Object(L["a"])(Cc,yc,wc,!1,null,"d231cbec",null),xc=Pc.exports,kc=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"deepAr-left_btns"},[s("button",{staticClass:"b-image-editor__btn",style:{opacity:"position"===e.facesubsub?1:.6},attrs:{type:"button",title:"Position"},on:{click:function(t){return e.changeCategory("position")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-height"}),s("span",[e._v(" Position ")])]),s("button",{staticClass:"b-image-editor__btn",style:{opacity:"thick"===e.facesubsub?1:.6},attrs:{type:"button",title:"Thickness"},on:{click:function(t){return e.changeCategory("thick")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-thickness"}),s("span",[e._v(" Thickness ")])])])},Sc=[],Ec={name:"Lips",data:function(){return this.$imageEditor.currentFileStage.deepArSettings},mounted:function(){this.changeCategory("position")},methods:{changeCategory:function(e){this.facesubsub=e,this.$emit("category",e)}}},Tc=Ec,Ac=Object(L["a"])(Tc,kc,Sc,!1,null,"b923dd6c",null),jc=Ac.exports,$c={faceheight:!0,facewidth:!0,facejawline:!0,facechin:!0,nosefalse:!0,eyebrowsposition:!0,eyebrowsthick:!0},Mc={faceheight:"upper_position_alt",facewidth:"thin",facejawline:"jawline",facechin:"chin",eyesfalse:"eyes",nosefalse:"nose",eyebrowsposition:"eyebrows_position",eyebrowsthick:"eyebrows_thickness",lipsposition:"mouth",lipsthick:"mouth_vertical"},Ic={name:"DeepArFace",components:{Face:_c,Eyebrows:xc,Lips:jc,defaultBack:sc,TouchRange:Xo},data:function(){return this.$imageEditor.currentFileStage.deepArSettings},computed:{activeBeauty:function(){return Mc["".concat(this.facesub).concat(this.facesubsub)]||!1},shouldReverse:function(){return $c["".concat(this.facesub).concat(this.facesubsub)]||!1},haveNoSubs:function(){return!this.facesub||this.facesub&&this.activeBeauty&&!this.facesubsub}},methods:{changeCategory:function(e){this.facesub=e,this.facesubsub=!1},changeBeautyDeepAr:function(e,t){if(this.$imageEditor.currentFileStage.deepAr){var s=this.shouldReverse?-1*+e.value:+e.value,i=["beauty_shapes","MeshRenderer","blendShape1.".concat(this.activeBeauty),+s];if(this.$imageEditor.currentFileStage.deepArSettings.beauty_shapes[this.activeBeauty]=+e.value,this.$imageEditor.currentFileStage.deepAr.changeParameter.apply(null,i),"number"===typeof t){var r=["beauty_shapes","MeshRenderer","blendShape1.".concat(this.activeBeauty),this.shouldReverse?-1*+t:+t];this.$imageEditor.currentFileStage.historydeepAr.push("deepAr","parameter",{to:i,from:r,category:"face",subcategory:this.facesub,subsubcategory:this.facesubsub,shouldReverse:this.shouldReverse})}}}}},Lc=Ic,Dc=Object(L["a"])(Lc,hc,pc,!1,null,null,null),Rc=Dc.exports,Uc={name:"DeepArFooter",components:{Makeup:dc,Face:Rc},data:function(){return this.$imageEditor.currentFileStage.deepArSettings},computed:{comp:function(){return this.category||"makeup"}}},Nc=Uc,Bc=(s("c37b"),Object(L["a"])(Nc,No,Bo,!1,null,null,null)),Fc=Bc.exports,Vc={name:"EditorFooter",components:{overlay:$o,crop:Uo,deepAr:Fc},props:{screen:{type:String,default:"default"}},data:function(){return{shapeIsDraging:!1,isSaveAsCopyAllowed:!0}},mounted:function(){var e=this;this.$imageEditor.events.$on("shapeDragging",(function(t){e.shapeIsDraging=t})),this.$imageEditor.events.$on("saveAsCopyPermToggle",(function(t){e.isSaveAsCopyAllowed=t})),this.isSaveAsCopyAllowed=this.$imageEditor.currentFileStage.settings.saveAsCopy},methods:{save:function(e){this.$imageEditor.currentFileStage.sendFile(e)}}},Hc=Vc,zc=(s("27d1"),Object(L["a"])(Hc,Co,Po,!1,null,"ba0c98a6",null)),qc=zc.exports;function Gc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Zc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Gc(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Wc={cropLeftEditorHeader:Nn,cropCenterEditorHeader:qn,defaultLeftEditorHeader:Kn,defaultRightEditorHeader:ia,overlayLeftEditorHeader:la,textLeftEditorHeader:wa,textCenterEditorHeader:fa,deepArLeftEditorHeader:Sa,deepArCenterEditorHeader:Ma},Yc=Object.keys(Wc),Xc={components:Zc(Zc({editorHeader:Mn},Wc),{},{editorMain:Oo,editorFooter:qc}),data:function(){return{screen:"default",longTap:!1,showFooter:!0}},computed:{headerComponentLeft:function(){var e=this;return Yc.find((function(t){return new RegExp("^".concat(e.screen,"Left")).test(t)}))},headerComponentCenter:function(){var e=this;return Yc.find((function(t){return new RegExp("^".concat(e.screen,"Center")).test(t)}))},headerComponentRight:function(){var e=this;return Yc.find((function(t){return new RegExp("^".concat(e.screen,"Right")).test(t)}))}},mounted:function(){var e=this;this.$imageEditor.events.$on("mounted",(function(){e.$imageEditor.currentFileStage.viewState=e._data})),this.$imageEditor.events.$on("showPreloader",(function(){e.showFooter=!1})),this.$imageEditor.events.$on("hidePreloader",(function(){e.showFooter=!0}))},updated:function(){this.$imageEditor.currentFileStage.methods.normalizeStageFile()},errorCaptured:function(e){return this.$imageEditor.currentFileStage.logError(e),!1}},Kc=Xc,Qc=(s("835c"),Object(L["a"])(Kc,kn,Sn,!1,null,null,null)),Jc=Qc.exports,el=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pswp",attrs:{tabIndex:"-1",role:"dialog","aria-hidden":"true"}},[e.showGoToBtn&&e.postId?s("button",{staticClass:"g-btn m-rounded m-goto-post",attrs:{type:"button"},on:{click:e.goToPost}},[e._v(" "+e._s(e.$t("message.go_to_post"))+" ")]):e._e(),s("div",{staticClass:"pswp__bg"}),s("div",{staticClass:"pswp__scroll-wrap"},[s("div",{ref:"pswpContainer",staticClass:"pswp__container"},[s("div",{staticClass:"pswp__item"}),s("div",{staticClass:"pswp__item"}),s("div",{staticClass:"pswp__item"})]),s("div",{staticClass:"pswp__ui pswp__ui--hidden"},[s("button",{staticClass:"pswp__button pswp__button--arrow--left"},[s("span",{staticClass:"b-swiper-button-icon m-pointer-disabled"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})])]),s("button",{staticClass:"pswp__button pswp__button--arrow--right"},[s("span",{staticClass:"b-swiper-button-icon m-pointer-disabled"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})])]),s("div",{staticClass:"pswp__top-bar"},[s("div",{staticClass:"pswp__counter"}),s("button",{staticClass:"pswp__button pswp__button--close"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-pointer-disabled"}})])])])])])},tl=[],sl=s("14fd"),il=s.n(sl),rl=s("b24f"),nl=s.n(rl),al=s("f0e2"),ol=s("9957");s("343a"),s("3fb5");function cl(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ll(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cl(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}al["default"].log.level("off");var ul={name:"VPhotoswipe",data:function(){return{events:["beforeChange","afterChange","imageLoadComplete","resize","gettingData","mouseUsed","initialZoomIn","initialZoomInEnd","initialZoomOut","initialZoomOutEnd","parseVerticalMargin","close","unbindEvents","destroy","updateScrollOffset","preventDragEvent","shareLinkClick","imgLoadError"],defaultOptions:{index:0,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,preloaderEl:!1,bgOpacity:.4,history:!1,timeToIdle:0,timeToIdleOutside:0,tapToToggleControls:!1,tapToClose:!0,errorMsg:'<div class="pswp__error-msg">'.concat(this.$i18n.t("message.image_load_error"),"</div>"),barsSize:{top:0,bottom:"auto"}},currentIndex:0,getItems:[],pswp:null,player:null,video:null,playPromise:null,postId:void 0}},computed:ll(ll(ll(ll(ll(ll({},Object(y["M"])(["items","options","isOpen","className"])),Object(y["Z"])(["route"])),Object(y["Ob"])(["getUser"])),Object(y["T"])(["getPost"])),Object(y["b"])(["authUser"])),{},{showGoToBtn:function(){var e=this.$route,t=e.name,s=e.params.postType,i="ProfileInner"===t&&("videos"===s||"photos"===s),r="MediaVault"===t,n=!("Profile"!==t||!this.items.length)&&this.items[0].showBtn;return!!(i||r||n)}}),watch:{items:{handler:function(e,t){Re()(e,t)||this.updateItems(e,t)},deep:!0},getItems:{handler:function(e,t){Re()(e,t)||this&&this.pswp&&this.isOpen&&(this.pswp.invalidateCurrItems(),this.pswp.updateSize(!0))},deep:!0},isOpen:function(e){e?this.openPhotoSwipe():this.close()},route:{handler:function(e){e&&e.to&&this.isOpen&&this.close()}}},mounted:function(){this.updateItems(),this.isOpen&&this.openPhotoSwipe(),this.$on("afterChange",this.beforeChange)},beforeDestroy:function(){this.close(),this.$off("afterChange",this.beforeChange)},methods:ll(ll({},Object(y["L"])(["setOpen"])),{},{goToPost:function(){var e=this.$route,t=e.name,s=(e.params.postType,"MediaVault"===t),i=this.postId;if(s){var r=this.authUser.username;this.$router.push({name:"Post",params:{postId:i,userId:r}})}else{var n=this.getPost(i);if(n.length){var a=this.getUser(n[0].author),o=a?a.username:void 0;this.$router.push({name:"Post",params:{postId:i,userId:o}})}}},openPhotoSwipe:function(){var e=this;window.disableBodyScroll(!0);var t=this.$el;this.pswp=new nl.a(t,il.a,this.getItems,Object.assign(this.defaultOptions,this.options)),this.events.forEach((function(t){e.pswp.listen(t,(function(){for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];if("preventDragEvent"===t&&e.player){var n=i[0],a=n.target,o=e.player.el();o&&o.contains(a)&&(i[2].prevent=!1)}i.unshift(e),e.$emit(t,[].concat(i))}))})),this.pswp.listen("gettingData",(function(t,s){if(s.src&&(!s.w||!s.h)){var i=new Image;i.onload=function(){s.w=i.width,s.h=i.height,e.pswp.invalidateCurrItems(),e.pswp.updateSize(!0)},i.src=s.src}})),this.pswp.init(),this.pswp.container.addEventListener("pointerdown",this.preventSwipe,{passive:!1}),this.pswp.container.addEventListener("MSPointerDown",this.preventSwipe,{passive:!1}),this.pswp.container.addEventListener("touchstart",this.preventSwipe,{passive:!1}),this.pswp.container.addEventListener("mousedown",this.preventSwipe,{passive:!1})},preventSwipe:function(e){("vjs-control-bar"===e.target.className||e.target.closest(".vjs-control-bar"))&&e.stopPropagation()},close:function(){var e=this;this.pswp&&(this.player&&(this.player.pause(),this.player=null),this.playPromise&&this.playPromise.then((function(){e.video&&e.video.pause(),e.playPromise=null})),this.pswp.container.removeEventListener("pointerdown",this.preventSwipe,{passive:!1}),this.pswp.container.removeEventListener("MSPointerDown",this.preventSwipe,{passive:!1}),this.pswp.container.removeEventListener("touchstart",this.preventSwipe,{passive:!1}),this.pswp.container.removeEventListener("mousedown",this.preventSwipe,{passive:!1}),this.pswp.close(),this.pswp=null,this.$refs.pswpContainer&&(this.$refs.pswpContainer.style.cssText="",this.$refs.pswpContainer.innerHTML='<div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div>'),window.enableBodyScroll(!0)),this.setOpen(!1)},beforeChange:function(e){var t=this;try{var s=this.pswp.getCurrentIndex(),i=this.items[s];this.postId=i.postId,this.player&&(this.player.pause(),this.player=null),this.playPromise&&this.playPromise.then((function(){t.video&&t.video.pause(),t.playPromise=null}));var r=e[0].pswp.currItem.container.querySelector("video");if(this.$el.classList.toggle("m-video",!!r),r)if(r.classList.contains("video-js")||r.classList.contains("vjs-tech")){al["default"].registerComponent("PlayToggle",al["default"].extend(al["default"].getComponent("PlayToggle"),{handleClick:function(){try{this.player_.paused()?this.player_.play().catch((function(e){})):this.player_.pause()}catch(e){}}})),this.player=Object(al["default"])(r,{controlBar:{seekToLive:!1}}),r.addEventListener("playing",(function(){t.player&&t.player.muted(!1)}),{once:!0});var n=this.player.play();void 0!==n&&n.catch((function(){}))}else this.video=r,this.$nextTick((function(){var e=r.play();void 0!==e&&e.catch((function(){}))}))}catch(a){}},fileType:function(e){var t=ol["a"].getType(e);return"video/mpeg"!==t&&"video/quicktime"!==t&&t||(t="video/mp4"),t},mediaSource:function(e){return e.source||e.full?e.source?e.source.source:e.full:e.video&&e.video.mp4?e.video.mp4:e.src},mediaSourceType:function(e){return this.fileType(this.mediaSource(e))},updateItems:function(e,t){var s=this;e&&t&&e.length!==t.length&&(this.getItems=[]),this.items.forEach((function(i,r){s.getItems[r]=ll(ll({},s.getItems[r]),i);var n=i.media;if(n&&!s.getItems[r].html){if(s.isOpen&&s.pswp){var a=s.pswp.getCurrentIndex();if(e&&t&&Re()(e[a],t[a]))return}"video"===n.type&&(s.getItems[r].html='<div class="video-wrapper">\n      <div\n        class="blurred-poster"\n        :style="\'background-image: url('.concat(n.preview,")'\"\n      ></div>\n      <video\n        ").concat(n.source&&n.source.width?' width="'.concat(n.source.width,'"'):"","\n        ").concat(n.source&&n.source.height?' height="'.concat(n.source.height,'"'):"",'\n        preload="metadata"\n        playsinline\n        muted\n        autoplay\n        controls\n        controlsList="nodownload"\n        class="video-js vjs-default-skin"\n        poster="').concat(n.preview,'"\n      >\n        <source\n          type="').concat(s.mediaSourceType(n),'"\n          src="').concat(s.mediaSource(n),'"\n        >\n      </video>\n    </div>')),"gif"===n.type&&(s.getItems[r].html='<div class="video-wrapper">\n            <video\n              poster="'.concat(n.preview,'"\n              loop\n              muted\n              playsinline\n            >\n              <source\n                type="video/mp4"\n                src="').concat(s.mediaSource(n),'"\n              >\n            </video>\n          </div>'))}}))}})},dl=ul,hl=(s("d21a"),Object(L["a"])(dl,el,tl,!1,null,"52cdd5c0",null)),pl=hl.exports;function ml(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function fl(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ml(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var bl={computed:fl({},Object(y["b"])(["authUserId"])),watch:{authUserId:{handler:function(e){if(e&&this.$route.query&&this.$route.query.redirect_url){var t=this.$route.query.redirect_url;window.location=t}},immediate:!0}}};function vl(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function gl(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vl(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vl(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _l={name:"App",components:{WebsiteHeader:re,WebsiteSidebar:Pe,ModalLogin:Bs,WebsiteFooter:F,StaticFooter:Z,ErrorPage:xe["default"],ModalSubscribe:Is,ModalSubscribeLite:Ys,ModalUnsubscribe:ri,ModalTips:Ci,ModalReport:ji,ModalAlert:Ni,ModalUserAlert:Zi,ModalRestore:Wi["a"],ModalBlockUser:sr,ModalCustomName:ur,ModalPersonalOffer:yr,ModalPromotion:Tr,ModalCustomList:Ur,ModalUsersLists:Xr,ModalProfileStatistics:cn,Preloader:Me,AdminTexts:tt,LoginPage:jt,StoryStat:es,SubscriberCard:gs,ImageEditor:Jc,ModalCardVerify:vn,PhotoSwipe:pl,ClaimTrial:xn},mixins:[xs["a"],bl,Cs["a"],_["a"],C],data:function(){return{loaded:!1,fp:"",onlinesTimeout:void 0,onlinesInterval:void 0,timeoutOnlinesEnds:!0,showAdminTexts:!1,visibleToasts:[],showStoryStatData:null,showModalAlert:!1,showHelpBtn:!0,showHeader:!0}},computed:gl(gl(gl(gl(gl(gl(gl(gl(gl({},Object(y["A"])(["isOtpModalShow"])),Object(y["hb"])(["socketOpened","socketConnected","countOnlineRequests"])),Object(y["b"])(["authUserNotificationsCount","isAuth","authUser","authUserId"])),Object(y["eb"])(["isDarkMode"])),Object(y["Ob"])(["getCheckOnlinesIds","getOnline","userAlert"])),Object(y["q"])(["getInit","apiError"])),Object(y["M"])({photoSwipeShow:"show"})),Object(y["Z"])(["route"])),{},{renderLoginOrOtp:function(){return!!this.isOtpModalShow||!this.isAuth&&this.loaded&&(this.$route.meta.requiresAuth||"Feed"===this.$route.name)},isOldBrowser:function(){return document.documentMode},isError:function(){return this.apiError||this.isOldBrowser},isFullAuth:function(){return this.getInit.isAuth&&this.isAuth},hasNewTicketRepliesOpen:function(){return d()(this,"authUser.hasNewTicketReplies.open")},hasNewTicketRepliesSolved:function(){return d()(this,"authUser.hasNewTicketReplies.solved")},hasNewTicketReplies:function(){return this.hasNewTicketRepliesOpen||this.hasNewTicketRepliesSolved||!0===this.authUser.hasNewTicketReplies},canConnectToSocket:function(){return null!==this.getInit.isAuth&&!this.getInit.isLoginFromAdmin&&!this.$cookie.get("disableWS")&&this.fp.length}}),watch:{canConnectToSocket:{handler:function(e,t){e&&e!==t&&this.connectToSocket()},immediate:!0},isFullAuth:{handler:function(e){if(e&&this.$route&&this.$route.query&&this.$route.query.return_to){var t=new URL(window.location.origin),s=this.$route.query.return_to,i=new URL(s,t);t.origin===i.origin?this.$router.replace(i.pathname+i.search):this.$router.replace({query:gl(gl({},this.$route.query),{},{return_to:void 0})})}},immediate:!0},getInit:{handler:function(e){e&&e.ip&&Sentry.configureScope((function(t){t.setUser({ip_address:e.ip})}));try{if(e&&e.languages){var t=this.$cookie.get("lang",{domain:".".concat("onlyfans.com")});if(t)Object.keys(e.languages).includes(t)||(this.$cookie.delete("lang",{domain:".".concat("onlyfans.com")}),window.location.reload());else{var s=(window.navigator.languages||[window.navigator.language||window.navigator.browserLanguage]).find((function(t){return Object.keys(e.languages).includes(t)}));s&&"en"!==s&&(this.$cookie.set("lang",s,{domain:".".concat("onlyfans.com")}),window.location.reload())}}}catch(i){}},immediate:!0},authUserId:{handler:function(e){if(e){var t={id:e};this.getInit.ip&&(t.ip_address=this.getInit.ip),Sentry.configureScope((function(e){e.setUser(t)}))}},immediate:!0},loaded:function(){this.showAdminTexts=this.getInit.canTranslate,this.hideBeforePreloader()},socketOpened:function(){this.sendFirstToSocket()},socketConnected:function(e){clearInterval(this.onlinesInterval),e&&(this.onlinesInterval=setInterval(this.getOnlinesInterval,2e4),this.timeoutOnlinesEnds=!0,this.getOnlines())},route:function(e){var t=e.to,s=e.from;s.name&&(this.showAdminTexts=!1),"Chat"!==t.name&&"Chats"!==t.name&&this.resetCheckOnlines(),this.visibleToasts=[],this.showHelpBtn=!["faq","TicketsPage"].includes(t.name),this.showHeader=!["faq","TicketsPage","terms","privacy"].includes(t.name)},getCheckOnlinesIds:function(e,t){if(this.socketConnected){var s=p()(e,t);if(s.length){var i=t.filter((function(t){return-1!==e.indexOf(t)})),r=this.getOnline.filter((function(e){return-1!==i.indexOf(e)}));r&&this.setDefferedOnlines(r),this.getOnlines(s)}}},isDarkMode:function(e){document.documentElement.classList.toggle("m-mode-dark",e),e?this.$cookie.set("dark_mode",e,{domain:".".concat("onlyfans.com"),expires:"1Y"}):this.$cookie.delete("dark_mode",{domain:".".concat("onlyfans.com")})},authUserNotificationsCount:function(e,t){if(e!==t&&(0===e||0===t)){var s=document.getElementsByTagName("head")[0];try{s.querySelectorAll('link[rel="icon"],link[rel="shortcut icon"]').forEach((function(t){t.href=e?t.href.replace("favicon","favicon-notification"):t.href.replace("favicon-notification","favicon")}))}catch(i){}}}},created:function(){var e=this;navigator.cookieEnabled||alert(this.$i18n.t("message.disabled_cookie")),window.requestIdleCallback?this.createFp():setTimeout((function(){e.createFp()}),500),this.setTheme("true"===this.$cookie.get("dark_mode",{domain:".".concat("onlyfans.com")})),window.disableBodyScroll=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=window.pageYOffset,i=window.innerWidth-document.documentElement.clientWidth,r=document.querySelector(".l-header");document.documentElement.classList.add("m-prevent-scrolling"),s&&(window.innerWidth<767||e)&&t&&(document.body.style.top="-".concat(s,"px"),document.body.style.bottom="auto"),i&&(document.body.style.paddingRight="".concat(i,"px"),r&&(r.style.width="calc(100% + ".concat(i,"px)"),r.style.paddingRight="".concat(i,"px")))},window.enableBodyScroll=function(){e.$nextTick((function(){if(!Number(document.body.dataset.modalOpenCount)){var e=document.body.style.top,t=document.querySelector(".l-header");t&&!e.length&&(e=t.style.top),document.body.style.paddingRight&&(document.body.style.paddingRight=null,t&&(t.style.width=null,t.style.paddingRight=null)),document.documentElement.classList.contains("force-no-scroll")||document.documentElement.classList.remove("m-prevent-scrolling"),e&&(document.body.style.top=null,document.body.style.bottom=null,window.scrollTo(0,Math.abs(parseFloat(e))))}}))},setInterval((function(){e.$root.$emit("updateTime")}),6e4)},mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkSearchParamsLength(),t=document.head.querySelector("#vuetify-theme-stylesheet"),t&&document.head.removeChild(t),this.showHelpBtn=!["faq","TicketsPage"].includes(this.$route.name),this.showHeader=!["faq","TicketsPage","terms","privacy"].includes(this.$route.name),this.$root.$on("bv::modal::show",(function(e){i.$window.disableBodyScroll(void 0,"ModalSubscribe"!==e.componentId||i.isFullAuth)})),this.$root.$on("bv::modal::hide",(function(){setTimeout((function(){i.$window.enableBodyScroll()}),350)})),this.$root.$on("bv::dropdown::show",this.onDropdownShow),this.$root.$on("bv::dropdown::hide",this.onDropdownHide),window.alert=function(e,t,s,r){var a="",o=!1;if("object"===Object(n["a"])(e)){var c=e;a=c.title,e=c.message,t=c.html,s=c.onclose,r=c.buttons,o=c.hideCloseBtn}a=a||i.$i18n.t("message.dialog_default_title"),i.setAlert({title:a,text:e,html:t,onclose:s,buttons:r,hideCloseBtn:o}),i.showModalAlert=!0},!this.isOldBrowser){e.next=13;break}return this.hideBeforePreloader(),e.abrupt("return");case 13:return document.addEventListener("contextmenu",(function(e){"VIDEO"!==e.target.nodeName&&"IMG"!==e.target.nodeName||e.preventDefault()}),!1),document.addEventListener("dragstart",(function(e){"A"!==e.target.nodeName&&"IMG"!==e.target.nodeName||e.preventDefault()}),!1),this.$root.$on("bv::toast:show",(function(e){try{("sm"===i.$mq||e.vueTarget.toastClass&&e.vueTarget.toastClass.indexOf("settings-toast")>-1)&&(i.visibleToasts.forEach((function(e){i.$bvToast.hide(e)})),i.visibleToasts.push(e.componentId))}catch(t){}})),this.$root.$on("bv::toast:hide",(function(e){try{var t=i.visibleToasts.indexOf(e.componentId);t>-1&&i.visibleToasts.splice(t,1)}catch(s){}})),this.$root.$on("bv::toast:shown",(function(e){try{var t=e.vueTarget.autoHideDelay/2e3+.2;document.getElementById(e.componentId).insertAdjacentHTML("beforeend","\n      <style>#".concat(e.componentId," .close:before {\n        animation-duration: ").concat(t,"s;\n        animation-delay: ").concat(t,"s;\n      }\n      #").concat(e.componentId," .close:after {\n        animation-duration: ").concat(t,"s;\n      }</style>\n      "))}catch(s){}})),this.$root.$on("show::story::stat",(function(e){i.showStoryStatData=e})),this.$root.$on("hide::story::stat",(function(){i.showStoryStatData=null})),e.next=22,this.loader();case 22:window.onPing=function(e){document.body.addEventListener("ping",(function(t){e(t.detail.pong)}))},window.doPong=function(e){var t=new CustomEvent("ping",{detail:{pong:e}});document.body.dispatchEvent(t)},window.errorAvatar=this.errorAvatar,this.$root.$on("sign_success",(function(){i.$disconnect(),i.connectToSocket()})),this.$root.$on("signout_success",(function(){i.$disconnect(),i.connectToSocket()})),this.$root.$on("copy::profileUrl",(function(e){var t=e.url,s=e.modal;s&&i.$bvModal.hide(s.id),i.$copyText(t).then((function(){s&&i.$bvModal.show(s.id),i.$bvToast.toast(i.$i18n.t("message.copy_link_to_profile_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))})),this.getInit.isAuth||"code_invalid"!==this.$route.query.error||alert(this.$i18n.t("message.request_new_forgot")),this.setRef(),this.$root.$emit("mounted"),s=Object(g["a"])(),s.length&&this.$nextTick((function(){i.$el.querySelectorAll("a[href]").forEach((function(e){e.classList.toggle("m-forbidden",s.every((function(t){return e.href.indexOf(t)<0})))}))}));case 33:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){document.body.removeAttribute("id"),this.$root.$off("bv::dropdown::show",this.onDropdownShow),this.$root.$off("bv::dropdown::hide",this.onDropdownHide)},methods:gl(gl(gl(gl(gl(gl(gl(gl({checkSearchParamsLength:function(){if("SearchUsers"===this.$route.name){var e=d()(this.$route,"params.q",""),t=d()(this.$route,"fullPath");if(e.length>30){var s=t.replace(e,"");this.$window.location.href="".concat(s).concat(e.substring(0,30))}}else{var i=d()(this.$route,"query.q",""),r=d()(this.$route,"query.search",""),n=d()(this.$route,"query",{}),a=d()(this.$route,"path");if(i.length>100){var o=Object(P["c"])(gl(gl({},n),{},{q:i.substring(0,100)}));this.$window.location.href="".concat(a).concat(o)}if(r.length>100){var c=Object(P["c"])(gl(gl({},n),{},{search:r.substring(0,100)}));this.$window.location.href="".concat(a).concat(c)}}},closePhotoSwipe:function(){this.$root.$emit("closePhotoSwipe")},imgLoadErrorPhotoSwipe:function(){this.$root.$emit("imgLoadErrorPhotoSwipe")},destroyPhotoSwipe:function(){this.$root.$emit("destroyPhotoSwipe")}},Object(y["a"])(["fetchUserMe","logoutFromReferral"])),Object(y["c"])(["setIsLogin"])),Object(y["B"])(["setAlert"])),Object(y["fb"])(["setTheme"])),Object(y["ib"])(["incCountOnlineRequests"])),Object(y["Sb"])(["resetCheckOnlines","setDefferedOnlines"])),Object(y["Nb"])(["fetchAlert","fetchSubscriptionsCount"])),{},{hideBeforePreloader:function(){var e=document.getElementById("before_preloader");e&&e.parentNode&&e.parentNode.removeChild(e)},loader:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loaderMe();case 2:return e.next=4,this.loaderAlerts();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loaderMe:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.getInit.isAuth||this.isAuth){e.next=4;break}return e.next=4,this.fetchUserMe();case 4:this.loaded=!0,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Sentry.captureException(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),loaderAlerts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.authUser.hasNewAlerts){e.next=3;break}return e.next=3,t.fetchAlert();case 3:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),AfterLogin:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loaderAlerts();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),AfterOtp:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loader();case 2:this.$root.$emit("sign_success");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createFp:function(){var e=this;f.a.get((function(t){var s=f.a.x64hash128(t.map((function(e){return e.value})).join(""),31);e.$cookie.set("fp",s,{domain:".".concat("onlyfans.com"),expires:"1Y"}),e.fp=s}))},connectToSocket:function(){this.getInit.isAuth?this.$connect():this.$connect("".concat("wss://ws.onlyfans.com","/ws2g/")),window.ws=this.$socket},sendFirstToSocket:function(){var e={act:"connect"};try{this.$socket.sendObj(e)}catch(t){}},getOnlines:l()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.timeoutOnlinesEnds=!1,!this.countOnlineRequests&&this.socketConnected){var t;this.incCountOnlineRequests(),t=e.length?e:this.getCheckOnlinesIds;var s={act:"get_onlines",ids:t};try{this.$socket.sendObj(s)}catch(i){}}}),500,{leading:!0,trailing:!1}),getOnlinesInterval:function(){this.timeoutOnlinesEnds=!0,this.getOnlines()},returnFromReferralClick:function(){this.$router.replace({name:"ReturnFromReferral"})},setRef:function(){this.$cookie.set("ref_src",document.referrer,{domain:".".concat("onlyfans.com"),expires:"1Y"}),this.$route.query&&this.$route.query.ref&&(this.isAuth||(this.$cookie.set("ref",this.$route.query.ref,{domain:".".concat("onlyfans.com"),expires:"1Y"}),this.setIsLogin(!1)),v()(window.navigator.userAgent)||this.$router.replace({name:this.$route.name}))},onDropdownShow:function(e){"sm"===this.$mq&&this.$window.disableBodyScroll();var t=document.createElement("div");t.classList.add("b-dropdown-wrapper");var s=document.createElement("div");s.classList.add("overlay"),s.addEventListener("click",(function(){e.vueTarget.hide()}),{once:!0});var i="function"===typeof e.target.closest?e.target.closest(".modal-content"):null;t.appendChild(e.target),t.appendChild(s),i?i.appendChild(t):document.body.appendChild(t),this.$window.document.body.classList.add("m-dropdown-body")},onDropdownHide:function(e){var t=this,s=e.target.closest(".b-dropdown-wrapper");e.vueTarget.$el.appendChild(e.target),s&&s.remove(),"sm"===this.$mq&&setTimeout((function(){t.$window.enableBodyScroll()}),350),this.$window.document.body.classList.remove("m-dropdown-body")},returnFromHelper:function(){Object(x["e"])()}})},yl=_l,wl=(s("034f"),s("5c64"),s("43c6"),s("4b41"),Object(L["a"])(yl,i,r,!1,null,null,null));t["default"]=wl.exports},4:function(e,t){},"412e":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-friend"},[s("router-link",{attrs:{to:{name:"Profile",params:{userId:e.user.username}}}},[s("div",{staticClass:"b-friend__cover-wrapper"},[s("img",{staticClass:"b-friend__cover",attrs:{src:e.thumbSrcLink(e.user.header,e.user.headerThumbs,"w480","header"),alt:e.user.name},on:{error:function(t){return e.errorCover(t)}}})]),e.user.isFree||e.user.hasPromotion?s("div",{staticClass:"b-free-label"},[e.user.isFree?[e._v(" "+e._s(e.$t("message.free"))+" ")]:e._e(),e.user.hasPromotion?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-discount",attrs:{"extra-class":"m-has-promo"}}):e._e()],2):e._e(),s("div",{staticClass:"b-friend__content"},[s("div",{staticClass:"b-friend__avatar"},[s("span",{staticClass:"g-avatar online_status_class m-w150 m-border-line",class:{online:(!e.user.hasStream||e.user.isMuted)&&e.user.isOnline,"m-muted-by-me":e.user.isMuted}},[s("payer-rating",{attrs:{user:e.user,placement:"right"}}),s("image-thumb",{attrs:{user:e.user,size:"c144"}}),e.user.hasStream&&!e.user.isMuted?s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]):e._e()],1)]),s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"b-username m-like-link"},[s("div",{staticClass:"g-user-name m-lg-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])])]),s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"b-username"},[s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" ")])])])])]),e.user.id!==e.authUserId?s("b-dropdown",{ref:"profileDropdown",staticClass:"m-btn-vertical-dots m-center m-reset-gaps m-light m-not-width-limit m-radial-gradient-btn",attrs:{right:"","menu-class":{"m-not-fixed-dropdown":e.isNotFixedPositionDropdown},variant:"link",offset:"4"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],staticClass:"icon-more"})]),s("b-dropdown-item-button",{on:{click:e.openUsersListsModal}},[e._v(" "+e._s(e.$t("message.add_to_lists_dropdown_btn"))+" ")]),e.profileId===e.authUserId?s("b-dropdown-item-button",{attrs:{disabled:e.disabledFriendUser},on:{click:e.removeFromFriends}},[e._v(" "+e._s(e.$t("message.remove_from_friends_btn_label"))+" ")]):e._e()],2):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=(s("c5f6"),s("d634")),c=s("4683"),l=s("e66b"),u=s("925c"),d=s("7e35");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var m={name:"ProfileFriend",components:{PayerRating:c["a"],ImageThumb:l["a"]},mixins:[u["a"],d["a"]],props:{userId:{type:Number,required:!0},profileId:{type:Number,default:-1},isNotFixedPositionDropdown:{type:Boolean,default:!1}},data:function(){return{disabledFriendUser:!1}},computed:p(p(p({},Object(o["Ob"])(["getUser"])),Object(o["b"])(["authUserId"])),{},{user:function(){return this.getUser(this.userId)}}),methods:p(p(p({},Object(o["Nb"])(["unFriendUser"])),Object(o["Sb"])(["setModalUser"])),{},{removeFromFriends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledFriendUser=!0,e.next=3,this.unFriendUser(this.user.id);case 3:this.disabledFriendUser=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openUsersListsModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))}})},f=m,b=s("2877"),v=Object(b["a"])(f,i,r,!1,null,null,null);t["a"]=v.exports},"418f":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-offer-wrapper"},[s("div",{staticClass:"b-offer-join"},[s("div",{staticClass:"b-offer-join__content"},[s("span",{staticClass:"g-icon-info m-icon-sm m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.normal_subscription_price",{PRICE:e.priceHuman(e.user.subscribePrice)}),expression:"$t('message.normal_subscription_price', {PRICE: priceHuman(user.subscribePrice)})",modifiers:{enabled:!0}}],staticClass:"icon-info"})]),s("div",{staticClass:"b-offer-join__details"},[e.bundle.discount?[e._v(e._s(e.bundle.discount)+"% "+e._s(e.$t("message.discount_bundle_off"))+" ")]:e._e(),s("span",{staticClass:"b-amount-price m-num",class:{"big-space":!!e.bundle.discount}},[e._v(" $"+e._s(e.bundle.price.toFixed(2).replace(".00",""))+" ")]),e._v(" for "+e._s(e.bundle.duration)+" "+e._s(1===e.bundle.duration?"month":"months")+" ")],2)]),e.isAuthUser?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.uploaded_media_delete_btn_title"),expression:"$t('message.uploaded_media_delete_btn_title')"}],staticClass:"b-btn-remove",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),function(t){e.doDeleteBundle(e.bundle.id,t)}(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})]):e._e(),e.isAuthUser?e._e():s("div",{staticClass:"b-offer-join__btn"},[s("div",{staticClass:"g-btn m-rounded m-uppercase m-block",attrs:{role:"button"},on:{click:function(t){return e.bundleClickHandler(e.bundle)}}},[s("span",{domProps:{innerHTML:e._s(e.subscribeText)}})])])]),s("modal-confirm",{attrs:{"modal-show":e.buyBundleConfirmShowFirst,title:e.$t("message.buy_bundle_confirm_title"),text:e.$t("message.buy_bundle_confirm_desc",{DATE:e.expiredDateHuman}),"agree-btn":this.$i18n.t("message.confirm_yes_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.buyBundleConfirmShowFirst=t},"update:modal-show":function(t){e.buyBundleConfirmShowFirst=t},"on-agree":function(t){e.buyBundleConfirmShowSecond=!0}}}),s("modal-confirm",{attrs:{"modal-show":e.buyBundleConfirmShowSecond,title:e.$t("message.buy_bundle_confirm_title"),text:e.$t("message.are_you_sure"),"agree-btn":this.$i18n.t("message.confirm_yes_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.buyBundleConfirmShowSecond=t},"update:modal-show":function(t){e.buyBundleConfirmShowSecond=t},"on-agree":e.buyBundle}}),e.isAuthUser?s("modal-confirm",{attrs:{"modal-show":e.deleteBundleConfirmShow,title:e.$t("message.delete_subscription_bundle"),text:e.$t("message.are_you_sure"),"agree-btn":this.$i18n.t("message.confirm_yes_button"),"close-on-cancel":"","close-on-agree":""},on:{"update:modalShow":function(t){e.deleteBundleConfirmShow=t},"update:modal-show":function(t){e.deleteBundleConfirmShow=t},"on-agree":e.agreeDeleteBundle}}):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("a481"),s("bd86")),o=s("c1df"),c=s.n(o),l=s("9df8"),u=(s("9b02"),s("d634")),d=s("313e"),h=s("8b3f"),p=s("e057"),m=s("ce23"),f=s("d075"),b=s("1db1"),v=s("30ba");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y={name:"Bundle",components:{ModalBundle:d["a"],ModalConfirm:h["a"]},props:{bundle:{required:!0}},mixins:[p["a"],m["a"],b["a"],v["a"],l["c"]],data:function(){return{disable:!1,bundleId:void 0,bundleDiscount:void 0,bundleDuration:void 0,deleteBundleConfirmShow:!1,buyBundleConfirmShowFirst:!1,buyBundleConfirmShowSecond:!1,collapsed:!1}},computed:_(_(_(_({},Object(u["Ob"])(["userId","user"])),Object(u["b"])(["authUser"])),Object(u["Jb"])(["getSubscribe"])),{},{expiredDateHuman:function(){return this.subscribe?c()(this.subscribe.expiredAt).format("MMM D, YYYY"):""},subscribe:function(){return this.getSubscribe(this.userId)},subscribeText:function(){return this.user.subscribedBy?this.$i18n.t("message.bundle_label_btn",{AMOUNT:this.bundle.price.toFixed(2).replace(".00","")}):this.$i18n.t("message.subscription_promo_subscribe_price_full_button_new_formatted_ed2",{PRICE:"$"+this.bundle.price.toFixed(2).replace(".00","")})}}),mounted:function(){this.$root.$on("buyBundle",this.buyBundle);try{this.collapsed=!(this.bundles.length||this.isAuthUser)||null!==localStorage.getItem("collapsedBundle")&&"true"===localStorage.getItem("collapsedBundle")}catch(e){}},beforeDestroy:function(){this.$root.$off("buyBundle",this.buyBundle)},methods:_(_(_(_(_({},Object(u["g"])(["deleteBundle"])),Object(u["Ib"])(["updateSubscribe"])),Object(u["Nb"])(["fetchSubscriptionsCount"])),Object(u["Sb"])(["setModalUser"])),{},{openModalBundle:function(e){var t=this;this.setModalUser({userId:this.userId}),this.$nextTick((function(){t.$root.$emit("bv::show::modal:ModalBundle:setBundle",e),t.$root.$emit("bv::show::modal","ModalBundle")}))},doDeleteBundle:function(e,t){t.preventDefault(),t.stopPropagation(),this.disable||this.isAuthUser&&(this.bundleId=e,this.deleteBundleConfirmShow=!0)},agreeDeleteBundle:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.bundleId,this.bundleId=void 0,!this.disable){e.next=4;break}return e.abrupt("return");case 4:return this.disable=!0,e.next=7,this.deleteBundle(t);case 7:this.disable=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bundleClickHandler:function(e){var t=this;this.bundleId=e.id,this.isAuthUser?this.openModalBundle(e):this.canPayToUser?this.user.subscribedBy?this.buyBundleConfirmShowFirst=!0:(this.setModalUser({userId:this.userId}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalSubscribe"),t.$nextTick((function(){t.$root.$emit("ModalSubscribeBundleShow",e)}))}))):this.$router.push({name:"Payments"})},buyBundle:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$root.$emit("bv::hide::modal","ModalSubscribe"),this.bundleId){e.next=3;break}return e.abrupt("return");case 3:return t=this.user.id,s=Object(f["b"])(t),e.next=7,this.makePayments({paymentType:"subscribe",userId:t,bundleId:this.bundleId,recommender:s,amount:this.bundle.price},this.buyBundle);case 7:if(i=e.sent,!i||!i.id){e.next=16;break}return t&&Object(f["c"])(t),this.updateSubscribe(i),this.fetchSubscriptionsCount(),e.next=14,this.fetchProfileData(t);case 14:this.$bvToast.toast(this.$root.$i18n.t("message.bundle_paid_thankful_toast",{DATE:c()(i.subscribedByData.renewedAt).format("MMM D, YYYY")}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),this.$root.$emit("bundle:was:bought");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},w=y,O=s("2877"),C=Object(O["a"])(w,i,r,!1,null,null,null);t["a"]=C.exports},"41e7":function(e,t,s){"use strict";s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return p}));s("8e6e"),s("456d"),s("ac6a"),s("386d"),s("96cf");var i=s("3b8d"),r=(s("7f7f"),s("bd86")),n=s("d634"),a=s("e66b"),o=s("33a44"),c=s("4683"),l=s("0687");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={components:{ImageThumb:a["a"],UtilsTime:o["a"],PayerRating:c["a"]},mixins:[l["a"]],data:function(){return{disabledMuteUser:!1,disabledBlockUser:!1,promoType:"discount"}},computed:d(d({},Object(n["b"])(["authUser"])),Object(n["Ob"])(["getUser"])),watch:{user:function(e,t){void 0!==t&&void 0!==t.isBlocked&&e.isBlocked!==t.isBlocked&&"Subscribers"!==this.$route.name&&"muted"!==this.$route.params.type&&"activity"!==this.$route.params.type&&this.removeSubscriber(this.user.id)}},methods:d(d(d(d({},Object(n["Sb"])(["setModalUser"])),Object(n["Fb"])(["updateSubscribersMuted","removeSubscriber"])),Object(n["Nb"])(["toggleMuteUser","toggleBlockUser","fetchSubscriptionsCount"])),{},{muteUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledMuteUser=!0,e.next=3,this.toggleMuteUser(this.user.id);case 3:this.fetchSubscriptionsCount(),"muted"===this.$route.params.type&&this.updateSubscribersMuted(this.user.id),this.disabledMuteUser=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),conFirmBlockUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!1===this.user.isBlocked){e.next=9;break}if(!this.disabledBlockUser){e.next=3;break}return e.abrupt("return");case 3:return this.disabledBlockUser=!0,e.next=6,this.toggleBlockUser(this.user.id);case 6:this.disabledBlockUser=!1,e.next=11;break;case 9:this.setModalUser({userId:this.user.id}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalBlockUser")}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},p={data:function(){return{loading:!1}},methods:d(d(d(d({},Object(n["Nb"])(["fetchSubscriptionsCount"])),Object(n["Db"])(["fetchTrials"])),Object(n["C"])(["fetchPromotionOffers"])),{},{getTrials:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},s=t.more,i=void 0!==s&&s,this.loading=!0,e.prev=2,n=i?this.trials.list.length:0,e.next=6,this.fetchTrials({offset:n,more:i});case 6:r=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:return this.loading=!1,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}(),getOffers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o,c,l,u,d,h,p,m,f,b,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:{},s=t.more,i=void 0!==s&&s,this.loading=!0,e.prev=2,n=i?this.offers.length:0,a=this.$route.query,o=a.search,c=a.order_dir,l=a.order_field,u=a.total_spent,d=a.tips,h=a.duration,p=a.inactive,m=a.recommenders,f=a.recommender_id,b={total_spent:u,tips:d,duration:h,inactive:p,recommenders:m,recommender_id:f},Object.keys(b).forEach((function(e){return void 0===b[e]&&delete b[e]})),e.next=9,this.fetchPromotionOffers({offset:n,query:o,sort:c||"desc",field:l||"create_date",filter:b,more:i});case 9:r=e.sent,e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](2);case 14:return this.loading=!1,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}()})}},"42c3":function(e,t,s){"use strict";var i=s("57df"),r=s.n(i);r.a},"43c6":function(e,t,s){"use strict";var i=s("d5a9"),r=s.n(i);r.a},"44d7":function(e,t,s){"use strict";var i=s("57b8"),r=s.n(i);r.a},"45d2":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._g({staticClass:"b-story-item m-gradient-overlay",class:{"m-paid-stream":e.paid,"m-unlock-stream":e.clicked}},e.eventSet),[e.paid?[s("div",{staticClass:"b-story-item__link"},[s("div",{staticClass:"b-story-item__price"},[e._v(" "+e._s(e.$t("message.chat_paid_massage_pay_button",{PRICE:"$"+e.value.price}))+" "),s("span",{staticClass:"b-story-item__hint"},[e._v(e._s(e.$t("message.24_hours_pass")))])]),s("div",{staticClass:"b-story-item__cost"},[e._v(" $"+e._s(e.value.price)+" ")]),s("item-content",{attrs:{hover:e.hover,value:e.value}})],1)]:[e.spaModule?s("router-link",{staticClass:"b-story-item__link",attrs:{to:{name:"Live",params:{user:e.user.username}}}},[e.value.price?s("div",{staticClass:"b-story-item__cost"},[e._v(" $"+e._s(e.value.price)+" ")]):e._e(),s("item-content",{attrs:{hover:e.hover,value:e.value}})],1):s("a",{staticClass:"b-story-item__link",attrs:{href:"/my/live/view/"+e.user.username}},[e.value.price?s("div",{staticClass:"b-story-item__cost"},[e._v(" $"+e._s(e.value.price)+" ")]):e._e(),s("item-content",{attrs:{hover:e.hover,value:e.value}})],1)]],2)},r=[],n=s("aeef"),a=n["a"],o=s("2877"),c=Object(o["a"])(a,i,r,!1,null,null,null);t["a"]=c.exports},"45e8":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"b-notifications"},[s("div",{staticClass:"g-page__header m-with-tabs"},[s("go-back"),s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.$t("message.notifications_index_title"))+" ")]),s("page-title",{attrs:{title:e.$t("message.notifications_index_title")}}),s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.name_section_settings"),expression:"$t('message.name_section_settings')"}],staticClass:"g-page__header__btn m-with-round-hover",attrs:{to:{name:"SettingsNotifications"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-settings"})])],1),s("div",{staticClass:"b-tabs__nav"},[s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"Notifications"},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-all"}),e._v(" "+e._s(e.$t("message.all_button"))+" ")]),s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"NotificationsByType",params:{type:"interactions"}},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-comment"}),e._v(" "+e._s(e.$t("message.message_type_interactions"))+" ")]),s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"NotificationsByType",params:{type:"liked"}},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-like"}),e._v(" "+e._s(e.$t("message.message_type_favorited"))+" ")]),s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"NotificationsByType",params:{type:"subscribed"}},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-unlocked"}),e._v(" "+e._s(e.$t("message.message_type_subscribed"))+" ")]),s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"NotificationsByType",params:{type:"tip"}},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-funds"}),e._v(" "+e._s(e.$t("message.message_type_tip"))+" ")]),e._e(),s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"NotificationsByType",params:{type:"message"}},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-alert"}),e._v(" "+e._s(e.$t("message.message_type_message"))+" ")]),e.authUser.isPerformer?s("base-link",{staticClass:"b-tabs__nav__item",attrs:{"active-class":"","exact-active-class":"m-current",to:{name:"NotificationsByType",params:{type:"purchases"}},replace:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price"}),e._v(" "+e._s(e.$t("message.message_type_purchases"))+" ")]):e._e()],1),s("h3",{staticClass:"g-section-title"},[e._v(" "+e._s(e.notificationsTitle)+" ")]),s("div",{staticClass:"b-notifications__list"},[e.loading||e.notifications.length?e._e():s("p",{staticClass:"g-message-empty"},[e._v(" "+e._s(e.$t("message.no_notifications_message"))+" ")]),e._l(e.notifications,(function(e,t){return s("notifications-item",{key:t,attrs:{id:e.user.id,index:t,notification:e}})})),e.notifications.length>=e.limit?s("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e(),s("back-to-top-btn")],2)])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("e166"),c=s.n(o),l=s("e528"),u=s("b304"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-notifications__list__item"},[s("router-link",{staticClass:"g-avatar online_status_class m-w50",class:{online:e.user.isOnline},attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}},event:""},nativeOn:{click:function(t){return t.preventDefault(),e.maybeOpenCard({route:{name:"Profile",params:{userId:e.user.username}},userId:e.user.id})}}},[s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("router-link",{attrs:{to:{name:"Profile",params:{userId:e.user.username}}}},[e.user.displayName&&e.user.name===""+e.userLoginPrefix+e.user.id?[s("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.user.displayName)))])]:e.user.displayName?[s("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.user.displayName)))]),s("span",{staticClass:"g-user-realname"},[e._v("("+e._s(e._f("encodeHtml")(e.user.name))+")")])]:[s("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.user.name)))])]],2),s("router-link",{staticClass:"g-user-username",attrs:{to:{name:"Profile",params:{userId:e.user.username}}}},[e._v(" @"+e._s(e.user.username)+" ")]),s("div",{staticClass:"b-notifications__list__item__text",class:{"trunc-text":e.trunc&&!e.collapsed},domProps:{innerHTML:e._s(e.notification.text)},on:{click:e.innerLinkToRouter}}),e.needConfirm?s("p",[s("button",{staticClass:"g-btn m-rounded m-sm",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.confirmPrice(t)}}},[e._v(" "+e._s(e.$t("message.confirm_button"))+" ")])]):e._e(),e.trunc?s("span",{staticClass:"link-trunc",on:{click:e.toggleCollapse}},[e._v(" "+e._s(e.collapsed?e.$t("message.collapse"):e.$t("message.read_more"))+" ")]):e._e(),s("span",{staticClass:"g-date"},[s("utils-time",{key:e.notification.type+e.index,attrs:{date:e.notification.createdAt}})],1)],1)},h=[],p=(s("28a5"),s("c5f6"),s("d634")),m=s("33a44"),f=s("e66b"),b=s("ebf6"),v=s("d981"),g=s("c785");function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var w={name:"NotificationsItem",components:{UtilsTime:m["a"],ImageThumb:f["a"]},mixins:[b["a"],v["a"],g["a"]],props:{id:{type:Number,required:!0},index:{type:Number,required:!0},notification:{type:Object,required:!0}},data:function(){return{disableConfirmBtns:!1,collapseLimit:4}},computed:y(y({},Object(p["eb"])(["userLoginPrefix"])),{},{trunc:function(){return this.notification.text.split(/\r\n|\r|\n/).length>this.collapseLimit},needConfirm:function(){return"price_changed"===this.notification.type&&this.user.canAddSubscriber&&!this.isExpired&&this.isNewPriceHigherAgreePrice&&Number(this.notification.newPrice)===Number(this.user.subscribePrice)}}),methods:{confirmPrice:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disableConfirmBtns){e.next=2;break}return e.abrupt("return");case 2:return this.disableConfirmBtns=!0,t=this.user.id,e.next=6,this.autoprolongToggle({id:t,force:"on"});case 6:this.disableConfirmBtns=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},O=w,C=s("2877"),P=Object(C["a"])(O,d,h,!1,null,null,null),x=P.exports,k=s("b6ee"),S=s("b775");function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var A={name:"Notifications",components:{InfiniteLoading:c.a,SpinnerLoader:l["a"],BackToTopBtn:u["a"],NotificationsItem:x,GoBack:k["a"]},data:function(){return{loading:!1,limit:S["e"],infiniteId:+new Date,type:"",collapsed:!1}},computed:T(T(T({},Object(p["Ob"])(["notifications"])),Object(p["b"])(["authUser"])),{},{notificationsTitle:function(){switch(this.type){case"":return this.$i18n.t("message.all_button");case"interactions":return this.$i18n.t("message.message_type_interactions");case"favorited":return this.$i18n.t("message.message_type_favorited");case"subscribed":return this.$i18n.t("message.message_type_subscribed");case"tip":return this.$i18n.t("message.message_type_tip");case"message":return this.$i18n.t("message.message_type_message");case"purchases":return this.$i18n.t("message.message_type_purchases");default:return""}}}),watch:{$route:{handler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"NotificationsByType"===t.name?(s=t.params.type,s&&(this.type="liked"===s?"favorited":s)):this.type="",e.next=3,this.getNotifications();case 3:this.infiniteId+=1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:T(T({},Object(p["Nb"])(["fetchNotifications"])),{},{getNotifications:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},s=t.more,i=void 0!==s&&s,this.loading=!0,e.prev=2,n=i?this.notifications.length:0,e.next=6,this.fetchNotifications({limit:this.limit,offset:n,type:this.type,more:i});case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Sentry.captureException(e.t0);case 12:return this.loading=!1,e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}(),infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNotifications({more:!0});case 2:s=e.sent,s.length===this.limit?t.loaded():t.complete();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),toggleCollapse:function(){this.collapsed=!this.collapsed}})},j=A,$=Object(C["a"])(j,i,r,!1,null,null,null);t["default"]=$.exports},4606:function(e,t,s){e.exports=s.p+"img/slide-2-3x.jpg"},4683:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return void 0!==e.user.payerRating&&null!==e.user.payerRating?s("span",{directives:[{name:"b-popover",rawName:"v-b-popover",value:{content:e.content,placement:e.place,html:!0,trigger:"hover focus",customClass:"m-payer-rating"},expression:"{\n    content,\n    placement: place,\n    html: true,\n    trigger: 'hover focus',\n    customClass: 'm-payer-rating',\n  }"}],staticClass:"g-user__rating",attrs:{tabindex:"0"},on:{click:[function(e){e.preventDefault()},function(e){e.stopPropagation()}]}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:"icon-star"+(parseFloat(e.user.payerRating)+1)})]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("bd86")),a=s("d634");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={name:"PayerRating",props:{user:{type:Object,required:!0},placement:{type:String}},data:function(){return{place:this.placement||"topright"}},computed:c(c({},Object(a["b"])(["authUserId"])),{},{content:function(){return this.authUserId===this.user.id?"".concat(this.$i18n.t("message.user_rating_title_new").replace(/\.$/,""),". ").concat(this.$i18n.t("message.user_rating_title_can_turn_off",{URL:"/my/settings"})):this.user.subscribedOnDuration?this.$i18n.t("message.user_rating_title_subscribed",{DURATION:this.user.subscribedOnDuration}):this.$i18n.t("message.user_rating_title_new")}})},u=l,d=s("2877"),h=Object(d["a"])(u,i,r,!1,null,null,null);t["a"]=h.exports},"483c":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-users__item m-fans"},[s("div",{staticClass:"b-users__item__inner",class:{"m-bg-colored":e.isExpired||e.user.isBlocked,"m-expanded":e.isExpanded}},[s("div",{staticClass:"b-fans__item__header"},[s("router-link",{ref:"profileUrl",staticClass:"g-avatar online_status_class m-w36",class:{online:e.user.isOnline,"m-muted-by-me":e.subscriber.isMuted},attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}},event:""},nativeOn:{click:function(t){return t.preventDefault(),e.maybeOpenCard({name:"Profile",params:{userId:e.user.username}})}}},[s("payer-rating",{attrs:{user:e.user}}),s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-username-row"},[s("router-link",{ref:"profileUrl",staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}}}},[s("div",{staticClass:"g-user-name",class:{"m-muted":e.subscriber.isMuted,"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.displayName||e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])]),e.authUser.isPerformer&&e.isSubscriber?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.edit"),classes:e.expanded?"m-tooltip-higher":""},expression:"{content: $t('message.edit'), classes: expanded ? 'm-tooltip-higher' : '' }"}],staticClass:"g-btn m-flat m-gray b-user-name__btn-edit",class:{"m-active":e.user.displayName},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openCustomNamePopup(e.user.id)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-edit"})]):e._e()],1),s("div",{staticClass:"b-username-row"},[s("router-link",{ref:"profileUrl",staticClass:"g-user-realname__wrapper m-nowrap-text",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.user.username}}}},[e.user.displayName&&e.user.name!==""+e.userLoginPrefix+e.user.id?s("div",{staticClass:"g-user-realname"},[e._v(" "+e._s(e.user.name)+" ")]):e._e(),s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" ")])])],1),e.expanded?e._e():s("button",{staticClass:"g-btn m-icon b-fans__btn-expand",attrs:{type:"button"},on:{click:e.toggleCard}},[e.isExpanded?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"expanded",staticClass:"icon-arrow-up"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"collapsed",staticClass:"icon-arrow-down"})])],1),"true"===e.$env.VUE_APP_SECTION_USERS_LISTS?s("add-to-lists-btns",{attrs:{user:e.user,"need-update-swiper":e.needUpdateSwiper}}):e._e(),s("div",{staticClass:"g-btn__group"},[e.user.isBlocked?s("button",{staticClass:"g-btn m-rounded m-border m-sm m-with-icon",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.conFirmBlockUser(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"btn-block",staticClass:"icon-block"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.unblock_user_btn_title")))])]):[e.isSubscriber?s("button",{staticClass:"g-btn m-rounded m-border m-sm m-with-icon",class:{dark:!e.subscriber.isMuted},attrs:{type:"button",disabled:e.disabledMuteUser},on:{click:e.muteUser}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"btn-mute",staticClass:"icon-mute"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.muteTitle))])]):e._e(),e.canReceiveMessage?s("router-link",{staticClass:"g-btn m-rounded m-border m-sm m-with-icon",attrs:{to:{name:"Chat",params:{chatId:e.user.id}}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-message"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.message_button")))])]):e._e(),e.subscribedBy||e.subscriber.isMuted?e._e():s("subscribe-btn",{staticClass:"m-sm m-with-icon m-subscribe-btn",attrs:{id:e.user.id,short:!0}}),e.isFree?e._e():s("button",{staticClass:"g-btn m-rounded m-border m-sm m-with-icon",attrs:{type:"button"},on:{click:e.openDiscountModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"btn-discount",staticClass:"icon-discount"}),s("span",{staticClass:"b-btn-text"},[e._v(e._s(e.$t("message.user_discount_btn_label_short")))])])]],2),s("div",{staticClass:"b-fans__item__tabs"},[e.listSubscription.length||e.listEarnings.length?[e.listSubscription.length?s("button",{staticClass:"b-fans__item__tab",class:{"m-active":"subscription"===e.activeTab},attrs:{type:"button"},on:{click:function(t){return e.setActiveTab("subscription")}}},[e._v(" "+e._s(e.$t("message.subscription_title"))+" ")]):e._e(),e.listEarnings.length?s("button",{staticClass:"b-fans__item__tab",class:{"m-active":"earnings"===e.activeTab},attrs:{type:"button"},on:{click:function(t){return e.setActiveTab("earnings")}}},[e._v(" "+e._s(e.$t("message.earnings_title"))+" ")]):e._e()]:e._e(),e.promoOffers.length?s("button",{staticClass:"b-fans__item__tab",class:{"m-active":"offer"===e.activeTab},attrs:{type:"button"},on:{click:function(t){return e.setActiveTab("offer")}}},[e._v(" "+e._s(e.$t("message.fans_tabs_offer_label"))+" ")]):e._e(),s("users-action",{staticClass:"m-not-width-limit",attrs:{user:e.user,"subscriber-item":e.subscriber}})],2),e.list.length?s("div",{staticClass:"b-fans__item__list"},e._l(e.list,(function(t,i){return s("div",{key:i,staticClass:"b-fans__item__list__item",class:{"m-active":e.canBeOrdered(t)&&e.orderField===t.orderField,"m-orderable":e.canBeOrdered(t)},on:{click:function(s){e.canBeOrdered(t)&&e.setOrder(t.orderField)}}},[s("span",{staticClass:"b-fans__item__list__label"},[e._v(" "+e._s(e.$t("message."+t.label+"_title"))+" "),e.canBeOrdered(t)&&e.orderField===t.orderField?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:t.orderField+"_"+e.orderDir,class:"icon-arrow-"+("desc"===e.orderDir?"down":"up")}):e._e()]),null!==t.value?s("span",{domProps:{innerHTML:e._s(t.value)}}):e._e(),t.button?s("button",{staticClass:"g-btn m-flat m-only-bold",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.button.click(e)}}},[e._v(" "+e._s(t.button.label)+" ")]):e._e()])})),0):e._e()],1)])},r=[],n=(s("8e6e"),s("386d"),s("96cf"),s("3b8d")),a=(s("a481"),s("7f7f"),s("ac6a"),s("456d"),s("bd86")),o=(s("c5f6"),s("c1df")),c=s.n(o),l=s("9b02"),u=s.n(l),d=s("d634"),h=s("a2fa"),p=s("fa8d"),m=s("9ef2"),f=s("41e7");function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var g={name:"SubscribersItem",components:{SubscribeBtn:h["a"],UsersAction:p["a"],AddToListsBtns:m["a"]},mixins:[f["a"]],props:{userId:{type:Number,default:function(){return null}},offerId:{type:Number,default:function(){return null}},expanded:{type:Boolean,default:!1},active:{type:[String,Boolean],default:!1},needUpdateSwiper:{type:Number,default:0}},data:function(){return{activeTabProxy:null,isExpanded:this.expanded}},computed:v(v(v(v(v(v(v({},Object(d["b"])(["isAuth"])),Object(d["Eb"])(["getSubscriber"])),Object(d["Jb"])(["getSubscribe"])),Object(d["D"])(["getOffer"])),Object(d["q"])(["currentDate"])),Object(d["eb"])(["userLoginPrefix"])),{},{activeTab:{get:function(){return this.activeTabProxy||this.defaultActiveTab},set:function(e){this.activeTabProxy=e}},offer:function(){return this.getOffer(this.offerId)},user:function(){return this.getUser(this.userId||this.offer.subscriberId)},subscriber:function(){return this.getSubscriber(this.user.id)||{}},isSubscriber:function(){return this.subscriber&&Object.keys(this.subscriber).length},subscribe:function(){return this.getSubscribe(this.user.id)||{}},subscribedBy:function(){return this.subscribe&&(this.subscribe.renewedAt||this.subscribe.status)},canReceiveMessage:function(){return this.subscribedBy&&this.user.canReceiveChatMessage&&!this.subscriber.isMuted},isFree:function(){return!this.subscriber.subscribePrice},isExpired:function(){return!this.subscriber.renewedAt&&this.subscriber.expiredAt&&+new Date(this.subscriber.expiredAt)-+new Date<=0},canBeProlonged:function(){return this.isFree||this.subscriber.renewedAt},muteTitle:function(){return this.subscriber.isMuted?this.$i18n.t("message.user_unrestrict_button_label_"):this.$i18n.t("message.ignore")},orderDir:function(){return u()(this,"$route.query.order_dir")||"desc"},orderField:function(){return"Promotions"===this.$route.name?u()(this,"$route.query.order_field")||"create_date":u()(this,"$route.query.order_field")||"last_activity"},totalSumm:function(){return this.subscriber.totalSumm},listSubscription:function(){var e=this,t=[];return this.isSubscriber?(this.isExpired?(this.isExpanded||"expire_date"===this.orderField)&&t.push({label:"previous_subscription",value:this.priceHuman(this.subscriber.price),orderField:"expire_date"}):((this.isExpanded||"expire_date"===this.orderField)&&t.push({label:"current_subscription",value:this.subscriber.price!==this.subscriber.regularPrice?this.priceHuman(this.subscriber.price):'<span class="subscription_price">\n'.concat(this.subscriber.subscribePrice!==this.subscriber.regularPrice?'<span class="b-fans__item__regular-price">-'.concat(Math.round(100*(this.subscriber.regularPrice-this.subscriber.subscribePrice)/this.subscriber.regularPrice),"%</span> ").concat(this.priceHuman(this.subscriber.subscribePrice)," till ").concat(this.humanDate(this.subscriber.discountFinishedAt)):this.priceHuman(this.subscriber.subscribePrice),"</span>"),orderField:"expire_date"}),(this.isExpanded||"new_price"===this.orderField)&&this.subscriber.price!==this.subscriber.regularPrice&&t.push({label:"subscription_new_price",value:'<span class="subscription_price">\n'.concat(this.subscriber.subscribePrice!==this.subscriber.regularPrice?'<span class="b-fans__item__regular-price">-'.concat(Math.round(100*(this.subscriber.regularPrice-this.subscriber.subscribePrice)/this.subscriber.regularPrice),"%</span> ").concat(this.priceHuman(this.subscriber.subscribePrice)," till ").concat(this.humanDate(this.subscriber.discountFinishedAt)):this.priceHuman(this.subscriber.subscribePrice),"</span>"),orderField:"new_price"})),(this.isExpanded||"subscribe_date"===this.orderField)&&t.push({label:"started_date",value:this.humanDate(this.subscriber.subscribeAt),orderField:"subscribe_date"}),(this.isExpanded||this.isExpired||"total_duration"===this.orderField)&&t.push({label:"total_duration",value:this.subscriber.duration||this.$i18n.tc("message.count_day_plural",1),orderField:"total_duration"}),t.push({label:this.isExpired?"expired":this.canBeProlonged?"renews":"expires",value:this.humanDate(this.subscriber.expiredAt),orderField:"expires"}),this.isExpired||t.push({label:"rebill",value:this.canBeProlonged?this.$i18n.t("message.on"):this.$i18n.t("message.off")}),!this.isExpired&&this.canBeProlonged||!this.isExpanded&&"unsubscribes_reasons.sort"!==this.orderField||t.push({label:"reason",value:'<span class="g-gray">'.concat(this.subscriber.unsubscribeReason||this.$i18n.t("message.reason_no_reason_value"),"</span>"),orderField:"unsubscribes_reasons.sort"}),this.subscriber.recommendations&&this.isExpanded&&t.push({label:"referred_subscribers",value:null,button:{label:this.subscriber.recommendations||"0",click:function(){var t=e.$route,s=t.name,i=t.query,r=t.params,n={name:s,params:r,query:v(v({},i),{},{recommender_id:e.user.username})};e.$router.replace(n),e.$root.$emit("bv::hide::modal","ModalSubscribersItem")}}})):t.push({label:"subscription",value:this.$i18n.t("message.not_subscribed")}),t},listEarnings:function(){var e=[];return this.isSubscriber&&((this.isExpanded||"last_activity"===this.orderField&&"desc"!==this.orderDir)&&e.push({label:"subscribers_activity_last",value:this.humanDate(this.subscriber.lastActivity),orderField:"last_activity"}),(this.isExpanded||"summ_subscribes"===this.orderField)&&e.push({label:"subscribers_activity_subscribes_summ",value:this.amountHuman(this.subscriber.subscribesSumm),orderField:"summ_subscribes"}),(this.isExpanded||"summ_post"===this.orderField)&&e.push({label:"subscribers_activity_posts_summ",value:this.amountHuman(this.subscriber.postsSumm),orderField:"summ_post"}),(this.isExpanded||"summ_chat_messages"===this.orderField)&&e.push({label:"subscribers_activity_chats_summ",value:this.amountHuman(this.subscriber.messagesSumm),orderField:"summ_chat_messages"}),(this.isExpanded||"summ_stream"===this.orderField)&&e.push({label:"subscribers_activity_streams_summ",value:this.amountHuman(this.subscriber.streamsSumm),orderField:"summ_stream"}),(this.isExpanded||"summ_tips"===this.orderField)&&e.push({label:"subscribers_activity_tips_summ",value:this.amountHuman(this.subscriber.tipsSumm),orderField:"summ_tips"}),e.push({label:"subscribers_activity_total_summ",value:this.amountHuman(this.totalSumm),orderField:"summ_total"})),e},listOffers:function(){var e=this,t=[];return this.promoOffers.forEach((function(s){(e.isExpanded||"create_date"===e.orderField&&"desc"!==e.orderDir)&&t.push({label:"sent_date",value:e.humanDate(s.createdAt),orderField:"create_date"}),(e.isExpanded||"subscribe_days"===e.orderField)&&t.push({label:"offer_duration",value:e.$i18n.tc("message.count_day_plural_new",s.subscribeDays,{COUNT:s.subscribeDays}),orderField:"subscribe_days"}),(e.isExpanded||"expire_date"===e.orderField)&&t.push({label:e.currentDate>+new Date(s.expiredAt)?"expired":"expires",value:e.humanDate(s.expiredAt),orderField:"expire_date"}),t.push({label:s.finishedAt?"claimed":"unclaimed",value:s.finishedAt?e.humanDate(s.finishedAt):e.currentDate>+new Date(s.expiredAt)?'<span class="g-gray">'.concat(e.$i18n.t("message.expired_title"),"</span>"):null,button:s.finishedAt||e.currentDate>+new Date(s.expiredAt)?null:{label:e.$i18n.t("message.cancel_offer"),click:function(){e.$root.$emit("personal::offer::delete",s.id)}},orderField:"finish_date"})})),t},list:function(){var e=[];return"subscription"===this.activeTab?this.listSubscription:"earnings"===this.activeTab?this.listEarnings:"offer"===this.activeTab?this.listOffers:e},promoOffers:function(){return this.offer?[this.offer]:this.user.promoOffers&&this.user.promoOffers.length?[this.user.promoOffers[0]]:[]},defaultActiveTab:function(){return this.active?this.active:"activity"===this.$route.params.type&&this.listEarnings.length?"earnings":"Promotions"===this.$route.name&&this.promoOffers.length?"offer":"subscription"}}),mounted:function(){this.$root.$on("subscribers::tab::reset",this.resetActiveTab)},beforeDestroy:function(){this.$root.$on("subscribers::tab::reset",this.resetActiveTab)},methods:v(v({},Object(d["E"])(["setModalOffer"])),{},{openDiscountModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setModalUser({userId:this.user.id});case 2:this.$nextTick((function(){t.$root.$emit("bv::set::modal::promoType","discount"),t.$root.$emit("bv::show::modal","ModalPersonalOffer")}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setOrder:function(e){var t=this.$route.query.search,s={};e===this.orderField?"desc"===this.orderDir&&(s.order_dir="asc"):"desc"!==this.orderDir&&(s.order_dir="asc"),("Promotions"===this.$route.name&&"create_date"!==e||"Promotions"!==this.$route.name&&"last_activity"!==e)&&(s.order_field=e),t&&(s.search=t),this.$router.replace({query:s})},humanDate:function(e){return c()(e).format("MMM D, YYYY")},amountHuman:function(e){return"$".concat(parseFloat(e).toFixed(2))},priceHuman:function(e){return e?this.amountHuman(e):this.$i18n.t("message.free")},setActiveTab:function(e){var t=this;this.expandCard(),"sm"===this.$mq?this.activeTab=e:this.$nextTick((function(){t.$root.$emit("subscriberModal::setActiveTab",e)}))},openSubscriberPopup:function(){var e=this;this.setModalUser({userId:this.user.id}),this.setModalOffer(this.offerId),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalSubscribersItem")}))},toggleCard:function(){this.isExpanded?this.collapseCard():this.expandCard()},expandCard:function(){"sm"===this.$mq?this.isExpanded=!0:this.openSubscriberPopup()},collapseCard:function(){this.isExpanded=!1,this.$root.$emit("bv::hide::modal","ModalSubscribersItem")},resetActiveTab:function(){this.activeTab=this.defaultActiveTab,this.collapseCard()},maybeOpenCard:function(e){!this.isSubscriber||"sm"===this.$mq||this.expanded?this.$router.push(e):this.openSubscriberPopup()},canBeOrdered:function(e){return!!e.orderField&&("SubscribersByType"===this.$route.name||"Subscribers"===this.$route.name||"Promotions"===this.$route.name)}})},_=g,y=s("2877"),w=Object(y["a"])(_,i,r,!1,null,null,null);t["a"]=w.exports},4894:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.banners.length?s("div",{staticClass:"banner_place"},[s("swiper",{attrs:{options:e.swiperOptions}},e._l(e.banners,(function(e,t){return s("swiper-slide",{key:t},[e.url?s("a",{attrs:{href:e.url}},[s("img",{attrs:{src:e.imageSrc,alt:""}})]):s("img",{attrs:{src:e.imageSrc,alt:""}})])})),1),s("div",{staticClass:"swiper-pagination b-banners__pagination"})],1):e._e()},r=[],n=(s("96cf"),s("3b8d")),a=s("2612"),o={name:"BannerPlace",data:function(){return{banners:[],swiperOptions:{pagination:{el:".b-banners__pagination",clickable:!0}}}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["B"])();case 3:this.banners=e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()}},c=o,l=s("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);t["a"]=u.exports},"48f6":function(e,t,s){e.exports=s.p+"img/cover-light.png"},"4a85":function(e,t,s){},"4af5":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"userPosts",staticClass:"js-posts-container",class:{user_posts:!e.showGridLayout||!e.showingPosts.length&&!((e.isProfile||e.isProfileInner)&&e.user.hasPinnedPosts&&e.showingPostsPinned.length),"b-photos":e.showGridLayout&&(e.showingPosts.length||(e.isProfile||e.isProfileInner)&&e.user.hasPinnedPosts&&e.showingPostsPinned.length)}},[e.isLoading?s("div",{staticClass:"b-posts_preloader_container show_more_container m-temp-height"},[s("spinner-loader")],1):e._e(),e.showPostStreams&&!e.postType&&e.userStreams.length?e._l(e.userStreams,(function(e){return s("post-stream",{key:e.id,attrs:{post:e}})})):e._e(),e.showPostStreams&&!e.postType&&e.mainScheduledStream&&e.user.hasScheduledStream&&e.mainScheduledStream.user.id===e.user.id?[s("post-scheduled-stream",{key:e.mainScheduledStream.id,attrs:{post:e.mainScheduledStream,showMore:!0}})]:e._e(),e.isPostsLoading||e.showingPosts.length||(e.isProfile||e.isProfileInner)&&e.user.hasPinnedPosts&&e.postsPinned.length||"streams"===e.$route.params.postType?[e.showLoadNewBtn?s("button",{ref:"loadPrevPosts",staticClass:"g-btn m-rounded m-block w-100 m-mb-20",attrs:{disabled:e.disabledLoadPrevPosts},on:{click:e.loadPrevPosts}},[e._v(" "+e._s(e.$t("message.load_previous_posts"))+" ")]):e._e(),(e.isProfile||e.isProfileInner)&&e.user.hasPinnedPosts&&e.showingPostsPinned.length?[e._l(e.showingPostsPinned,(function(t,i){return[e.showGridLayout?s("users-post-grid",{key:t.id,attrs:{media:t.media,post:t.post,index:i},on:{mediaId:e.setGalleryIndex}}):s("users-post",{key:t.id,attrs:{post:t}})]}))]:e._e(),e.userScheduledStreams.length&&"streams"===e.$route.params.postType?e._l(e.userScheduledStreams,(function(e){return s("post-scheduled-stream",{key:e.id,attrs:{post:e}})})):e._e(),e._l(e.showingPosts,(function(t,i){return[e.showGridLayout?s("users-post-grid",{key:t.id,attrs:{media:t.media,post:t.post,index:i},on:{mediaId:e.setGalleryIndex}}):s("users-post",{key:t.id,attrs:{post:t}})]})),e.posts.length>=e.limit&&!e.isPost&&!e.loaderBottomError?s("infinite-loading",{ref:"infiniteLoader",attrs:{identifier:e.infiniteId,distance:1200},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e.loaderBottomError?s("div",{staticClass:"manual-loader"},[e.loaderBottomErrorPreloader?e._e():s("button",{staticClass:"g-btn m-rounded m-block w-100",on:{click:e.manualLoadMorePosts}},[e._v(" "+e._s(e.$t("message.load_next_posts"))+" ")]),e.loaderBottomErrorPreloader?s("spinner-loader"):e._e()],1):e._e()]:s("div",{staticClass:"no-posts"},[e.showGridLayout&&!e.user.subscribedBy?s("post-restricted",{attrs:{"user-id":e.user.id}}):"Profile"===e.$route.name&&e.isAuthUser&&!e.user.postsCount?s("div",{staticClass:"b-create-post"},[s("router-link",{attrs:{to:{name:"PostsCreate"}}},[e._v(" "+e._s(e.$t("message.message_create_new_post"))+" ")])],1):s("div",[s("p",{staticClass:"empty-message"},[e._v(" "+e._s(e.$t("message.nothing_found_message"))+" ")])])],1)],2)},r=[],n=(s("8e6e"),s("20d6"),s("456d"),s("6762"),s("2fdb"),s("96cf"),s("3b8d")),a=s("75fc"),o=(s("ac6a"),s("c5f6"),s("7f7f"),s("bd86")),c=s("63ea"),l=s.n(c),u=s("9b02"),d=s.n(u),h=s("c1df"),p=s.n(h),m=s("e166"),f=s.n(m),b=s("d634"),v=s("632b"),g=s("361e"),_=s("4ca0"),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-post m-stream-post",on:{mouseover:function(t){e.showHoverLockState=!0},mouseleave:function(t){e.showHoverLockState=!1}}},[s("div",{staticClass:"b-post__header"},[s("router-link",{staticClass:"b-post__avatar",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:(!e.author.hasStream||e.author.isMuted)&&e.author.isOnline,"m-muted-by-me":e.author.isMuted}},[s("payer-rating",{attrs:{user:e.author,placement:"right"}}),s("image-thumb",{attrs:{user:e.author,size:"c50"}}),e.author.hasStream&&!e.author.isMuted?s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]):e._e()],1)]),s("div",{staticClass:"b-username-row m-gap-lg"},[s("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[s("div",{staticClass:"g-user-name"},[e._v(" "+e._s(e._f("encodeHtml")(e.author.name))+" ")])])],1),s("div",{staticClass:"b-username-row"},[s("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.author.username)+" ")])]),e.post.price>0?s("div",{staticClass:"b-post__profile-details"},[s("div",{staticClass:"b-post__price"},[e._v(" $"+e._s(e.post.price)+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price"})])]):e._e()],1)],1),s("div",{staticClass:"b-post__text"},[e._v(" Stream started "),s("utils-time",{attrs:{date:e.post.startedAt,type:"feed"}})],1),s("div",{staticClass:"post_media"},[s("div",{staticClass:"b-stream-view",class:{"m-paid-stream":e.isPaidStream}},[s(e.streamRunnerComponent,e._b({tag:"component",staticClass:"b-stream-view__link",on:{click:e.buy}},"component",e.streamRunnerComponentProps,!1),[s("div",{staticClass:"b-stream-view__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]),s("div",{staticClass:"b-stream-view__timer"},[e._v(e._s(e.streamTimer))]),s("div",{staticClass:"b-stream-view__play-btn"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-play"})]),s("div",{staticClass:"loader-hearts"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-liked"})]),e.showDefaultCover?s("img",{staticClass:"b-stream-view__thumb",attrs:{src:e.defaultCoverSrc}}):e._e(),s("img",{directives:[{name:"show",rawName:"v-show",value:e.streamThumbSrc&&!e.showDefaultCover,expression:"streamThumbSrc && !showDefaultCover"}],ref:"streamThumb",staticClass:"b-stream-view__thumb m-stream-image",attrs:{src:e.streamThumbSrc},on:{load:e.checkStreamThumb,error:e.checkStreamThumb}})])],1),e.isPaidStream?s("div",{staticClass:"b-purchase m-light m-shadow-gradient"},[s("div",{staticClass:"b-purchase__content"},[s("div",{staticClass:"b-purchase__cost"},[e._v(" "+e._s(e.$t("message.pay_to_join_stream_text",{AMOUNT:""+e.post.price.toFixed(2).replace(".00",""),MODEL_NAME:e.author.name}))+" ")])]),s("div",{staticClass:"b-purchase__state",class:{"state-clicked":e.clicked}},[e.showHoverLockState?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-unlocked",staticClass:"icon-unlocked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-locked",staticClass:"icon-locked"}),s("div",{staticClass:"price-pay",domProps:{innerHTML:e._s(e.$t("message.chat_paid_massage_pay_button",{PRICE:"<br>$"+e.post.price.toFixed(2).replace(".00","")}))}})])]):e._e()])])},w=[],O=(s("6b54"),s("33a44")),C=s("e66b"),P=s("4683"),x=s("7520"),k=s("48f6"),S=s.n(k),E=s("64a1"),T=s.n(E);function A(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function j(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?A(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var $=3,M=10,I={name:"PostStream",components:{UtilsTime:O["a"],ImageThumb:C["a"],PayerRating:P["a"]},mixins:[x["a"]],props:{post:{type:Object,required:!0}},data:function(){return{streamThumbSrc:null,showDefaultCover:!1,interval:$,setInterval:null,thumbTimeout:null,now:null,showHoverLockState:!1,clicked:!1,clickedOnPay:!1}},computed:j(j(j({},Object(b["eb"])(["isDarkMode"])),Object(b["Ob"])(["getUser"])),{},{isSpaModule:function(){return!0},isPaidStream:function(){return this.post.price>0&&!this.post.isOpened},streamRunnerComponent:function(){return this.isPaidStream?"div":this.isSpaModule?"router-link":"a"},streamRunnerComponentProps:function(){return this.isPaidStream?{}:this.isSpaModule?{to:{name:"Live",params:{user:this.author.username}}}:{href:"/my/live/view/".concat(this.author.username)}},author:function(){return this.getUser(this.post.user)},streamTimer:function(){var e=+new Date(this.post.startedAt),t=Math.round((this.now-e)/1e3);if(t<=0)return"";var s=Math.floor(t/60),i=t-60*s;return"".concat(s,":").concat(i<10?"0".concat(i):i)},originalStreamThumb:function(){return this.post.thumbUrl},defaultCoverSrc:function(){return this.isDarkMode?T.a:S.a}}),created:function(){this.streamThumbSrc=this.originalStreamThumb},mounted:function(){this.countStreamTimer(),this.setInterval=setInterval(this.countStreamTimer,1e3)},beforeDestroy:function(){clearInterval(this.setInterval),clearTimeout(this.thumbTimeout)},methods:{checkStreamThumb:function(e){var t=e.type;return"error"===t?(this.showDefaultCover=!0,this.interval=M,clearTimeout(this.thumbTimeout),void(this.thumbTimeout=setTimeout(this.reloadStreamThumb,1e3*this.interval))):"load"===t?(this.showDefaultCover=!1,this.interval=$,clearTimeout(this.thumbTimeout),void(this.thumbTimeout=setTimeout(this.reloadStreamThumb,1e3*this.interval))):void 0},reloadStreamThumb:function(){this.streamThumbSrc="".concat(this.originalStreamThumb,"?").concat(Math.random().toString(36).substr(2,9))},countStreamTimer:function(){this.now=+new Date},buy:function(){var e=this;if(this.isPaidStream){if(!this.clicked)return void(this.clicked=!0);if(this.clickedOnPay)return;this.clickedOnPay=!0,setTimeout((function(){e.payForStream(e.post,e.author)}))}}}},L=I,D=s("2877"),R=Object(D["a"])(L,y,w,!1,null,null,null),U=R.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"b-post post-scheduled-stream is-not-post-page",attrs:{id:"stream"+e.post.id},on:{mouseover:function(t){e.showHoverLockState=!0},mouseleave:function(t){e.showHoverLockState=!1}}},[i("div",{staticClass:"b-post__header"},[i("router-link",{staticClass:"b-post__avatar",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[i("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:(!e.author.hasStream||e.author.isMuted)&&e.author.isOnline,"m-muted-by-me":e.author.isMuted}},[i("image-thumb",{attrs:{user:e.author,size:"c50"}}),e.author.hasStream&&!e.author.isMuted?i("span",{staticClass:"g-avatar__live-label"},[i("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]):e._e()],1)]),i("div",{staticClass:"b-username-row m-gap-lg"},[i("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[i("div",{staticClass:"g-user-name"},[e._v(" "+e._s(e._f("encodeHtml")(e.author.name))+" ")])])],1),i("div",{staticClass:"b-username-row"},[i("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[i("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.author.username)+" ")])]),e.post.price>0?i("div",{staticClass:"b-post__profile-details"},[i("div",{staticClass:"b-post__price"},[e._v(" $"+e._s(e.post.price)+" "),i("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price"})])]):e._e()],1)],1),i("div",{staticClass:"b-post__text"},[i("p",{domProps:{innerHTML:e._s(e.post.description)}})]),i("div",{staticClass:"post_media"},[i("div",{staticClass:"post-scheduled-stream"},[i("div",{staticClass:"post-scheduled-stream__img"},[i("div",{staticClass:"post-scheduled-stream__img-trick"},[e.post.media?i("img",{attrs:{src:e.post.media.files.preview.url}}):i("img",{attrs:{src:s("9855")}})])]),i("div",{staticClass:"post-scheduled-stream__title"},[i("div",{staticClass:"post-scheduled-stream__title-text"},[e._v(" "+e._s(e.post.title||"Untitled")+" ")]),i("div",{staticClass:"post-scheduled-stream__title-time"},[i("span",[e._v(" "+e._s(e.$i18n.t("message.scheduled_for"))+" "),i("utils-time",{attrs:{date:e.post.scheduledAt,type:"scheduled-stream-post"}})],1),i("span",{staticClass:"bold"},[e.soon?[e._v(" Soon ")]:i("utils-time",{attrs:{date:e.post.scheduledAt,type:"expired"},on:{time:function(t){return e.checkTime(e.post)}}})],2)]),i("div",{staticClass:"post-scheduled-stream__title-upcoming"},[i("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"}),e._v(" "+e._s(e.$i18n.t("message.upcoming"))+" ")])])]),e.authUserId!==e.author.id?i("div",{staticClass:"b-purchase"},[i("div",{staticClass:"purchase-block"},[e.isReminder?i("button",{staticClass:"g-btn m-border m-rounded m-uppercase m-block mt-1",attrs:{type:"button"},on:{click:e.toggleReminder}},[e._v(" "+e._s(e.$i18n.t("message.remove_reminder"))+" ")]):i("button",{staticClass:"g-btn m-rounded post-subscribe-btn m-uppercase m-block mt-1",attrs:{type:"button"},on:{click:e.toggleReminder}},[e._v(" "+e._s(e.$i18n.t("message.set_reminder"))+" ")]),e.showMore&&e.scheduledStreamsCount>1?i("div",{staticClass:"post-scheduled-stream__more"},[i("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"streams"}}}},[e._v(" "+e._s(e.$i18n.t("message.show_more_scheduled_streams"))+" ")])],1):e._e()])]):e._e()])])},B=[],F=s("3bc9"),V=s("16d9");function H(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?H(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):H(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var q={name:"PostScheduledStream",components:{UtilsTime:O["a"],ImageThumb:C["a"],PostMedia:F["a"]},mixins:[V["a"]],props:{post:{type:Object,required:!0},showMore:{type:Boolean,default:!1}},data:function(){return{soon:!1,streamThumbSrc:null,isReminder:this.post.isReminder}},computed:z(z(z(z(z({},Object(b["eb"])(["isDarkMode"])),Object(b["Ob"])(["getUser"])),Object(b["b"])(["authUserId"])),Object(b["Bb"])(["scheduledStreamsCount"])),{},{author:function(){return this.post.user},streamTimer:function(){var e=+new Date(this.post.startedAt),t=Math.round((this.now-e)/1e3);if(t<=0)return"";var s=Math.floor(t/60),i=t-60*s;return"".concat(s,":").concat(i<10?"0".concat(i):i)},originalStreamThumb:function(){return this.post.thumbUrl},defaultCoverSrc:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.isDarkMode?defaultDarkCover:defaultCoverSrc}))}),mounted:function(){this.$route.hash==="#stream".concat(this.post.id)&&(console.dir(this.$el),this.scrollTo({top:this.$el.offsetTop-60,behavior:"smooth"}))},methods:z(z({},Object(b["Ab"])(["setScheduledStreamReminder","unsetScheduledStreamReminder"])),{},{toggleReminder:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isReminder){e.next=5;break}return e.next=3,this.unsetScheduledStreamReminder(this.post.id);case 3:e.next=7;break;case 5:return e.next=7,this.setScheduledStreamReminder(this.post.id);case 7:this.isReminder=!this.isReminder;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkTime:function(e){var t=(new Date).getTime(),s=new Date(e.scheduledAt).getTime();this.soon=s-t<=6e4}})},G=q,Z=(s("a775"),Object(D["a"])(G,N,B,!1,null,null,null)),W=Z.exports,Y=s("e528"),X=s("2ad6"),K=s("9d30"),Q=s("b775"),J=s("e057");function ee(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function te(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ee(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var se={name:"UsersPosts",components:{UsersPostGrid:g["a"],InfiniteLoading:f.a,UsersPost:v["a"],PostRestricted:_["a"],PostStream:U,SpinnerLoader:Y["a"],PostScheduledStream:W},mixins:[V["a"],X["a"],J["a"],K["a"]],props:{showPostStreams:{type:[String,Boolean],default:!0}},data:function(){return{infiniteId:+new Date,postType:"",options:{},limit:Q["e"],disabledLoadPrevPosts:!1,loaderBottomError:!1,loaderBottomErrorPreloader:!1}},computed:te(te(te(te(te(te(te({},Object(b["Ob"])(["user"])),Object(b["T"])(["posts","filterExpiredposts","totalPosts","postsByType","isGridLayout","hasPosts","getPost","activePost","activePostId","hasActivePost","isPostsLoading","postsPinned","hasPrevUserPostsToLoad","getLastProfileItemIds"])),Object(b["wb"])(["streams"])),Object(b["Bb"])(["mainScheduledStream","scheduledStreams"])),Object(b["b"])(["isAuth"])),Object(b["Z"])(["route"])),{},{isProfile:function(){return"Profile"===this.$route.name},isProfileInner:function(){return"ProfileInner"===this.$route.name},isLoading:function(){return this.isPostsLoading&&!this.showingPosts.length&&!((this.isProfile||this.isProfileInner)&&this.user.hasPinnedPosts&&this.postsPinned.length)},hasPrevPostsToLoad:{get:function(){return this.hasPrevUserPostsToLoad},set:function(e){this.setPrevUserPostsToLoad(e)}},showLoadNewBtn:function(){return!this.isLoading&&this.hasPrevPostsToLoad},isOpen:{get:function(){return this.photoSwipeIsOpen},set:function(e){e?this.$root.$on("closePhotoSwipe",this.hidePhotoSwipe):this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.photoSwipeSetItems(e?this.photoSwipeItems:[]),this.photoSwipeSetOptions(e?this.options:{}),this.photoSwipeSetOpen(e)}},isPost:function(){return!!this.$route.params.postId},isPostId:function(){return this.$route.params.postId},showingPosts:function(){var e=this;if(this.isPost){var t=Number(this.isPostId),s=[];return s=this.hasActivePost&&this.activePostId===t?this.activePost:this.getPost(t),s[0]&&s[0].id!==t&&(s=[]),s}var i=this.$route,r=i.name,n=i.params.postType;if("ProfileInner"===r)switch(n){case"photos":case"videos":var a="photos"===n?"photo":"video";return this.showGridLayout?this.posts.reduce((function(t,s){if(s.media&&s.media.length){var i=[],r=[],n=[];if(s.media.forEach((function(e){e.type===a&&(e.canView?i.push(e):r.push(e)),e.canView||n.push(e)})),i.length&&i.forEach((function(e){e.canView&&e.full&&t.push({media:te(te({},e),{},{type:a,postId:s.id})})})),r.length&&(s.price&&!s.isOpened||!e.user.subscribedBy))return t.push({post:te(te({},s),{},{media:n,preview:[]})}),t}return t}),[]):this.postsByType(a);default:return this.filterExpiredposts}return this.filterExpiredposts},showingPostsPinned:function(){var e=this.$route,t=e.name,s=e.params.postType;if("ProfileInner"===t)switch(s){case"photos":case"videos":var i="photos"===s?"photo":"video";return this.showGridLayout?this.postsPinned.reduce((function(e,t){if(t.media&&t.media.length){var s=[],r=[],n=[];if(t.media.forEach((function(e){e.type===i&&(e.canView?s.push(e):r.push(e)),e.canView||n.push(e)})),s.length&&s.forEach((function(s){s.canView&&s.full&&e.push({media:te(te({},s),{},{type:i,postId:t.id})})})),r.length&&t.price&&!t.isOpened)return e.push({post:te(te({},t),{},{media:n,preview:[]})}),e}return e}),[]):this.postsPinned;default:return this.postsPinned}return this.postsPinned},showGridLayout:function(){var e=this.$route,t=e.name,s=e.params.postType;return this.postType=s,"ProfileInner"===t&&("photos"===s||"videos"===s)&&this.isGridLayout},photoSwipeItems:function(){return[].concat(Object(a["a"])(this.showingPostsPinned),Object(a["a"])(this.showingPosts)).filter((function(e){return!e.post})).map((function(e){if(e.media){var t=e;e=t.media}return"video"===e.type?{media:e,postId:e.postId}:{media:{id:e.id},src:e.source?e.source.source:e.full,thumbnail:e.preview,w:e.source?e.source.width:0,h:e.source?e.source.height:0,postId:e.postId}}))},userStreams:function(){var e=this;return this.streams.filter((function(t){return t.user===e.user.id&&!t.isScheduled}))},userScheduledStreams:function(){var e=this;return this.scheduledStreams.filter((function(t){return t.user.id===e.user.id}))}}),watch:{route:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.to,i=t.from,!s||!s.name||["ProfileInner","Profile"].includes(s.name)){e.next=3;break}return e.abrupt("return");case 3:if(l()(s,i)){e.next=9;break}return this.infiniteReset(),this.user.hasPinnedPosts&&this.fetchPostsPinned(),e.next=8,this.fetchUserPostsByType();case 8:s.params.shouldScroll&&this.scrollToWall();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){if(this.isAuth&&this.user.hasStream&&this.fetchUserStream(this.user.id),this.$route.params.userId&&(this.isProfile||this.isProfileInner)&&this.user.hasPinnedPosts){var e=this.$route.params.postType,t=this.getLastProfileItemIds(this.user.username,e);t.length||this.fetchPostsPinned()}this.isAuth&&this.user.hasScheduledStream&&this.fetchScheduledStreams({userId:this.user.id,pages:!1})},beforeDestroy:function(){this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe)},methods:te(te(te(te(te({},Object(b["U"])(["setPrevUserPostsToLoad","setPinnedIds"])),Object(b["S"])(["fetchUserPosts","fetchPost","fetchPostsPinned","fetchUserPostsByType"])),Object(b["vb"])(["fetchUserStream"])),Object(b["Ab"])(["fetchScheduledStreams"])),{},{infiniteReset:function(){this.infiniteId+=1},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadMorePosts();case 3:s=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](0),t.loaded(),e.abrupt("return");case 10:s.length===this.limit?t.loaded():t.complete();case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}(),loadPrevPosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledLoadPrevPosts=!0,e.prev=1,e.next=4,this.loadMorePosts({direction:"top"});case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),this.disabledLoadPrevPosts=!1,e.abrupt("return");case 11:this.hasPrevPostsToLoad=t.length===this.limit,this.disabledLoadPrevPosts=!1;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}(),manualLoadMorePosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadMorePosts();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}(),loadMorePosts:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o,c,l,u,h,m,f,b,v,g,_,y,w,O,C=this,P=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=P.length>0&&void 0!==P[0]?P[0]:{},s=t.direction,i=void 0===s?"bottom":s,r=t.reset,void 0!==r&&r,n=t.beforePublishTime,a=t.afterPublishTime,o=this.user.id,c=this.$route.params.postType,l=this.$route.query,u=l.q,h=l.order,m=l.filter,n||a||(this.posts.length&&(f="bottom"===i?this.posts[this.posts.length-1]:this.posts[0]),Object.keys(f).length&&(b=d()(f,"postedAt"),v=d()(f,"postedAtPrecise"),v?"bottom"===i?n=v:a=v:"bottom"===i?n=p()(b).format("X.SSSSSS"):a=p()(b).format("X.SSSSSS"))),g="top"===i&&Object.keys(f).length,g&&(_=this.$refs.userPosts?this.$refs.userPosts.getBoundingClientRect().top:0,y=this.$refs.loadPrevPosts?this.$refs.loadPrevPosts.getBoundingClientRect().height:0),this.loaderBottomError&&(this.loaderBottomErrorPreloader=!0),e.prev=8,e.next=11,this.fetchUserPosts({id:o,type:c,query:u,order:h,filter:m,beforePublishTime:n,afterPublishTime:a,more:!!n,addNew:!!a});case 11:w=e.sent,e.next=19;break;case 14:throw e.prev=14,e.t0=e["catch"](8),this.loaderBottomError=!0,this.loaderBottomErrorPreloader=!1,e.t0;case 19:if(this.loaderBottomError=!1,this.loaderBottomErrorPreloader=!1,!(w.length<this.limit)){e.next=24;break}return e.next=24,this.fetchPostsPinned();case 24:return g&&(O=w.length===this.limit?_:_-y,this.$nextTick((function(){C.scrollToElement({behavior:"instant",el:document.getElementById("postId_".concat(f.id)),offset:O})}))),e.abrupt("return",w);case 26:case"end":return e.stop()}}),e,this,[[8,14]])})));function t(){return e.apply(this,arguments)}return t}(),setGalleryIndex:function(e){var t=this.photoSwipeItems.findIndex((function(t){return t.media.id===e}));this.showPhotoSwipe(t)},showPhotoSwipe:function(e){this.$set(this.options,"index",e),this.$set(this.options,"mainClass","m-".concat(this.postType)),this.isOpen=!0},hidePhotoSwipe:function(){this.isOpen=!1},scrollToWall:function(){var e=document.querySelector(".js-posts-container "),t=0;if("sm"===this.$mq&&(e=document.querySelector(".b-tabs-switchers"),t=60),e){var s=e.offsetTop-t;this.scrollTo({top:s})}}})},ie=se,re=Object(D["a"])(ie,i,r,!1,null,null,null);t["a"]=re.exports},"4b14":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"l-wrapper",class:{container:"sm"!==e.$mq,"m-content-one-column":!(e.isShowSidebar&&e.hasUser&&"sm"!==e.$mq)}},[e.hasUser?s("div",{staticClass:"l-wrapper__content"},[s("profile-sticky-header"),s("profile-header"),s("profile-feed")],1):e._e(),e.isShowSidebar&&e.hasUser&&"sm"!==e.$mq?s("user-list"):e._e(),e.loadingError?s("website-error"):e._e(),s("create-highlights-modal")],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("d634"),c=s("2612"),l=s("1db1"),u=s("1dd8"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasUser?s("div",{staticClass:"l-profile-container",class:{"m-parent-sticky-header":e.stickyHeader}},[s("div",{staticClass:"l-profile-page"},[s("div",{staticClass:"b-profile__header"},[s("img",{staticClass:"b-profile__header__cover-img",attrs:{src:e.thumbSrcLink(e.user.header,e.user.headerThumbs,"w760","header"),srcset:e.thumbsSrcSet(e.user.header,e.user.headerSize,e.user.headerThumbs),sizes:e.thumbsSizes(e.user.headerSize,e.user.headerThumbs),alt:e.user.name},on:{error:function(t){return e.errorCover(t)}}})]),s("div",{staticClass:"b-profile__header__user"},[s("div",{staticClass:"container"},[s("div",{staticClass:"b-profile__user"},[s("span",{staticClass:"g-avatar online_status_class m-w150 m-pointer",class:{online:(!e.user.hasStream||e.user.isMuted)&&e.user.isOnline,"m-muted-by-me":e.user.isMuted,"has-story":e.user.id!==e.authUser.id&&e.user.hasStories,"has-new-story":e.user.id!==e.authUser.id&&e.user.hasNotViewedStory},on:{click:e.runStoryTrottled}},[s("payer-rating",{attrs:{user:e.user}}),s("image-thumb",{attrs:{user:e.user,size:"c144"}}),e.user.hasStream&&!e.user.isMuted?s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]):e._e()],1),s("div",{staticClass:"b-group-profile-btns"},[e.isAuthUser?s("router-link",{staticClass:"g-btn m-rounded m-border m-uppercase m-flex m-fluid-width m-profile",attrs:{to:{name:"SettingsProfile"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"edit-icon",staticClass:"icon-settings"}),e._v(" "+e._s(e.$t("message.edit_profile_title"))+" ")]):e._e(),!e.isAuthUser&&e.isAuth&&e.user.subscribedBy&&e.user.tipsEnabled?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.send_a_tip_button"),expression:"$t('message.send_a_tip_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-profile",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openTipsModal(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"tip-icon",staticClass:"icon-funds"})]):e._e(),e.user.canReceiveChatMessage&&!e.user.isBlocked?["true"===e.$env.VUE_APP_SECTION_CHATS?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.message_button"),expression:"$t('message.message_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-profile",attrs:{to:{name:"Chat",params:{chatId:e.user.id}}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"message-icon",staticClass:"icon-message"})]):s("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.message_button"),expression:"$t('message.message_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-profile",attrs:{href:"/my/chats/chat/"+e.user.id}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"message-icon",staticClass:"icon-message"})])]:e._e(),!e.isAuthUser&&e.isAuth?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.addedLists.length?e.$t("message.open_users_lists_btn_label"):e.$t("message.add_to_users_lists_btn_label"),expression:"addedLists.length ? $t('message.open_users_lists_btn_label') : $t('message.add_to_users_lists_btn_label')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-profile",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openUsersListsModal(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:e.addedLists.length?"added":"add",class:"icon-list-add"+(e.addedLists.length?"ed":"")})]):e._e(),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.copy_link_to_profile_btn"),expression:"$t('message.copy_link_to_profile_btn')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-profile",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doCopyProfileLink(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-share"})])],2),s("div",{staticClass:"b-profile__names"},[s("div",{staticClass:"b-username-row m-gap-lg"},[s("router-link",{staticClass:"b-username",attrs:{id:"profileUrl",to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""}},[s("div",{staticClass:"g-user-name m-lg-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.displayName||e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])]),e.isAuth&&!e.isAuthUser&&e.authUser.isPerformer&&(e.user.subscribedOn||e.user.subscribedOnExpiredNow)?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.edit"),expression:"$t('message.edit')"}],staticClass:"g-btn m-flat m-gray b-user-name__btn-edit",class:{"m-active":e.user.displayName},attrs:{type:"button"},on:{click:function(t){return e.openCustomNamePopup(e.user.id)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-edit"})]):e._e()],1),s("div",{staticClass:"b-username-row"},[s("router-link",{staticClass:"g-user-realname__wrapper m-nowrap-text",attrs:{to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""}},[e.user.displayName&&e.user.name!==""+e.userLoginPrefix+e.user.id?s("div",{staticClass:"g-user-realname"},[e._v(" "+e._s(e.user.name)+" ")]):e._e(),s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(e.user.username)+" ")])]),e.isShowOnlineStatus||e.isAuthUser?s("div",{staticClass:"b-profile__user__status m-separator m-nowrap"},[s("span",{staticClass:"b-profile__user__status__text"},[e.isAuthUser?s("users-status",{attrs:{user:e.user}}):e.userIsStreamingNow?[e._v(" "+e._s(e.$t("message.message_live_now"))+" ")]:e.user.isOnline&&!e.isAuthUser?[e._v(" "+e._s(e.$t("message.profile_available_now_label"))+" ")]:null!==e.user.lastSeen?[e._v(" "+e._s(e.$t("message.profile_last_seen_label"))+" "),e.user.lastSeen?s("utils-time",{attrs:{date:e.user.lastSeen,type:"feed"}}):[e._v(" "+e._s(e.$t("message.days_ago"))+" ")]]:e._e()],2)]):e._e()],1)])]),s("div",{staticClass:"b-profile__content"},[e.user.about||e.user.website||e.user.wishlist?s("div",{staticClass:"b-user-info"},[s("div",{staticClass:"b-user-info__content",class:{"m-collapsed":e.isShowBio}},[e.user.about?s("div",{ref:"userAbout",staticClass:"b-user-info__text",class:{"m-toggle":!e.isShowBio},domProps:{innerHTML:e._s(e.user.about)}}):e._e(),e.user.location?s("div",{staticClass:"b-user-info__detail"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-location"}),s("span",[e._v(e._s(e.user.location))])]):e._e(),e.user.website?s("div",{staticClass:"b-user-info__detail"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-link"}),s("a",{attrs:{href:e.websiteAwayLink,rel:"nofollow",target:"_blank"}},[e._v(e._s(e.user.website))])]):e._e(),e.user.wishlist?s("div",{staticClass:"b-user-info__detail"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-trial"}),s("a",{attrs:{href:e.wishlistAwayLink,rel:"nofollow",target:"_blank"}},[e._v(e._s(e.shorterUserWishlist))])]):e._e()]),e.showCollapseBtn?s("button",{staticClass:"b-user-info__collapsed-link g-btn m-flat",class:{active:e.isShowBio},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleBio(t)}}},[e._v(" "+e._s(e.showUserInfoTitle)+" ")]):e._e()]):e._e(),"sm"===e.$mq?s("Highlights"):e._e(),s("div",{staticStyle:{display:"none"},attrs:{id:"stories"}})],1),e.subscriber&&e.authUser.isPerformer?s("ul",{staticClass:"b-fans__item__list"},[s("li",{staticClass:"b-fans__item__list__item"},[s("span",{staticClass:"b-fans__item__list__label"},[e._v(" "+e._s(e.isExpired?e.$t("message.expired_title"):e.$t("message.user_subscribed_for"))+" ")]),s("span",[e._v(" "+e._s(e.isExpired?"":e.subscriber.duration)+" ")])]),s("li",{staticClass:"b-fans__item__list__item"},[s("span",{staticClass:"b-fans__item__list__label"},[e._v(" "+e._s(e.$t("message.fan_spent"))+" ")]),e._v(" "+e._s(e.totalSumm)+" ")])]):e._e(),s("offers-block",{attrs:{id:e.user.id}})],1)]),s("div",{staticClass:"b-tabs-switchers"},["sm"===e.$mq&&e.hasFriendsSpotifyTab||e.hasAnyDesktopTab?s("div",{staticClass:"container"},[s("ul",{staticClass:"b-tabs__nav m-tabs-marks",attrs:{id:"js-tabs-switchers"}},[s("router-link",{attrs:{to:{name:"Profile",params:{userId:e.user.username}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"Profile"===e.$route.name}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-post2"})])])]}}],null,!1,1784927790)}),e.user.photosCount?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"photos"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"photos"===e.$route.params.postType}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"photos")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-image"})])])]}}],null,!1,3599699085)}):e._e(),e.user.videosCount?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"videos"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"videos"===e.$route.params.postType}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"videos")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video"})])])]}}],null,!1,4087589691)}):e._e(),e.user.audiosCount?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"audios"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"audios"===e.$route.params.postType}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"audios")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"})])])]}}],null,!1,999321980)}):e._e(),e.user.archivedPostsCount||e.isArchivePage?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"archived"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"archived"===e.$route.params.postType}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"archived")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-collection"})])])]}}],null,!1,1186350876)}):e._e(),"sm"===e.$mq&&e.user.isPerformer&&e.user.hasFriends?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"friends"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"friends"===e.$route.params.postType,"m-disabled":!e.user.subscribedBy}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"friends")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-friends"})])])]}}],null,!1,3783551810)}):e._e(),"sm"===e.$mq&&(e.user.isSpotifyConnected||e.isAuthUser)?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"spotify"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"spotify"===e.$route.params.postType,"m-disabled":!e.authUser&&!e.user.subscribedBy}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"spotify")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-spotify"})])])]}}],null,!1,3359428121)}):e._e(),e.scheduledStreams.length?s("router-link",{attrs:{to:{name:"ProfileInner",params:{postType:"streams"}}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.href,r=(t.route,t.navigate);return[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":"ProfileInner"===e.$route.name&&"streams"===e.$route.params.postType}},[s("a",{staticClass:"b-tabs__nav__link",attrs:{href:i},on:{click:r,mousedown:function(t){return e.tabSwitcherClick(t,"streams")}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})])])]}}],null,!1,3920031324)}):e._e()],1)]):e._e()])]),s("modal-confirm",{attrs:{"modal-show":e.isShowStreamConfirm,title:this.$i18n.t("message.join_stream"),text:this.$i18n.t("message.pay_to_join_stream_text",{AMOUNT:e.userStream?e.userStream.price:0,MODEL_NAME:e.user.name}),"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isShowStreamConfirm=t},"update:modal-show":function(t){e.isShowStreamConfirm=t},"on-agree":function(){return e.payForStream(e.userStream,e.user)}}})],1):e._e()},h=[],p=s("bc02"),m=p["a"],f=s("2877"),b=Object(f["a"])(m,d,h,!1,null,null,null),v=b.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasUser?s("div",{staticClass:"b-compact-header",class:{"m-sticky":e.stickyHeader}},[s("div",{staticClass:"container"},[s("div",{staticClass:"b-compact-header__wrapper"},[s("button",{staticClass:"g-page__header__btn m-with-round-hover",on:{click:function(t){return e.goBack(void 0)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-back"})]),s("div",{staticClass:"b-compact-header__user"},[s("div",{staticClass:"b-username-row m-gap-clear"},[s("router-link",{staticClass:"b-username",attrs:{id:"profileUrl",to:{name:"Profile",params:{userId:e.user.username}},"active-class":"","exact-active-class":""},nativeOn:{click:function(t){return e.maybeScrollToTop(t)}}},[s("div",{staticClass:"g-user-name m-lg-size",class:{"m-verified":e.user.isVerified}},[e._v(" "+e._s(e._f("encodeHtml")(e.user.displayName||e.user.name))+" "),e.user.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"m-verified"}}):e._e()])]),e.isAuth&&!e.isAuthUser&&e.authUser.isPerformer&&(e.user.subscribedOn||e.user.subscribedOnExpiredNow)?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.edit"),expression:"$t('message.edit')"}],staticClass:"g-btn m-flat b-user-name__btn-edit",class:{"m-active":e.user.displayName},attrs:{type:"button"},on:{click:function(t){return e.openCustomNamePopup(e.user.id)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-edit",staticClass:"icon-edit"})]):e._e()],1),e.isShowOnlineStatus&&e.stickyHeader?s("div",{staticClass:"b-profile__user__status",class:{"m-online":e.user.isOnline&&!e.userIsStreamingNow,"m-restricted":e.user.isMuted,online_status_class:e.userIsStreamingNow}},[s("span",{staticClass:"b-profile__user__status__text"},[e.user.isMuted?[e._v(" "+e._s(e.$t("message.ignore"))+" ")]:e.userIsStreamingNow?[s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-live",staticClass:"icon-live",attrs:{"extra-class":"icon-user-status"}})]),e._v(" "+e._s(e.$t("message.message_live_now"))+" ")]:e.user.isOnline?[e._v(" "+e._s(e.$t("message.profile_available_now_label"))+" ")]:null!==e.user.lastSeen?[e._v(" "+e._s(e.$t("message.profile_last_seen_label"))+" "),e.user.lastSeen?s("utils-time",{attrs:{date:e.user.lastSeen,type:"feed"}}):[e._v(" "+e._s(e.$t("message.days_ago"))+" ")]]:e._e()],2)]):s("ul",{staticClass:"b-profile__sections"},[e.user.showMediaCount?[e.user.photosCount?["ProfileInner"!==e.$route.name||"photos"!==e.$route.params.postType?s("router-link",{staticClass:"b-profile__sections__item active",attrs:{tag:"li",to:{name:"ProfileInner",params:{postType:"photos",userId:e.user.username,shouldScroll:!0}}}},[s("span",{staticClass:"b-profile__sections__link"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-image-1",staticClass:"icon-image"}),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.photosCount)))])])]):s("li",{staticClass:"b-profile__sections__item",on:{click:e.scrollToWall}},[s("span",{staticClass:"b-profile__sections__link"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-image-2",staticClass:"icon-image"}),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.photosCount)))])])])]:s("li",{staticClass:"b-profile__sections__item",on:{click:e.scrollToWall}},[s("span",{staticClass:"b-profile__sections__link"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-image-3",staticClass:"icon-image"}),s("span",{staticClass:"b-profile__sections__count"},[e._v("0")])])]),e.user.videosCount?["ProfileInner"!==e.$route.name||"videos"!==e.$route.params.postType?s("router-link",{staticClass:"b-profile__sections__item active",attrs:{tag:"li",to:{name:"ProfileInner",params:{postType:"videos",userId:e.user.username,shouldScroll:!0}}}},[s("span",{staticClass:"b-profile__sections__link"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-video-1",staticClass:"icon-video"}),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.videosCount)))])])]):s("li",{staticClass:"b-profile__sections__item",on:{click:e.scrollToWall}},[s("span",{staticClass:"b-profile__sections__link"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-video-2",staticClass:"icon-video"}),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.videosCount)))])])])]:s("li",{staticClass:"b-profile__sections__item",on:{click:e.scrollToWall}},[s("span",{staticClass:"b-profile__sections__link"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-video-3",staticClass:"icon-video"}),s("span",{staticClass:"b-profile__sections__count"},[e._v("0")])])])]:[e.user.postsCount?["Profile"!==e.$route.name?s("router-link",{staticClass:"b-profile__sections__item active",attrs:{tag:"li",to:{name:"Profile",params:{userId:e.user.username,shouldScroll:!0}}}},[s("span",{staticClass:"b-profile__sections__link"},[s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.postsCount)))]),s("span",{staticClass:"b-profile__sections__name"},[e._v(" "+e._s(e.user.postsCount>1?e.$t("message.posts_button"):e.$t("message.one_post_button"))+" ")])])]):s("li",{staticClass:"b-profile__sections__item",on:{click:e.scrollToWall}},[s("span",{staticClass:"b-profile__sections__link"},[s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.postsCount)))]),s("span",{staticClass:"b-profile__sections__name"},[e._v(" "+e._s(e.user.postsCount>1?e.$t("message.posts_button"):e.$t("message.one_post_button"))+" ")])])])]:s("li",{staticClass:"b-profile__sections__item",on:{click:e.scrollToWall}},[s("span",{staticClass:"b-profile__sections__link"},[s("span",{staticClass:"b-profile__sections__name"},[e._v(" "+e._s(e.$t("message.message_no_posts"))+" ")])])])],e.stickyHeader?e._e():[e.user.favoritedCount?[s("li",{staticClass:"b-profile__sections__item"},[s("span",{staticClass:"b-profile__sections__link m-no-hover"},[e.user.showMediaCount?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-like",staticClass:"icon-like"}):e._e(),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.favoritedCount)))]),e.user.showMediaCount?e._e():s("span",{staticClass:"b-profile__sections__name"},[e._v(" "+e._s(e.user.favoritedCount>1?e.$t("message.likes_button"):e.$t("message.one_like_button"))+" ")])])])]:e._e(),e.user.subscribersCount&&(e.isAuthUser||e.user.showSubscribersCount)?[e.isAuthUser?s("router-link",{staticClass:"b-profile__sections__item",class:{active:"Subscribers"===e.$route.name},attrs:{tag:"li",to:{name:"Subscribers"}}},[s("span",{staticClass:"b-profile__sections__link"},[e.user.showMediaCount?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-follow-1",staticClass:"icon-follow"}):e._e(),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.subscribersCount)))]),e.user.showMediaCount?e._e():s("span",{staticClass:"b-profile__sections__name"},[e._v(" "+e._s(e.user.subscribersCount>1?e.$t("message.fans_button"):e.$t("message.one_fan_button"))+" ")])])]):s("li",{staticClass:"b-profile__sections__item"},[s("span",{staticClass:"b-profile__sections__link"},[e.user.showMediaCount?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"compact-icon-follow-2",staticClass:"icon-follow"}):e._e(),s("span",{staticClass:"b-profile__sections__count"},[e._v(e._s(e._f("formatCount")(e.user.subscribersCount)))]),e.user.showMediaCount?e._e():s("span",{staticClass:"b-profile__sections__name"},[e._v(" "+e._s(e.user.subscribersCount>1?e.$t("message.fans_button"):e.$t("message.one_fan_button"))+" ")])])])]:e._e()]],2)]),s("div",{staticClass:"b-group-profile-btns"},[e.isAuthUser?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.edit_profile_button"),expression:"$t('message.edit_profile_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-sm-size m-no-border m-profile",attrs:{to:{name:"SettingsProfile"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"edit-icon",staticClass:"icon-settings",attrs:{"extra-class":"m-dark-icon"}})]):e._e(),!e.isAuthUser&&e.isAuth&&e.user.subscribedBy&&e.user.tipsEnabled?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.send_a_tip_button"),expression:"$t('message.send_a_tip_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-sm-size m-no-border m-profile",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openTipsModal(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"tip-icon",staticClass:"icon-funds",attrs:{"extra-class":"m-dark-icon"}})]):e._e(),e.user.canReceiveChatMessage&&!e.user.isBlocked?["true"===e.$env.VUE_APP_SECTION_CHATS?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.message_button"),expression:"$t('message.message_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-sm-size m-no-border m-profile",attrs:{to:{name:"Chat",params:{chatId:e.user.id}}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"message-icon",staticClass:"icon-message",attrs:{"extra-class":"m-dark-icon"}})]):s("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.message_button"),expression:"$t('message.message_button')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-sm-size m-no-border m-profile",attrs:{href:"/my/chats/chat/"+e.user.id}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"message-icon",staticClass:"icon-message",attrs:{"extra-class":"m-dark-icon"}})])]:e._e(),!e.isAuthUser&&e.isAuth?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.addedLists.length?e.$t("message.open_users_lists_btn_label"):e.$t("message.add_to_users_lists_btn_label"),expression:"addedLists.length ? $t('message.open_users_lists_btn_label') : $t('message.add_to_users_lists_btn_label')"}],staticClass:"g-btn m-rounded m-border m-icon m-icon-only m-sm-size m-no-border m-profile",class:{"m-active":e.addedLists.length},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openUsersListsModal(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:e.addedLists.length?"added":"add",class:"icon-list-add"+(e.addedLists.length?"ed":""),attrs:{"extra-class":"m-dark-icon"}})]):e._e()],2),s("users-action",{directives:[{name:"show",rawName:"v-show",value:!e.stickyHeader,expression:"!stickyHeader"}],attrs:{user:e.user,"subscriber-item":e.subscriber,"class-btn":"b-compact-header__settings m-hover-vertical m-btn-vertical-dots m-center m-reset-gaps m-light"}})],1)])]):e._e()},_=[],y=s("f1f7"),w=s("fa8d"),O=s("e057"),C=s("16d9"),P=s("c785"),x=s("1560"),k=s("0687"),S=s("33a44");function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var A={name:"ProfileStickyHeader",components:{UsersAction:w["a"],UtilsTime:S["a"]},filters:{formatCount:y["a"]},mixins:[O["a"],C["a"],P["a"],k["a"],x["a"]],data:function(){return{stickyHeader:!1}},computed:T(T(T(T({},Object(o["Ob"])(["user","hasUser"])),Object(o["b"])(["isAuth","authUser"])),Object(o["Jb"])(["getSubscribe"])),{},{isShowOnlineStatus:function(){return this.userIsStreamingNow||this.user.isMuted||this.user.isOnline||null!==this.user.lastSeen},subscriber:function(){return this.getSubscriber(this.user.id)},addedLists:function(){return this.user.listsStates?this.user.listsStates.filter((function(e){return["fans","following","rebill_on"].indexOf(e.type)<0&&e.hasUser})):[]},userIsStreamingNow:function(){return this.user.hasStream&&!this.user.isMuted}}),mounted:function(){window.addEventListener("scroll",this.setStickyHeader)},beforeDestroy:function(){window.removeEventListener("scroll",this.setStickyHeader)},methods:T(T({},Object(o["Sb"])(["setModalUser"])),{},{setStickyHeader:function(){this.stickyHeader=window.scrollY>180},openTipsModal:function(){var e=this;this.setModalUser({userId:this.user.id,postId:null}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalTips")}))},openUsersListsModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))},scroll:function(e){var t=this;this.$nextTick((function(){t.$scrollTo("#".concat(e),300,{offset:-60})}))},scrollToWall:function(){this.scroll("js-tabs-switchers")},maybeScrollToTop:function(){this.stickyHeader&&this.scroll("content")}})},j=A,$=Object(f["a"])(j,g,_,!1,null,null,null),M=$.exports,I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-feed-content",class:{container:"sm"===e.$mq}},[e.restricted&&e.hasFeedSearchRestrictedProfile?s("feed-search-light"):e._e(),e.restricted?s("post-restricted",{attrs:{"user-id":e.user.id}}):[e.hasFeedSearch?s("feed-search"):e.hasFeedHeader?s("feed-header"):e._e(),e.showSpotify?s("spotify-widget"):e.showFriends?s("friends-widget"):e._e(),s("users-posts",{directives:[{name:"show",rawName:"v-show",value:!e.showSpotify&&!e.showFriends,expression:"!showSpotify && !showFriends"}]}),s("back-to-top-btn",{directives:[{name:"show",rawName:"v-show",value:!e.showSpotify&&!e.showFriends,expression:"!showSpotify && !showFriends"}]})]],2)},L=[],D=s("4ca0"),R=s("4af5"),U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"searchContainer",staticClass:"b-profile__search__container"},[s("div",{staticClass:"b-profile__search"},[e.isShowForm?s("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:e.toggleForm,expression:"toggleForm"}],staticClass:"b-profile__search-form",class:{show:e.isShowForm},attrs:{id:"profile-search-form"}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.searchSubmit(t)}}},[s("div",{staticClass:"b-profile__search-form__wrapper"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_clear"),expression:"$t('message.search_clear')"}],staticClass:"b-profile__search-form__reset",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clearForm(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"searchInput",staticClass:"b-profile__search-form__input",attrs:{type:"text",maxlength:100,placeholder:this.$i18n.t("message.search_posts_placeholder"),name:"q",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),s("button",{staticClass:"b-profile__search-form__btn",attrs:{type:"submit"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_button"),expression:"$t('message.search_button')"}],staticClass:"icon-search"})])])])]):e._e(),s("div",{staticClass:"b-profile__search__line"},[s("div",{staticClass:"b-profile__search__title"},[e._v(" "+e._s(e.title)+" ")]),s("div",{staticClass:"g-btn__group b-profile__section-btns"},[e.isShowForm?e._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_posts_placeholder"),expression:"$t('message.search_posts_placeholder')"}],staticClass:"b-profile__search__btn m-with-round-hover",attrs:{type:"button",disabled:e.disabledBtn},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search"})]),s("post-filter",{class:{"m-disabled":e.disabledBtn}})],1)])])])},N=[],B=(s("a481"),s("386d"),s("9b02")),F=s.n(B),V=s("c7db"),H=s("d308");function z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function q(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?z(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):z(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var G={name:"FeedSearch",directives:{onClickaway:V["directive"]},components:{PostFilter:H["a"]},mixins:[C["a"],O["a"]],data:function(){return{isShowForm:!!this.$route.query.q,search:this.$route.query.q||""}},computed:q(q(q({},Object(o["Ob"])(["user"])),Object(o["b"])(["isAuth"])),{},{title:function(){if(this.isShowForm)return"";var e=this.user,t=e.postsCount,s=e.archivedPostsCount,i=!!F()(this.$route,"query.filter");return"Profile"===this.$route.name?i?this.$i18n.t("message.posts_section_title"):t?"".concat(t," ").concat(t>1?this.$i18n.t("message.posts_section_title"):this.$i18n.t("message.post_page_title")):this.$i18n.t("message.message_no_posts_yet"):s?i?this.$i18n.t("message.archived_posts_section_title"):"".concat(s," ").concat(s>1?this.$i18n.t("message.archived_posts_section_title"):this.$i18n.t("message.archived_post_section_title")):void 0},disabledBtn:function(){return this.user.isPrivateRestriction&&!this.isAuthUser&&!this.user.subscribedBy||!this.user.postsCount}}),methods:{clearForm:function(){this.search="",this.isShowForm=!1,this.searchSubmit()},toggleForm:function(){var e=this;this.isShowForm=!this.isShowForm,this.isShowForm&&this.$nextTick((function(){e.$refs.searchInput&&e.$refs.searchInput.focus(),window.innerWidth<768&&e.scrollTo({top:e.$refs.searchContainer.offsetTop-60,behavior:"smooth"})}))},searchSubmit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=q({},this.$route.query),this.search?t.q=this.search:delete t.q,this.$router.replace({query:t});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Z=G,W=Object(f["a"])(Z,U,N,!1,null,null,null),Y=W.exports,X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-profile__search"},[s("div",{staticClass:"b-profile__search__line"},[s("div",{staticClass:"b-profile__search__title"},[e._v(" "+e._s(e.headerTitle)+" ")]),e.showFeedHeaderBtns&&"streams"!==e.$route.params.postType?s("div",{staticClass:"g-btn__group b-profile__section-btns"},[e.isAudioPage?e._e():[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"grid"===e.postLayout?e.$t("message.tooltip_full_view"):e.$t("message.tooltip_compact_view")},expression:"{content: (postLayout === 'grid') ? $t('message.tooltip_full_view') : $t('message.tooltip_compact_view') }"}],staticClass:"g-btn m-icon m-with-round-hover",on:{click:function(t){return e.changeLayout("grid"===e.postLayout?"list":"grid")}}},["grid"!==e.postLayout?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"postLayoutGrid",staticClass:"icon-view-grid"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"postLayoutList",staticClass:"icon-view-full"})])],s("post-filter",{staticClass:"m-position-inline"})],2):e._e()])])},K=[];function Q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function J(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ee={name:"FeedHeader",components:{PostFilter:H["a"]},computed:J(J(J(J({},Object(o["T"])(["getLayout"])),Object(o["b"])(["isAuth"])),Object(o["Ob"])(["user"])),{},{headerTitle:function(){var e=this.$route.params.postType,t=!!F()(this.$route,"query.filter"),s=this.user,i=s.photosCount,r=s.videosCount,n=s.audiosCount;return"photos"===e?t?this.$i18n.t("message.wall_photos_title"):"".concat(i," ").concat(i>1?this.$i18n.t("message.wall_photos_title"):this.$i18n.t("message.wall_photo_title")):"videos"===e?t?this.$i18n.t("message.wall_videos_title"):"".concat(r," ").concat(r>1?this.$i18n.t("message.wall_videos_title"):this.$i18n.t("message.wall_video_title")):"audios"===e?t?this.$i18n.t("message.wall_audios_title"):"".concat(n," ").concat(n>1?this.$i18n.t("message.wall_audios_title"):this.$i18n.t("message.wall_audio_title")):"likes"===e?this.isAuth?this.$i18n.t("message.wall_my_likes_title"):this.$i18n.t("message.wall_likes_title"):"streams"===e?"Scheduled streams":""},postLayout:function(){var e=this.$cookie.get("wallLayout",{domain:".".concat("onlyfans.com")});return e&&this.getLayout!==e&&this.changeLayout(e),this.getLayout},showFeedHeaderBtns:function(){return"likes"!==this.$route.params.postType},isAudioPage:function(){return"audios"===this.$route.params.postType}}),methods:J(J({},Object(o["U"])(["setLayout"])),{},{changeLayout:function(e){this.setLayout(e),this.$cookie.set("wallLayout",e,{domain:".".concat("onlyfans.com")})}})},te=ee,se=Object(f["a"])(te,X,K,!1,null,null,null),ie=se.exports,re=s("b304"),ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-tab-container"},[e.spotifyBioAnthem||e.spotifyBioTopArtists.length?s("div",{staticClass:"b-spotify m-native-custom-scrollbar"},[e.spotifyBioAnthem?s("div",{staticClass:"b-spotify__item"},[s("div",{staticClass:"b-spotify__title"},[e._v(" "+e._s(e.$t("message.spotify_anthem_title"))+" ")]),s("a",{staticClass:"b-spotify__preview",style:"background-image: url("+e.spotifyBioAnthem.album.images[1].url+")",attrs:{href:e.spotifyBioAnthem.external_urls.spotify,target:"_blank"}},[s("div",{staticClass:"b-spotify__name"},[e._v(e._s(e.spotifyBioAnthem.name))])]),s("div",{staticClass:"b-spotify__desc"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-spotify-filled",attrs:{"extra-class":"b-spotify__logo"}}),e._v(" "+e._s(e.spotifyBioAnthem.artists.map((function(e){return e.name})).join(", "))+" ")])]):e._e(),e.spotifyBioTopArtists.length?s("div",{staticClass:"b-spotify__section"},[s("div",{staticClass:"b-spotify__title"},[e._v(" "+e._s(e.$t("message.spotify_top_title"))+" "),s("div",{staticClass:"swiper-pagination spotify__artist__pagination m-dots-pagination"})]),s("div",{staticClass:"b-spotify__group-items"},e._l(e.spotifyBioTopArtists,(function(t){return s("div",{key:t.id,staticClass:"b-spotify__item"},[s("a",{staticClass:"b-spotify__preview",style:"background-image: url("+t.images[1].url+")",attrs:{href:t.external_urls.spotify,target:"_blank"}},[s("div",{staticClass:"b-spotify__name"},[e._v(e._s(t.name))])])])})),0)]):e._e()]):s("div",{staticClass:"g-section__header connect_spotify m-mb-20"},[s("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.$t("message.settings_spotify_account"))+" ")]),s("router-link",{staticClass:"g-btn m-border m-rounded m-sm m-bold",attrs:{to:{name:"SettingsProfile"}}},[e._v(" "+e._s(e.$t("message.name_section_settings"))+" ")])],1)])},ae=[];function oe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ce(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):oe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var le={name:"SpotifyWidget",data:function(){return{spotifySwiperKey:+new Date}},computed:ce(ce({},Object(o["eb"])(["spotifyBioTopArtists","spotifyBioAnthem"])),{},{swiperOption:function(){return{slidesPerView:2,spaceBetween:10,autoHeight:!0,loop:this.spotifyBioTopArtists.length>2,pagination:{el:this.spotifyBioTopArtists.length>2?".spotify__artist__pagination":null,clickable:!0},breakpoints:{500:{slidesPerView:3,loop:this.spotifyBioTopArtists.length>3,pagination:{el:this.spotifyBioTopArtists.length>3?".spotify__artist__pagination":null}},600:{slidesPerView:4,loop:this.spotifyBioTopArtists.length>4,pagination:{el:this.spotifyBioTopArtists.length>4?".spotify__artist__pagination":null}},992:{slidesPerView:5,loop:this.spotifyBioTopArtists.length>5,pagination:{el:this.spotifyBioTopArtists.length>5?".spotify__artist__pagination":null}}}}}}),methods:{resizeSpotifySwiper:function(){this.spotifySwiperKey+=1}}},ue=le,de=Object(f["a"])(ue,ne,ae,!1,null,null,null),he=de.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-profile__friends__list"},["sm"===e.$mq?s("div",{staticClass:"b-profile__search"},[s("div",{staticClass:"b-profile__search__line"},[s("div",{staticClass:"b-profile__search__title"},[e._v(" "+e._s(e.userFriends.length)+" "+e._s(e.friendsText)+" ")])])]):e._e(),e.friendsLoading?s("div",{staticClass:"b-posts_preloader_container show_more_container m-temp-height"},[s("spinner-loader")],1):e._e(),s("div",{staticClass:"b-tab-container"},e._l(e.userFriends,(function(t){return s("friend",{key:t,attrs:{"profile-id":e.user.id,"user-id":t}})})),1),e.userFriends.length>=10?s("div",{staticClass:"b-link-more"},[s("router-link",{staticClass:"g-btn m-flat",attrs:{to:e.friendsRoute}},[e._v(" "+e._s(e.$t("message.show_more_friends_btn_label"))+" ")])],1):e._e()])},me=[],fe=s("412e"),be=s("e528");function ve(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ge(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ve(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _e={name:"ProfileFriendsWidget",data:function(){return{loadingFriends:!1}},components:{Friend:fe["a"],SpinnerLoader:be["a"]},computed:ge(ge(ge({},Object(o["Ob"])(["user","friends","friendsLoading"])),Object(o["b"])(["isAuth","authUser"])),{},{userFriends:function(){return this.friends[this.user.id]||[]},friendsRoute:function(){return this.isAuthUser&&this.authUser.isPerformer?{name:"MyFriends"}:{name:"Friends",params:{userId:this.user.username}}},friendsText:function(){return 1===this.userFriends.length?this.$i18n.t("message.one_friend"):this.$i18n.t("message.many_friends")}}),methods:ge(ge({},Object(o["Nb"])(["fetchFriendsList"])),{},{loadFriends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.userFriends.length){e.next=3;break}return e.next=3,this.fetchFriendsList({userId:this.user.id});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadFriends();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},ye=_e,we=Object(f["a"])(ye,pe,me,!1,null,null,null),Oe=we.exports,Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-profile__search__container"},[s("div",{staticClass:"b-profile__search"},[s("div",{staticClass:"b-profile__search__line"},[s("div",{staticClass:"b-profile__search__title"},[e._v(" "+e._s(e.title)+" ")]),s("div",{staticClass:"g-btn__group b-profile__section-btns"},[e.showSearchBtn?s("button",{staticClass:"b-profile__search__btn m-with-round-hover",attrs:{type:"button",disabled:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-search",staticClass:"icon-search"})]):e._e(),e.showToggleBtn?s("button",{staticClass:"b-profile__search__btn m-with-round-hover",attrs:{type:"button",disabled:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-view-full",staticClass:"icon-view-full"})]):e._e(),s("div",{staticClass:"b-dropdown post-sorting-dropdown btn-group"},[s("button",{staticClass:"dropdown-toggle m-with-round-hover",attrs:{disabled:""}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-sort"})])])])])])])},Pe=[];function xe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ke(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):xe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Se={name:"FeedSearchLight",computed:ke(ke({},Object(o["Ob"])(["user"])),{},{title:function(){var e=this.$route.params.postType,t=this.user,s=t.postsCount,i=t.archivedPostsCount,r=t.videosCount,n=t.audiosCount,a=t.photosCount;return"Profile"===this.$route.name?s?"".concat(s," ").concat(s>1?this.$i18n.t("message.posts_section_title"):this.$i18n.t("message.post_page_title")):this.$i18n.t("message.message_no_posts_yet"):"archived"===e?"".concat(i," ").concat(i>1?this.$i18n.t("message.archived_posts_section_title"):this.$i18n.t("message.archived_post_section_title")):"videos"===e?"".concat(r," ").concat(r>1?this.$i18n.t("message.wall_videos_title"):this.$i18n.t("message.wall_video_title")):"audios"===e?"".concat(n," ").concat(n>1?this.$i18n.t("message.wall_audios_title"):this.$i18n.t("message.wall_audio_title")):"photos"===e?"".concat(a," ").concat(a>1?this.$i18n.t("message.wall_photos_title"):this.$i18n.t("message.wall_photo_title")):void 0},showSearchBtn:function(){var e=this.$route.params.postType;return"archived"===e||"Profile"===this.$route.name},showToggleBtn:function(){var e=this.$route.params.postType;return"videos"===e||"photos"===e}})},Ee=Se,Te=Object(f["a"])(Ee,Ce,Pe,!1,null,null,null),Ae=Te.exports;function je(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function $e(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?je(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):je(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Me={name:"ProfileFeed",components:{UsersPosts:R["a"],FeedSearch:Y,FeedHeader:ie,PostRestricted:D["a"],SpotifyWidget:he,FriendsWidget:Oe,BackToTopBtn:re["a"],FeedSearchLight:Ae},mixins:[O["a"]],computed:$e($e($e($e({},Object(o["Ob"])(["user"])),Object(o["b"])(["isAuth"])),Object(o["T"])(["hasPosts"])),{},{isProfile:function(){return"Profile"===this.$route.name},isProfileInner:function(){return"ProfileInner"===this.$route.name},hasFeedSearch:function(){return this.isProfile||this.isProfileInner&&"archived"===this.$route.params.postType},hasFeedSearchRestrictedProfile:function(){return this.isProfile||this.isProfileInner},hasFeedHeader:function(){return this.isProfileInner&&!this.showSpotify&&!this.showFriends},showSpotify:function(){return this.isProfileInner&&"sm"===this.$mq&&"spotify"===this.$route.params.postType},showFriends:function(){return this.isProfileInner&&"sm"===this.$mq&&"friends"===this.$route.params.postType},restricted:function(){return this.user.isPrivateRestriction&&!this.isAuthUser&&!this.user.subscribedBy}})},Ie=Me,Le=Object(f["a"])(Ie,I,L,!1,null,null,null),De=Le.exports,Re=s("912b"),Ue=s("7a30"),Ne=s.n(Ue);function Be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Fe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ve=3e5,He={data:function(){return{startTimer:0,duration:0,scrollTime:Date.now(),hadLongPause:!1,profileId:null,isPerformer:null}},computed:Fe(Fe(Fe(Fe(Fe({},Object(o["b"])(["authUserId"])),Object(o["Ob"])(["user","hasUser"])),Object(o["q"])(["getInit"])),Object(o["Z"])(["route"])),{},{shouldSendStat:function(){return this.profileId&&this.isPerformer&&this.getInit.isProfilesViewsEnabled&&this.profileId!==this.authUserId},userAgent:function(){return navigator.userAgent},isWebview:function(){return Ne()(this.userAgent)},isInstagramUserAgent:function(){return-1!==this.userAgent.indexOf("Instagram")},referrer:function(){var e=F()(this,"route.from.name"),t=F()(this,"route.from.fullPath"),s=this.$window.location,i=s.protocol,r=s.host;return"Profile"!==e&&"ProfileInner"!==e||!t?document.referrer?document.referrer:this.isWebview&&this.isInstagramUserAgent?"https://l.instagram.com":void 0:"".concat(i,"//").concat(r).concat(t)}}),methods:{startTrackingDuration:function(){this.profileId=this.user.id,this.isPerformer=this.user.isPerformer,this.hadLongPause=!1,this.startTimer=Date.now(),this.scrollTime=Date.now(),this.durationSend()},sendEnterEvent:function(){this.shouldSendStat&&this.sendStat(0)},sendEvent:function(){var e=this.duration;e=Math.round(e/1e3),e=e<1?1:e,this.shouldSendStat&&e&&this.sendStat(e)},sendStat:function(e){try{var t={modelId:this.profileId,eventTime:(new Date).toISOString(),duration:e};!e&&this.referrer&&(t.referrer=this.referrer),Object(c["cb"])(t)}catch(s){}},reset:function(){this.profileId=null,this.isPerformer=null,clearTimeout(this.timer)},stopTracking:function(e){this.duration=Math.floor(Date.now()-this.startTimer),Date.now()-this.scrollTime<Ve&&this.sendEvent(),e?this.reset():this.durationSend()},durationSend:function(){this.startTimer=Date.now();var e=Math.round(1e4*Math.random()+1e4);this.timer=setTimeout(this.stopTracking,e)},setLastScrollTime:function(){this.scrollTime=Date.now()},removeListeners:function(){window.removeEventListener("beforeunload",this.stopTracking)}},created:function(){window.addEventListener("beforeunload",this.stopTracking),window.addEventListener("scroll",this.setLastScrollTime)},mounted:function(){this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners)},watch:{hasUser:function(){this.hasUser&&(this.startTrackingDuration(),this.sendEnterEvent())},route:{handler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.to,i=t.from,s.params.userId&&i&&i.params.userId&&s.params.userId!==i.params.userId&&this.stopTracking(!0);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),immediate:!0}},beforeDestroy:function(){this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners),window.removeEventListener("beforeunload",this.stopTracking),window.removeEventListener("scroll",this.setLastScrollTime),this.stopTracking(!0)}},ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"HighlightsModal",attrs:{centered:"",id:"story-create-highlight-modal","modal-class":"story-highlights","dialog-class":{"story-highlights-dialog":!0,hidden:e.storyIsOpened},"content-class":"story-highlights-content","header-class":"m-border-header","footer-class":"m-border-footer"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[e.isEdit?s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.edit_highlight"))+" ")]):e._e(),e.isNew?s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.add_to_highlight"))+" ")]):e._e(),e.isArchive?s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.story_archive"))+" ")]):e._e(),s("button",{staticClass:"b-modal__close m-with-round-hover",on:{click:e.close}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})])]),e.isEdit&&2!==e.step?[s("div",{staticClass:"b-tabs-switchers"},[s("ul",{staticClass:"b-tabs__nav m-tabs-marks"},[s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":0===e.step}},[s("button",{staticClass:"b-tabs__nav__link",on:{click:e.goToStep0}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.selected"))+" ")])])]),s("li",{staticClass:"b-tabs__nav__item",class:{"m-active":1===e.step}},[s("button",{staticClass:"b-tabs__nav__link",on:{click:e.goToStep1}},[s("span",{staticClass:"b-tabs__nav__text"},[e._v(" "+e._s(e.$t("message.archive"))+" ")])])])])])]:e._e(),0===e.step?[s("div",{staticClass:"b-wrapper-highlights m-native-custom-scrollbar"},[s("div",{staticClass:"b-photos m-highlights-wrapper"},e._l(e.preparedStories(e.stories),(function(t){return s("div",{key:t.id,staticClass:"b-photos__item m-highlight m-checkbox-control",class:{selected:t.selected},on:{click:function(s){return e.setSelected(t)}}},[s("div",{staticClass:"timestamp"},[e._v(" "+e._s(t.date)+" ")]),s("div",{staticClass:"checkbox-item m-pos-left-bottom"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-done",staticClass:"icon-done",attrs:{"extra-class":"m-aligned-top"}})]),s("img",{staticClass:"b-photos__item__img",attrs:{src:e.getStoryPreview(t),alt:""}})])})),0)])]:e._e(),1===e.step?[e.archiveStoriesLoading&&!e.archiveStories.length?s("div",{staticClass:"spinner-container"},[s("spinner-loader")],1):e._e(),e.archiveStoriesLoading||e.archiveStories.length?e._e():s("div",{staticClass:"spinner-container"},[s("span",{staticClass:"empty-text"},[e._v(" "+e._s(e.$t("message.no_stories"))+" ")])]),s("div",{staticClass:"b-wrapper-highlights m-native-custom-scrollbar",class:{"m-edit-highlights-step":e.isEdit&&2!==e.step},on:{scroll:e.reachEnd}},[s("div",{staticClass:"b-photos m-highlights-wrapper"},e._l(e.preparedStories(e.archiveStories),(function(t){return s("div",{key:t.id,staticClass:"b-photos__item m-highlight m-checkbox-control",class:{selected:e.isSelected(t)||e.isArchive},on:{click:function(s){return e.storyClickHandler(t)}}},[t.hideDate?e._e():s("div",{staticClass:"timestamp"},[e._v(" "+e._s(t.date)+" ")]),e.isArchive?e._e():s("div",{staticClass:"checkbox-item m-pos-left-bottom"},[s("span",{staticClass:"checkbox-item__num"},[e._v(" "+e._s(e.getSelectedIndex(t))+" ")])]),s("img",{staticClass:"b-photos__item__img",attrs:{src:e.getStoryPreview(t),alt:""}})])})),0)])]:e._e(),2===e.step?[s("div",{staticClass:"form-group m-gap-over"},[s("v-text-field",{attrs:{label:e.$t("message.highlights_placeholder_label"),autocomplete:!1,"auto-grow":"",maxlength:70,counter:70,outlined:"",clearable:!0,"hide-details":!1,name:"name"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),s("div",{staticClass:"modal-title m-sm-mb"},[e._v(" "+e._s(e.$t("message.choose_cover_picture"))+" ")]),s("div",{staticClass:"b-wrapper-highlights m-native-custom-scrollbar m-name-highlights-step"},[s("div",{staticClass:"b-photos m-highlights-wrapper"},e._l(e.selectedStoriesForCover,(function(t){return s("div",{key:t.id,staticClass:"b-photos__item m-highlight m-checkbox-control",class:{selected:t.id===e.coverId},on:{click:function(s){return e.selectCover(t.id)}}},[s("div",{staticClass:"checkbox-item m-pos-left-bottom"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-done",staticClass:"icon-done",attrs:{"extra-class":"m-aligned-top"}})]),s("img",{staticClass:"b-photos__item__img",attrs:{src:e.getStoryPreview(t),alt:""}})])})),0)])]:e._e(),s("div",{ref:"storyFromArchive",staticStyle:{display:"none"},attrs:{id:"storyFromArchive"}}),s("template",{slot:"modal-footer"},[1!==e.step?s("button",{staticClass:"g-btn m-icon m-back-highlights m-with-round-hover",on:{click:e.backBtnClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-back",attrs:{"extra-class":"m-aligned-top"}})]):e._e(),e.isArchive?[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.add_story"),classes:"m-tooltip-higher"},expression:"{content: $t('message.add_story'), classes: 'm-tooltip-higher' }"}],staticClass:"g-btn m-icon m-add-highlights",on:{click:e.goToCreateNewStory}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add"})]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.add_to_highlight"),classes:"m-tooltip-higher"},expression:"{content: $t('message.add_to_highlight'), classes: 'm-tooltip-higher' }"}],staticClass:"g-btn m-icon",on:{click:e.goToHLCreation}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-highlights"})])]:[1!==e.step||e.isEdit?e._e():s("button",{staticClass:"g-btn m-transparent-bg",attrs:{disabled:!e.selectedStories.length},on:{click:e.goToStep2}},[e._v(" "+e._s(e.$t("message.next"))+" ")]),2!==e.step&&e.isEdit?s("button",{staticClass:"g-btn m-transparent-bg",attrs:{disabled:!e.selectedStoriesIfEdit.length},on:{click:e.goToStep2}},[e._v(" "+e._s(e.$t("message.next"))+" ")]):e._e(),2===e.step?s("button",{staticClass:"g-btn m-transparent-bg",attrs:{disabled:!e.title},on:{click:e.save}},[e._v(" "+e._s(e.$t("message.save"))+" ")]):e._e()]],2)],2)},qe=[],Ge=s("75fc"),Ze=s("c1df"),We=s.n(Ze),Ye=s("0f32"),Xe=s.n(Ye),Ke=s("9798");function Qe(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Je(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Qe(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var et={components:{SpinnerLoader:be["a"],BackToTopBtn:re["a"]},data:function(){return{storyIsOpened:!1,isNew:!1,isEdit:!1,isArchive:!1,show:!1,step:1,id:void 0,coverId:void 0,title:"",stories:[],selectedStories:[]}},mixins:[l["a"],Re["a"]],computed:Je(Je(Je({},Object(o["qb"])(["archiveStories","archiveStoriesLoading","archiveStoriesLoaded","storyFromArchive"])),Object(o["b"])(["authUser"])),{},{selectedStoriesIfEdit:function(){return this.stories&&this.stories.length?this.stories.filter((function(e){return e.selected})):[]},selectedStoriesIds:function(){return this.selectedStories&&this.selectedStories.length?this.selectedStories.map((function(e){return e.id})):[]},storiesIdsIfEdit:function(){return this.stories&&this.stories.length?this.stories.map((function(e){return e.id})):[]},selectedStoriesIdsIfEdit:function(){return this.selectedStoriesIfEdit&&this.selectedStoriesIfEdit.length?this.selectedStoriesIfEdit.map((function(e){return e.id})):[]},selectedStoriesForCover:function(){return this.isEdit?this.selectedStoriesIfEdit:this.selectedStories},type:function(){return"archive"},element:function(){return"storyFromArchive"},allStories:function(){return this.storyFromArchive?[Object(Ke["b"])([this.storyFromArchive],this.authUser,!0)]:[]},runStoryTrottled:function(){return Xe()(this.runStory,1500)}}),methods:Je(Je(Je({},Object(o["pb"])(["fetchArchive","resetArchive","saveHighlights"])),Object(o["rb"])(["setStoryFromArchive","resetStoryFromArchive"])),{},{preparedStories:function(e){var t=e.map((function(e){return Je(Je({},e),{},{date:We()(e.createdAt).format("MMM D")})}));return t.map((function(e,s){return s>0&&t[s-1].date===e.date?Je(Je({},e),{},{hideDate:!0}):e}))},backBtnClick:function(){2===this.step?this.goToStep1():this.show=!1},goToHLCreation:function(){this.isArchive=!1,this.isNew=!0,this.step=1},goToStep0:function(){this.step=0},goToStep1:function(){this.step=1},goToStep2:function(){this.step=2},save:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$window.showPreloader(),e.next=3,this.saveHighlights({id:this.id,title:this.title,storyIds:this.isEdit?this.selectedStoriesIdsIfEdit:this.selectedStoriesIds,coverStoryId:this.coverId});case 3:return this.show=!1,e.next=6,this.fetchProfileData(this.authUser.id);case 6:this.$window.hidePreloader();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setSelected:function(e){this.stories=this.stories.map((function(t){return t.id!==e.id?t:Je(Je({},t),{},{selected:!t.selected})}))},storyClickHandler:function(e){this.isArchive?this.runStoryTrottled(e):this.select(e)},select:function(e){if(this.isEdit){var t=-1!==this.storiesIdsIfEdit.indexOf(e.id);this.stories=t?this.stories.map((function(t){return t.id!==e.id?t:Je(Je({},t),{},{selected:!t.selected})})):[].concat(Object(Ge["a"])(this.stories),[Je(Je({},e),{},{selected:!0})])}else this.selectStoryInArchive(e)},runStory:function(e){var t=this;this.setStoryFromArchive(e),this.$nextTick((function(){t.initZuck(),t.$nextTick((function(){t.$refs.storyFromArchive&&t.$refs.storyFromArchive.firstChild&&(t.storyIsOpened=!0,t.$refs.storyFromArchive.firstChild.click())}))}))},onCloseStory:function(){this.storyIsOpened=!1,this.resetStoryFromArchive(),this.removePanel()},selectStoryInArchive:function(e){var t=this.selectedStories.filter((function(t){return t.id!==e.id}));t.length<this.selectedStories.length?this.selectedStories=t:this.selectedStories=[].concat(Object(Ge["a"])(this.selectedStories),[e])},selectCover:function(e){this.coverId=e},reachEnd:function(e){var t=e.srcElement,s=t.scrollHeight,i=t.scrollTop,r=t.offsetHeight,n=s-(r+i)<10;!n||this.archiveStoriesLoading||this.archiveStoriesLoaded||this.fetchArchive(this.archiveStories.length)},isSelected:function(e){return this.getSelectedIndex(e)>0},getSelectedIndex:function(e){return this.isEdit?this.selectedStoriesIdsIfEdit.indexOf(e.id)+1:this.selectedStoriesIds.indexOf(e.id)+1},getStoryPreview:function(e){return e.media[0].files.squarePreview.sources.w480},goToCreateNewStory:function(){this.show=!1,document.documentElement.classList.remove("m-prevent-scrolling"),this.$router.push({name:"Feed"}),this.$nextTick((function(){var e=document.getElementById("add-story-btn");e&&e.click()}))},close:function(){this.$refs.HighlightsModal.hide()}}),mounted:function(){var e=this;this.$root.$on("show-create-highlight-modal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.show=!0,t.isEdit&&e.$nextTick((function(){e.isArchive=!1,e.isEdit=!0,e.step=0,e.coverId=t.currentHighlights.coverStoryId,e.title=t.currentHighlights.title,e.id=t.currentHighlights.id,e.stories=t.currentHighlights.stories.map((function(e){return Je(Je({},e),{},{selected:!0})}))})),t.isArchive&&e.$nextTick((function(){e.isArchive=!0})),t.isNew&&e.$nextTick((function(){e.isNew=!0}))}))},watch:{show:function(){this.show&&(this.resetArchive(),this.fetchArchive(),this.isNew=!1,this.isEdit=!1,this.isArchive=!1,this.step=1,this.id=void 0,this.coverId=void 0,this.title="",this.stories=[],this.selectedStories=[])},selectedStories:function(){this.isEdit||(this.coverId=this.selectedStories.length?this.selectedStories[0].id:void 0)},step:function(){this.isEdit&&2===this.step&&-1===this.selectedStoriesIdsIfEdit.indexOf(this.coverId)&&(this.coverId=this.selectedStoriesIdsIfEdit[0])}}},tt=et,st=Object(f["a"])(tt,ze,qe,!1,null,null,null),it=st.exports,rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShowSidebar?s("div",{staticClass:"l-wrapper__sidebar m-native-custom-scrollbar"},[e.hasSidebarContent?s("div",{staticClass:"b-profile-list",class:{"m-separate-line":e.hasSidebarBanner}},[s("last-posts"),e.authUser.isPerformer&&e.isSubscriber?s("subscribers-item",{attrs:{"user-id":e.user.id}}):e._e(),s("ul",{staticClass:"b-profile__content__list m-end"},[e.showStoryBlock?s("li",{staticClass:"b-profile__content__item",class:{active:e.isShowHighlights}},[s("div",{staticClass:"b-profile__content__item__title",attrs:{id:"highlightsHeader"}},[s("button",{staticClass:"b-profile__bio__link",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleHighlights(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-highlights"}),e._v(" "+e._s(e.$t("message.profile_show_highlights_button"))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down",attrs:{"extra-class":"m-button-arrow"}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowHighlights,expression:"isShowHighlights"}],staticClass:"b-profile__highlights__list"},[s("Highlights"),s("div",{staticStyle:{display:"none"},attrs:{id:"stories"}}),s("modal-confirm",{attrs:{"modal-show":e.isShowStreamConfirm,title:this.$i18n.t("message.join_stream"),text:this.$i18n.t("message.pay_to_join_stream_text",{AMOUNT:e.userStream?e.userStream.price:0,MODEL_NAME:e.user.name}),"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isShowStreamConfirm=t},"update:modal-show":function(t){e.isShowStreamConfirm=t},"on-agree":function(){return e.payForStream(e.userStream,e.user)}}})],1)]):e._e(),e.showFriendBlock?s("li",{staticClass:"b-profile__content__item",class:{active:e.isShowFriends}},[s("div",{staticClass:"b-profile__content__item__title",attrs:{id:"friendHeader"}},[s("button",{staticClass:"b-profile__bio__link",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleFriends(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-friends"}),e._v(" "+e._s(e.$t("message.profile_show_friends_button"))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down",attrs:{"extra-class":"m-button-arrow"}})])]),e.isShowFriends?s("friends-widget"):e._e()],1):e._e(),e.isAuthUser||e.showSpotify?s("li",{staticClass:"b-profile__content__item",class:{active:e.isShowSpotify}},[s("div",{staticClass:"b-profile__content__item__title",attrs:{id:"spotifyHeader"}},[s("button",{staticClass:"b-profile__bio__link",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleSpotify(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-spotify"}),e._v(" "+e._s(e.$t("message.profile_show_spotify_button"))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down",attrs:{"extra-class":"m-button-arrow"}})])]),e.isShowSpotify?s("div",{staticClass:"b-profile__bio__content"},[e.user.isSpotifyConnected?s("spotify-widget"):e.isElementShown("spotify")?s("spotify-settings"):e._e()],1):e._e()]):e._e()])],1):e._e(),e.hasSidebarBanner?s("banner-place"):e._e()],1):e._e()},nt=[],at=(s("6762"),s("2fdb"),s("c5f6"),s("20d6"),s("7514"),s("c70f")),ot=s("7520"),ct=s("8b3f"),lt=s("b000"),ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasPosts?s("div",{staticClass:"b-photos"},e._l(e.showingPosts,(function(t,i){return s("users-post-grid",{key:t.id,attrs:{media:t.media,post:t.post,index:i},on:{mediaId:e.setGalleryIndex}})})),1):e._e()},dt=[],ht=s("361e"),pt=s("9d30");function mt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ft(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):mt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var bt={name:"ProfileLastPosts",components:{UsersPostGrid:ht["a"]},mixins:[pt["a"]],data:function(){return{options:{}}},computed:ft(ft(ft({},Object(o["Mb"])(["posts","totalPosts","hasPosts"])),Object(o["Ob"])(["user"])),{},{preparedPosts:function(){return this.posts.filter((function(e){return!!e})).reduce((function(e,t){if(t&&t.media&&t.media.length){var s=[];t.media.forEach((function(e){"photo"===e.type&&e.canView&&s.push(e)})),s.length&&s.forEach((function(s){s.canView&&s.full&&e.push({media:ft(ft({},s),{},{type:"photo",postId:t.id})})}))}return e}),[])},showingPosts:function(){var e=this.preparedPosts.length;return e>=6?this.preparedPosts.filter((function(e,t){return t<6})):e>=3?this.preparedPosts.filter((function(e,t){return t<3})):[]},photoSwipeItems:function(){return this.showingPosts.map((function(e){if(e.media){var t=e;e=t.media}return"video"===e.type?{media:e}:{media:{id:e.id},src:e.source?e.source.source:e.full,thumbnail:e.preview,w:e.source?e.source.width:0,h:e.source?e.source.height:0,postId:e.postId,showBtn:!0}}))},isOpen:{get:function(){return this.photoSwipeIsOpen},set:function(e){e?this.$root.$on("closePhotoSwipe",this.hidePhotoSwipe):this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.photoSwipeSetItems(e?this.photoSwipeItems:[]),this.photoSwipeSetOptions(e?this.options:{}),this.photoSwipeSetOpen(e)}}}),beforeDestroy:function(){this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.$root.$off("imgLoadErrorPhotoSwipe",this.mediaError)},methods:{setGalleryIndex:function(e){var t=this.photoSwipeItems.findIndex((function(t){return t.media.id===e}));this.showPhotoSwipe(t)},showPhotoSwipe:function(e){this.$set(this.options,"index",e),this.isOpen=!0},hidePhotoSwipe:function(){this.isOpen=!1}}},vt=bt,gt=Object(f["a"])(vt,ut,dt,!1,null,null,null),_t=gt.exports;function yt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function wt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ot={computed:wt(wt(wt(wt(wt(wt(wt({},Object(o["Ob"])(["user"])),Object(o["b"])(["isAuth","authUser"])),Object(o["eb"])(["spotifyBio"])),Object(o["Mb"])(["totalPosts","isLastPostsLoading"])),Object(o["qb"])(["highlights"])),Object(o["Eb"])(["getSubscriber"])),{},{showStoryBlock:function(){return this.user.canLookStory&&(this.user.hasStories||this.user.hasStream||this.user.hasScheduledStream||this.highlights&&this.highlights.length)||this.isAuthUser&&this.user.canAddStory},showSpotify:function(){return this.user.isSpotifyConnected&&!(!this.spotifyBio.anthem&&(!this.spotifyBio.topArtists||!this.spotifyBio.topArtists.length))},showFriendBlock:function(){return!!this.user.hasFriends&&!!this.user.isPerformer},hasSidebarContent:function(){return this.isAuthUser||this.showFriendBlock||this.showSpotify||this.showStoryBlock||!this.isLastPostsLoading&&!!this.lastPostsLength||this.isSubscriber},isShowSidebar:function(){return this.hasSidebarContent||this.hasSidebarBanner},lastPostsLength:function(){return 6===this.totalPosts?6:this.totalPosts>3?3:0},hasSidebarBanner:function(){return!!this.authUser&&!!this.authUser.advBlock&&"function"===typeof this.authUser.advBlock.indexOf&&-1!==this.authUser.advBlock.indexOf("banners")},subscriber:function(){return this.getSubscriber(this.user.id)||{}},isSubscriber:function(){return this.subscriber&&Object.keys(this.subscriber).length}})},Ct=s("4894"),Pt=s("483c"),xt=s("8aaea"),kt=s("418f");function St(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Et(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?St(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):St(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Tt={name:"UserList",props:{fieldsToShow:{type:Array,default:function(){return[]}}},components:{SpotifyWidget:he,Highlights:at["a"],ModalConfirm:ct["a"],FriendsWidget:Oe,SpotifySettings:lt["a"],LastPosts:_t,BannerPlace:Ct["a"],SubscribersItem:Pt["a"],BundlesCard:xt["a"],Bundle:kt["a"]},mixins:[O["a"],ot["a"],Ot],data:function(){return{isShowFriends:!0,isShowSpotify:!0,isShowHighlights:!0,isShowStreamConfirm:!1}},computed:Et(Et(Et(Et(Et(Et(Et({},Object(o["Ob"])(["user"])),Object(o["b"])(["isAuth","authUser"])),Object(o["wb"])(["streams"])),Object(o["eb"])(["spotifyBio"])),Object(o["Z"])(["route"])),Object(o["h"])(["getBundles"])),{},{userStream:function(){var e=this;return(this.streams||[]).find((function(t){return t.user===e.user.id}))},showAddBtn:function(){var e=this;return!!F()(this,"user.canAddSubscriberByBundle.durations")&&!!Object.keys(this.user.canAddSubscriberByBundle.durations).filter((function(t){return e.bundles.findIndex((function(e){return e.duration===Number(t)}))<0})).length},bundles:function(){return this.user.subscriptionBundles?this.getBundles(this.user.subscriptionBundles):[]}}),watch:{route:function(e){var t=e.to,s=e.from;t.params.userId===s.params.userId&&(this.isShowFriends=!1)}},methods:Et(Et({},Object(o["Lb"])(["fetchLastPosts","resetLastPosts"])),{},{toggleHighlights:function(){this.isShowHighlights=!this.isShowHighlights},toggleSpotify:function(){this.isShowSpotify=!this.isShowSpotify},toggleFriends:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isShowFriends=!this.isShowFriends;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),isElementShown:function(e){return!e||!this.fieldsToShow.length||this.fieldsToShow.includes(e)}}),mounted:function(){this.resetLastPosts(),(this.isAuthUser||this.user.subscribedBy)&&this.fetchLastPosts({id:this.user.id})}},At=Tt,jt=Object(f["a"])(At,rt,nt,!1,null,null,null),$t=jt.exports,Mt=s("09e4"),It=s("f950");function Lt(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Dt(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Lt(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Rt={name:"ProfileIndex",components:{WebsiteError:u["default"],ProfileHeader:v,ProfileFeed:De,CreateHighlightsModal:it,UserList:$t,ProfileStickyHeader:M},mixins:[l["a"],Re["a"],Ot,He],computed:Dt(Dt(Dt(Dt({},Object(o["Ob"])(["user","hasUser"])),Object(o["G"])(["goBackToProfile"])),Object(o["Z"])(["route"])),Object(o["T"])(["userPostItemIds","pinnedPostsIds"])),watch:{$route:{handler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,s){var i,r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.params.userId){e.next=31;break}if(s&&t.params.userId===s.params.userId){e.next=31;break}return this.setTempItemIds({username:this.user.username,value:{pinnedPostsIds:this.pinnedPostsIds,userPostItemIds:this.userPostItemIds}}),this.resetProfileData(),e.next=6,this.fetchProfileData(t.params.userId);case 6:if(i=this.isAuthUser?null:this.user.id,this.user.isSpotifyConnected&&this.fetchSpotifyBio(i),this.user.subscribedBy||!this.goBackToProfile){e.next=31;break}if(this.setGoBackToProfile(!1),!this.user.subscribePrice){e.next=15;break}this.setModalUser({userId:this.user.id}),this.$nextTick((function(){a.$root.$emit("bv::show::modal","ModalSubscribe")})),e.next=31;break;case 15:return e.prev=15,this.setSubscriptionInitiated(!0),window.showPreloader(),r=Object(It["a"])(s?s.name:"Profile"),e.next=21,Object(c["gb"])(this.user.id,{source:r});case 21:n=e.sent,window.hidePreloader(),this.setSubscriptionInitiated(!1),n&&n.id&&(this.updateSubscribe(n),this.fetchSubscriptionsCount(),this.fetchProfileData(this.user.id)),e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](15),window.hidePreloader(),Object(Mt["b"])(e.t0);case 31:case"end":return e.stop()}}),e,this,[[15,27]])})));function t(t,s){return e.apply(this,arguments)}return t}(),immediate:!0}},methods:Dt(Dt(Dt(Dt(Dt(Dt(Dt({},Object(o["H"])(["setGoBackToProfile"])),Object(o["c"])(["setSubscriptionInitiated"])),Object(o["Ib"])(["updateSubscribe"])),Object(o["Nb"])(["fetchSubscriptionsCount"])),Object(o["Sb"])(["setModalUser"])),Object(o["db"])(["fetchSpotifyBio"])),Object(o["U"])(["setTempItemIds"]))},Ut=Rt,Nt=Object(f["a"])(Ut,i,r,!1,null,null,null);t["default"]=Nt.exports},"4b41":function(e,t,s){"use strict";var i=s("1c95"),r=s.n(i);r.a},"4ca0":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-profile__restricted"},[s("div",{staticClass:"b-profile__restricted__icon"},[e.showHoverButtonData?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-unlocked",staticClass:"icon-unlocked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})]),e.user.canAddSubscriber?[s("div",{staticClass:"subscribe-block"},[s("div",{staticClass:"content-icons"},[e.post&&e.hasAny?s("ul",{staticClass:"b-purchase__list"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-locked-text-icon",staticClass:"icon-text-frame-off"})]):e._e(),e.postLockedMedia("photo")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-photo-icon",staticClass:"icon-media"}),e._v(" "+e._s(e.photoLockedCount)+" ")]):e._e(),e.postLockedMedia("video")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-video-icon",staticClass:"icon-video"}),e._v(" "+e._s(e.videoLockedCount>1?e.videoLockedCount:e.videoLockedDuration?e.videoLockedDuration:"")+" ")]):e._e(),e.postLockedMedia("gif")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-gif-icon",staticClass:"icon-gif"}),e._v(" "+e._s(e.gifLockedCount>1?e.gifLockedCount:e.gifLockedDuration?e.gifLockedDuration:"")+" ")]):e._e(),e.postLockedMedia("audio")?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-audio-icon",staticClass:"icon-voice"}),e._v(" "+e._s(e.audioLockedDuration?e.audioLockedDuration:"")+" ")]):e._e(),e.hasPoll?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-poll-icon",staticClass:"icon-poll"})]):e._e()]):e._e(),s("div",{staticClass:"locked-icon"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})])]),s("div",{on:{mouseover:e.mouseover,mouseleave:e.mouseleave}},[s("subscribe-btn",{staticClass:"mt-1",attrs:{id:e.userId,text:e.$t("message.restricted_subscribe_button")}})],1)])]:[s("p",[e._v(" "+e._s(e.text&&e.user.canAddSubscriber?e.text:e.$t("message.inactive_private_restriction_wall_message"))+" ")])]],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("c5f6"),s("d634")),o=s("3c15"),c=s("0a2a");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"PostRestricted",components:{SubscribeBtn:c["a"]},mixins:[o["a"]],props:{userId:{type:Number,required:!0},post:{type:Object,required:!1},text:{type:String,default:void 0}},data:function(){return{showHoverButtonData:!1}},computed:u(u({},Object(a["Ob"])(["getUser"])),{},{user:function(){return this.getUser(this.userId)},restrictedSubscribe:function(){return'<span class="b-profile__restricted__color">'.concat(this.$i18n.t("message.subscription_subscribe_simple_button"),"</span>")}}),methods:u(u({},Object(a["Sb"])(["setModalUser"])),{},{mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1}})},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},"4db7":function(e,t,s){"use strict";(function(e){s("c5f6"),s("7f7f"),s("6b54");t["a"]=function(t){var s=function(e){return document.querySelectorAll(e)[0]},i=function(e,t){return e&&e[t]||""},r=function(e,t){if(e)for(var s=e.length,i=0;i<s;i++)t(i,e[i])},n=function(e,t,s){var i=[t.toLowerCase(),"webkit".concat(t),"MS".concat(t),"o".concat(t)];r(i,(function(t,i){e[i]=s}))},a=function(e,t,s){var i=[s.toLowerCase(),"webkit".concat(s),"MS".concat(s),"o".concat(s)];r(i,(function(s,i){e.addEventListener(i,t,!1)}))},o=function(e,t){a(e,t,"AnimationEnd")},c=function(e,t){e.transitionEndEvent||(e.transitionEndEvent=!0,a(e,t,"TransitionEnd"))},l=function(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},u=function(){return"stories-"+Math.random().toString(36).substr(2,9)},d=function(e,a){var d=this,h=function(e,t){var s=function(e){return"undefined"!==typeof e};return t?s(a[e])&&s(a[e][t])?a[e][t]:g[e][t]:s(a[e])?a[e]:g[e]},p=function(e,t){var s="RequestFullScreen",i="requestFullScreen";try{t?(document.fullscreenElement||document["webkitFullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"])&&(document.exitFullscreen?document.exitFullscreen().catch((function(){})):(document["mozCancelFullScreen"]||document["mozCancelFullScreen"])&&document["mozCancelFullScreen"]().catch((function(){}))):e[i]?e[i]():e["ms".concat(s)]?e["ms".concat(s)]():e["moz".concat(s)]?e["moz".concat(s)]():e["webkit".concat(s)]&&e["webkit".concat(s)]()}catch(r){console.warn("[Zuck.js] Can't access fullscreen")}},m=function(e,t,i,r){var a=t>0?1:-1,o=Math.abs(t)/s("#zuck-modal").offsetWidth*90*a;if(h("cubeEffect")){var c=0===o?"scale(0.95)":"scale(0.930,0.930)";if(n(s("#zuck-modal-content").style,"Transform",c),o<-90||o>90)return!1}var l=h("cubeEffect")?"rotateY(".concat(o,"deg)"):"translate3d(".concat(t,"px, 0, 0)");e&&(n(e.style,"TransitionTimingFunction",r),n(e.style,"TransitionDuration","".concat(i,"ms")),n(e.style,"Transform",l))},f=function(e,t,s,i){var r=0,n=0;if(e){if(e.offsetParent)do{if(r+=e.offsetLeft,n+=e.offsetTop,e===i)break}while(e=e.offsetParent);t&&(n-=t),s&&(r-=s)}return[r,n]};"string"===typeof e&&(e=document.getElementById(e)),e.id||e.setAttribute("id",u());var b=function(e){e=1e3*Number(e);var t=new Date(e),s=t.getTime(),i=((new Date).getTime()-s)/1e3,r=h("language","time"),n=[[60," ".concat(r["seconds"]),1],[120,"1 ".concat(r["minute"]),""],[3600," ".concat(r["minutes"]),60],[7200,"1 ".concat(r["hour"]),""],[86400," ".concat(r["hours"]),3600],[172800," ".concat(r["yesterday"]),""],[604800," ".concat(r["days"]),86400]],a=1;i<0&&(i=Math.abs(i),a=2);var o=0,c=void 0;while(c=n[o++])if(i<c[0])return"string"===typeof c[2]?c[a]:Math.floor(i/c[2])+c[1];var l=t.getDate(),u=t.getMonth(),d=t.getFullYear();return"".concat(l,"/").concat(u+1,"/").concat(d)},v=e.id,g={skin:"snapgram",avatars:!0,stories:[],backButton:!0,backNative:!1,paginationArrows:!1,previousTap:!0,autoFullScreen:!1,openEffect:!0,cubeEffect:!1,list:!1,localStorage:!0,callbacks:{onOpen:function(e,t){t()},onView:function(e){},onEnd:function(e,t){t()},onClose:function(e,t){t()},onNextItem:function(e,t,s){s()},onNavigateItem:function(e,t,s){s()}},template:{timelineItem:function(e){return'\n            <div class="story '.concat(!0===i(e,"seen")?"seen":"",'">\n              <a class="item-link" href="').concat(i(e,"link"),'">\n                <span class="item-preview">\n                  <img lazy="eager" src="').concat(h("avatars")||!i(e,"currentPreview")?i(e,"photo"):i(e,"currentPreview"),'" />\n                </span>\n                <span class="info" itemProp="author" itemScope itemType="http://schema.org/Person">\n                  <strong class="name" itemProp="name">').concat(i(e,"name"),'</strong>\n                  <span class="time">').concat(i(e,"lastUpdatedAgo"),'</span>\n                </span>\n              </a>\n\n              <ul class="items"></ul>\n            </div>')},timelineStoryItem:function(e){return'<a href="'.concat(i(e,"src"),'"\n                      data-link="').concat(i(e,"link"),'"\n                      data-linkText="').concat(i(e,"linkText"),'"\n                      data-time="').concat(i(e,"time"),'"\n                      data-type="').concat(i(e,"type"),'"\n                      data-loop="').concat(i(e,"loop"),'"\n                      data-length="').concat(i(e,"length"),'">\n                    <img loading="auto" src="').concat(i(e,"preview"),'" />\n                  </a>')},viewerItem:function(e,t){var s=i(e,"photo"),r='<img lazy="eager" class="profilePhoto" src="'.concat(s,'" />'),n='<div class="g-avatar__placeholder">\n            <svg class="g-icon" aria-hidden="true">\n              <use xlink:href="#icon-profile" href="#icon-profile"></use>\n            </svg>\n          </div>',a=s?r:n;return'<div class="story-viewer">\n                    <div class="head">\n                      <div class="left">\n                        '.concat(h("backButton")?'<a class="back">&lsaquo;</a>':"",'\n\n                        <span class="item-preview">\n                          ').concat(a,'\n                        </span>\n\n                        <div class="info">\n                          <strong class="name">').concat(i(e,"name"),'</strong>\n                          <span class="time">').concat(i(e,"timeAgo"),'</span>\n                        </div>\n                      </div>\n\n                      <div class="right">\n                        <span class="time">').concat(i(t,"timeAgo"),'</span>\n                        <span class="loading"></span>\n                        <a class="close" tabIndex="2">&times;</a>\n                      </div>\n                    </div>\n\n                    <div class="slides-pointers">\n                      <div class="wrap"></div>\n                    </div>\n\n                    ').concat(h("paginationArrows")?'<div class="slides-pagination">\n                          <span class="previous">&lsaquo;</span>\n                          <span class="next">&rsaquo;</span>\n                        </div>':"","\n                  </div>")},viewerItemPointer:function(e,t,s){return'<span\n                    class="'.concat(t===e?"active":""," ").concat(!0===i(s,"seen")?"seen":"",'"\n                    data-index="').concat(e,'" data-item-id="').concat(i(s,"id"),'">\n                      <b style="animation-duration:').concat(""===i(s,"length")?"3":i(s,"length"),'s"></b>\n                  </span>')},viewerItemBody:function(e,t,s){return'<div\n                    class="item '.concat(!0===i(s,"seen")?"seen":""," ").concat(t===e?"active":"",'"\n                    data-time="').concat(i(s,"time"),'" data-type="').concat(i(s,"type"),'" data-index="').concat(e,'" data-item-id="').concat(i(s,"id"),'">\n                    ').concat("video"===i(s,"type")?'<video data-length="'.concat(s.length,'" ').concat(s.loop?"loop":"",' class="media" muted webkit-playsinline playsinline preload="auto" src="').concat(i(s,"src"),'" ').concat(i(s,"type"),'></video>\n                        <b class="tip muted">').concat(h("language","unmute"),"</b>"):'<img loading="auto" class="media" src="'.concat(i(s,"src"),'" ').concat(i(s,"type")," />\n                    "),"\n\n                    ").concat(i(s,"link")?'<a class="tip link" href="'.concat(i(s,"link"),'" rel="noopener" target="_blank">\n                            ').concat(i(s,"linkText")&&""!==i(s,"linkText")?i(s,"linkText"):h("language","visitLink"),"\n                          </a>"):"","\n                  </div>")}},language:{unmute:"Touch to unmute",keyboardTip:"Press space to see next",visitLink:"Visit link",time:{ago:"ago",hour:"hour ago",hours:"hours ago",minute:"minute ago",minutes:"minutes ago",fromnow:"from now",seconds:"seconds ago",yesterday:"yesterday",tomorrow:"tomorrow",days:"days ago"}}},_=function(){var e=s("#zuck-modal");e||d.hasModal||(d.hasModal=!0,e=document.createElement("div"),e.id="zuck-modal",h("cubeEffect")&&(e.className="with-cube"),e.innerHTML='<div id="zuck-modal-content"></div>',e.style.display="none",e.setAttribute("tabIndex","1"),e.onkeyup=function(e){var t=e.keyCode,s=t;27===s?y.close():13!==s&&32!==s||y.next()},h("openEffect")&&e.classList.add("with-effects"),c(e,(function(){e.classList.contains("closed")&&(n.innerHTML="",e.style.display="none",e.classList.remove("closed"),e.classList.remove("animated"))})),document.body.appendChild(e));var n=s("#zuck-modal-content"),a=function(e){var t=s("#zuck-modal"),i="",r="",n=0,a=s("#zuck-modal-slider-".concat(v)),c={previous:s("#zuck-modal .story-viewer.previous"),next:s("#zuck-modal .story-viewer.next"),viewing:s("#zuck-modal .story-viewer.viewing")};if(!c["previous"]&&!e||!c["next"]&&e)return!1;e?(i="next",r="previous"):(i="previous",r="next");var l=600;h("cubeEffect")?"previous"===i?n=t.slideWidth:"next"===i&&(n=-1*t.slideWidth):n=-1*f(c[i])[0],m(a,n,l,null),setTimeout((function(){if(""!==i&&c[i]&&""!==r){var e=c[i].getAttribute("data-story-id");d.internalData["currentStory"]=e;var t=s("#zuck-modal .story-viewer.".concat(r));t&&t.parentNode.removeChild(t),c["viewing"]&&(c["viewing"].classList.add("stopped"),c["viewing"].classList.add(r),c["viewing"].classList.remove("viewing")),c[i]&&(c[i].classList.remove("stopped"),c[i].classList.remove(i),c[i].classList.add("viewing"));var n=C(i);n&&u(n,i);var l=d.internalData["currentStory"],p=s('#zuck-modal [data-story-id="'.concat(l,'"]'));if(p){p=p.querySelectorAll("[data-index].active");var f=p[0].firstElementChild;d.data[l]["currentItem"]=parseInt(p[0].getAttribute("data-index"),10),p[0].innerHTML='<b style="'.concat(f.style.cssText,'"></b>'),o(p[0].firstElementChild,(function(){d.nextItem(!1)}))}if(m(a,"0",0,null),p){var b=s('#zuck-modal .story-viewer[data-story-id="'.concat(e,'"]'));x(b,[p[0],p[1]],!0)}h("callbacks","onView")(d.internalData["currentStory"])}}),l+50)},u=function(e,t,n){var a=s("#zuck-modal-slider-".concat(v)),c=i(e,"items");e.timeAgo=c&&c[0]?b(i(c[0],"time")):"";var u="",p="",m=i(e,"id"),f=document.createElement("div"),g=i(e,"currentItem")||0,_=s('#zuck-modal .story-viewer[data-story-id="'.concat(m,'"]'));if(_)return!1;f.className="slides",r(c,(function(t,s){s.timeAgo=b(i(s,"time")),g>t&&(e["items"][t]["timeAgo"]=s.timeAgo,e["items"][t]["seen"]=!0,s["seen"]=!0),g===t&&s.timeAgo,p+=h("template","viewerItemPointer")(t,g,s),u+=h("template","viewerItemBody")(t,g,s)})),f.innerHTML=u;f.querySelector("video");var w=document.createElement("div");w.innerHTML=h("template","viewerItem")(e,g);var O=w.firstElementChild;O.className="story-viewer muted ".concat(t," ").concat(n?"":"stopped"," ").concat(h("backButton")?"with-back-button":""),O.setAttribute("data-story-id",m),O.querySelector(".slides-pointers .wrap").innerHTML=p,r(O.querySelectorAll(".close, .back"),(function(e,t){t.onclick=function(e){e.preventDefault(),y.close()}})),O.appendChild(f),"viewing"===t&&x(O,O.querySelectorAll('[data-index="'.concat(g,'"].active')),!1),r(O.querySelectorAll(".slides-pointers [data-index] > b"),(function(e,t){o(t,(function(){d.nextItem(!1)}))})),"previous"===t?l(a,O):a.appendChild(O)},g=function(e){var i=s("#zuck-modal"),r=!0,n=e,o={},c=void 0,l=void 0,u=void 0,p=void 0,b=void 0,v=function(e){if(e.target.classList.contains("tip")||e.target.classList.contains("muted")){var t=d.internalData["currentVideoElement"],i=s("#zuck-modal .viewing");i&&t&&S(t,i)}};n.addEventListener("click",v);var g=function(e){var t=s("#zuck-modal .viewing");if("A"!==e.target.nodeName){var a=e.touches?e.touches[0]:e,d=f(s("#zuck-modal .story-viewer.viewing"));i.slideWidth=s("#zuck-modal .story-viewer").offsetWidth,i.slideHeight=s("#zuck-modal .story-viewer").offsetHeight,o={x:d[0],y:d[1]};var h=a.clientX,m=a.clientY;c={x:h,y:m,time:Date.now(),valid:!0},m<80||m>i.slideHeight-80?c.valid=!1:(e.preventDefault(),l=void 0,u={},r&&(n.addEventListener("mousemove",_),n.addEventListener("mouseup",y),n.addEventListener("mouseleave",y)),n.addEventListener("touchmove",_),n.addEventListener("touchend",y),t&&t.classList.add("paused"),k(),p=setTimeout((function(){t.classList.add("longPress")}),600),b=setTimeout((function(){clearInterval(b),b=!1}),250))}},_=function(e){var t=e.touches?e.touches[0]:e,s=t.clientX,i=t.clientY;c&&c.valid&&(u={x:s-c.x,y:i-c.y},"undefined"===typeof l&&(l=!!(l||Math.abs(u.x)<Math.abs(u.y))),!l&&c&&(e.preventDefault(),m(n,o.x+u.x,0,null)))},y=function e(f){if("tip muted"!==f.target.classList.value){var v=s("#zuck-modal .viewing"),g=c,y=c?Date.now()-c.time:void 0,w=Number(y)<300&&Math.abs(u.x)>25||Math.abs(u.x)>i.slideWidth/3,O=u.x<0,C=s(O?"#zuck-modal .story-viewer.next":"#zuck-modal .story-viewer.previous"),P=O&&!C||!O&&!C;if(!c||c.valid){u&&(l||(w&&!P?a(O):m(n,o.x,300)),c=void 0,r&&(n.removeEventListener("mousemove",_),n.removeEventListener("mouseup",e),n.removeEventListener("mouseleave",e)),n.removeEventListener("touchmove",_),n.removeEventListener("touchend",e));var k=d.internalData["currentVideoElement"];if(p&&clearInterval(p),v&&(x(v,v.querySelectorAll(".active"),!1),v.classList.remove("longPress"),v.classList.remove("paused")),b){clearInterval(b),b=!1;var E=function(){O||(g.x>t.screen.width/3||!h("previousTap")?d.navigateItem("next"):d.navigateItem("previous"))},T=s("#zuck-modal .viewing");if(!T||!k)return E(),!1;var A=k.clientWidth/2,j=.4*k.clientWidth,$=g.x>A-j&&g.x<A+j;T.classList.contains("muted")&&!k.loop&&$?S(k,T):E()}}}};n.addEventListener("touchstart",g),r&&n.addEventListener("mousedown",g)};return{show:function(e,i){var r=s("#zuck-modal"),a=function(){n.innerHTML='<div id="zuck-modal-slider-'.concat(v,'" class="slider"></div>');var i=d.data[e],a=i["currentItem"]||0,o=s("#zuck-modal-slider-".concat(v));g(o),d.internalData["currentStory"]=e,i["currentItem"]=a,h("backNative")&&(t.location.hash="#!".concat(v));var c=C("previous");c&&u(c,"previous"),u(i,"viewing",!0);var l=C("next");l&&u(l,"next"),h("autoFullScreen")&&r.classList.add("fullscreen");var m=function(){r.classList.contains("fullscreen")&&h("autoFullScreen")&&t.screen.width<=1024&&p(r),r.focus()};if(h("openEffect")){var b=s("#".concat(v,' [data-id="').concat(e,'"] .item-preview')),_=f(b);r.style.marginLeft="".concat(_[0]+b.offsetWidth/2,"px"),r.style.marginTop="".concat(_[1]+b.offsetHeight/2,"px"),r.style.display="block",r.slideWidth=s("#zuck-modal .story-viewer").offsetWidth,setTimeout((function(){r.classList.add("animated")}),10),setTimeout((function(){m()}),300)}else r.style.display="block",r.slideWidth=s("#zuck-modal .story-viewer").offsetWidth,m();h("callbacks","onView")(e)};h("callbacks","onOpen")(e,a)},next:function(e){var t=function(){var e=d.internalData["currentStory"],t=s("#".concat(v,' [data-id="').concat(e,'"]'));t&&(t.classList.add("seen"),d.data[e]["seen"]=!0,d.internalData["seenItems"][e]=!0,E("seenItems",d.internalData["seenItems"]),P());var i=s("#zuck-modal .story-viewer.next");i?a(!0):y.close()};h("callbacks","onEnd")(d.internalData["currentStory"],t)},close:function(){var e=s("#zuck-modal"),i=function(){h("backNative")&&(t.location.hash=""),p(e,!0),h("openEffect")?e.classList.add("closed"):(n.innerHTML="",e.style.display="none")};h("callbacks","onClose")(d.internalData["currentStory"],i)}}},y=_(),w=function(e,t){var s=e.getAttribute("data-id"),i=document.querySelectorAll("#".concat(v,' [data-id="').concat(s,'"] .items > li')),n=[];if(!h("reactive")||t){r(i,(function(e,t){var s=t.firstElementChild,i=s,r=i.firstElementChild;n.push({id:i.getAttribute("data-id"),src:i.getAttribute("href"),length:i.getAttribute("data-length"),loop:i.getAttribute("data-loop"),type:i.getAttribute("data-type"),time:i.getAttribute("data-time"),link:i.getAttribute("data-link"),linkText:i.getAttribute("data-linkText"),preview:r.getAttribute("src")})})),d.data[s].items=n;var a=h("callbacks","onDataUpdate");a&&a(d.data,(function(){}))}},O=function(e,t){var s=e.getAttribute("data-id"),i=!1;d.internalData["seenItems"][s]&&(i=!0);try{d.data[s]||(d.data[s]={}),d.data[s].id=s,d.data[s].photo=e.getAttribute("data-photo"),d.data[s].name=e.querySelector(".name").innerText,d.data[s].link=e.querySelector(".item-link").getAttribute("href"),d.data[s].lastUpdated=e.getAttribute("data-last-updated"),d.data[s].seen=i,d.data[s].items||(d.data[s].items=[],d.data[s].noItems=!0)}catch(n){d.data[s]={items:[]}}e.onclick=function(e){e.preventDefault(),y.show(s)};var r=h("callbacks","onDataUpdate");r&&r(d.data,(function(){}))},C=function(e){var t=d.internalData["currentStory"],i="".concat(e,"ElementSibling");if(t){var r=s("#".concat(v,' [data-id="').concat(t,'"]'))[i];if(r){var n=r.getAttribute("data-id"),a=d.data[n]||!1;return a}}return!1},P=function(){r(document.querySelectorAll("#".concat(v," .story.seen")),(function(e,t){var s=d.data[t.getAttribute("data-id")],i=t.parentNode;h("reactive")||i.removeChild(t),d.update(s,!0)}))},x=function(e,t,s){var i=t[1],r=t[0];if(!i||!r)return!1;var a=d.internalData["currentVideoElement"];if(a&&a.pause(),"video"===i.getAttribute("data-type")){var o=i.getElementsByTagName("video")[0];if(!o)return d.internalData["currentVideoElement"]=!1,!1;var c=function(){var e=o.duration;+o.dataset.length&&(e=o.dataset.length),e&&n(r.getElementsByTagName("b")[0].style,"AnimationDuration","".concat(e,"s"))};c(),o.addEventListener("loadedmetadata",c),d.internalData["currentVideoElement"]=o,o.play().catch((function(){}))}else d.internalData["currentVideoElement"]=!1},k=function(){var e=d.internalData["currentVideoElement"];if(e)try{e.pause().catch((function(){}))}catch(t){}},S=function(e,t){e.muted&&t.querySelector(".item.active .tip.muted").remove(),e.muted=!1,e.volume=1,e.removeAttribute("muted"),e.play().catch((function(){})),e.paused&&(e.muted=!0,e.play().catch((function(){}))),t&&t.classList.remove("paused")},E=function(e,s){try{if(h("localStorage")){var i="zuck-".concat(v,"-").concat(e);t.localStorage[i]=JSON.stringify(s)}}catch(r){}},T=function(e){if(h("localStorage")){var s="zuck-".concat(v,"-").concat(e);return!!t.localStorage[s]&&JSON.parse(t.localStorage[s])}return!1};d.data=h("stories")||{},d.internalData={},d.internalData["seenItems"]=T("seenItems")||{},d.add=d.update=function(t,n){var a=i(t,"id"),o=s("#".concat(v,' [data-id="').concat(a,'"]')),c=i(t,"items"),u=void 0,p=!1;if(c[0]&&(p=c[0]["preview"]||""),!0===d.internalData["seenItems"][a]&&(t.seen=!0),t.currentPreview=p,o)u=o;else{var m=document.createElement("div");m.innerHTML=h("template","timelineItem")(t),u=m.firstElementChild}!1===t["seen"]&&(d.internalData["seenItems"][a]=!1,E("seenItems",d.internalData["seenItems"])),u.setAttribute("data-id",a),u.setAttribute("data-photo",i(t,"photo")),u.setAttribute("data-last-updated",i(t,"lastUpdated")),O(u),o||h("reactive")||(n?e.appendChild(u):l(e,u)),r(c,(function(e,t){d.addItem(a,t,n)})),n||P()},d.next=function(){y.next()},d.remove=function(e){var t=s("#".concat(v,' > [data-id="').concat(e,'"]'));t.parentNode.removeChild(t)},d.addItem=function(e,t,r){var n=s("#".concat(v,' > [data-id="').concat(e,'"]'));if(!h("reactive")){var a=document.createElement("li"),o=n.querySelectorAll(".items")[0];a.className=i(t,"seen")?"seen":"",a.setAttribute("data-id",i(t,"id")),a.innerHTML=h("template","timelineStoryItem")(t),r?o.appendChild(a):l(o,a)}w(n)},d.removeItem=function(t,i){var r=s("#".concat(v,' > [data-id="').concat(t,'"] [data-id="').concat(i,'"]'));h("reactive")||e.parentNode.removeChild(r)},d.navigateItem=d.nextItem=function(e,t){var i=d.internalData["currentStory"],n=d.data[i]["currentItem"],a=s('#zuck-modal .story-viewer[data-story-id="'.concat(i,'"]')),o="previous"===e?-1:1;if(!a||1===a.touchMove)return!1;var c=a.querySelectorAll('[data-index="'.concat(n,'"]')),l=c[0],u=c[1],p=n+o,m=a.querySelectorAll('[data-index="'.concat(p,'"]')),f=m[0],v=m[1];if(a&&f&&v){var g=function(){"previous"===e?(l.classList.remove("seen"),u.classList.remove("seen")):(l.classList.add("seen"),u.classList.add("seen")),l.classList.remove("active"),u.classList.remove("active"),f.classList.remove("seen"),f.classList.add("active"),v.classList.remove("seen"),v.classList.add("active"),r(a.querySelectorAll(".time"),(function(e,t){t.innerText=b(v.getAttribute("data-time"))})),d.data[i]["currentItem"]=d.data[i]["currentItem"]+o,x(a,m,t)},_=h("callbacks","onNavigateItem");_=h("callbacks",_?"onNavigateItem":"onNextItem"),_(i,v.getAttribute("data-story-id"),g)}else a&&"previous"!==e&&y.next(t)};var A=function(){if(e&&e.querySelector(".story")&&r(e.querySelectorAll(".story"),(function(e,t){O(t)})),h("backNative")&&(t.location.hash==="#!".concat(v)&&(t.location.hash=""),t.addEventListener("popstate",(function(e){t.location.hash!=="#!".concat(v)&&(t.location.hash="")}),!1)),!h("reactive")){var s=T("seenItems");for(var i in s)s.hasOwnProperty(i)&&d.data[i]&&(d.data[i].seen=s[i])}r(h("stories"),(function(e,t){d.add(t,!0)})),P();var n=h("avatars")?"user-icon":"story-preview",a=h("list")?"list":"carousel";return e.className+=" stories ".concat(n," ").concat(a," ").concat("".concat(h("skin")).toLowerCase()),d};return A()};return d.buildTimelineItem=function(e,t,s,i,n,a){var o={id:e,photo:t,name:s,link:i,lastUpdated:n,items:[]};return r(a,(function(e,t){o.items.push(d.buildStoryItem.apply(d,t))})),o},d.buildStoryItem=function(e,t,s,i,r,n,a,o,c,l){return{id:e,type:t,length:s,loop:i,src:r,preview:n,link:a,linkText:o,seen:c,time:l}},d.buildItem=d.buildStoryItem,"undefined"!==typeof exports?(e.exports&&(exports=e.exports=d),exports.ZuckJS=d):t["ZuckitaDaGalera"]=t["Zuck"]=d,d}(window||{})}).call(this,s("dd40")(e))},5:function(e,t){},5144:function(e,t,s){"use strict";var i=s("eacb"),r=s.n(i);r.a},"51ff":function(e,t,s){e.exports=s.p+"img/slide-5-2x.jpg"},5784:function(e,t,s){e.exports=s.p+"img/slide-2-2x.jpg"},"57b8":function(e,t,s){},"57df":function(e,t,s){},"5c27":function(e,t,s){e.exports=s.p+"img/slide-3-2x.jpg"},"5c64":function(e,t,s){"use strict";var i=s("d32a"),r=s.n(i);r.a},"5e34":function(e,t,s){"use strict";s("8e6e"),s("456d"),s("a481"),s("ac6a"),s("7f7f"),s("6762"),s("2fdb");var i=s("bd86"),r=s("a9ee"),n=s.n(r),a=s("c1df"),o=s.n(a),c=s("4623"),l=s.n(c),u=s("ad97"),d=s("d634");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={mixins:[u["a"]],created:function(){l()(o.a)},data:function(){return{mimeType:"audio/mpeg",recorderType:r["MediaStreamRecorder"],btn:null,recStopBtn:null,closeBtn:null,audioMessagePanel:null,limit:60,isRecording:!1,firstRun:null,audioDeviceId:"",USERID:null,state:"",recorder:null,hasBeforeunloadAudiorecorderEvent:!1,beforeEachAudiorecorderFunc:null,microphone:null}},computed:p(p({},Object(d["b"])(["authUser"])),{},{checkLeaveAudiorecorder:function(){return"recording"===this.state},checkLeaveTextAudiorecorder:function(){return this.$i18n.t("message.audiorecorder_leave_msg")},routerCheckLeaveComponent:function(){return["ChatsSend","Chat"].includes(this.$route.name)?"chat":""}}),mounted:function(){this.beforeEachAudiorecorderFunc=this.routerCheckLeave({conditionField:"checkLeaveAudiorecorder",textField:"checkLeaveTextAudiorecorder",component:this.routerCheckLeaveComponent}),this.beforeunloadCheckLeave({watchField:"checkLeaveAudiorecorder",conditionField:"checkLeaveAudiorecorder",eventField:"hasBeforeunloadAudiorecorderEvent",funcField:"handleBeforeUnloadAudiorecorder"}),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners)},beforeDestroy:function(){document.body.classList.contains("open-panel")&&document.body.classList.remove("open-panel");var e=document.getElementById("attach_file_photo");e&&e.removeAttribute("disabled"),this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners),this.beforeEachAudiorecorderFunc&&this.beforeEachAudiorecorderFunc(),this.hasBeforeunloadAudiorecorderEvent&&(window.removeEventListener("beforeunload",this.handleBeforeUnloadAudiorecorder),this.hasBeforeunloadAudiorecorderEvent=!1)},methods:{handleBeforeUnloadAudiorecorder:function(e){if(this.hasBeforeunloadAudiorecorderEvent){var t=this.checkLeaveTextChat;return e=e||window.event,e&&(e.returnValue=t),t}},isMimeTypeSupported:function(e){return"undefined"!==typeof MediaRecorder&&"function"===typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported(e)},blobtoFile:function(e,t){var s="";switch(e.type){case"audio/ogg":s="ogg";break;case"audio/webm":s="webm";break;case"video/webm":case"video/mp4":s="mp4";break;case"audio/wav":s="wav";break;default:s="mp3";break}try{return new File([e],"".concat(t,".").concat(s),{type:e.type})}catch(r){var i=new Blob([e],{type:e.type});return i.name="".concat(t,".").concat(s),Sentry.captureException(r),i}},fillDevicesList:function(e){var t=!0,s=!0;e.forEach((function(e,i){var r,n,a="";if("videoinput"===e.kind)r=e.label?e.label.replace(/ *\([^)]*\) */g,""):"Camera ".concat(i),n=document.querySelectorAll(".js-video-menu ul"),t&&(t=!1,a="m-active");else{if("audioinput"!==e.kind)return;r=e.label?e.label.replace(/ *\([^)]*\) */g,""):"Microphone ".concat(i),n=document.querySelectorAll(".js-audio-menu ul"),s&&(s=!1,a="m-active")}var o=document.createElement("li"),c=document.createElement("a");c.dataset.id=i,c.classList.add("b-streaming__mic-select__option"),a&&c.classList.add(a),c.innerHTML='<span class="b-dropdown__icon"><svg aria-hidden="true" class="g-icon"><use xlink:href="#icon-done"></use></svg></span>'.concat(r),o.appendChild(c),n.forEach((function(e){e.appendChild(o)}))}))},updateRecordProgressBar:function(e,t,s){var i=2*Math.PI*28,r=s.querySelector(".progress__value"),n=Math.round(e/t*100);r.style.strokeDashoffset=i*(1-n/100),r.style.strokeDasharray=i},setChatSendBtnState:function(){var e=!1;if(e&&"true"===e.dataset.can_send){var t=document.querySelector(".js-chat__audio-record-btn");t&&"recording"===t.dataset.state?e.disabled=!0:document.querySelector(".b-dropzone__preview.m-tip")?e.disabled=!1:this.authUser.canChat&&(e.disabled=!(document.querySelector(".b-chat__message-input").value.trim().replace(/(\r\n|\n|\r)/gm,"").length&&document.querySelectorAll(".b-dropzone__preview").length===document.querySelectorAll(".b-dropzone__preview input").length||document.querySelectorAll(".b-dropzone__preview").length&&document.querySelectorAll(".b-dropzone__preview").length===document.querySelectorAll(".b-dropzone__preview input").length))}},showHidePanel:function(e){this.audioMessagePanel.classList.toggle("m-hidden",!e),document.body.classList.toggle("open-panel",e);var t=document.getElementById("attach_file_photo"),s=!this.audioMessagePanel.classList.contains("m-hidden");t&&(s?t.setAttribute("disabled",!0):t.removeAttribute("disabled"));var i=document.querySelector(".b-chat__footer");i&&i.classList.toggle("m-panel-shown",e)},audiorecorderInit:function(e){var t=this,s=e.btn,i=e.recStopBtn,n=e.closeBtn,a=e.userId,o=e.audioMessagePanel,c=e.firstRun,l=e.inputId,u=void 0===l?"fileupload_photo":l,d=e.context;this.btn=document.getElementById(s),this.recStopBtn=i,this.closeBtn=n,this.audioMessagePanel=o,this.USERID=a,this.firstRun=c,this.audioDeviceId=!1,this.inputId=u,this.isPostContext="post"===d,!1===this.isMimeTypeSupported(this.mimeType)&&(this.mimeType="audio/ogg",!1===this.isMimeTypeSupported(this.mimeType)&&(this.mimeType="audio/wav",this.recorderType=r["StereoAudioRecorder"])),this.btn&&this.btn.addEventListener("click",(function(){t.showHidePanel(!0),t.firstRun&&(t.firstRun=!1,navigator.mediaDevices.enumerateDevices().then((function(e){var s=e.filter((function(e){return"default"!==e.deviceId&&!e.label.includes("default")})),i={allDevices:s,audioDevices:s.filter((function(e){return"audioinput"===e.kind}))};0===i.audioDevices.length&&(alert(t.$i18n.t("message.audiorecorder_no_mic")),document.querySelector(".b-streaming__mic-select__btn").disabled=!0,document.querySelector(".b-streaming__mic-select__btn .g-icon use").setAttribute("xlink:href","#icon-voice-off")),1===i.audioDevices.length&&(document.querySelector(".b-streaming__mic-select__btn").disabled=!0),i.audioDevices.length&&(t.audioDeviceId=i.audioDevices[0].deviceId,t.fillDevicesList(i.audioDevices),t.audioMessagePanel.querySelectorAll(".js-audio-menu .b-streaming__mic-select__option").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var s=e.target;s.dataset.id&&i.audioDevices[s.dataset.id]&&(t.audioDeviceId=i.audioDevices[s.dataset.id].deviceId),t.audioMessagePanel.querySelector(".js-audio-menu .m-active").classList.remove("m-active"),s.classList.add("m-active")}))})))})).catch((function(e){console.log("".concat(e.name,": ").concat(e.message)),Sentry.captureException(e)}))),t.audioMessagePanel.querySelector(".b-streaming__mic-select").classList.remove("g-hidden")})),this.recStopBtn&&this.recStopBtn.addEventListener("click",(function(){"recording"===t.state?t.stopRec():t.rec()})),this.closeBtn&&this.closeBtn.addEventListener("click",(function(){t.showHidePanel(!1),"recording"===t.state&&t.stopRec(!1)}))},rec:function(){var e=this,t=!0;this.audioDeviceId&&(t={deviceId:{exact:this.audioDeviceId}}),navigator.mediaDevices.getUserMedia({audio:t}).then((function(t){e.microphone=t;var s=document.querySelector("#fileupload_photo");s&&(s.disabled=!0),e.audioMessagePanel.querySelector(".b-streaming__mic-select").classList.add("g-hidden"),e.recStopBtn.querySelector(".js-chat__audio-record-state-stop").classList.remove("g-hidden"),e.recStopBtn.querySelector(".js-chat__audio-record-state-rec").classList.add("g-hidden"),e.btn.dataset.state="recording",e.state="recording",e.setChatSendBtnState(),e.recorder=n()(e.microphone,{type:"audio",disableLogs:!0,mimeType:e.mimeType,recorderType:e.recorderType}),e.recorder.startRecording();var i=(new Date).getTime(),r=setInterval((function(){"recording"===e.state?(e.duration=Math.round(((new Date).getTime()-i)/1e3),e.updateRecordProgressBar(e.duration,e.limit,e.audioMessagePanel),e.duration&&(e.audioMessagePanel.querySelector(".js-chat__audio-record-timer").textContent=o.a.duration(e.duration,"seconds").format()),e.duration>=e.limit&&e.stopRec()):clearInterval(r)}),250)})).catch((function(t){e.btn.dataset.state="",e.state="",e.setChatSendBtnState(),alert(e.$i18n.t("message.audiomessage_mic_restricted_error")),"NotAllowedError"!==t.name&&Sentry.captureException(t)}))},stopRec:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.recorder.stopRecording((function(s){e.showHidePanel(!1),e.audioMessagePanel.querySelector(".progress__value").removeAttribute("style"),e.recStopBtn.querySelector(".js-chat__audio-record-state-stop").classList.add("g-hidden"),e.recStopBtn.querySelector(".js-chat__audio-record-state-rec").classList.remove("g-hidden"),e.audioMessagePanel.querySelector(".js-chat__audio-record-timer").textContent="0:00",e.btn.dataset.state=null;var i=document.querySelector("#".concat(e.inputId));if(t){e.isPostContext||(e.btn.disabled=!0);var r,n=e.recorder.getBlob(),a=e.blobtoFile(n,"audiorecord_".concat(e.USERID,"_").concat(o()().format("YYYYMMDDHHmmss")));window.CustomEvent?r=new CustomEvent("selectFile",{detail:{file:a}}):(r=document.createEvent("CustomEvent"),r.initCustomEvent("selectFile",!0,!0,{file:a})),i.dispatchEvent(r)}i.disabled=!1,e.recorder.destroy(),e.recorder=null,e.microphone&&(e.microphone.stop(),e.microphone=null)})),this.state="recorded"},removeListeners:function(){window.removeEventListener("beforeunload",this.handleBeforeUnloadAudiorecorder)}}}},6:function(e,t){},"605e":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isPostsError||e.queueBuyersError&&e.isShowList?s("error-page"):s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header"},[s("go-back",{attrs:{default:{name:"Profile",params:{userId:e.username}}}}),s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.pageTitle)+" ")]),s("page-title",{attrs:{title:e.pageTitle}}),"sm"!==e.$mq?[(e.isTippersPage||e.isBuyersPage||e.isVotersPage||e.isQueueBuyersPage)&&e.authUser.canSendChatToAll?s("router-link",{staticClass:"g-btn m-rounded",attrs:{to:{name:"ChatsSend",query:e.query},disabled:!e.dataList||!e.dataList.length||!e.usersTotal}},[e._v(" "+e._s(e.$t("message.message_all"))+" ")]):e._e(),e.isQueueBuyersPage?s("button",{staticClass:"g-btn m-rounded",attrs:{type:"button",disabled:!e.dataList||!e.dataList.length},on:{click:e.openUsersListsModal}},[e._v(" "+e._s(e.$t("message.add_to_list"))+" ")]):e._e()]:e._e(),"sm"===e.$mq&&(e.isQueueBuyersPage||(e.isTippersPage||e.isBuyersPage||e.isVotersPage||e.isQueueBuyersPage)&&e.authUser.canSendChatToAll)?s("b-dropdown",{ref:"dropDown",staticClass:"b-custom-list__dropdown",attrs:{offset:"8",right:""}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-more-v"})]),s("ul",[(e.isTippersPage||e.isBuyersPage||e.isVotersPage||e.isQueueBuyersPage)&&e.authUser.canSendChatToAll?s("li",[s("router-link",{attrs:{to:{name:"ChatsSend",query:e.query},disabled:!e.dataList||!e.dataList.length||!e.usersTotal}},[e._v(" "+e._s(e.$t("message.message_all"))+" ")])],1):e._e(),e.isQueueBuyersPage?s("li",[s("button",{attrs:{type:"button",disabled:!e.dataList||!e.dataList.length},on:{click:e.openUsersListsModal}},[e._v(" "+e._s(e.$t("message.add_to_list"))+" ")])]):e._e()])],2):e._e()],2),e.isVotersPage?s("post-vote-option",{attrs:{option:e.voteOption,total:e.votingTotal,"post-id":e.postId,author:e.authUser,"disabled-vote":!0}}):e._e(),e.isShowList?[s("div",{staticClass:"b-chats__available-users__list"},e._l(e.dataList,(function(t){return s("div",{key:t.id,staticClass:"b-users-list__item"},[t.isDeleted?[s("div",{staticClass:"b-users-list__wrapper"},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:t.isOnline}},[s("payer-rating",{attrs:{user:t,placement:"right"}}),s("image-thumb",{attrs:{user:t,size:"c50"}})],1),s("div",{staticClass:"b-users-list__body"},[s("div",{staticClass:"b-username-row m-width-limit m-gap-more"},[s("div",{staticClass:"b-username"},[s("div",{staticClass:"g-user-name",domProps:{innerHTML:e._s(e.userName(t))}})])]),s("div",{staticClass:"b-username-row m-width-limit"},[s("div",{staticClass:"b-username"},[s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(t.username)+" ")])])])])])]:s("router-link",{staticClass:"b-users-list__wrapper",attrs:{to:{name:"Profile",params:{userId:t.username}}}},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:t.isOnline}},[s("payer-rating",{attrs:{user:t,placement:"right"}}),s("image-thumb",{attrs:{user:t,size:"c50"}})],1),s("div",{staticClass:"b-users-list__body"},[s("div",{staticClass:"b-username-row m-width-limit m-gap-more"},[s("div",{staticClass:"b-username"},[s("div",{staticClass:"g-user-name",domProps:{innerHTML:e._s(e.userName(t))}})])]),s("div",{staticClass:"b-username-row m-width-limit"},[s("div",{staticClass:"b-username"},[s("div",{staticClass:"g-user-username"},[e._v(" @"+e._s(t.username)+" ")])]),t.amount?s("span",{staticClass:"b-tips-amount"},[e._v(" "+e._s("$"+parseFloat(t.amount).toFixed(2))+" ")]):e._e()])])])],2)})),0),e.isShowInfiniteLoading?s("infinite-loading",{ref:"infiniteLoader",on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e(),s("back-to-top-btn")]:s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1)],2)],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("c5f6"),s("96cf"),s("3b8d")),a=(s("7514"),s("7f7f"),s("bd86")),o=s("9b02"),c=s.n(o),l=s("e166"),u=s.n(l),d=s("d634"),h=s("1dd8"),p=s("b6ee"),m=s("4683"),f=s("e66b"),b=s("b304"),v=s("e528"),g=s("dab1"),_=s("b775");function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function w(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var O={name:"AdditionallyPages",components:{InfiniteLoading:u.a,SpinnerLoader:v["a"],ErrorPage:h["default"],PayerRating:m["a"],ImageThumb:f["a"],BackToTopBtn:b["a"],GoBack:p["a"],PostVoteOption:g["a"]},data:function(){return{isShowList:!1,postId:+this.$route.params.postId,optionId:+this.$route.params.optionId,queueId:+this.$route.params.queueId,hasMoreQueueBuyers:!1}},computed:w(w(w(w(w(w({},Object(d["b"])(["authUser"])),Object(d["Ob"])(["getUser"])),Object(d["T"])(["getPost","isPostsError","postVoters"])),Object(d["eb"])(["userLoginPrefix"])),Object(d["j"])(["usersTotal","queueBuyersIds","queueBuyersError"])),{},{post:function(){var e=this.getPost(this.postId);return e.length?e[0]:{favoritesList:[],tipsList:[],buyersList:[],votersList:{}}},isTippersPage:function(){return"PostTips"===this.$route.name},isBuyersPage:function(){return"PostBuyers"===this.$route.name},isVotersPage:function(){return"PostVoters"===this.$route.name},isQueueBuyersPage:function(){return"QueueBuyers"===this.$route.name},pageTitle:function(){return this.isTippersPage?this.$i18n.t("message.post_tips_page_title"):this.isBuyersPage?this.$i18n.t("message.post_buyers_page_title"):this.isVotersPage?this.$i18n.t("message.post_voters_page_title"):this.isQueueBuyersPage?this.$i18n.t("message.queue_buyers_page_title"):this.$i18n.t("message.post_likes_page_title")},dataList:function(){var e=this;return this.isTippersPage?this.post.tipsList.map((function(t){return e.getUser(t)})):this.isBuyersPage?this.post.buyersList.map((function(t){return e.getUser(t)})):this.isVotersPage?(this.postVoters(this.optionId)||[]).map((function(t){return e.getUser(t)})):this.isQueueBuyersPage?this.queueBuyersIds.map((function(t){return e.getUser(t)})):this.post.favoritesList.map((function(t){return e.getUser(t)}))},isShowInfiniteLoading:function(){return this.isTippersPage?this.post.tipsList&&this.post.tipsList.length>=10:this.isBuyersPage?this.post.buyersList&&this.post.buyersList.length>=10:this.isVotersPage?this.postVoters(this.optionId)&&this.postVoters(this.optionId).length>=10:this.isQueueBuyersPage?this.hasMoreQueueBuyers:this.post.favoritesList&&this.post.favoritesList.length>=10},voteOption:function(){var e=this;return this.isVotersPage?c()(this,"post.voting.options",[]).find((function(t){return t.id===e.optionId}))||{}:""},votingTotal:function(){return this.isVotersPage?c()(this,"post.voting.total",0):""},query:function(){var e={};return this.isTippersPage?e.post_donators=this.postId:this.isBuyersPage?e.post_buyers=this.postId:this.isVotersPage?e.post_voters=this.optionId:this.isQueueBuyersPage&&(e.queue=this.queueId),e},username:function(){return this.$route.params.userId||this.authUser.username}}),mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Number(this.username)===this.authUser.id&&this.$router.replace(w(w({},this.$route),{},{params:{userId:this.authUser.username}})),this.username===this.authUser.username){e.next=4;break}return this.$router.replace({name:"Post",params:{postId:this.postId,userId:this.username}}),e.abrupt("return");case 4:if(document.documentElement.classList.add("p-posts-index-index"),!this.isTippersPage){e.next=11;break}return e.next=8,this.fetchTipsList({postId:this.postId});case 8:this.getChatsUsers(),e.next=35;break;case 11:if(!this.isBuyersPage){e.next=17;break}return e.next=14,this.fetchBuyersList({postId:this.postId});case 14:this.getChatsUsers(),e.next=35;break;case 17:if(!this.isVotersPage){e.next=26;break}if(this.post.id){e.next=21;break}return e.next=21,this.fetchPost({id:this.postId});case 21:return e.next=23,this.fetchVotersList({postId:this.postId,optionId:this.optionId});case 23:this.getChatsUsers(),e.next=35;break;case 26:if(!this.isQueueBuyersPage){e.next=33;break}return e.next=29,this.fetchQueueBuyersList({queueId:this.queueId});case 29:this.hasMoreQueueBuyers=e.sent,this.getChatsUsers(),e.next=35;break;case 33:return e.next=35,this.fetchFavoritesList({postId:this.postId});case 35:this.isShowList=!0;case 36:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){document.documentElement.classList.remove("p-posts-index-index")},methods:w(w(w(w({},Object(d["S"])(["fetchFavoritesList","fetchTipsList","fetchBuyersList","fetchVotersList","fetchPost"])),Object(d["i"])(["fetchChatsUsers","fetchQueueBuyersList"])),Object(d["Sb"])(["setModalUser"])),{},{userName:function(e){return e.displayName?e.name==="".concat(this.userLoginPrefix).concat(e.id)?e.displayName:"".concat(e.displayName,' <span class="g-gray-text">(').concat(e.name,")</span>"):e.name},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.post.id){e.next=2;break}return e.abrupt("return");case 2:if(s=this.isTippersPage?this.post.tipsList?this.post.tipsList.length:0:this.isBuyersPage?this.post.buyersList?this.post.buyersList.length:0:this.isVotersPage?this.postVoters(this.optionId)?this.postVoters(this.optionId).length:0:this.post.favoritesList?this.post.favoritesList.length:0,s<_["e"]&&!this.isQueueBuyersPage&&t.complete(),!this.isTippersPage){e.next=10;break}return e.next=7,this.fetchTipsList({offset:s,more:!0,postId:this.post.id});case 7:i=e.sent,e.next=32;break;case 10:if(!this.isBuyersPage){e.next=16;break}return e.next=13,this.fetchBuyersList({offset:s,more:!0,postId:this.post.id});case 13:i=e.sent,e.next=32;break;case 16:if(!this.isVotersPage){e.next=22;break}return e.next=19,this.fetchVotersList({offset:s,more:!0,postId:this.post.id,optionId:this.optionId});case 19:i=e.sent,e.next=32;break;case 22:if(!this.isQueueBuyersPage){e.next=29;break}return e.next=25,this.fetchQueueBuyersList({more:!0,queueId:this.queueId});case 25:this.hasMoreQueueBuyers=e.sent,this.hasMoreQueueBuyers?t.loaded():t.complete(),e.next=32;break;case 29:return e.next=31,this.fetchFavoritesList({offset:s,more:!0,postId:this.post.id});case 31:i=e.sent;case 32:i&&i.list&&(i.list.length<_["e"]?t.complete():t.loaded());case 33:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getChatsUsers:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},this.isTippersPage?t.post_donators=this.postId:this.isBuyersPage?t.post_buyers=this.postId:this.isVotersPage?t.post_voters=this.optionId:this.isQueueBuyersPage&&(t.queue_buyers=this.queueId),e.next=4,this.fetchChatsUsers({limit:1,filter:t});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openUsersListsModal:function(){var e=this;this.$refs.dropDown&&this.$refs.dropDown.hide(),this.$nextTick((function(){e.setModalUser({userId:null}),e.$root.$emit("bv::show::modal","ModalUsersLists")}))}})},C=O,P=s("2877"),x=Object(P["a"])(C,i,r,!1,null,null,null);t["default"]=x.exports},"62b0":function(e,t,s){e.exports=s.p+"img/slide-5.jpg"},"632b":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showPost?s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"}],staticClass:"b-post",class:{"m-pinned":e.post.isPinned&&e.isProfile&&!e.isLinked,"is-not-post-page":!e.isPostPage},attrs:{id:"postId_"+e.post.id}},[s("div",{staticClass:"b-post__header"},[s("router-link",{staticClass:"b-post__avatar",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}}}},[s("span",{staticClass:"g-avatar online_status_class m-w50",class:{online:(!e.author.hasStream||e.author.isMuted)&&e.author.isOnline,"m-muted-by-me":e.author.isMuted}},[s("payer-rating",{attrs:{user:e.author,placement:"right"}}),s("image-thumb",{attrs:{user:e.author,size:"c50"}}),e.author.hasStream&&!e.author.isMuted?s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]):e._e()],1)]),s("div",{staticClass:"b-username-row m-gap-lg"},[s("router-link",{staticClass:"b-username",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}},event:e.isProfilePage?"":"click"}},[e._e(),s("div",{staticClass:"g-user-name",on:{click:e.scrollToTop}},[s("span",{staticClass:"post-header-user-name"},[e._v(" "+e._s(e._f("encodeHtml")(e.author.displayName||e.author.name))+" ")]),e.author.isVerified?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-verified",attrs:{"extra-class":"mr-verified"}}):e._e()])]),s("div",{staticClass:"b-post__profile-details"},[e.noPosted&&"post"===e.post.responseType?s("router-link",{staticClass:"b-post__date",attrs:{to:{name:"PostsEdit",params:{postId:e.post.id}}}},[e.post.isPublishedWithPeriod?e._e():s("utils-time",{attrs:{date:e.post.postedAt,type:"schedule"}}),e.post.isPublishedWithPeriod?s("span",[e._v(" Later ")]):e._e()],1):e._e(),e.noPosted||"post"!==e.post.responseType?e._e():s("router-link",{ref:"postUrl",staticClass:"b-post__date",attrs:{"active-class":"","exact-active-class":"",to:{name:"Post",params:{postId:e.post.id,userId:e.author.username}}}},[s("utils-time",{attrs:{date:e.post.postedAt,type:"feed"}})],1),e.noPosted||"message"!==e.post.responseType?e._e():s("router-link",{ref:"postUrl",staticClass:"b-post__date",attrs:{"active-class":"","exact-active-class":"",to:{name:"Chat",params:{chatId:e.post.fromUser},query:{firstId:e.post.id}}}},[s("utils-time",{attrs:{date:e.post.postedAt,type:"feed"}})],1),"post"===e.post.responseType?s("b-dropdown",{ref:"postDropdown",staticClass:"b-post__tools__more m-not-width-limit m-size-lg m-center",attrs:{right:"","toggle-class":"m-reset-gaps",variant:"link",offset:"4",disabled:e.isLinked}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],staticClass:"icon-more-v",attrs:{"extra-class":"m-vertical-dots"}})]),e.isLinked?e._e():[s("b-dropdown-item-button",{on:{click:e.doCopyPostLink}},[e._v(" "+e._s(e.$t("message.post_dropdown_copy_link_item"))+" ")]),e.canPin?[e.post.isPinned||e.authUser.pinnedPostsCount<e.getInit.personalConfig.max_pinned_posts_count?s("b-dropdown-item-button",{staticClass:"b-post__btn-pin",attrs:{disabled:e.disabledPin},on:{click:e.doPinPost}},[e._v(" "+e._s(e.post.isPinned?this.$i18n.t("message.post_dropdown_unpin_item_new"):this.$i18n.t("message.post_dropdown_pin_item"))+" ")]):e._e(),"Profile"===e.$route.name&&e.post.isPinned&&e.authUser.pinnedPostsCount>1?[e.pinnedPostsIds[0]!==e.post.id?s("b-dropdown-item-button",{staticClass:"b-post__btn-pin",attrs:{disabled:e.disabledPinsOrder},on:{click:e.movePinnedPostUp}},[e._v(" "+e._s(e.$t("message.move_pinned_post_up"))+" ")]):e._e(),e.pinnedPostsIds[e.pinnedPostsIds.length-1]!==e.post.id?s("b-dropdown-item-button",{staticClass:"b-post__btn-pin",attrs:{disabled:e.disabledPinsOrder},on:{click:e.movePinnedPostDown}},[e._v(" "+e._s(e.$t("message.move_pinned_post_down"))+" ")]):e._e()]:e._e()]:e._e(),e.post.canEdit?s("b-dropdown-item-button",{on:{click:e.goToEdit}},[e._v(" "+e._s(e.$t("message.post_dropdown_edit_item"))+" ")]):e._e(),e.isPostUser?s("b-dropdown-item-button",{on:{click:e.openPostStat}},[e._v(" "+e._s(e.$t("message.post_stat_modal_title"))+" ")]):e._e(),e.isPostUser&&e.post.hasPurchases?s("b-dropdown-item",{on:{click:e.goToPostBuyers}},[e._v(" "+e._s(e.$t("message.show_who_bought_post_label"))+" ")]):e._e(),e.isPostUser&&e.author.isPerformer?s("b-dropdown-item-button",{on:{click:e.doArchivePost}},[e._v(" "+e._s(e.post.isArchived?e.$t("message.unarchive_post_btn"):e.$t("message.archive_post_btn"))+" ")]):e._e(),!e.authUser||e.isPostUser||e.opened||!e.isFeedPage&&!e.isLockedFeedPage?e._e():s("b-dropdown-item-button",{on:{click:e.toggleLockedPosts}},[e._v(" "+e._s(e.authUser.paidFeed?e.$t("message.show_blurred_from_feed"):e.$t("message.hide_blurred_from_feed"))+" ")])],e.post.canDelete||e.isPostUser?[s("b-dropdown-divider"),s("b-dropdown-item-button",{on:{click:function(t){e.isDeleteConfirmShow=!0}}},[e._v(" "+e._s(e.$t("message.post_dropdown_delete_item"))+" ")])]:e._e(),!e.isPostUser&&e.author.subscribedBy&&e.isFeed||e.post.canReport?[s("b-dropdown-divider"),!e.isPostUser&&e.author.subscribedBy&&e.isFeed?[s("b-dropdown-item-button",{attrs:{disabled:e.disabledHidePost},on:{click:e.doHidePost}},[e._v(" "+e._s(e.$t("message.post_dropdown_hide_post"))+" ")]),s("b-dropdown-item-button",{attrs:{disabled:e.disabledHideUserPost},on:{click:function(t){return e.doHideUserPosts({userId:e.author.id,isFeed:e.isFeed,hideDropdown:e.hideDropdown})}}},[e._v(" "+e._s(e.hideUserPostsText(e.author.showPostsInFeed))+" ")])]:e._e(),e.post.canReport?s("b-dropdown-item-button",{on:{click:e.openReportModal}},[e._v(" "+e._s(e.$t("message.report"))+" ")]):e._e()]:e._e()],2):e._e()],1)],1),s("div",{staticClass:"b-username-row"},[s("router-link",{staticClass:"b-username g-user-realname__wrapper",attrs:{"active-class":"","exact-active-class":"",to:{name:"Profile",params:{userId:e.author.username}},event:e.isProfilePage?"":"click"}},[e.author.displayName&&e.author.name!==""+e.userLoginPrefix+e.author.id?s("div",{staticClass:"g-user-realname"},[e._v(" "+e._s(e.author.name)+" ")]):e._e(),s("div",{staticClass:"g-user-username",on:{click:e.scrollToTop}},[e._v(" @"+e._s(e.author.username)+" ")])]),s("div",{staticClass:"b-post__profile-details"},[e.post.isPinned&&e.isProfile&&!e.isLinked?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_pinned_post"),expression:"$t('message.tooltip_pinned_post')"}],staticClass:"b-post__pinned"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-pin"})]):e._e(),e.post.price?s("div",{staticClass:"b-post__price"},[e._v(" "+e._s(!e.isPostUser&&e.opened?e.$t("message.paid_post_price_message",{PRICE:"$"+e.formatPrice}):"$"+e.formatPrice)+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})]):e._e(),e.post.expiredAt&&e.noPosted?s("router-link",{staticClass:"b-post__date-remaining b-post__date",attrs:{to:{name:"PostsEdit",params:{postId:e.post.id}}}},[s("utils-time",{attrs:{date:e.post.expiredAt,type:"expired"}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-clock"})],1):e._e(),e.post.expiredAt&&!e.noPosted?s("router-link",{ref:"postUrl",staticClass:"b-post__date-remaining b-post__date",attrs:{"active-class":"","exact-active-class":"",to:{name:"Post",params:{postId:e.post.id,userId:e.author.username}}}},[s("utils-time",{attrs:{date:e.post.expiredAt,type:"expired"}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-clock"})],1):e._e()],1)],1)],1),e.showFaceMessage?s("b-alert",{staticClass:"user_hint_message",attrs:{variant:"info",show:"",dismissible:!0}},[s("div",{staticClass:"alert-text-wrapper",domProps:{innerHTML:e._s("Don't forget to tag an existing OnlyFans creator")},on:{click:e.innerLinkToRouter}}),s("template",{slot:"dismiss"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])],2):e._e(),e.postTextLength?s("div",{staticClass:"b-post__text",on:{click:e.innerLinkToRouter}},[e.privatePost&&e.isPostUser&&!e.isLinked&&!e.post.lockedText?s("div",{staticClass:"b-post__text-state"},[s("span",{staticClass:"icn-lock"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"text-unlocked",staticClass:"icon-price-free"})])]):e._e(),s("p",{class:{"trunc-text":e.trunc&&!e.collapsed},attrs:{id:"post-"+e.post.id+"-copy"},domProps:{innerHTML:e._s(e.postText)}}),e.trunc?s("span",{staticClass:"link-trunc",on:{click:e.toggleCollapse}},[e._v(e._s(e.collapsed?e.$t("message.collapse"):e.$t("message.read_more")))]):e._e()]):e._e(),(e.hasMedia||e.isLinked)&&e.restricted&&!e.showPurchase?[s("post-restricted",{attrs:{"user-id":e.author.id,post:e.post,text:e.$t("message.post_is_unavailable")}})]:!e.hasMedia||"processing"!==e.post.mediaType&&e.post.isMediaReady||!e.isAuth?e.hasMedia&&e.visibleMedia.length?[e.visibleMediaWithoutAudio.length?s("post-media",{class:{"m-no-bottom-border":e.hasAudioVisible&&"post"===e.post.responseType||e.showPurchase},attrs:{post:e.post,"is-linked":e.isLinked},on:{faceDetection:function(t){e.showFaceMessage=!0}}}):e._e(),e.hasAudioVisible&&"post"===e.post.responseType?s("audio",{ref:"audio",attrs:{controlslist:"nodownload"}},[s("source",{attrs:{type:e.fileType(e.audio.full),src:e.audio.full}})]):e._e(),e.hasAudioVisible&&"message"===e.post.responseType?s("audio",{ref:"audio",attrs:{controlslist:"nodownload"}},[s("source",{attrs:{type:e.fileType(e.audio.src),src:e.audio.src}})]):e._e()]:e._e():[s("div",{staticClass:"post_media m-processing"},[s("div",{staticClass:"b-processing-content"},[s("spinner-loader",{staticClass:"b-spinner-processing"}),e._v(" "+e._s(e.$t("message.media_currently_processing"))+" ")],1)])],e.post.fundRaising?s("fundraising",{attrs:{"post-id":e.post.id}}):e._e(),e.postVoting&&(e.opened||e.preview.indexOf("poll")>=0)?s("div",{staticClass:"post_voting"},[e._l(e.post.voting.options,(function(t,i){return s("post-vote-option",{key:i,attrs:{option:t,total:e.post.voting.total,voted:e.isVoted,"post-id":e.post.id,author:e.author,"is-finished":e.isFinished,"disabled-vote":e.disabledVote},on:{"disable-vote":e.disableVote}})})),s("div",{staticClass:"post_voting_due"},[e.isPostUser||e.author.subscribedBy?e._e():s("span",{staticClass:"post_voting_due__item"},[e._v(" "+e._s(e.$t("message.subscribe_to_vote_message"))+" ")]),s("span",{staticClass:"post_voting_due__item m-votes"},[e._v(" "+e._s(e.post.voting.total)+" "+e._s(1===e.post.voting.total?e.$t("message.vote_title"):e.$t("message.votes_title"))+" ")]),null===e.post.voting.finishedAt||e.isFinished?e._e():s("span",{staticClass:"post_voting_due__item"},[s("utils-time",{attrs:{date:e.post.voting.finishedAt,type:"vote-finished"}}),e._v(" "+e._s(e.$t("message.vote_days_left"))+" ")],1)])],2):e._e(),e.showPurchase?s("PostPurchase",{attrs:{post:e.post,"is-linked":e.isLinked}}):e._e(),e.hasMedia&&e.restricted&&!e.showPurchase||!e.post.linkedPosts||!e.post.linkedPosts.length?e._e():s("div",{staticClass:"row_flex b-post__mentioned-posts-list"},e._l(e.post.linkedPosts,(function(t){return s("div",{key:e.post.id+"-"+t,staticClass:"b-post__mentioned-posts-item"},[s("users-post",{key:e.post.id+"-"+t,attrs:{post:e.fetchPost(t,"mentioned"),"is-linked":!0}}),s("router-link",{staticClass:"b-post__mentioned-posts-item__link m-border-post",attrs:{"active-class":"","exact-active-class":"",to:e.linkedPostLink(t)}})],1)})),0),e.post.linkedUsers&&e.post.linkedUsers.length?s("div",{staticClass:"row row_flex b-post__mentioned-users-list"},e._l(e.post.linkedUsers,(function(t,i){return s("div",{key:t,staticClass:"col-xs-12",class:{"col-lg-6":e.isTwoCols(i)}},[s("friend",{attrs:{"user-id":t}})],1)})),0):e._e(),s("div",{staticClass:"b-post__tools"},["post"===e.post.responseType?s("div",{staticClass:"b-post__tools__item m-first"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.post.isFavorite?this.$i18n.t("message.post_like_button_title_unlike"):this.$i18n.t("message.post_like_button_title_like"),expression:"(post.isFavorite) ? this.$i18n.t('message.post_like_button_title_unlike') : this.$i18n.t('message.post_like_button_title_like')"}],staticClass:"b-post__tools__btn m-with-round-hover",class:{"m-active":e.post.isFavorite,"m-link-color":e.post.favoritesCount&&e.isPostUser&&!e.isLinked},attrs:{type:"button",disabled:!e.post.canToggleFavorite||e.disabledFavorites||e.isLinked},on:{click:e.toggleFavorites}},[e.post.isFavorite?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"isFavorite",staticClass:"icon-liked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"isNoFavorite",staticClass:"icon-like"})])]):e._e(),"post"===e.post.responseType?s("div",{staticClass:"b-post__tools__item"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.isAuth&&e.post.canComment&&!e.isPostPage?e.isCommentsShow?this.$i18n.t("message.comments_button_title_hide"):this.$i18n.t("message.comments_button_title_show"):"",expression:"isAuth && post.canComment && !isPostPage ? (isCommentsShow ? this.$i18n.t('message.comments_button_title_hide') : this.$i18n.t('message.comments_button_title_show')) : ''"}],staticClass:"b-post__tools__btn send-comment-btn m-with-round-hover",class:{"m-active":e.isCommentsShow&&!e.isPostPage},attrs:{type:"button",disabled:!e.isAuth||!e.post.canComment||e.isLinked},on:{click:e.toggleComments}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-comment"})])]):e._e(),!e.isPostUser&&e.isAuth?s("div",{staticClass:"b-post__tools__item"},[s("button",{staticClass:"b-post__tools__btn send-tip-btn m-uppercase m-with-round-hover m-width-fluid-hover",attrs:{type:"button",disabled:e.isLinked||!e.author.tipsEnabled},on:{click:function(t){return t.preventDefault(),e.showModalTips(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-funds"}),e._v(" "+e._s(e.$t("message.send_tip"))+" ")])]):e._e(),e.isAuth&&"post"===e.post.responseType?s("div",{staticClass:"b-post__tools__item m-last"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.post.isAddedToBookmarks?this.$i18n.t("message.tooltip_remove_bookmarks"):this.$i18n.t("message.tooltip_add_bookmarks"),expression:"!post.isAddedToBookmarks ? this.$i18n.t('message.tooltip_add_bookmarks') : this.$i18n.t('message.tooltip_remove_bookmarks')"}],staticClass:"b-post__tools__btn m-with-round-hover",class:{"m-active":e.post.isAddedToBookmarks},attrs:{type:"button"},on:{click:e.addToBookmarks}},[e.post.isAddedToBookmarks?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-bookmarked",staticClass:"icon-bookmarked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-bookmark",staticClass:"icon-bookmark"})])]):e._e()]),e.post.favoritesCount||e.post.tipsAmount&&Number(e.post.tipsAmount.substr(1).replace(" ",""))&&e.isAuth?s("div",{staticClass:"post-comments-tips-likes-count"},[e.post.favoritesCount?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.isPostUser?e.$t("message.show_who_liked"):""},expression:"{content: isPostUser ? $t('message.show_who_liked') : ''}"}],staticClass:"post-comments-tips-likes-count__item",attrs:{to:{name:"PostLikes",params:{postId:e.post.id,userId:e.author.username}},event:e.isPostUser?"click":"",tag:e.isPostUser?"a":"div"},domProps:{innerHTML:e._s(e.$tc("message.comment_likes_count_plural",e.post.favoritesCount,{COUNT:"<span>"+e.post.favoritesCount+"</span>"}))}}):e._e(),e.post.tipsAmount&&Number(e.post.tipsAmount.substr(1).replace(" ",""))&&e.isAuth?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.isPostUser?e.$t("message.show_who_tips"):""},expression:"{content: isPostUser ? $t('message.show_who_tips') : ''}"}],staticClass:"post-comments-tips-likes-count__item",attrs:{to:{name:"PostTips",params:{postId:e.post.id,userId:e.author.username}},event:e.isPostUser?"click":"",tag:e.isPostUser?"a":"div"}},[s("span",[e._v(" "+e._s(e.post.tipsAmount)+" ")]),e._v(" "+e._s(e.$t("message.tips_amount"))+" ")]):e._e()],1):e._e(),"post"===e.post.responseType?s("post-comments",{ref:"postComments",attrs:{show:e.isCommentsShow,post:e.post,"is-linked":e.isLinked},on:{"update:show":function(t){e.isCommentsShow=t}}}):e._e(),e.isPostUser&&e.statsData&&!e.isLinked?s("post-stat-modal",{attrs:{"start-time":e.postedAt,"post-id":e.post.id}}):e._e(),e.isLinked?e._e():s("modal-confirm",{attrs:{"modal-show":e.isDeleteConfirmShow,title:this.$i18n.t("message.dialog_delete_post_title"),text:this.$i18n.t("message.dialog_comment_delete_desc"),"agree-btn":this.$i18n.t("message.dialog_delete_post_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isDeleteConfirmShow=t},"update:modal-show":function(t){e.isDeleteConfirmShow=t},"on-agree":e.doDeletePost}})],2):e._e()},r=[],n=(s("8e6e"),s("456d"),s("ac6a"),s("5df3"),s("4f7f"),s("75fc")),a=(s("6762"),s("2fdb"),s("96cf"),s("3b8d")),o=(s("a481"),s("bd86")),c=(s("7f7f"),s("9b02")),l=s.n(c),u=s("d634"),d=s("ebdc"),h=s("e66b"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"postComments",staticClass:"b-comments"},[e.showMoreBtn||!e.isPostPage&&!e.show?s("div",{staticClass:"b-comments__load-more-btn"},[e.isPostPage||e.post.canComment||!e.post.commentsCount?e._e():s("span",{staticClass:"g-gray-text"},[e._v(" "+e._s(e.$tc("message.comments_count_plural",e.post.commentsCount,{COUNT:e.post.commentsCount}))+" ")]),e.post.commentsCount&&e.post.canComment?s("button",{staticClass:"g-btn m-flat",attrs:{type:"button",disabled:e.isPostPage&&e.isCommentsLoading},domProps:{innerHTML:e._s(e.viewAllCommentsBtnText)},on:{click:function(t){return t.preventDefault(),e.loadAllComments(t)}}}):e._e()]):e._e(),e.isAuth&&e.post.canComment&&!e.isLinked&&e.showComments?[e._e(),s("div",{staticClass:"b-comments__list"},e._l(e.comments,(function(t){return s("post-comment",{key:t.id,attrs:{comment:t,post:e.post},on:{replyComment:e.onReplyComment}})})),1),s("div",{ref:"commentsMore",staticClass:"b-comments__end"},[e.showMoreBtn&&e.isPostPage?s("div",{staticClass:"b-comments__load-more-btn"},[e.isPostPage?s("button",{staticClass:"g-btn m-flat",attrs:{type:"button",disabled:e.isCommentsLoading},on:{click:function(t){return t.preventDefault(),e.loadMoreComments(t)}}},[e._v(" "+e._s(e.$t("message.load_more_comments"))+" ")]):s("button",{staticClass:"g-btn m-flat",attrs:{type:"button",disabled:e.isCommentsLoading},on:{click:function(t){return t.preventDefault(),e.loadAllComments(t)}}},[e._v(" "+e._s(e.$t("message.load_all_comments",{COUNT:e.post.commentsCount}))+" ")])]):e._e()]),s("form",{staticClass:"b-comments__form",on:{submit:function(t){return t.preventDefault(),e.commentSubmit(t)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.giphyShow,expression:"!giphyShow"}],staticClass:"g-avatar online_status_class m-w36",class:{online:e.authUser.isOnline}},[s("image-thumb",{attrs:{user:e.authUser,size:"c50"}})],1),s("div",{staticClass:"b-comments__form__tools"},[e.isMobileDevice?e._e():s("div",{staticClass:"b-emoji-popover",class:{"m-disabled":e.isDisabledEmoji}},[s("button",{staticClass:"b-comment-form__emoji-btn m-with-round-hover",attrs:{type:"button",disabled:e.isDisabledEmoji}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-emoji",staticClass:"icon-emoji",attrs:{"extra-class":"m-aligned-top"}})]),s("emoji-list",{staticClass:"m-popover"})],1),s("giphy",{attrs:{"show-prop":e.giphyShow,disabled:!!e.giphy},on:{"update:showProp":function(t){e.giphyShow=t},"update:show-prop":function(t){e.giphyShow=t},selectGif:e.selectGif}}),e.giphy&&!e.giphyShow?s("div",{staticClass:"b-dropzone__previews-scroller"},[s("div",{staticClass:"b-dropzone__preview m-loaded"},[s("img",{staticClass:"b-dropzone__preview__media",attrs:{src:e.isWebpSupports?e.get(e.giphy,"images.fixed_height.webp"):e.get(e.giphy,"images.fixed_height.url"),alt:""}}),s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",title:"Delete"},on:{click:function(t){e.giphy=null}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])])]):e._e()],1),s("textarea",{directives:[{name:"show",rawName:"v-show",value:!e.giphyShow,expression:"!giphyShow"},{name:"model",rawName:"v-model",value:e.comment,expression:"comment"},{name:"autosize",rawName:"v-autosize"}],ref:"commentFormInput",staticClass:"form-control b-comments__input unlimsize",attrs:{rows:1,placeholder:this.$i18n.t("message.comments_text_input_placeholder_new"),maxlength:e.commentMaxLength},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}}),e._v(" "),e.error.length&&!e.giphyShow?s("p",{staticClass:"g-input__help m-danger",domProps:{innerHTML:e._s(e.error)}}):e._e(),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.giphyShow,expression:"!giphyShow"}],staticClass:"g-btn m-rounded b-comments__btn-submit",attrs:{type:"submit",disabled:e.disabled}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-send"})])])]:e._e()],2)},m=[],f=s("5c6e"),b=s.n(f),v=s("1686"),g=s.n(v),_=s("9029"),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-comments__item"},[s("router-link",{staticClass:"g-avatar online_status_class m-w36",class:{online:(!e.author.hasStream||e.author.isMuted)&&e.author.isOnline,"m-muted-by-me":e.author.isMuted},attrs:{to:{name:"Profile",params:{userId:e.author.username}},event:""},nativeOn:{click:function(t){return t.preventDefault(),e.maybeOpenCard({route:{name:"Profile",params:{userId:e.author.username}},userId:e.author.id})}}},[s("payer-rating",{attrs:{user:e.author,placement:"right"}}),s("image-thumb",{attrs:{user:e.author,size:"c50"}}),e.author.hasStream&&!e.author.isMuted?s("span",{staticClass:"g-avatar__live-label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]):e._e()],1),s("div",{staticClass:"b-username-row m-inline"},[s("router-link",{staticClass:"b-username",attrs:{to:{name:"Profile",params:{userId:e.author.username}}}},[e.author.displayName&&e.author.name===""+e.userLoginPrefix+e.author.id?[s("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.author.displayName)))])]:e.author.displayName?[s("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.author.displayName)))]),s("span",{staticClass:"g-user-realname"},[e._v("("+e._s(e._f("encodeHtml")(e.author.name))+")")])]:[s("span",{staticClass:"g-user-name"},[e._v(e._s(e._f("encodeHtml")(e.author.name)))])]],2)],1),s("span",{staticClass:"b-comments__item-text",domProps:{innerHTML:e._s(e.comment.text)},on:{click:e.innerLinkToRouter}}),e.comment.giphyId?s("img",{staticClass:"b-comments__item__giphy",attrs:{src:e.getGiphyUrl(),alt:"",height:"144"},on:{load:e.giphyLoaded}}):e._e(),s("div",{staticClass:"b-comments__item__actions"},[s("utils-time",{staticClass:"b-comments__item__actions__item m-comment-date",attrs:{date:e.comment.postedAt,type:"chat"}}),e.comment.likesCount?s("span",{staticClass:"b-comments__item__actions__item"},[e._v(" "+e._s(e.$tc("message.comment_likes_count_plural",e.comment.likesCount,{COUNT:e.comment.likesCount}))+" ")]):e._e(),s("button",{staticClass:"g-btn m-flat b-comments__item__actions__item",attrs:{type:"button"},on:{click:e.replyComment}},[e._v(" "+e._s(e.$t("message.comment_reply_button"))+" ")]),e.author.id===e.authUser.id||e.post.author===e.authUser.id?s("b-dropdown",{ref:"commentDropdown",staticClass:"m-dropdown-sm",attrs:{offset:"12",right:"","toggle-class":"btn-link m-reset-gaps m-size-sm"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-more"})]),s("b-dropdown-item-button",{staticClass:"m-danger",attrs:{disabled:e.disabledDeleteComment},on:{click:e.deleteCommentHandler}},[e._v(" "+e._s(e.$t("message.comment_delete_button"))+" ")])],2):e._e()],1),s("button",{staticClass:"b-comments__item__like m-with-round-hover",class:{"m-active":e.comment.isLiked},attrs:{type:"button",disabled:e.disabledLikes},on:{click:e.toggleLikes}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:e.comment.isLiked?"isLiked":"isNoLiked",class:"icon-like"+(e.comment.isLiked?"d":"")})]),e.comment.isLikedByAuthor?s("span",{staticClass:"b-comments__item__liked-by-author"},[s("span",{staticClass:"g-avatar m-w16"},[s("image-thumb",{attrs:{user:e.postAuthor,size:"c50"}})],1)]):e._e()],1)},w=[],O=s("33a44"),C=s("4683"),P=s("c785"),x=s("ebf6");function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var E={name:"PostComment",components:{UtilsTime:O["a"],ImageThumb:h["a"],PayerRating:C["a"]},mixins:[P["a"],x["a"]],props:{comment:{type:Object,required:!0},post:{type:Object,required:!0}},data:function(){return{disabledLikes:!1,disabledDeleteComment:!1}},computed:S(S(S(S({},Object(u["b"])(["authUser"])),Object(u["Ob"])(["getUser"])),Object(u["eb"])(["userLoginPrefix"])),{},{author:function(){return this.getUser(this.comment.author)},postAuthor:function(){return this.getUser(this.post.author)}}),methods:S(S({},Object(u["l"])(["likeComment","deleteComment"])),{},{deleteCommentHandler:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.commentDropdown.hide(),this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.disabledDeleteComment=!0,s=t.comment.id,i=t.post.id,e.next=5,t.deleteComment({postId:i,commentId:s});case 5:t.disabledDeleteComment=!1;case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),replyComment:function(){this.$emit("replyComment",{name:"@".concat(this.author.username),commentId:this.comment.id})},toggleLikes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledLikes=!0,t=this.comment.id,s=!this.comment.isLiked,i=this.post.author===this.authUser.id,e.next=6,this.likeComment({id:t,like:s,byAuthor:i});case 6:this.disabledLikes=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getGiphyUrl:function(){var e=Math.floor(5*Math.random())-1;return e=e<0?"":e,"https://media".concat(e,".giphy.com/media/").concat(this.comment.giphyId,"/200.").concat(b.a?"webp":"gif")},giphyLoaded:function(e){e.target.classList.add("m-loaded")}})},T=E,A=s("2877"),j=Object(A["a"])(T,y,w,!1,null,null,null),$=j.exports,M=s("e528"),I=s("c7ad"),L=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-comments__giphy"},[s("button",{staticClass:"b-comments__giphy__btn-add m-with-round-hover",attrs:{type:"button",disabled:e.disabled},on:{click:e.toggleGiphy}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-giphy"})]),e.show?[s("swiper",{key:e.key,ref:"giphySwiper",attrs:{options:e.swiperOptions},on:{reachEnd:e.reachEnd}},[e._l(e.gifs,(function(t,i){return s("swiper-slide",{key:i},[s("img",{attrs:{src:e.get(t,"images.fixed_height_still.url"),alt:"",width:Math.round(.66*e.get(t,"images.fixed_height_still.width")),height:132},on:{load:e.swiperUpdateDebounced,click:function(s){return e.selectGif(t)}}}),s("img",{staticClass:"b-comments__giphy__gif",attrs:{src:e.isWebpSupports?e.get(t,"images.fixed_height.webp"):e.get(t,"images.fixed_height.url"),alt:""}})])})),Object.keys(e.gifs).length&&e.hasMore?s("swiper-slide",[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-loading"})]):e._e()],2),s("div",{staticClass:"swiper-scrollbar giphy-swiper-scrollbar"}),s("input",{ref:"searchInput",staticClass:"form-control g-input",attrs:{type:"text",placeholder:e.$t("message.search_placeholder")},on:{input:e.search}})]:e._e()],2)},D=[],R=s("b047c"),U=s.n(R),N=s("7b6b"),B=s("b775");function F(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function V(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?F(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):F(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var H={props:{showProp:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{gifs:{},swiperOptions:{slidesPerView:"auto",spaceBetween:12,freeMode:!0,freeModeMomentum:!0,observer:!0,watchSlidesVisibility:!0,scrollbar:{el:".giphy-swiper-scrollbar",draggable:!0,snapOnRelease:!0},mousewheel:!0},searchVal:"",loading:!1,hasMore:!0,key:+new Date,limit:B["e"]}},computed:{show:{get:function(){return this.showProp},set:function(e){this.searchVal="",e||(this.gifs={}),this.$emit("update:showProp",e)}},isWebpSupports:function(){return b.a}},methods:{fetchGifs:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,s=o.length>1&&void 0!==o[1]&&o[1],this.searchVal=this.$refs.searchInput?this.$refs.searchInput.value.trim():"",i={category:"gifs",limit:this.limit,offset:t},this.searchVal&&(i.q=this.searchVal),e.next=7,Object(N["a"])(i);case 7:r=e.sent,n=r.data,a=r.pagination,this.hasMore=a.offset+a.count<a.total_count,this.parseResonse(n,s);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleGiphy:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.show){e.next=3;break}return e.next=3,this.fetchGifs();case 3:this.show=!this.show;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectGif:function(e){this.$emit("selectGif",e),this.show=!1},get:function(){return l()(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},parseResonse:function(e,t){var s={};e.forEach((function(e){s[e.id]={id:e.id,isVisible:!1,images:{fixed_height:{webp:e.images.fixed_height.webp,url:e.images.fixed_height.url},fixed_height_still:{url:e.images.fixed_height_still.url,height:e.images.fixed_height_still.height,width:e.images.fixed_height_still.width}}}})),this.gifs=t?V(V({},this.gifs),s):s,t||(this.key=+new Date)},search:U()((function(){this.fetchGifs()}),500),reachEnd:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.loading&&this.hasMore){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.next=5,this.fetchGifs(Object.keys(this.gifs).length,!0);case 5:setTimeout((function(){t.loading=!1}),500);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),swiperUpdateDebounced:U()((function(){var e=l()(this,"$refs.giphySwiper.$swiper");e&&e.update()}),500)}},z=H,q=Object(A["a"])(z,L,D,!1,null,null,null),G=q.exports,Z=s("a2ae"),W=s("16d9"),Y=s("09e4");function X(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function K(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?X(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):X(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Q={name:"PostComments",components:{PostComment:$,ImageThumb:h["a"],SpinnerLoader:M["a"],EmojiList:I["a"],Giphy:G},mixins:[W["a"],Z["a"]],props:{show:{type:Boolean,default:!0},post:{type:Object,required:!0},isLinked:{type:Boolean,default:!1}},data:function(){return{comment:"",replyId:null,error:"",preventSubmit:!1,complete:!1,isPostPage:"Post"===this.$route.name,commentMaxLength:200,giphy:null,giphyShow:!1}},computed:K(K(K(K({},Object(u["m"])(["getCommentsByPostId","isCommentsLoading"])),Object(u["b"])(["isAuth","authUser"])),Object(u["Ob"])(["getUser"])),{},{comments:function(){return this.getCommentsByPostId(this.post.id)},disabled:function(){return!(this.comment.length||this.giphy)||this.preventSubmit},showMoreBtn:function(){return!!this.post.canComment&&(!this.complete&&this.comments.length&&this.post.commentsCount&&this.post.commentsCount>this.comments.length)},author:function(){return this.post?this.getUser(this.post.author||this.post.fromUser):null},isDisabledEmoji:function(){return this.comment.length>=this.commentMaxLength},isWebpSupports:function(){return b.a},viewAllCommentsBtnText:function(){return this.isPostPage||this.post.commentsCount&&this.post.canComment?this.$i18n.tc("message.load_all_comments_plural",this.post.commentsCount,{COUNT:this.post.commentsCount}):this.$i18n.t("message.view_post_btn")},showComments:{get:function(){return this.show},set:function(e){this.$emit("update:show",e)}},isProfilePage:function(){return"ProfileInner"===this.$route.name||"Profile"===this.$route.name},isMobileDevice:function(){return _["isMobile"]||_["isTablet"]}}),watch:{show:function(e){e&&(this.complete=!1)},comment:function(){this.comment=g()(this.comment).replace(/(<([^>]+)>)/gi,"")}},methods:K(K(K({},Object(u["l"])(["sendComment","fetchPostComments"])),Object(u["U"])(["setScrollToComments"])),{},{commentSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.error="",t=this.comment.trim(),t||this.giphy){e.next=4;break}return e.abrupt("return");case 4:return this.preventSubmit=!0,s=this.post.id,i=this.replyId,e.prev=7,e.next=10,this.sendComment({id:s,text:t,answerTo:i,giphyId:this.giphy?this.giphy.id:void 0});case 10:this.comment="",this.replyId=null,this.giphy=null,this.isPostPage&&this.scrollToBottom(),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](7),400===e.t0.status?this.error=e.t0.data.error.message:Object(Y["b"])(e.t0);case 19:this.preventSubmit=!1;case 20:case"end":return e.stop()}}),e,this,[[7,16]])})));function t(){return e.apply(this,arguments)}return t}(),onReplyComment:function(e){var t=e.name,s=e.commentId;this.replyId=s,this.comment="".concat(t,", "),this.$refs.commentFormInput.focus()},loadMoreComments:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isCommentsLoading){e.next=2;break}return e.abrupt("return");case 2:return t=this.$refs.commentsMore.offsetTop,s=this.post.id,e.next=6,this.fetchPostComments({id:s,more:!0,offset:this.comments.length});case 6:i=e.sent,this.scrollTo({top:t}),i.length<10&&(this.complete=!0);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadAllComments:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isCommentsLoading){e.next=2;break}return e.abrupt("return");case 2:if(t=this.post.id,!this.isPostPage){e.next=10;break}return e.next=6,this.fetchPostComments({id:t,more:!0,limit:0,offset:this.comments.length});case 6:this.scrollToBottom(),this.complete=!0,e.next=19;break;case 10:if(this.showComments){e.next=17;break}return this.showComments=!0,e.next=14,this.fetchPostComments({id:t,limit:3});case 14:this.scrollToComments(),e.next=19;break;case 17:this.setScrollToComments(!0),this.$router.push({name:"Post",params:{postId:t,userId:this.author.username}});case 19:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectGif:function(e){this.giphy=e},get:function(){return l()(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])},scrollToComments:function(){var e=l()(this,"$refs.postComments");if(e){var t=e.getBoundingClientRect().top+window.scrollY;this.isProfilePage&&(t-=56),this.scrollTo({top:t})}}})},J=Q,ee=Object(A["a"])(J,p,m,!1,null,null,null),te=ee.exports,se=s("4ca0"),ie=s("dab1"),re=s("9fb6"),ne=s("8b3f"),ae=s("3bc9"),oe=s("412e"),ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.post.fundRaising?s("div",{staticClass:"b-post__fundraising",class:{"m-own":e.isPostUser}},[s("div",{staticClass:"b-post__fundraising__progress-wrapper"},[s("div",{staticClass:"b-post__fundraising__progress-data"},[s("div",{staticClass:"b-post__fundraising__progress",style:"width:calc("+Math.min(Math.round(100*e.post.fundRaising.targetProgress/e.post.fundRaising.target),100)+"% + 0px)"}),s("span",{staticClass:"m-icon-fundraising",class:{"m-pointer m-with-round-hover":!e.isPostUser},on:{click:e.showModalTips}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-fundraising"})]),s("div",{staticClass:"b-post__fundraising__summ"},[e._v(" $"+e._s(e.post.fundRaising.targetProgress.toFixed(2).replace(".00",""))+" ")]),s("div",{staticClass:"b-post__fundraising__target"},[e._v(" $"+e._s(e.post.fundRaising.target)+" ")]),s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.campaign_progress"),expression:"$t('message.campaign_progress')",modifiers:{enabled:!0}}],staticClass:"icon-info"})])])]),s("div",{staticClass:"g-btn__wrapper"},e._l(e.post.fundRaising.presets,(function(t){return s("button",{key:t,staticClass:"g-btn m-rounded m-border",attrs:{type:"button",disabled:e.isPostUser},on:{click:function(s){return e.sendFunds(t)}}},[e._v(" $"+e._s(t)+" ")])})),0),s("modal-confirm",{attrs:{"modal-show":e.isSendConfirmShow,title:e.$t("message.contribute_confirm_title",{AMOUNT:"$"+e.amount}),text:e.$t("message.contribute_confirm_desc"),"agree-btn":e.$t("message.chat_paid_massage_pay_button",{PRICE:"$"+e.amount}),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isSendConfirmShow=t},"update:modal-show":function(t){e.isSendConfirmShow=t},"on-agree":e.sendTip}})],1):e._e()},le=[],ue=(s("c5f6"),s("ce23")),de=s("30ba");function he(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function pe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?he(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):he(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var me={name:"Fundraising",components:{ModalConfirm:ne["a"]},mixins:[ue["a"],de["a"]],props:{postId:{type:Number,required:!0}},data:function(){return{amount:0,isSendConfirmShow:!1}},computed:pe(pe(pe(pe({},Object(u["b"])(["isAuth","authUser"])),Object(u["Ob"])(["getUser"])),Object(u["T"])(["getPost"])),{},{post:function(){return this.getPost(this.postId)[0]},user:function(){return this.getUser(this.post.author)},isPostUser:function(){return this.post.author===this.authUser.id}}),methods:pe(pe({},Object(u["Sb"])(["setModalUser"])),{},{sendFunds:function(e){var t=this;if(!this.isAuth||!this.user.tipsEnabled&&this.authUser.id!==this.user.id)return this.setModalUser({userId:this.user.id}),void this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalSubscribe")}));this.authUser.id!==this.user.id&&(this.canPayToUser?(this.amount=e,this.isSendConfirmShow=!0):alert(this.$i18n.t("message.need_connect_stripe_message",{URL:"/my/payments"}),!0))},sendTip:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.makePayments({paymentType:"tip",amount:this.amount,userId:this.post.author,postId:this.post.id,tipSource:"post"},this.sendTip);case 2:t=e.sent,t&&t.success&&(this.amount=0,alert(this.$i18n.t("message.contribution_was_sent_successfully")));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showModalTips:function(){var e=this;if(!this.isAuth||!this.user.tipsEnabled&&this.authUser.id!==this.user.id)return this.setModalUser({userId:this.user.id}),void this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalSubscribe")}));this.authUser.id!==this.user.id&&(this.canPayToUser?(this.setModalUser({userId:this.post.author,postId:this.post.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalTips")}))):alert(this.$i18n.t("message.need_connect_stripe_message",{URL:"/my/payments"}),!0))}})},fe=me,be=Object(A["a"])(fe,ce,le,!1,null,null,null),ve=be.exports,ge=s("25ac"),_e=s("25e7");function ye(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function we(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ye(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Oe=3e5,Ce={data:function(){return{postStatTimer:0,postStatDuration:0,visibility:!1,scrollTime:Date.now(),hadLongPause:!1,startPlayVideoTime:0,isPlaying:!1}},computed:we(we({},Object(u["b"])(["authUserId"])),{},{postMedia:function(){return this.post.media},hasVideo:function(){return!!this.postMedia.filter((function(e){return"video"===e.type}))},hasPhoto:function(){return!!this.postMedia.filter((function(e){return"photo"===e.type}))},isMy:function(){return this.post.author===this.authUserId},canView:function(){return this.post.canViewMedia}}),methods:we(we({},Object(u["P"])(["collect"])),{},{startTracking:function(){this.hadLongPause=!1,this.postStatTimer=Date.now()},stopTimer:function(){this.postStatDuration=Math.floor(Date.now()-this.postStatTimer)},sendEvent:function(){!this.isMy&&this.canView&&(this.hasPhoto&&this.sendPhotoDuration(),this.hasVideo&&this.sendVideoLook(),this.hasVideo&&this.isPlaying&&this.sendVideoDuration())},sendPhotoDuration:function(){var e=this.hadLongPause?Oe:this.postStatDuration;e=Math.round(e/1e3),e=e<1?1:e,this.sendStat("look",e)},sendVideoLook:function(){this.sendStat("videoLook")},sendVideoDuration:function(){var e=Date.now()-this.startPlayVideoTime;e=Math.round(e/1e3),e=e<1?1:e,this.sendStat("videoPlay",e)},sendStat:function(e,t){try{this.collect({action:e,postId:this.post.id,eventTime:(new Date).toISOString(),duration:t})}catch(s){}},stopTracking:function(){this.visibility&&(this.stopTimer(),this.sendEvent())},visibilityChanged:function(e){e?(this.startTracking(),this.isPlaying&&(this.startPlayVideoTime=Date.now())):!e&&this.visibility&&this.stopTracking(),this.visibility=e},checkScroll:function(){this.hadLongPause=this.hadLongPause||Date.now()-this.scrollTime>Oe,this.scrollTime=Date.now()},removeListeners:function(){window.removeEventListener("beforeunload",this.stopTracking)}}),mounted:function(){var e=this;this.hasVideo&&this.canView&&this.$root.$on("video:player:init",(function(t){var s=t.postId;if(s===e.post.id){var i=e.$el&&e.$el.querySelector?e.$el.querySelector("video"):void 0;if(!i)return;i.addEventListener("playing",(function(){e.isPlaying=!0,e.startPlayVideoTime=Date.now()})),i.addEventListener("pause",(function(){e.isPlaying&&e.visibility&&e.sendVideoDuration(),e.isPlaying=!1}))}})),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners)},created:function(){window.addEventListener("beforeunload",this.stopTracking),window.addEventListener("scroll",this.checkScroll)},beforeDestroy:function(){this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners),window.removeEventListener("beforeunload",this.stopTracking),window.removeEventListener("scroll",this.checkScroll),this.stopTracking()}},Pe=s("b6a4"),xe=s("04fc"),ke=s("3c15"),Se=s("29d7"),Ee=s("1560");function Te(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Ae(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Te(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var je={name:"UsersPost",components:{Fundraising:ve,UtilsTime:O["a"],ImageThumb:h["a"],PostComments:te,PostRestricted:se["a"],PostVoteOption:ie["a"],ModalConfirm:ne["a"],PayerRating:C["a"],PostPurchase:re["a"],PostMedia:ae["a"],Friend:oe["a"],SpinnerLoader:M["a"]},mixins:[ge["a"],_e["a"],Pe["a"],x["a"],Ce,xe["a"],ke["a"],Se["a"],Ee["a"],W["a"]],props:{post:{type:Object,required:!0},type:{type:String,default:"profile"},noPosted:{type:Boolean,default:!1},isLinked:{type:Boolean,default:!1}},data:function(){return{isPostPage:"Post"===this.$route.name,isCommentsShow:"Post"===this.$route.name,isDeleteConfirmShow:!1,disabledVote:!1,collapseLimit:10,collapsed:!1,disabledPin:!1,disabledFavorites:!1,disabledHidePost:!1,disabledHideUserPost:!1,disabledArchivePost:!1,ignoreAddToBookmarkBtn:!1,showFaceMessage:!1,paidFeedDisabled:!1,postLinesAmount:this.countLines(),lineHeight:20}},computed:Ae(Ae(Ae(Ae(Ae(Ae(Ae({},Object(u["Ob"])(["getUser","user"])),Object(u["b"])(["isAuth","authUser"])),Object(u["T"])(["getPost","needScrollToComments","disabledPinsOrder","pinnedPostsIds"])),Object(u["eb"])(["userLoginPrefix"])),Object(u["q"])(["getInit","currentDate"])),Object(u["Z"])(["route"])),{},{showPost:function(){return this.isPostPage||!this.post.isArchived||this.isArchivePage&&this.post.isArchived||this.isLinked||this.isPurchasedPage&&this.post.isArchived},isPost:function(){return!!this.$route.params.postId},hasMedia:function(){return!!this.post.mediaCount},isProfilePage:function(){return"ProfileInner"===this.$route.name||"Profile"===this.$route.name},postTextLength:function(){var e=this.post.text;return e?e.trim().length:0},author:function(){return this.post.fromUser?this.getUser(this.post.fromUser):this.getUser(this.post.author)},restricted:function(){return this.post&&"post"===this.post.responseType?!this.post.canViewMedia:!(this.post&&"message"===this.post.responseType)},postVoting:function(){return this.post.voting&&0!==this.post.voting.length},isVoted:function(){return this.post.voting.options.some((function(e){return e.isVoted}))},isProfile:function(){return"profile"===this.type},isFeed:function(){return"feed"===this.type},isFeedPage:function(){return"Feed"===this.$route.name},isLockedFeedPage:function(){return"Blurred"===this.$route.name},isFinished:function(){if(this.post.isArchived)return!0;if(this.post.voting.finishedAt){var e=+new Date,t=+new Date(this.post.voting.finishedAt);return t<=e}return!1},postText:function(){var e=this.post.text;if(this.$route.query&&this.$route.query.q){var t=this.$route.query.q.replace(/[%#@]/gm,"").toLowerCase();return this.highlight(e,t,"g-text-highlighted")}return e},postedAt:function(){return this.post.postedAt},showPurchase:function(){return(!this.isPostUser||this.isLinked)&&this.post.price&&!this.opened},trunc:function(){if(this.postTextLength){var e=/<div class='youtube_container'>/.test(this.post.text);if(e)return!1}var t=this.postLinesAmount;return!!t&&t>this.collapseLimit},isArchivePage:function(){return"ProfileInner"===this.$route.name&&"archived"===this.$route.params.postType},formatPrice:function(){return this.post.price.toFixed(2).replace(".00","")},getQuery:function(){return this.$route.query.q?this.$route.query.q.replace(/[%#@]/gm,""):""},isPurchasedPage:function(){return"Purchased"===this.$route.name},isScheduled:function(){return this.post.isPublishedWithPeriod||this.currentDate<+new Date(this.postedAt)},canPin:function(){return this.isPostUser&&!this.post.isArchived&&!this.isScheduled}}),watch:{post:{handler:function(e,t){var s=this;e.isOpened&&!t.isOpened&&this.$nextTick((function(){s.init()}))},deep:!0},hasAudioVisible:{handler:function(e){var t=this;e&&this.$nextTick((function(){t.init()}))},deep:!0}},mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.init(),!(this.isPostPage&&this.post&&this.post.commentsCount)){e.next=6;break}return t=this.post.id,e.next=5,this.fetchPostComments({id:t});case 5:this.needScrollToComments&&(this.setScrollToComments(!1),this.scrollToComments());case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.visibility&&(this.isFeed&&this.addLastFeedItemId([this.post.id]),l()(this,"route.from.name")&&["ProfileInner","Profile"].includes(this.route.from.name)&&this.addLastProfileItemId({username:this.route.from.params.userId,id:this.post.id,postType:this.route.from.params.postType}))},methods:Ae(Ae(Ae(Ae(Ae(Ae({},Object(u["S"])(["favoritePost","pinPostAction","deletePost","hidePost","toggleArchivePost","addPostToBookmarks","removePostFromBookmarks","fetchPosts","savePinsOrder"])),Object(u["l"])(["fetchPostComments"])),Object(u["Sb"])(["setModalUser"])),Object(u["B"])(["setReportType"])),Object(u["U"])(["resetFeedItemIds","setScrollToComments","addLastFeedItemId","addLastProfileItemId"])),{},{fetchPost:function(e,t){var s=this.getPost(e);if(t&&"mentioned"===t){var i=Ae(Ae({},s[0]),{},{linkedPosts:[]});return i&&void 0===i.media&&(i.media=[]),i}return s[0]},countLines:function(){var e=this;this.$nextTick((function(){var t=document.getElementById("post-".concat(e.post.id,"-copy"));if(t){var s=t.offsetHeight,i=e.lineHeight;e.postLinesAmount=s/i}}))},init:function(){this.updatePlayers()},updatePlayers:function(){this.$refs.audio&&d["a"].init(this.$refs.audio)},showModalTips:function(){var e=this;this.isLinked||("post"===this.post.responseType&&(this.setModalUser({userId:this.author.id,postId:this.post.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalTips")}))),"message"===this.post.responseType&&(this.setModalUser({userId:this.post.fromUser}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalTips")}))))},doCopyPostLink:function(){var e=this,t=this.$refs.postUrl.$el.href;this.$copyText(t).then((function(){e.$bvToast.toast(e.$i18n.t("message.copy_link_to_post_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))},doPinPost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.hideDropdown(),this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.disabledPin=!0,s=t.post.id,i=t.user.id,e.prev=3,e.next=6,t.pinPostAction({id:s,userId:i});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](3),alert(e.t0.message);case 11:t.disabledPin=!1;case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleFavorites:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLinked){e.next=2;break}return e.abrupt("return");case 2:return this.disabledFavorites=!0,t=this.post,s=t.id,i=t.author,e.next=6,this.favoritePost({id:s,authorId:i});case 6:setTimeout((function(){r.disabledFavorites=!1}),1e3);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleComments:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isAuth||!this.post.canComment||this.isLinked){e.next=8;break}if(this.isPostPage){e.next=7;break}if(this.isCommentsShow=!this.isCommentsShow,t=this.post.id,!0!==this.isCommentsShow){e.next=7;break}return e.next=7,this.fetchPostComments({id:t,limit:3});case 7:!0===this.isCommentsShow&&this.scrollToComments();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openReportModal:function(){var e=this.post.id;this.setReportType({type:"post",postId:e}),this.$root.$emit("bv::show::modal","ModalReport")},doDeletePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deletePost(this.post.id);case 2:t=e.sent,t&&"Post"===this.$route.name&&this.goBack({name:"Profile",params:{userId:this.user.username}});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doHidePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.hideDropdown(),this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.disabledHidePost=!0,e.next=3,t.hidePost(t.post.id);case 3:t.disabledHidePost=!1;case 4:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),disableVote:function(e){this.disabledVote=e},toggleCollapse:function(){this.isLinked||(this.collapsed=!this.collapsed,this.collapsed||this.scroll("postId_".concat(this.post.id)))},scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})},linkedPostLink:function(e){var t=this.fetchPost(e),s=this.getUser(t.author);return s.subscribedBy?{name:"Post",params:{postId:e,userId:s.username}}:{name:"Profile",params:{userId:s.username}}},isTwoCols:function(e){return!(!this.post.linkedUsers||this.post.linkedUsers.length%2!==0)||this.post.linkedUsers&&this.post.linkedUsers.length!==e+1},doArchivePost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.hideDropdown(),this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.disabledArchivePost){e.next=2;break}return e.abrupt("return");case 2:return t.disabledArchivePost=!0,e.next=5,t.toggleArchivePost(t.post.id);case 5:t.disabledArchivePost=!1;case 6:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),goToEdit:function(){var e=this;this.hideDropdown(),this.$nextTick((function(){e.$router.push({name:"PostsEdit",params:{postId:e.post.id}})}))},goToPostBuyers:function(){var e=this;this.hideDropdown(),this.$nextTick((function(){e.$router.push({name:"PostBuyers",params:{postId:e.post.id,userId:e.author.username}})}))},addToBookmarks:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.ignoreAddToBookmarkBtn){e.next=2;break}return e.abrupt("return");case 2:if(t=this.post,s=t.id,i=t.isAddedToBookmarks,r=t.author,this.ignoreAddToBookmarkBtn=!0,!i){e.next=9;break}return e.next=7,this.removePostFromBookmarks(s);case 7:e.next=11;break;case 9:return e.next=11,this.addPostToBookmarks({id:s,authorId:r});case 11:this.ignoreAddToBookmarkBtn=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleLockedPosts:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.hideDropdown(),!this.paidFeedDisabled){e.next=3;break}return e.abrupt("return");case 3:this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sendCurrentUserField(!t.authUser.paidFeed,"paidFeed","paidFeedDisabled",!1);case 3:s=e.sent,s&&s.success&&(t.resetFeedItemIds(),t.isLockedFeedPage?t.$router.replace({name:"Feed"}):(i=t.getQuery,t.fetchPosts({query:i}))),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),t.paidFeedDisabled=!1,Object(Y["b"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hideDropdown:function(){this.$refs.postDropdown&&this.$refs.postDropdown.hide()},scroll:function(e){var t=this;this.$nextTick((function(){t.$scrollTo("#".concat(e),300,{offset:-60})}))},scrollToComments:function(){var e=l()(this,"$refs.postComments.$el");if(e){var t=e.getBoundingClientRect().top+window.scrollY;this.isProfilePage&&(t-=56),this.scrollTo({top:t})}},movePinnedPost:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:1,this.hideDropdown(),this.$nextTick(Object(a["a"])(regeneratorRuntime.mark((function e(){var i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=s.pinnedPostsIds.indexOf(s.post.id),!(i>-1)){e.next=9;break}return r=Object(n["a"])(new Set(Object(n["a"])(s.pinnedPostsIds))),r.splice(i,1),r.splice(i+t,0,s.post.id),s.$window.showPreloader(),e.next=8,s.savePinsOrder(r);case 8:s.$window.hidePreloader();case 9:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),movePinnedPostUp:function(){this.movePinnedPost(-1)},movePinnedPostDown:function(){this.movePinnedPost()}})},$e=je,Me=Object(A["a"])($e,i,r,!1,null,null,null);t["a"]=Me.exports},6344:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.authUser.isPerformer&&e.isGetUserMediaAvailable?s("div",{ref:"audioMessagePanel",staticClass:"b-chat__panel js-chat__audiorecord-panel"},[s("div",{staticClass:"container"},[s("span",{staticClass:"b-chat__panel__title"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice",attrs:{"extra-class":"b-chat__panel__icon"}}),e._v(" "+e._s(e.$t("message.chat_recording_audio_title"))+" ")]),s("div",{staticClass:"b-chat__panel__rec-wrapper"},[s("div",{staticClass:"b-chat__panel__rec-timer js-chat__audio-record-timer"},[e._v(" 0:00 ")]),s("button",{ref:"audioStopRecordBtn",staticClass:"b-chat__audio-record-btn-stop js-chat__audio-record-btn-rec",attrs:{type:"button"}},[s("span",{staticClass:"js-chat__audio-record-state-stop"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-stop"})]),s("span",{staticClass:"b-chat__videorec-btn__icon-rec js-chat__audio-record-state-rec"}),s("svg",{staticClass:"svg-progress",attrs:{width:"60",height:"60",viewBox:"0 0 60 60"}},[s("circle",{staticClass:"progress__meter",attrs:{cx:"30",cy:"30",r:"28","stroke-width":"4"}}),s("circle",{staticClass:"progress__value",attrs:{cx:"30",cy:"30",r:"28","stroke-width":"4"}})])]),s("b-dropdown",{staticClass:"b-volume-btn m-btn-round b-streaming__mic-select",attrs:{left:"","toggle-class":"b-volume-btn__el b-streaming__mic-select__btn","menu-class":"m-list-switcher"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice"})]),s("div",{staticClass:"js-audio-menu"},[s("ul")])],2),s("button",{ref:"closeMessageAudioBtn",staticClass:"g-btn-close js-audio-message-close",attrs:{type:"button"},on:{click:e.toggleRecordPanel}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])],1)])]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("d634"),o=(s("16d9"),s("5e34"));function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={mixins:[o["a"]],data:function(){return{isShowRecordPanel:!1}},computed:l(l({},Object(a["b"])(["authUser"])),{},{isGetUserMediaAvailable:function(){return void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&null!==navigator.mediaDevices.getUserMedia}}),props:{toggleRecordPanel:{type:Function,required:!0}},methods:{},mounted:function(){var e=this,t=document.getElementById("js-audioRecordBtn");t&&this.$refs.audioStopRecordBtn&&this.isGetUserMediaAvailable&&this.$nextTick((function(){e.audiorecorderInit({btn:"js-audioRecordBtn",recStopBtn:e.$refs.audioStopRecordBtn,closeBtn:e.$refs.closeMessageAudioBtn,audioMessagePanel:e.$refs.audioMessagePanel,userId:e.authUser.id,firstRun:!0,inputId:"fileupload_photo",context:"post"})}))}},d=u,h=s("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},"63a5":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.authUser.canCreatePromotion?s("div",{staticClass:"b-story-item",on:{click:e.showModalPromotion}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"b-plus m-style-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-discount"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.promote_profile"))+" ")])])]):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("d634");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"StoriesWidgetPromote",computed:l({},Object(o["b"])(["authUser"])),methods:{showModalPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.authUser.promotion&&this.authUser.promotion.canClaim?this.$router.push({name:"Promotions"}):this.$root.$emit("bv::show::modal","ModalPromotion");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},d=u,h=s("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},"64a1":function(e,t,s){e.exports=s.p+"img/cover-dark.png"},"64dc":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("7514");var i=s("bd86"),r=(s("c5f6"),s("9df8")),n=s("c1df"),a=s.n(n),o=s("9b02"),c=s.n(o),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={mixins:[r["c"],r["b"]],props:{id:{type:Number,required:!0}},computed:d(d(d(d(d({},Object(l["Ob"])(["userId","user"])),Object(l["Ob"])(["getUser"])),Object(l["Jb"])(["getSubscribe"])),Object(l["q"])(["currentDate"])),{},{user:function(){return this.getUser(this.id)},subscribe:function(){return this.getSubscribe(this.id)},promotionAll:function(){return c()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return c()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},promotion:function(){return this.promotionAll||this.promotionExpired},hasNewSubcribeData:function(){return!!(this.subscribedBy&&this.subscribe&&this.subscribe.subscribes.length)},currentSubscribeData:function(){return this.hasNewSubcribeData&&this.subscribe.subscribes.find((function(e){return e.isCurrent}))||{}},expiredDateHuman:function(){return this.subscribe?a()(this.subscribe.expiredAt).format("MMM D, YYYY"):this.user.subscribedByExpireDate?a()(this.user.subscribedByExpireDate).format("MMM D, YYYY"):""},subscribedBy:function(){return this.user.subscribedBy},subscribedIsExpiredNow:function(){return null===this.user.subscribedIsExpiredNow||!!this.user.subscribedIsExpiredNow},subscribedByExpire:function(){return null===this.user.subscribedByExpire||!!this.user.subscribedByExpire},subscribePrice:function(){return this.user.subscribePrice},subscribedByAutoprolong:function(){return this.user.subscribedByAutoprolong},hasRenewalDate:function(){return!!this.subscribe&&!!this.subscribe.renewedAt},isExpired:function(){return!!this.user.subscribedIsExpiredNow||this.subscribe&&!this.subscribe.renewedAt&&!this.subscribe.status},agreePrice:function(){return this.subscribe?Math.max(this.subscribe.newPrice,this.subscribe.price):0},isAutoprolong:function(){return!!this.subscribe&&(!!this.subscribe.renewedAt||0===this.user.subscribePrice)},isNewPriceHigherAgreePrice:function(){return this.user.subscribePrice>this.agreePrice},waitForExpire:function(){return!this.isAutoprolong||this.isNewPriceHigherAgreePrice},isExpiredNow:function(){return this.subscribe&&+new Date(this.subscribe.expiredAt)<this.currentDate||this.user.subscribedIsExpiredNow},regular_user_not_subscribed_with_promotion:function(){return this.subscribedByExpire&&!this.subscribedBy&&this.subscribePrice>0&&this.promotion&&this.promotion.price>0},regular_user_not_subscribed:function(){return this.subscribedByExpire&&!this.subscribedBy&&this.subscribePrice>0},regular_user_subscribed_with_renewal:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData,t=e.price,s=e.regularPrice,i=e.type;return t>0&&t===s&&"regular"===i&&!!this.subscribe.renewedAt}return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&!!this.subscribe.renewedAt},regular_user_unsubscribed_on_their_own:function(){return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&!this.subscribe.renewedAt},regular_user_unsubscribed_because_model_has_raised_subscription_price:function(){return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&this.subscribePrice>this.subscribe.newPrice},regular_user_subscribed_with_renewal_to_higher_price:function(){return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&this.subscribe.price<this.subscribe.newPrice&&this.subscribe.newPrice===this.subscribePrice},bundle_user_subscribed_with_renewal:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData.type;return"bundle"===e&&this.hasRenewalDate}return!1},bundle_user_unsubscribed_on_their_own:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData.type;return"bundle"===e&&!this.hasRenewalDate}return!1},bundle_user_unsubscribed_because_model_has_raised_subscription_price:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData.type;return"bundle"===e&&this.subscribePrice>this.subscribe.newPrice}return!1},free_user_not_subscribed_to_free_profile:function(){return this.subscribedByExpire&&!this.subscribedBy&&0===this.subscribePrice},free_user_subscribed_to_free_profile:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData,t=e.price,s=e.type;return 0===t&&0===this.subscribePrice&&"regular"===s}return!this.subscribedByExpire&&this.subscribedBy&&0===this.subscribePrice},free_user_not_subscribed_to_free_trial:function(){return!this.subscribedBy&&this.promotion&&0===this.promotion.price},free_user_subscribed_to_free_with_renewal:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData,t=e.price,s=e.type,i=e.regularPrice;return 0===t&&0===i&&"regular"===s&&this.subscribePrice>0&&this.hasRenewalDate}return!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&0===this.subscribe.price&&this.subscribePrice>0&&this.hasRenewalDate},free_user_subscribed_to_free_trial_without_renewal:function(){return this.hasNewSubcribeData?0===this.currentSubscribeData.price&&"promo"===this.currentSubscribeData.type&&!this.hasRenewalDate:!this.subscribedByExpire&&this.subscribedBy&&this.subscribe&&0===this.subscribe.price&&this.subscribePrice>0&&!this.hasRenewalDate},free_user_subscribed_to_free_trial_with_renewal:function(){return this.hasNewSubcribeData?0===this.currentSubscribeData.price&&"promo"===this.currentSubscribeData.type&&this.hasRenewalDate:!this.subscribedByExpire&&this.subscribedBy&&0===this.subscribePrice&&this.subscribePrice>0&&this.hasRenewalDate},promo_user_subscribed_with_renewal:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData,t=e.price,s=e.regularPrice,i=e.type;return t>0&&t<s&&"promo"===i&&!!this.subscribe.renewedAt}},promo_user_subscribed_without_renewal:function(){if(this.hasNewSubcribeData){var e=this.currentSubscribeData,t=e.price,s=e.regularPrice,i=e.type;return t>0&&t<s&&"promo"===i&&!this.subscribe.renewedAt}},params:function(){switch(!0){case this.bundle_user_unsubscribed_because_model_has_raised_subscription_price:return{btnText:this.$i18n.t("message.message_type_renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$i18n.t("message.subscription_title"),panelText:this.$i18n.t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.toHumanDate(this.currentSubscribeData.expireDate)}),btnClass:!1,handler:this.openSubscribeModal};case this.bundle_user_unsubscribed_on_their_own:return{btnText:this.$i18n.t("message.message_type_renew"),panelTitle:this.$i18n.t("message.subscription_title"),panelText:this.$i18n.t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.toHumanDate(this.currentSubscribeData.expireDate)}),btnClass:!1,handler:this.openSubscribeModal};case this.bundle_user_subscribed_with_renewal:return{btnText:this.$i18n.t("message.message_type_subscribed"),panelTitle:this.$i18n.t("message.subscription_title"),panelText:this.$i18n.t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.toHumanDate(this.currentSubscribeData.expireDate)}),btnClass:!0,handler:this.openUnsubscribeModal};case this.promo_user_subscribed_with_renewal:return{btnText:this.$i18n.t("message.message_type_subscribed"),panelTitle:this.$i18n.t("message.subscription"),panelText:this.$i18n.t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal};case this.promo_user_subscribed_without_renewal:return{btnText:this.$i18n.t("message.renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$i18n.t("message.subscription"),panelText:this.$i18n.t("message.message_bundle_total_price_until",{PRICE:this.priceHuman(this.currentSubscribeData.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal};case this.free_user_not_subscribed_to_free_trial:return{btnText:this.$i18n.t("message.subscription_promo_subscribe_free_full_button_ed2"),panelTitle:this.$i18n.t("message.trial_offer_popup_title_new"),panelText:"",btnClass:!1,handler:this.openSubscribeModal};case this.free_user_subscribed_to_free_with_renewal:return{btnText:this.$i18n.t("message.message_type_subscribed"),panelTitle:this.$i18n.t("message.subscription_title"),panelText:this.$i18n.t("message.free_until_date",{EXPIRY_DATE:this.toHumanDate(this.currentSubscribeData.expireDate)}),btnClass:!0,handler:this.openUnsubscribeModal};case this.free_user_subscribed_to_free_trial_without_renewal:return{btnText:this.$i18n.t("message.renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$i18n.t("message.subscription_title"),panelText:this.$i18n.t("message.free_until_date",{EXPIRY_DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal};case this.free_user_subscribed_to_free_trial_with_renewal:return{btnText:this.$i18n.t("message.message_type_subscribed"),panelTitle:this.$i18n.t("message.subscription_title"),panelText:this.$i18n.t("message.free_until_date",{EXPIRY_DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal};case this.free_user_not_subscribed_to_free_profile:return{btnText:this.$i18n.t("message.subscription_subscribe_free_full_button"),panelTitle:this.$i18n.t("message.free_subscription"),panelText:"",btnClass:!1,handler:this.openSubscribeModal};case this.free_user_subscribed_to_free_profile:return{btnText:this.$i18n.t("message.subscribe_btn_subscribed_free_label_ed2"),panelTitle:this.$i18n.t("message.free_subscription"),panelText:"",btnClass:!0,handler:this.openUnsubscribeModal};case this.regular_user_unsubscribed_because_model_has_raised_subscription_price:return{btnText:this.$i18n.t("message.message_type_renew_for_price",{PRICE:this.priceHuman(this.subscribe.subscribePrice)}),panelTitle:this.$i18n.t("message.subscription"),panelText:this.subscribe.price?this.$i18n.t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}):this.$i18n.t("message.message_type_free_per_month_until_date",{DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal};case this.regular_user_subscribed_with_renewal_to_higher_price:return{btnText:this.$i18n.t("message.message_type_subscribed"),panelTitle:this.$i18n.t("message.subscription"),panelText:this.$i18n.t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}),btnClass:!0,handler:this.openUnsubscribeModal};case this.regular_user_not_subscribed_with_promotion:return{btnText:this.$i18n.t("message.subscription_promo_subscribe_price_full_button_new_formatted_ed2",{PRICE:this.priceHuman(this.promotion.price)}),panelTitle:this.$i18n.t("message.subscription"),panelText:this.promotion.price?this.$i18n.t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.promotion.price)}):this.$i18n.t("message.subscribes_filter_paid_0_title"),btnClass:!1,handler:this.openSubscribeModal};case this.regular_user_not_subscribed:return{btnText:this.$i18n.t("message.subscription_promo_subscribe_price_full_button_new_formatted_ed2",{PRICE:this.priceHuman(this.subscribePrice)}),panelTitle:this.$i18n.t("message.subscription"),panelText:this.subscribePrice?this.$i18n.t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.subscribePrice)}):this.$i18n.t("message.subscribes_filter_paid_0_title"),btnClass:!1,handler:this.openSubscribeModal};case this.regular_user_subscribed_with_renewal:return{btnText:this.$i18n.t("message.message_type_subscribed"),panelTitle:this.$i18n.t("message.subscription"),panelText:this.subscribe.subscribePrice!==this.subscribe.regularPrice?'<span class="b-fans__item__regular-price">-'.concat(Math.round(100*(this.subscribe.regularPrice-this.subscribe.subscribePrice)/this.subscribe.regularPrice),"%</span> ").concat(this.priceHuman(this.subscribe.subscribePrice)," till ").concat(this.toHumanDate(this.subscribe.discountFinishedAt)):this.subscribe.price?this.$i18n.t("message.message_type_price_per_month",{PRICE:this.priceHuman(this.subscribe.price)}):this.$i18n.t("message.subscribes_filter_paid_0_title"),btnClass:!0,handler:this.openUnsubscribeModal};case this.regular_user_unsubscribed_on_their_own:return{btnText:this.$i18n.t("message.message_type_renew"),panelTitle:this.$i18n.t("message.subscription"),panelText:this.$i18n.t("message.message_type_price_per_month_until_date",{PRICE:this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}),btnClass:!1,handler:this.openSubscribeModal};default:return{btnText:"",panelTitle:"",panelText:"",btnClass:!1,handler:function(){}}}}}),methods:d(d(d({},Object(l["Ib"])(["autoprolongToggle"])),Object(l["Kb"])(["removeSubscribe"])),{},{toHumanDate:function(e){return e?a()(e).format("MMM D, YYYY"):""}})}},6515:function(e,t,s){},"669f":function(e,t,s){"use strict";var i=s("4a85"),r=s.n(i);r.a},"6ae6":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header"},[s("go-back"),s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.pageTitle)+" ")]),s("page-title",{attrs:{title:e.pageTitle}}),e.authUser.isTwitterConnected&&e.authUser.twitterUsername&&!e.isEditPage?s("span",{staticClass:"b-make-post__tweet"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tweetSend,expression:"tweetSend"}],attrs:{id:"new_post_tweet_send",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(e.tweetSend)?e._i(e.tweetSend,null)>-1:e._q(e.tweetSend,1)},on:{change:function(t){var s=e.tweetSend,i=t.target,r=i.checked?1:0;if(Array.isArray(s)){var n=null,a=e._i(s,n);i.checked?a<0&&(e.tweetSend=s.concat([n])):a>-1&&(e.tweetSend=s.slice(0,a).concat(s.slice(a+1)))}else e.tweetSend=r}}}),s("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_on_twitter"),expression:"$t('message.post_on_twitter')"}],attrs:{for:"new_post_tweet_send"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-twitter"})])]):e._e(),e.hasDraft?s("button",{staticClass:"m-btn-clear-draft g-btn m-border m-rounded m-sm-width",on:{click:function(t){return t.preventDefault(),e.clearDraft(t)}}},[e._v(" "+e._s(e.$t("message.clear_button"))+" ")]):e._e(),s("button",{staticClass:"g-btn m-rounded m-sm-width",attrs:{type:"button",disabled:e.disabledSubmit},on:{click:e.savePost}},[e._v(" "+e._s(e.$t("message.one_post_button"))+" ")])],1),s("make-post",{ref:"makePost",attrs:{place:"page","edit-post":e.isEditPage,post:e.activePost[0],"show-more-btn":!1},on:{canSave:e.changeSaveBtnState}}),s("stories-widget")],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("9b02"),c=s.n(o),l=s("d634"),u=s("f108"),d=s("b6ee"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"stories-list"},[s("AddStoryBtn"),s("GoLiveBtn"),s("PromoteProfile")],1)},p=[],m=s("e941"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.authUser.canStreaming?s("div",{staticClass:"b-story-item"},["true"===e.$env.VUE_APP_SECTION_STREAMING?s("router-link",{staticClass:"b-story-item__inside",attrs:{to:{name:"Streaming"}}},[s("span",{staticClass:"b-plus m-style-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.go_live"))+" ")])]):s("a",{staticClass:"b-story-item__inside",attrs:{href:"/my/streaming"}},[s("span",{staticClass:"b-plus m-style-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.go_live"))+" ")])])],1):e._e()},b=[];function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={computed:g({},Object(l["b"])(["authUser"]))},y=_,w=s("2877"),O=Object(w["a"])(y,f,b,!1,null,null,null),C=O.exports,P=s("63a5"),x={components:{AddStoryBtn:m["a"],GoLiveBtn:C,PromoteProfile:P["a"]}},k=x,S=Object(w["a"])(k,h,p,!1,null,null,null),E=S.exports;function T(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function A(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?T(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):T(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var j={name:"PostsCreate",components:{MakePost:u["a"],StoriesWidget:E,GoBack:d["a"]},props:{isEditPage:{type:Boolean,default:!1}},data:function(){return{disabledSubmit:!0,tweetSend:0}},computed:A(A(A(A(A({},Object(l["b"])(["authUser"])),Object(l["T"])(["activePost"])),Object(l["O"])(["getDraft"])),Object(l["Ob"])(["getUser"])),{},{hasDraft:function(){return!!this.getDraft},pageTitle:function(){return this.isEditPage?this.$i18n.t("message.edit_post_page_title"):this.$i18n.t("message.new_post_page_title")}}),watch:{isEditPage:function(e){e||this.clearActivePost()},tweetSend:function(e){this.$refs.makePost.tweetSend=e}},mounted:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.clearActivePost(),!this.isEditPage){e.next=11;break}return t=this.$route.params.postId,this.deletePost(t),e.next=6,this.fetchPost({id:t,active:!0});case 6:if(s=c()(this,"activePost[0].author"),s){e.next=10;break}return this.$router.replace({name:"Profile",params:{userId:this.authUser.id}}),e.abrupt("return");case 10:s!==this.authUser.id&&this.$router.replace({name:"Post",params:{postId:t,userId:s.username}});case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:A(A(A({},Object(l["U"])(["clearActivePost","deletePost"])),Object(l["S"])(["fetchPost"])),{},{changeSaveBtnState:function(e){this.disabledSubmit=e},savePost:function(){this.$refs.makePost.makePostSubmit()},clearDraft:function(){this.$refs.makePost.clearDraft()}})},$=j,M=Object(w["a"])($,i,r,!1,null,null,null);t["default"]=M.exports},"6c62":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{ref:"profileDropdown",attrs:{left:"",variant:"link",offset:"4","toggle-class":"m-user-status"}},[s("template",{slot:"button-content"},[e._v(" "+e._s(e.text)+" ")]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.statusVisibility,expression:"statusVisibility"}],staticClass:"b-input-radio",attrs:{id:"user_status_visible_1",type:"radio",name:"user_status_visibility"},domProps:{value:!0,checked:e._q(e.statusVisibility,!0)},on:{change:function(t){e.statusVisibility=!0}}}),s("label",{attrs:{for:"user_status_visible_1"}},[e._v(" "+e._s(e.$t("message.user_status_visible"))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.statusVisibility,expression:"statusVisibility"}],staticClass:"b-input-radio",attrs:{id:"user_status_invisible_1",type:"radio",name:"user_status_visibility"},domProps:{value:!1,checked:e._q(e.statusVisibility,!1)},on:{change:function(t){e.statusVisibility=!1}}}),s("label",{attrs:{for:"user_status_invisible_1"}},[e._v(" "+e._s(e.$t("message.user_status_invisible"))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("d634");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={name:"UsersStatus",data:function(){return{text:this.user.isVisibleOnline?this.$i18n.t("message.user_status_visible"):this.$i18n.t("message.user_status_invisible")}},props:{user:{type:Object,default:function(){}}},computed:{statusVisibility:{get:function(){return this.user.isVisibleOnline},set:function(e){this.changeVisibility(e),this.$refs.profileDropdown&&this.$refs.profileDropdown.hide(),this.text=e?this.$i18n.t("message.user_status_visible"):this.$i18n.t("message.user_status_invisible")}}},methods:l(l({},Object(o["Nb"])(["patchUser"])),{},{changeVisibility:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.patchUser({isVisibleOnline:t});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},d=u,h=s("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},"6e37":function(e,t,s){e.exports=s.p+"img/slide-3-3x.jpg"},7456:function(e,t,s){e.exports=s.p+"img/slide-5-3x.jpg"},"74ad":function(e,t){var s='<svg xmlns=http://www.w3.org/2000/svg> <symbol id=icon-logo viewBox="0 0 512 128"> <path class=svg-logo-color-1 fill-rule=evenodd d="M46.32 28a46.2 46.2 0 1 0 46.32 46.17A46.26 46.26 0 0 0 46.32 28zm0 87.57a41.38 41.38 0 1 1 41.48-41.4 41.44 41.44 0 0 1-41.48 41.38z"/> <path class=svg-logo-color-1 d="M103.84 108.3h5.91V72.66c0-12.8 9.3-22 21.38-22 12.44 0 19.57 8.33 19.57 21v36.6h5.92V70.61c0-14.74-9.06-25.37-24.64-25.37-11.23 0-18.12 5.68-22.23 12.93V46.69h-5.91zm74.88-88.19h5.92v88.19h-5.92zM215.44 128c8.82 0 15.1-4.6 20.53-17.52l26.7-63.79h-6.53l-22.22 55.09-25.61-55.09h-6.88L231 107.94c-4.59 10.75-8.82 14.5-15.22 14.5a21.43 21.43 0 0 1-10.5-2.3l-2.06 5.2a27.76 27.76 0 0 0 12.22 2.66z"/> <path d="M327.73 42.75q2.59-3.95 5.24-8.25c1.77-2.87 3.37-5.62 4.83-8.25s2.64-5 3.57-7.1a13.26 13.26 0 0 0 1.4-4.93 10.06 10.06 0 0 0-2.23-6.64 16.59 16.59 0 0 0-5.86-4.41 30.52 30.52 0 0 0-8.29-2.44 63.33 63.33 0 0 0-9.65-.73 141.77 141.77 0 0 0-32.31 3.47 148.64 148.64 0 0 0-27 8.92 126.3 126.3 0 0 0-21.41 12 134.24 134.24 0 0 0-15.61 12.71 67 67 0 0 0-9.54 11q-3.22 4.94-3.22 7.11a7.63 7.63 0 0 0 1.56 4.82 11.09 11.09 0 0 0 3.42 3.06 5.85 5.85 0 0 0 3.42.89c1-.11 1.56-.64 1.56-1.61 0-1.87 1.17-4.58 3.52-8.15a73.59 73.59 0 0 1 10-11.67 136.24 136.24 0 0 1 15.66-12.91 136.18 136.18 0 0 1 44.76-20.8 106.81 106.81 0 0 1 27.26-3.34 19.91 19.91 0 0 1 6.85.94 8.75 8.75 0 0 1 3.68 2.33 6.11 6.11 0 0 1 1.45 3.06 19.46 19.46 0 0 1 .26 3.11 14.64 14.64 0 0 1-1.45 5.45 70.32 70.32 0 0 1-3.78 7.37q-2.34 4-5.19 8.24T315 44a161.29 161.29 0 0 0-22 4.2 87.7 87.7 0 0 0-16.44 6.07 35.86 35.86 0 0 0-10.32 7.32q-3.58 3.89-3.58 7.93a8.88 8.88 0 0 0 1 4.31 7.42 7.42 0 0 0 2.17 2.64 2.85 2.85 0 0 0 2.18.63q1-.21 1-1.77c0-1 .88-2.5 2.64-4.41a43.89 43.89 0 0 1 7.68-6.22 86 86 0 0 1 12.41-6.7 106.11 106.11 0 0 1 17.12-5.87q-6.23 8.1-12.5 15.93t-11.31 15.2a100.58 100.58 0 0 0-8.14 14.05 29.71 29.71 0 0 0-3.11 12.4 17.14 17.14 0 0 0 .73 5.08 15 15 0 0 0 1.92 4.15 9.93 9.93 0 0 0 2.75 2.8 5.62 5.62 0 0 0 3.21 1 2.27 2.27 0 0 0 1.66-.62 3.15 3.15 0 0 0 .83-1.56 12.43 12.43 0 0 0 .26-2.07v-2.18q0-5.6 3.58-13.28a154.49 154.49 0 0 1 9.13-16.55q5.54-8.86 12.29-18.41t13.17-18.88a142.27 142.27 0 0 1 21.78-1.56 15.24 15.24 0 0 1 4.51.57 27.84 27.84 0 0 1 3 1.09 9.79 9.79 0 0 0 1.6.63c.32.06.47-.21.47-.83a6.83 6.83 0 0 0-2.07-4.78q-2.08-2.17-6.33-2.18-9.85 0-18.57.63z" class=svg-logo-color-2 /> <path d="M399.14 64.07q-2.75 3.68-6.17 8.14t-7.26 9.08q-3.84 4.62-7.41 8.4a73 73 0 0 1-6.54 6.22q-3 2.45-4.72 2.44c-1.59 0-2.31-.76-2.18-2.28a16 16 0 0 1 2-5.65Q368.6 87 371.24 83c1.77-2.7 3.49-5.2 5.19-7.52s3.14-4.29 4.35-5.92a13 13 0 0 0 1.82-2.75c0-.27-.21-.57-.62-.88a10.7 10.7 0 0 0-1.56-.93c-.62-.31-1.28-.6-2-.88a11.65 11.65 0 0 0-2-.62 16.76 16.76 0 0 0 1.14-5.71 20.51 20.51 0 0 0-.57-5 10.82 10.82 0 0 0-1.81-3.94 8.45 8.45 0 0 0-3.27-2.6 12 12 0 0 0-5-.93 28.79 28.79 0 0 0-11.31 2.28 43 43 0 0 0-10.11 6.07 55.54 55.54 0 0 0-8.61 8.66 70.56 70.56 0 0 0-6.64 9.91 54 54 0 0 0-4.24 9.93 30 30 0 0 0-1.5 8.71 19.28 19.28 0 0 0 1.35 7.68 14.21 14.21 0 0 0 3.47 5 13 13 0 0 0 4.62 2.75 14.58 14.58 0 0 0 4.66.83 11.15 11.15 0 0 0 5.76-1.61 25.69 25.69 0 0 0 4.84-3.53 29.77 29.77 0 0 0 4.36-5.29 14.52 14.52 0 0 0 .31 5.29 7.8 7.8 0 0 0 2.13 3.58c1.07 1.08 2.78 1.61 5.13 1.61q2.7 0 6.53-2.8a67.86 67.86 0 0 0 8.15-7.16q4.31-4.35 8.86-9.8t8.61-10.69q4.05-5.23 7.37-9.8t5.18-7.16a1.58 1.58 0 0 0 .31-1.19 1 1 0 0 0-.57-.78 2 2 0 0 0-1.14-.1 1.79 1.79 0 0 0-1.19.83q-1.35 1.84-4.1 5.53zM335.31 98.3a21.12 21.12 0 0 1 .41-9.18 61.29 61.29 0 0 1 4.2-11.93A66.19 66.19 0 0 1 347 65.26a43.71 43.71 0 0 1 9.08-9.18 16.91 16.91 0 0 1 10.16-3.69 3.53 3.53 0 0 1 3.17 1.51 7 7 0 0 1 1 3.89 14.9 14.9 0 0 1-1.45 6.48 35.51 35.51 0 0 1-3.16 5.45 38.63 38.63 0 0 1-3.12 3.89 7.67 7.67 0 0 0-1.4 1.71 3.66 3.66 0 0 0 .68 1.14 22.74 22.74 0 0 0 1.5 1.87q-2.79 4-5.86 8.25a89.42 89.42 0 0 1-6.17 7.62 40.2 40.2 0 0 1-6.12 5.61 9.85 9.85 0 0 1-5.7 2.17c-2.33.02-3.75-1.22-4.3-3.68z" class=svg-logo-color-2 /> <path d="M428.44 104.37a63.22 63.22 0 0 0 8.25-7.16q4.31-4.35 8.76-9.8t8.4-10.69q3.94-5.23 7.16-9.8t5.08-7.16a1.58 1.58 0 0 0 .31-1.19 1 1 0 0 0-.57-.78 2 2 0 0 0-1.14-.1 1.79 1.79 0 0 0-1.19.83q-1.35 1.86-4.1 5.55t-6.17 8.14q-3.42 4.46-7.26 9.08t-7.42 8.4a71.72 71.72 0 0 1-6.55 6.22q-3 2.45-4.72 2.44-2.07 0-2.28-1.35a7 7 0 0 1 .88-3.68 38.2 38.2 0 0 1 3.27-5.45q2.18-3.11 4.72-6.63c1.69-2.36 3.42-4.79 5.18-7.32s3.37-5 4.83-7.42a54.81 54.81 0 0 0 3.57-7 15.34 15.34 0 0 0 1.4-5.91 10.37 10.37 0 0 0-1.55-6.12q-1.56-2.18-5.08-2.18a15.16 15.16 0 0 0-7.11 2 44.71 44.71 0 0 0-7.52 5.14 91.24 91.24 0 0 0-7.15 6.64q-3.43 3.53-6.12 6.64t-4.41 5.13a10.4 10.4 0 0 1-1.92 2c-.21 0 .09-.76.88-2.29s1.73-3.33 2.8-5.44 2.06-4.32 3-6.64a17 17 0 0 0 1.35-6 5.66 5.66 0 0 0-1.46-4 9.91 9.91 0 0 0-3.16-2.34 8.46 8.46 0 0 0-3.11-.83c-.93 0-1.4.09-1.4.37a25.81 25.81 0 0 1-2.13 8.87 127.75 127.75 0 0 1-5.34 11.72q-3.21 6.27-6.95 12.71t-6.97 11.76q-3.21 5.24-5.34 8.61A24 24 0 0 0 378 103a2.12 2.12 0 0 0 .46 1 6.82 6.82 0 0 0 1.4 1.4 9.54 9.54 0 0 0 2.18 1.24 6.88 6.88 0 0 0 2.7.52c.55 0 1.54-.78 3-2.33s3.15-3.62 5.19-6.18 4.32-5.48 6.84-8.76 5.12-6.64 7.78-10.07 5.36-6.77 8.09-10.06 5.35-6.2 7.83-8.76a60.35 60.35 0 0 1 6.85-6.18q3.1-2.32 5.19-2.33c1.72 0 2.36.71 1.91 2.13a22.25 22.25 0 0 1-3.16 5.6q-2.49 3.48-6.12 8.09t-6.95 9.54a78.94 78.94 0 0 0-5.7 9.91 21.72 21.72 0 0 0-2.39 9.34 11.76 11.76 0 0 0 .83 5.08 8.79 8.79 0 0 0 2.49 3.42 7.44 7.44 0 0 0 5.08 1.56c2 .01 4.31-.92 6.94-2.79z" class=svg-logo-color-2 /> <path d="M504.31 62.46q-1.81 2.49-4.15 5.65t-5 6.69q-2.7 3.54-5.5 6.85c-1.86 2.21-3.68 4.29-5.44 6.22a48.93 48.93 0 0 1-5 4.88 23 23 0 0 0 .78-3.58 27.93 27.93 0 0 0 .26-3.68 48.17 48.17 0 0 0-.83-8.87c-.56-2.94-1.16-5.91-1.82-8.92s-1.26-6-1.81-9.08a50.86 50.86 0 0 1-.83-9.23 11.7 11.7 0 0 1 1.24-5.5 28.27 28.27 0 0 1 2.7-4.26c1-1.24 1.86-2.36 2.69-3.37a4.5 4.5 0 0 0 1.25-2.75 1.88 1.88 0 0 0-.93-1.5 4 4 0 0 0-2.39-.67 16.35 16.35 0 0 0-6.12 1.24 19 19 0 0 0-9.7 8.71 13.48 13.48 0 0 0-1.6 6.44 50.63 50.63 0 0 0 .88 8.14c.58 3.42 1.21 7.12 1.86 11.1s1.18 8 1.56 12a55.5 55.5 0 0 1 0 11 17.72 17.72 0 0 1-2.59 8c-1.39 2.08-3.56 3.11-6.54 3.11s-5-.77-6.17-2.33a8.19 8.19 0 0 1-1.81-5.14 3.54 3.54 0 0 0-.62-2.23 1.6 1.6 0 0 0-1.35-.72 1.84 1.84 0 0 0-1.35 1 5.31 5.31 0 0 0-.62 2.91 14 14 0 0 0 .77 4.46 11.39 11.39 0 0 0 2.39 4 12.43 12.43 0 0 0 4.1 2.91 14.1 14.1 0 0 0 5.91 1.14h1.55a20.53 20.53 0 0 0 10-2.8 54.28 54.28 0 0 0 10-7.16 95 95 0 0 0 9.44-9.8q4.48-5.32 8.36-10.6t6.95-9.8q3.06-4.56 4.93-7.16a1.41 1.41 0 0 0 .25-1.19 1.11 1.11 0 0 0-.62-.78 1.86 1.86 0 0 0-1.09-.1 1.82 1.82 0 0 0-1.14.83q-1.03 1.48-2.85 3.94z" class=svg-logo-color-2 /> <path d="M65.53 71.19v-3.77a16.75 16.75 0 0 0-5.08-12 17.31 17.31 0 0 0-12.19-5h-3.1a17.31 17.31 0 0 0-12.18 5 16.7 16.7 0 0 0-5.07 12v3.77l-2.14 3.86v5.56a18.64 18.64 0 0 0 5.64 13.33A19.37 19.37 0 0 0 45 99.48h3.45A19.33 19.33 0 0 0 62 93.94a18.61 18.61 0 0 0 5.65-13.33v-5.56zm-16.8 17.06v4.45a1.93 1.93 0 0 1-.89 1.64H47a1 1 0 0 1-.3 0h-.2a1.18 1.18 0 0 1-.25 0h-.38a2 2 0 0 1-.92-1.67v-4.42a5.3 5.3 0 0 1 2-10.24h.11a5.3 5.3 0 0 1 2 10.24zm9.09-16.94H35.61v-3.89a9.27 9.27 0 0 1 2.81-6.63A9.62 9.62 0 0 1 45.16 58h3.1A9.61 9.61 0 0 1 55 60.79a9.31 9.31 0 0 1 2.81 6.63z" class=svg-logo-color-2 /> </symbol> <symbol id=icon-logo-new-white viewBox="0 0 1900 400"> <defs><style>.a{fill:none}.c{fill:#fff}</style></defs> <path class=a d="M0 0h400v400H0z"/> <path class=c d="M137.5 75a125 125 0 10125 125 125 125 0 00-125-125zm0 162.5A37.5 37.5 0 11175 200a37.45 37.45 0 01-37.5 37.5z" opacity=.8 /> <path class=c d="M278 168.75c31.76 9.14 69.25 0 69.25 0-10.88 47.5-45.38 77.25-95.13 80.87A124.73 124.73 0 01137.5 325L175 205.81C213.55 83.3 233.31 75 324.73 75h62.77c-10.5 46.25-46.69 81.58-109.5 93.75z"/> <path class=a d="M500 0h1400v400H500z"/> <path class=c d="M618.68 78C548.83 78 514 129.54 514 199.83 514 270.93 548.3 322 618.68 322c69.88 0 105-51 105-122.12C723.7 128.34 690 78 618.68 78zm0 203.66c-40 0-47-41.82-47-81.86 0-40.34 6.61-81.53 47-81.53S666 159.19 666 199.83c0 40.89-6.53 81.86-47.32 81.86zM857.4 132.39c-22.72 0-39.74 9.65-54.35 26.84l-1.27-7.23a16.77 16.77 0 00-16.52-13.89h-32.2v169.75a8.38 8.38 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.77 10.05 16.77 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.08c-.02-35.23-19.48-53.69-49.34-53.69zm149.15 147.33a18.46 18.46 0 01-2.86.29q-9.08 0-9.06-11.06V61.59L949.1 66.5a8.39 8.39 0 00-7.49 8.34V271c0 33.69 19 51 49 51a82.61 82.61 0 0032.21-6l-8.68-31.37a6.7 6.7 0 00-7.59-4.91zM1145 138.09a8.38 8.38 0 00-8.15 6.42l-33.35 137.85-30.5-137.69a8.39 8.39 0 00-8.19-6.58h-49.63L1066 304.37a16.78 16.78 0 0016 11.88h5.69c-10.86 26.15-27.23 33.27-57.37 37.25l4.53 29.52a8.35 8.35 0 009 7.11c47-4.71 78.1-27.16 92.53-73.54l56.7-178.5z" style=isolation:isolate opacity=.8 /> <path class=c d="M1215.43 92.13v224.12h46.63a8.39 8.39 0 008.39-8.39V224h51a12.57 12.57 0 0012.51-11.23l3-28h-66.48V123h67a12.57 12.57 0 0012.45-10.77l4.07-28.49h-130.18a8.39 8.39 0 00-8.39 8.39zm308.1 164.4V138.09h-32.22a16.78 16.78 0 00-16.45 13.48l-.32 1.62c-11.19-13.86-21.66-20.8-39.78-20.8-48.88 0-74.15 43.76-74.15 94.28 0 50.34 18.56 95.28 68.78 95.28 21.67 0 36.16-11.18 47.84-27.17 4.92 9.29 12.38 15.48 21.22 19.78a23.53 23.53 0 0032-12.4l7.45-18.45c-11.9-6.01-14.37-13.5-14.37-27.18zm-56.15 11.78c-6.81 9.82-12.72 14.73-23.22 14.73-25.51 0-28.53-30.43-28.53-56s5.31-56 30.87-56c7.88 0 12.46 2.33 19.47 9.72a16.69 16.69 0 014.54 11.46v66.4a17.22 17.22 0 01-3.13 9.69zm170.41-129.21q-13.24 6.72-24.66 20.13l-1.26-7.25a16.78 16.78 0 00-16.53-13.89h-32.2v169.77a8.39 8.39 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.78 10.05 16.78 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.07c-.02-53.88-47.15-63.07-79.04-46.97zm172.52 59.38c-7.44-3.23-12.34-6.14-12.72-13.77-.35-6.92 5.18-12.9 12.06-13.8q23.67-3.09 46.95 9.42a8.26 8.26 0 0010.73-2.94l15.12-23.19c-18.38-15-41.91-21.81-65.43-21.81-37.35 0-72.81 18.54-72.81 54.35 0 49 54.75 54.33 77.17 63.58 8.73 3.61 12.84 7.2 13.08 16.12a16.61 16.61 0 01-13.82 16.6q-28.29 4.65-53.67-12.36a8.24 8.24 0 00-10.67 1.53l-20.8 23.23c19.79 18.34 47.71 26.56 74.5 26.56 40.25 0 79.18-18.9 79.18-58.71-.02-49.39-47.29-51.07-78.87-64.81z"/> </symbol> <symbol id=icon-logo-new viewBox="0 0 1900 400"> <defs><style>.a{fill:none}.b{fill:#00aeef}.c{fill:#008ccf}</style></defs> <path class=a d="M0 0h400v400H0z"/> <path class=b d="M137.5 75a125 125 0 10125 125 125 125 0 00-125-125zm0 162.5A37.5 37.5 0 11175 200a37.45 37.45 0 01-37.5 37.5z"/> <path class=c d="M278 168.75c31.76 9.14 69.25 0 69.25 0-10.88 47.5-45.38 77.25-95.13 80.87A124.73 124.73 0 01137.5 325L175 205.81C213.55 83.3 233.31 75 324.73 75h62.77c-10.5 46.25-46.69 81.58-109.5 93.75z"/> <path class=a d="M500 0h1400v400H500z"/> <path class=b d="M618.68 78C548.83 78 514 129.54 514 199.83 514 270.93 548.3 322 618.68 322c69.88 0 105-51 105-122.12C723.7 128.34 690 78 618.68 78zm0 203.66c-40 0-47-41.82-47-81.86 0-40.34 6.61-81.53 47-81.53S666 159.19 666 199.83c0 40.89-6.53 81.86-47.32 81.86zM857.4 132.39c-22.72 0-39.74 9.65-54.35 26.84l-1.27-7.23a16.77 16.77 0 00-16.52-13.89h-32.2v169.75a8.38 8.38 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.77 10.05 16.77 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.08c-.02-35.23-19.48-53.69-49.34-53.69zm149.15 147.33a18.46 18.46 0 01-2.86.29q-9.08 0-9.06-11.06V61.59L949.1 66.5a8.39 8.39 0 00-7.49 8.34V271c0 33.69 19 51 49 51a82.61 82.61 0 0032.21-6l-8.68-31.37a6.7 6.7 0 00-7.59-4.91zM1145 138.09a8.38 8.38 0 00-8.15 6.42l-33.35 137.85-30.5-137.69a8.39 8.39 0 00-8.19-6.58h-49.63L1066 304.37a16.78 16.78 0 0016 11.88h5.69c-10.86 26.15-27.23 33.27-57.37 37.25l4.53 29.52a8.35 8.35 0 009 7.11c47-4.71 78.1-27.16 92.53-73.54l56.7-178.5z"/> <path class=c d="M1215.43 92.13v224.12h46.63a8.39 8.39 0 008.39-8.39V224h51a12.57 12.57 0 0012.51-11.23l3-28h-66.48V123h67a12.57 12.57 0 0012.45-10.77l4.07-28.49h-130.18a8.39 8.39 0 00-8.39 8.39zm308.1 164.4V138.09h-32.22a16.78 16.78 0 00-16.45 13.48l-.32 1.62c-11.19-13.86-21.66-20.8-39.78-20.8-48.88 0-74.15 43.76-74.15 94.28 0 50.34 18.56 95.28 68.78 95.28 21.67 0 36.16-11.18 47.84-27.17 4.92 9.29 12.38 15.48 21.22 19.78a23.53 23.53 0 0032-12.4l7.45-18.45c-11.9-6.01-14.37-13.5-14.37-27.18zm-56.15 11.78c-6.81 9.82-12.72 14.73-23.22 14.73-25.51 0-28.53-30.43-28.53-56s5.31-56 30.87-56c7.88 0 12.46 2.33 19.47 9.72a16.69 16.69 0 014.54 11.46v66.4a17.22 17.22 0 01-3.13 9.69zm170.41-129.21q-13.24 6.72-24.66 20.13l-1.26-7.25a16.78 16.78 0 00-16.53-13.89h-32.2v169.77a8.39 8.39 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.78 10.05 16.78 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.07c-.02-53.88-47.15-63.07-79.04-46.97zm172.52 59.38c-7.44-3.23-12.34-6.14-12.72-13.77-.35-6.92 5.18-12.9 12.06-13.8q23.67-3.09 46.95 9.42a8.26 8.26 0 0010.73-2.94l15.12-23.19c-18.38-15-41.91-21.81-65.43-21.81-37.35 0-72.81 18.54-72.81 54.35 0 49 54.75 54.33 77.17 63.58 8.73 3.61 12.84 7.2 13.08 16.12a16.61 16.61 0 01-13.82 16.6q-28.29 4.65-53.67-12.36a8.24 8.24 0 00-10.67 1.53l-20.8 23.23c19.79 18.34 47.71 26.56 74.5 26.56 40.25 0 79.18-18.9 79.18-58.71-.02-49.39-47.29-51.07-78.87-64.81z"/> </symbol> <symbol id=icon-logo-new-text viewBox="0 0 1400 400"> <path d="M118.68 78C48.83 78 14 129.54 14 199.83 14 270.93 48.3 322 118.68 322c69.88 0 105-51 105-122.12C223.7 128.34 190 78 118.68 78zm0 203.66c-40 0-47-41.82-47-81.86 0-40.34 6.61-81.53 47-81.53S166 159.19 166 199.83c0 40.89-6.53 81.86-47.32 81.86zM357.4 132.39c-22.72 0-39.74 9.65-54.35 26.84l-1.27-7.23a16.77 16.77 0 00-16.52-13.89h-32.2v169.75a8.38 8.38 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.77 10.05 16.77 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.08c-.02-35.23-19.48-53.69-49.34-53.69zm149.15 147.33a18.46 18.46 0 01-2.86.29q-9.07 0-9.06-11.06V61.59L449.1 66.5a8.39 8.39 0 00-7.49 8.34V271c0 33.69 19 51 49 51a82.61 82.61 0 0032.21-6l-8.68-31.37a6.7 6.7 0 00-7.59-4.91zM645 138.09a8.38 8.38 0 00-8.15 6.42l-33.39 137.85L573 144.67a8.39 8.39 0 00-8.19-6.58h-49.59L566 304.37a16.78 16.78 0 0016 11.88h5.69c-10.86 26.15-27.23 33.27-57.37 37.25l4.53 29.5a8.35 8.35 0 009 7.11c47-4.71 78.1-27.16 92.53-73.54l56.7-178.5z" fill=#00aeef /> <path d="M715.43 92.13v224.12h46.63a8.39 8.39 0 008.39-8.39V224h50.95a12.57 12.57 0 0012.51-11.23l3-28h-66.45V123h66.95a12.57 12.57 0 0012.45-10.77L854 83.74H723.82a8.39 8.39 0 00-8.39 8.39zm308.1 164.4V138.09h-32.22a16.78 16.78 0 00-16.45 13.48l-.32 1.62c-11.19-13.86-21.66-20.8-39.78-20.8-48.88 0-74.15 43.76-74.15 94.28 0 50.34 18.56 95.28 68.78 95.28 21.67 0 36.16-11.18 47.84-27.17 4.92 9.29 12.38 15.48 21.22 19.78a23.53 23.53 0 0032-12.4l7.45-18.45c-11.9-6.01-14.37-13.5-14.37-27.18zm-56.15 11.78c-6.81 9.82-12.72 14.73-23.22 14.73-25.51 0-28.53-30.43-28.53-56s5.31-56 30.87-56c7.88 0 12.46 2.33 19.47 9.72a16.69 16.69 0 014.54 11.46v66.4a17.22 17.22 0 01-3.13 9.69zm170.41-129.21q-13.24 6.72-24.66 20.13l-1.26-7.25a16.78 16.78 0 00-16.53-13.89h-32.2v169.77a8.39 8.39 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.78 10.05 16.78 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.07c-.02-53.88-47.15-63.07-79.04-46.97zm172.52 59.38c-7.44-3.23-12.34-6.14-12.72-13.77-.35-6.92 5.18-12.9 12.06-13.8q23.67-3.09 46.95 9.42a8.26 8.26 0 0010.73-2.94l15.12-23.19c-18.38-15-41.91-21.81-65.43-21.81-37.35 0-72.81 18.54-72.81 54.35 0 49 54.75 54.33 77.17 63.58 8.73 3.61 12.84 7.2 13.08 16.12a16.61 16.61 0 01-13.82 16.6q-28.29 4.65-53.67-12.36a8.24 8.24 0 00-10.67 1.53l-20.8 23.23c19.79 18.34 47.71 26.56 74.5 26.56 40.25 0 79.18-18.9 79.18-58.71-.02-49.39-47.29-51.07-78.87-64.81z" fill=#008ccf /> </symbol> <symbol id=icon-logo-new-text-white viewBox="0 0 1400 400"> <path d="M118.68 78C48.83 78 14 129.54 14 199.83 14 270.93 48.3 322 118.68 322c69.88 0 105-51 105-122.12C223.7 128.34 190 78 118.68 78zm0 203.66c-40 0-47-41.82-47-81.86 0-40.34 6.61-81.53 47-81.53S166 159.19 166 199.83c0 40.89-6.53 81.86-47.32 81.86zM357.4 132.39c-22.72 0-39.74 9.65-54.35 26.84l-1.27-7.23a16.77 16.77 0 00-16.52-13.89h-32.2v169.75a8.38 8.38 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.77 10.05 16.77 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.08c-.02-35.23-19.48-53.69-49.34-53.69zm149.15 147.33a18.46 18.46 0 01-2.86.29q-9.07 0-9.06-11.06V61.59L449.1 66.5a8.39 8.39 0 00-7.49 8.34V271c0 33.69 19 51 49 51a82.61 82.61 0 0032.21-6l-8.68-31.37a6.7 6.7 0 00-7.59-4.91zM645 138.09a8.38 8.38 0 00-8.15 6.42l-33.39 137.85L573 144.67a8.39 8.39 0 00-8.19-6.58h-49.59L566 304.37a16.78 16.78 0 0016 11.88h5.69c-10.86 26.15-27.23 33.27-57.37 37.25l4.53 29.5a8.35 8.35 0 009 7.11c47-4.71 78.1-27.16 92.53-73.54l56.7-178.5z" style=isolation:isolate opacity=.8 fill=#fff /> <path d="M715.43 92.13v224.12h46.63a8.39 8.39 0 008.39-8.39V224h50.95a12.57 12.57 0 0012.51-11.23l3-28h-66.45V123h66.95a12.57 12.57 0 0012.45-10.77L854 83.74H723.82a8.39 8.39 0 00-8.39 8.39zm308.1 164.4V138.09h-32.22a16.78 16.78 0 00-16.45 13.48l-.32 1.62c-11.19-13.86-21.66-20.8-39.78-20.8-48.88 0-74.15 43.76-74.15 94.28 0 50.34 18.56 95.28 68.78 95.28 21.67 0 36.16-11.18 47.84-27.17 4.92 9.29 12.38 15.48 21.22 19.78a23.53 23.53 0 0032-12.4l7.45-18.45c-11.9-6.01-14.37-13.5-14.37-27.18zm-56.15 11.78c-6.81 9.82-12.72 14.73-23.22 14.73-25.51 0-28.53-30.43-28.53-56s5.31-56 30.87-56c7.88 0 12.46 2.33 19.47 9.72a16.69 16.69 0 014.54 11.46v66.4a17.22 17.22 0 01-3.13 9.69zm170.41-129.21q-13.24 6.72-24.66 20.13l-1.26-7.25a16.78 16.78 0 00-16.53-13.89h-32.2v169.77a8.39 8.39 0 008.39 8.39h44.62V199.62a16.29 16.29 0 012.89-9.45q13.44-18.87 28-18.86c13.88 0 16.78 10.05 16.78 23.82v112.73a8.39 8.39 0 008.39 8.39h44.62V186.07c-.02-53.88-47.15-63.07-79.04-46.97zm172.52 59.38c-7.44-3.23-12.34-6.14-12.72-13.77-.35-6.92 5.18-12.9 12.06-13.8q23.67-3.09 46.95 9.42a8.26 8.26 0 0010.73-2.94l15.12-23.19c-18.38-15-41.91-21.81-65.43-21.81-37.35 0-72.81 18.54-72.81 54.35 0 49 54.75 54.33 77.17 63.58 8.73 3.61 12.84 7.2 13.08 16.12a16.61 16.61 0 01-13.82 16.6q-28.29 4.65-53.67-12.36a8.24 8.24 0 00-10.67 1.53l-20.8 23.23c19.79 18.34 47.71 26.56 74.5 26.56 40.25 0 79.18-18.9 79.18-58.71-.02-49.39-47.29-51.07-78.87-64.81z" fill=#fff /> </symbol> <symbol id=icon-logo-new-icon-white viewBox="0 0 400 400"> <path d="M137.5 75a125 125 0 10125 125 125 125 0 00-125-125zm0 162.5A37.5 37.5 0 11175 200a37.45 37.45 0 01-37.5 37.5z" opacity=.8 fill=#fff /> <path d="M278 168.75c31.76 9.14 69.25 0 69.25 0-10.88 47.5-45.38 77.25-95.13 80.87A124.73 124.73 0 01137.5 325L175 205.81C213.55 83.3 233.31 75 324.73 75h62.77c-10.5 46.25-46.69 81.58-109.5 93.75z" fill=#fff /> </symbol> <symbol id=icon-home viewBox="0 0 32 32"> <path d=M29,13.82a1,1,0,0,0-.37-.77l-12-9.82a1,1,0,0,0-1.26,0l-12,9.82a1,1,0,0,0-.37.77,1,1,0,0,0,1,1,.94.94,0,0,0,.63-.23L6,13.47V24.2A2.81,2.81,0,0,0,8.8,27h2.9a2.81,2.81,0,0,0,2.8-2.8V22.8a.8.8,0,0,1,.8-.8h1.4a.8.8,0,0,1,.8.8v1.4A2.81,2.81,0,0,0,20.3,27h2.9A2.81,2.81,0,0,0,26,24.2V13.47l1.37,1.12a.94.94,0,0,0,.63.23A1,1,0,0,0,29,13.82ZM24,24.2a.8.8,0,0,1-.8.8H20.3a.8.8,0,0,1-.8-.8V22.8A2.81,2.81,0,0,0,16.7,20H15.3a2.81,2.81,0,0,0-2.8,2.8v1.4a.8.8,0,0,1-.8.8H8.8a.8.8,0,0,1-.8-.8V11.84l8-6.55,8,6.55Z /> </symbol> <symbol id=icon-notifications viewBox="0 0 32 32"> <path d=M27.55,22A1.56,1.56,0,0,1,26,20.43V14A10,10,0,0,0,6,14v6.44A1.56,1.56,0,0,1,4.45,22a1,1,0,1,0,0,2H11.1a5,5,0,0,0,9.8,0h6.65a1,1,0,0,0,0-2ZM16,26a3,3,0,0,1-2.82-2h5.64A3,3,0,0,1,16,26ZM7.65,22A3.58,3.58,0,0,0,8,20.43V14a8,8,0,0,1,16,0v6.44A3.58,3.58,0,0,0,24.35,22Z /> </symbol> <symbol id=icon-compose viewBox="0 0 32 32"> <path d=M21,15H17V11a1,1,0,0,0-2,0v4H11a1,1,0,0,0,0,2h4v4a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2ZM23,5H9A4,4,0,0,0,5,9V23a4,4,0,0,0,4,4H23a4,4,0,0,0,4-4V9A4,4,0,0,0,23,5Zm2,18a2,2,0,0,1-2,2H9a2,2,0,0,1-2-2V9A2,2,0,0,1,9,7H23a2,2,0,0,1,2,2Z /> </symbol> <symbol id=icon-messages viewBox="0 0 32 32"> <path d=M21,5H11a6,6,0,0,0-6,6V28.5a1,1,0,0,0,.81,1l.19,0a1,1,0,0,0,.93-.63A3,3,0,0,1,9.69,27H21a6,6,0,0,0,6-6V11A6,6,0,0,0,21,5Zm4,16a4,4,0,0,1-4,4H9.69A4.9,4.9,0,0,0,7,25.79V11a4,4,0,0,1,4-4H21a4,4,0,0,1,4,4Zm-6-8H13a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm-3,4H13a1,1,0,0,0,0,2h3a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-menu viewBox="0 0 32 32"> <path d=M16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Zm0,22a10.17,10.17,0,0,1-2.66-.37,3,3,0,0,1,5.32,0A10.17,10.17,0,0,1,16,26Zm4.52-1.09a5,5,0,0,0-9,0,10,10,0,1,1,9,0ZM16,12a4,4,0,1,0,4,4A4,4,0,0,0,16,12Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,16,18Z /> </symbol> <symbol id=icon-lg-search viewBox="0 0 32 32"> <path d="M28 27a1 1 0 00-.29-.71l-5-5a10 10 0 10-1.42 1.42l5 5A1 1 0 0028 27zM7 15a8 8 0 118 8 8 8 0 01-8-8z"/> </symbol> <symbol id=icon-account viewBox="0 0 24 24"> <path d="M12 2a10 10 0 0 0 0 20c.55 0 5-.3 5-1.94a1 1 0 0 0-1-1c-.64 0-1.52.94-4 .94a8 8 0 1 1 8-8c0 1.23-.14 3-1.59 3A1.41 1.41 0 0 1 17 13.59V12a5 5 0 1 0-1.42 3.49A3.43 3.43 0 0 0 18.41 17c2 0 3.59-1.38 3.59-5A10 10 0 0 0 12 2zm0 13a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/> </symbol> <symbol id=icon-active viewBox="0 0 24 24"> <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm4.42-11.42a1 1 0 0 0-.71.3l-5.21 5.21-2.21-2.21a1 1 0 0 0-.71-.3 1 1 0 0 0-1 1 1 1 0 0 0 .3.71l3.62 3.62 6.62-6.62a1 1 0 0 0 .3-.71 1 1 0 0 0-1-1z"/> </symbol> <symbol id=icon-add viewBox="0 0 24 24"> <path d="M4.5 13H11v6.5a1 1 0 0 0 2 0V13h6.5a1 1 0 0 0 0-2H13V4.5a1 1 0 0 0-2 0V11H4.5a1 1 0 0 0 0 2z"/> </symbol> <symbol id=icon-add-bank viewBox="0 0 24 24"> <path d="M15 18H3a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2zM3 9h18a1 1 0 0 0 .49-1.87l-9-5a1 1 0 0 0-1 0l-9 5A1 1 0 0 0 3 9zm9-4.86L17.14 7H6.86zM11 11v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-2 0zm-6 0v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-2 0zm14 4v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 2 0zm4.2 3H22v-1.2a.8.8 0 0 0-.8-.8h-.4a.8.8 0 0 0-.8.8V18h-1.2a.8.8 0 0 0-.8.8v.4a.8.8 0 0 0 .8.8H20v1.2a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8V20h1.2a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8z"/> </symbol> <symbol id=icon-add-card viewBox="0 0 24 24"> <path d="M15 18H5a1 1 0 0 1-1-1v-5h16v1a1 1 0 0 0 2 0V7a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a1 1 0 0 0 0-2zM4 7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v1H4zm19.2 11H22v-1.2a.8.8 0 0 0-.8-.8h-.4a.8.8 0 0 0-.8.8V18h-1.2a.8.8 0 0 0-.8.8v.4a.8.8 0 0 0 .8.8H20v1.2a.8.8 0 0 0 .8.8h.4a.8.8 0 0 0 .8-.8V20h1.2a.8.8 0 0 0 .8-.8v-.4a.8.8 0 0 0-.8-.8z"/> </symbol> <symbol id=icon-add-to-list viewBox="0 0 24 24"> <path d=M22.2,19H21V17.8a.8.8,0,0,0-.8-.8h-.4a.8.8,0,0,0-.8.8V19H17.8a.8.8,0,0,0-.8.8v.4a.8.8,0,0,0,.8.8H19v1.2a.8.8,0,0,0,.8.8h.4a.8.8,0,0,0,.8-.8V21h1.2a.8.8,0,0,0,.8-.8v-.4A.8.8,0,0,0,22.2,19ZM14,19H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1v8a1,1,0,0,0,2,0V6a3,3,0,0,0-3-3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3h8a1,1,0,0,0,0-2Zm1-8H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm0-3H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm0,6H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-added-to-list viewBox="0 0 24 24"> <path d=M13,19H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1v8a1,1,0,0,0,2,0V6a3,3,0,0,0-3-3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3h7a1,1,0,0,0,0-2Zm2-8H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm0-3H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm0,6H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm9,3a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L19,19.59l-1.29-1.3A1,1,0,0,0,17,18a1,1,0,0,0-1,1,1,1,0,0,0,.29.71l2,2a1,1,0,0,0,1.42,0l4-4A1,1,0,0,0,24,17Z /> </symbol> <symbol id=icon-alert viewBox="0 0 24 24"> <path d="M22.56 18.34A2.63 2.63 0 0 0 22.2 17L14.3 3.33a2.65 2.65 0 0 0-4.6 0L1.8 17a2.63 2.63 0 0 0-.36 1.33A2.66 2.66 0 0 0 4.1 21h15.8a2.66 2.66 0 0 0 2.66-2.66zm-2 0a.66.66 0 0 1-.66.66H4.1a.66.66 0 0 1-.66-.66.63.63 0 0 1 .09-.34l7.9-13.68a.68.68 0 0 1 1.14 0L20.47 18a.63.63 0 0 1 .09.34zM12 13.5a1 1 0 0 0 1-1v-4a1 1 0 0 0-2 0v4a1 1 0 0 0 1 1zm0 1.1a1.4 1.4 0 1 0 1.4 1.4 1.4 1.4 0 0 0-1.4-1.4z"/> </symbol> <symbol id=icon-align-center viewBox="0 0 24 24"> <path d=M7,18H7a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H8A1,1,0,0,0,7,18ZM4,15H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H4a1,1,0,0,0-1,1H3A1,1,0,0,0,4,15Zm3-5H7a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H8A1,1,0,0,0,7,10ZM3,6H3A1,1,0,0,0,4,7H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H4A1,1,0,0,0,3,6Z /> </symbol> <symbol id=icon-align-left viewBox="0 0 24 24"> <path d=M14,17H4a1,1,0,0,0-1,1H3a1,1,0,0,0,1,1H14a1,1,0,0,0,1-1h0A1,1,0,0,0,14,17Zm0-8H4a1,1,0,0,0-1,1H3a1,1,0,0,0,1,1H14a1,1,0,0,0,1-1h0A1,1,0,0,0,14,9ZM4,15H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H4a1,1,0,0,0-1,1H3A1,1,0,0,0,4,15ZM3,6H3A1,1,0,0,0,4,7H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H4A1,1,0,0,0,3,6Z /> </symbol> <symbol id=icon-align-right viewBox="0 0 24 24"> <path d=M10,19H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H10a1,1,0,0,0-1,1H9A1,1,0,0,0,10,19ZM4,15H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H4a1,1,0,0,0-1,1H3A1,1,0,0,0,4,15Zm6-4H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H10a1,1,0,0,0-1,1H9A1,1,0,0,0,10,11ZM3,6H3A1,1,0,0,0,4,7H20a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H4A1,1,0,0,0,3,6Z /> </symbol> <symbol id=icon-all viewBox="0 0 24 24"> <path d="M15 6H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3zm1 13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1zm3-17H8a1 1 0 0 0 0 2h11a1 1 0 0 1 1 1v11a1 1 0 0 0 2 0V5a3 3 0 0 0-3-3zm-6 9a1 1 0 0 0-.71.29L9 14.59l-1.29-1.3A1 1 0 0 0 7 13a1 1 0 0 0-1 1 1 1 0 0 0 .29.71l2 2a1 1 0 0 0 1.42 0l4-4A1 1 0 0 0 14 12a1 1 0 0 0-1-1z"/> </symbol> <symbol id=icon-announcement viewBox="0 0 24 24"> <path d="M23 12a1 1 0 00-.28-.7l-1.37-1.41a2 2 0 01-.57-1.39 2.64 2.64 0 010-.28l.28-2a.66.66 0 000-.14 1 1 0 00-.83-1l-1.91-.28a2 2 0 01-1.42-1L16 2a1 1 0 00-.88-.53 1 1 0 00-.44.1l-1.77.87a2 2 0 01-1.76 0l-1.8-.85a1 1 0 00-.44-.1A1 1 0 008 2l-.9 1.76a2 2 0 01-1.42 1l-1.94.34a1 1 0 00-.83 1 .66.66 0 000 .14l.28 2v.29a2 2 0 01-.57 1.39L1.28 11.3a1 1 0 000 1.4l1.37 1.41a2 2 0 01.57 1.39 2.64 2.64 0 010 .28l-.28 2a.66.66 0 000 .14 1 1 0 00.83 1l1.94.34a2 2 0 011.42 1L8 22a1 1 0 00.88.53 1 1 0 00.44-.1l1.77-.87a2 2 0 011.76 0l1.77.87a1 1 0 00.44.1A1 1 0 0016 22l.93-1.74a2 2 0 011.42-1l1.94-.34a1 1 0 00.83-1 .66.66 0 000-.14l-.28-1.95v-.29a2 2 0 01.57-1.39l1.37-1.41A1 1 0 0023 12zm-3.09.72a4 4 0 00-1.13 2.78 5.46 5.46 0 000 .56l.14 1-1 .17a4 4 0 00-2.84 2.07l-.47.89-.9-.44a4 4 0 00-3.52 0l-.9.44-.47-.89A4 4 0 006 17.23l-1-.17.14-1a5.46 5.46 0 000-.56 4 4 0 00-1.13-2.78L3.39 12l.7-.72A4 4 0 005.22 8.5a5.46 5.46 0 000-.56l-.22-1 1-.17A4 4 0 008.87 4.7l.47-.89.9.44a4 4 0 003.52 0l.9-.44.47.89A4 4 0 0018 6.77l1 .17-.14 1a5.46 5.46 0 000 .56 4 4 0 001.13 2.78l.7.72zM12 13.5a1 1 0 001-1v-5a1 1 0 00-2 0v5a1 1 0 001 1zm0 1.1a1.4 1.4 0 101.4 1.4 1.4 1.4 0 00-1.4-1.4z"/> </symbol> <symbol id=icon-arrow-down viewBox="0 0 24 24"> <path d="M12 16.75L5.13 9.87a1 1 0 0 1-.3-.7 1 1 0 0 1 1-1 1 1 0 0 1 .71.29L12 13.92l5.46-5.46a1 1 0 0 1 .71-.29 1 1 0 0 1 1 1 1 1 0 0 1-.3.7z"/> </symbol> <symbol id=icon-arrow-left viewBox="0 0 24 24"> <path d="M7.25 12l6.88-6.87a1 1 0 0 1 .7-.3 1 1 0 0 1 1 1 1 1 0 0 1-.29.71L10.08 12l5.46 5.46a1 1 0 0 1 .29.71 1 1 0 0 1-1 1 1 1 0 0 1-.7-.3z"/> </symbol> <symbol id=icon-arrow-more viewBox="0 0 24 24"> <path d="M12 16.75L5.13 9.87a1 1 0 01-.3-.7 1 1 0 011-1 1 1 0 01.71.29L12 13.92l5.46-5.46a1 1 0 01.71-.29 1 1 0 011 1 1 1 0 01-.3.7z"/> </symbol> <symbol id=icon-arrow-right viewBox="0 0 24 24"> <path d="M16.75 12l-6.88 6.87a1 1 0 0 1-.7.3 1 1 0 0 1-1-1 1 1 0 0 1 .29-.71L13.92 12 8.46 6.54a1 1 0 0 1-.29-.71 1 1 0 0 1 1-1 1 1 0 0 1 .7.3z"/> </symbol> <symbol id=icon-arrow-up viewBox="0 0 24 24"> <path d="M12 7.25l-6.87 6.88a1 1 0 0 0-.3.7 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29L12 10.08l5.46 5.46a1 1 0 0 0 .71.29 1 1 0 0 0 1-1 1 1 0 0 0-.3-.7z"/> </symbol> <symbol id=icon-attach viewBox="0 0 24 24"> <path d="M5.146 18.397a5.222 5.222 0 01.29-7.36l5.737-5.738a3.358 3.358 0 014.73-.186 3.358 3.358 0 01-.185 4.732l-5.461 5.46a1.075 1.075 0 11-1.515-1.515l5.46-5.46a1.075 1.075 0 10-1.515-1.516L6.95 12.55a2.984 2.984 0 00-.165 4.207 2.984 2.984 0 004.206-.165l7.376-7.377a1.075 1.075 0 111.516 1.515l-7.377 7.377a5.222 5.222 0 01-7.36.29z"/> </symbol> <symbol id=icon-back viewBox="0 0 24 24"> <path d="M19 11H7.41l5.3-5.29A1 1 0 0 0 13 5a1 1 0 0 0-1-1 1 1 0 0 0-.71.29L3.59 12l7.7 7.71A1 1 0 0 0 12 20a1 1 0 0 0 1-1 1 1 0 0 0-.29-.71L7.41 13H19a1 1 0 0 0 0-2z"/> </symbol> <symbol id=icon-bank viewBox="0 0 24 24"> <path d="M21 18H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2zM3 9h18a1 1 0 0 0 .49-1.87l-9-5a1 1 0 0 0-1 0l-9 5A1 1 0 0 0 3 9zm9-4.86L17.14 7H6.86zM11 11v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-2 0zm-6 0v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-2 0zm14 5v-5a1 1 0 0 0-2 0v5a1 1 0 0 0 2 0z"/> </symbol> <symbol id=icon-block viewBox="0 0 24 24"> <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4.9 3.69l-4.9 4.9-4.9-4.9a7.95 7.95 0 0 1 9.8 0zM4 12a7.92 7.92 0 0 1 1.69-4.9l4.9 4.9-4.9 4.9A7.92 7.92 0 0 1 4 12zm3.1 6.31l4.9-4.9 4.9 4.9a7.95 7.95 0 0 1-9.8 0zm11.21-1.41l-4.9-4.9 4.9-4.9a7.95 7.95 0 0 1 0 9.8z"/> </symbol> <symbol id=icon-bookmark viewBox="0 0 24 24"> <path d=M19,22a1,1,0,0,1-.5-.13l-6-3.43a1,1,0,0,0-1,0l-6,3.43A1,1,0,0,1,5,22a1,1,0,0,1-1-1V6A3,3,0,0,1,7,3H17a3,3,0,0,1,3,3V21A1,1,0,0,1,19,22ZM7,5A1,1,0,0,0,6,6V19.28l4.51-2.58a3,3,0,0,1,3,0L18,19.28V6a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-bookmarked viewBox="0 0 24 24"> <path d=M19,22a1,1,0,0,1-.5-.13l-6-3.43a1,1,0,0,0-1,0l-6,3.43A1,1,0,0,1,5,22a1,1,0,0,1-1-1V6A3,3,0,0,1,7,3H17a3,3,0,0,1,3,3V21A1,1,0,0,1,19,22Z /> </symbol> <symbol id=icon-calendar viewBox="0 0 24 24"> <path d=M19,3H18V2a1,1,0,0,0-2,0V3H8V2A1,1,0,0,0,6,2V3H5A2,2,0,0,0,3,5V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V5A2,2,0,0,0,19,3Zm0,15a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V9H19ZM19,7H5V5H19ZM8.4,13H7.6a.6.6,0,0,1-.6-.6v-.8a.6.6,0,0,1,.6-.6h.8a.6.6,0,0,1,.6.6v.8A.6.6,0,0,1,8.4,13Zm4,0h-.8a.6.6,0,0,1-.6-.6v-.8a.6.6,0,0,1,.6-.6h.8a.6.6,0,0,1,.6.6v.8A.6.6,0,0,1,12.4,13Zm4,0h-.8a.6.6,0,0,1-.6-.6v-.8a.6.6,0,0,1,.6-.6h.8a.6.6,0,0,1,.6.6v.8A.6.6,0,0,1,16.4,13Z /> </symbol> <symbol id=icon-calendar-datepicker viewBox="0 0 24 24"> <path d="M19 3h-1V2a1 1 0 00-2 0v1H8V2a1 1 0 00-2 0v1H5a2 2 0 00-2 2v13a3 3 0 003 3h12a3 3 0 003-3V5a2 2 0 00-2-2zm0 15a1 1 0 01-1 1H6a1 1 0 01-1-1V9h14zm0-11H5V5h14zM8.4 13h-.8a.6.6 0 01-.6-.6v-.8a.6.6 0 01.6-.6h.8a.6.6 0 01.6.6v.8a.6.6 0 01-.6.6zm4 0h-.8a.6.6 0 01-.6-.6v-.8a.6.6 0 01.6-.6h.8a.6.6 0 01.6.6v.8a.6.6 0 01-.6.6zm4 0h-.8a.6.6 0 01-.6-.6v-.8a.6.6 0 01.6-.6h.8a.6.6 0 01.6.6v.8a.6.6 0 01-.6.6z"/> </symbol> <symbol id=icon-camera viewBox="0 0 24 24"> <path d="M19 4h-2.17a1 1 0 0 1-.71-.29l-.83-.83A3 3 0 0 0 13.17 2h-2.34a3 3 0 0 0-2.12.88l-.83.83a1 1 0 0 1-.71.29H5a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM4 18V7a1 1 0 0 1 1-1h2.17a3 3 0 0 0 2.12-.88l.83-.83a1 1 0 0 1 .71-.29h2.34a1 1 0 0 1 .71.29l.83.83a3 3 0 0 0 2.12.88H19a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1zm8-11a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"/> </symbol> <symbol id=icon-camera-photo viewBox="0 0 24 24"> <path d=M19,4H16.83a1,1,0,0,1-.71-.29l-.83-.83A3,3,0,0,0,13.17,2H10.83a3,3,0,0,0-2.12.88l-.83.83A1,1,0,0,1,7.17,4H5A3,3,0,0,0,2,7V18a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4ZM4,18V7A1,1,0,0,1,5,6H7.17a3,3,0,0,0,2.12-.88l.83-.83A1,1,0,0,1,10.83,4h2.34a1,1,0,0,1,.71.29l.83.83A3,3,0,0,0,16.83,6H19a1,1,0,0,1,1,1V18a1,1,0,0,1-1,1H5A1,1,0,0,1,4,18ZM12,7a5,5,0,1,0,5,5A5,5,0,0,0,12,7Zm0,8a3,3,0,1,1,3-3A3,3,0,0,1,12,15Z /> </symbol> <symbol id=icon-card viewBox="0 0 24 24"> <path d="M19 4H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM5 6h14a1 1 0 0 1 1 1v1H4V7a1 1 0 0 1 1-1zm14 12H5a1 1 0 0 1-1-1v-5h16v5a1 1 0 0 1-1 1z"/> </symbol> <symbol id=icon-clear-all viewBox="0 0 24 24"> <path d="M16 15H4a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2zm2-4H6a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2zm2-4H8a1 1 0 0 0 0 2h12a1 1 0 0 0 0-2z"/> </symbol> <symbol id=icon-close viewBox="0 0 24 24"> <path d="M13.41 12l5.3-5.29A1 1 0 0 0 19 6a1 1 0 0 0-1-1 1 1 0 0 0-.71.29L12 10.59l-5.29-5.3A1 1 0 0 0 6 5a1 1 0 0 0-1 1 1 1 0 0 0 .29.71l5.3 5.29-5.3 5.29A1 1 0 0 0 5 18a1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l5.29-5.3 5.29 5.3A1 1 0 0 0 18 19a1 1 0 0 0 1-1 1 1 0 0 0-.29-.71z"/> </symbol> <symbol id=icon-comment viewBox="0 0 24 24"> <path d="M12 23a1 1 0 0 1-1-1v-2.06A9 9 0 1 1 21 11c0 7.37-7.91 12-9 12zm0-19a7 7 0 0 0 0 14 1 1 0 0 1 1 1v1.28c3-1.93 6-5.22 6-9.28a7 7 0 0 0-7-7z"/> </symbol> <symbol id=icon-comment-hide viewBox="0 0 24 24"> <path d=M12,2a9,9,0,0,0-1,17.94V22a1,1,0,0,0,1,1c1.09,0,9-4.63,9-12A9,9,0,0,0,12,2Zm1,18.28V19a1,1,0,0,0-1-1,7,7,0,1,1,7-7C19,15.06,16,18.35,13,20.28ZM14.5,10h-5a1,1,0,0,0,0,2h5a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-comment-private viewBox="0 0 24 24"> <path d=M17.06,17.15c-1,0-.89,1.12-4.06,3.14V19a1,1,0,0,0-.61-.92.58.58,0,0,0-.14,0A1,1,0,0,0,12,18c-2,0-2.74-.7-3.27-.7a1,1,0,0,0-1,1,1,1,0,0,0,.59.91,8.61,8.61,0,0,0,2.68.73V22a1,1,0,0,0,1,1c1,0,6.06-3.59,6.06-4.85A1,1,0,0,0,17.06,17.15Zm3.85-4.86a1,1,0,0,0-1-1,1,1,0,0,0-1,.86c-.27,2-1,2.62-1,3.18a1,1,0,0,0,1.9.44A10.75,10.75,0,0,0,20.91,12.29ZM14.92,4a1,1,0,0,0,.51.87c.78.44.85.67,1.33.67a1,1,0,0,0,1-1,1,1,0,0,0-.4-.8C16.31,3,16.07,3,15.92,3A1,1,0,0,0,14.92,4Zm3.85,5.18a1,1,0,0,0,1,.74,1,1,0,0,0,1-1c0-.32-.59-2.85-1.74-2.85a1,1,0,0,0-1,1C18,7.65,18.4,7.8,18.77,9.21ZM3.87,7.36a1,1,0,0,0,1.89.46c.33-.65.51-.73.51-1.15a1,1,0,0,0-1.84-.54C3.9,7,3.87,7.16,3.87,7.36Zm5-2.6a1,1,0,0,0,.54-.89,1,1,0,0,0-1-1A1,1,0,0,0,7.9,3c-.78.4-1.23.66-1.23,1.28a1,1,0,0,0,1,1C8.09,5.27,8.18,5.09,8.82,4.76ZM11.65,4H12c.41,0,.59,0,.7,0a1,1,0,0,0,1-1c0-1.09-1.21-1-1.7-1h-.39a1,1,0,0,0,0,2ZM5.94,14.51a1,1,0,0,0-1.73,1c.9,1.55,1.33,1.72,1.74,1.72a1,1,0,0,0,1-1C7,15.62,6.59,15.62,5.94,14.51ZM5,11.7c0-.11,0-.29,0-.7,0-.18,0-.3,0-.35a1,1,0,0,0-2,0c0,.13,0,.26,0,.39,0,.5-.07,1.7,1,1.7A1,1,0,0,0,5,11.7Z /> </symbol> <symbol id=icon-crop viewBox="0 0 24 24"> <path d=M17,15h2V7a2,2,0,0,0-2-2H9V7h8ZM7,17V2A1,1,0,0,0,5,2V5H2A1,1,0,0,0,2,7H5V17a2,2,0,0,0,2,2H17v3a1,1,0,0,0,2,0V19h3a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-crop-1x1 viewBox="0 0 24 24"> <path d=M18,21H6a3,3,0,0,1-3-3V6A3,3,0,0,1,6,3H18a3,3,0,0,1,3,3V18A3,3,0,0,1,18,21ZM6,5A1,1,0,0,0,5,6V18a1,1,0,0,0,1,1H18a1,1,0,0,0,1-1V6a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-crop-3x2 viewBox="0 0 24 24"> <path d=M18,19H6a3,3,0,0,1-3-3V8A3,3,0,0,1,6,5H18a3,3,0,0,1,3,3v8A3,3,0,0,1,18,19ZM6,7A1,1,0,0,0,5,8v8a1,1,0,0,0,1,1H18a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-crop-4x3 viewBox="0 0 24 24"> <path d=M18,20H6a3,3,0,0,1-3-3V7A3,3,0,0,1,6,4H18a3,3,0,0,1,3,3V17A3,3,0,0,1,18,20ZM6,6A1,1,0,0,0,5,7V17a1,1,0,0,0,1,1H18a1,1,0,0,0,1-1V7a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-crop-16x9 viewBox="0 0 24 24"> <path d=M18,18H6a3,3,0,0,1-3-3V9A3,3,0,0,1,6,6H18a3,3,0,0,1,3,3v6A3,3,0,0,1,18,18ZM6,8A1,1,0,0,0,5,9v6a1,1,0,0,0,1,1H18a1,1,0,0,0,1-1V9a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-crop-landscape viewBox="0 0 24 24"> <path d=M18,19H6a3,3,0,0,1-3-3V8A3,3,0,0,1,6,5H18a3,3,0,0,1,3,3v8A3,3,0,0,1,18,19ZM6,7A1,1,0,0,0,5,8v8a1,1,0,0,0,1,1H18a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-crop-portrait viewBox="0 0 24 24"> <path d=M16,21H8a3,3,0,0,1-3-3V6A3,3,0,0,1,8,3h8a3,3,0,0,1,3,3V18A3,3,0,0,1,16,21ZM8,5A1,1,0,0,0,7,6V18a1,1,0,0,0,1,1h8a1,1,0,0,0,1-1V6a1,1,0,0,0-1-1Z /> </symbol> <symbol id=icon-crop-reset viewBox="0 0 24 24"> <path d=M17,12h0a1,1,0,0,0-1,1v2H14a1,1,0,0,0-1,1h0a1,1,0,0,0,1,1h4V13A1,1,0,0,0,17,12ZM8,9h2a1,1,0,0,0,1-1h0a1,1,0,0,0-1-1H6v4a1,1,0,0,0,1,1H7a1,1,0,0,0,1-1ZM19,3H5A3,3,0,0,0,2,6V18a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V6A3,3,0,0,0,19,3Zm0,16H5a1,1,0,0,1-1-1V6A1,1,0,0,1,5,5H19a1,1,0,0,1,1,1V18A1,1,0,0,1,19,19Z /> </symbol> <symbol id=icon-delete viewBox="0 0 24 24"> <path d=M18,7a1,1,0,0,0-1,1V18a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8A1,1,0,0,0,5,8V18a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8A1,1,0,0,0,18,7Zm2-3H16.83a1.05,1.05,0,0,1-.71-.29l-.83-.83A3,3,0,0,0,13.17,2H10.83a3,3,0,0,0-2.12.88l-.83.83A1.05,1.05,0,0,1,7.17,4H4A1,1,0,0,0,4,6H20a1,1,0,0,0,0-2ZM9,15a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29L12,14.41l1.29,1.3A1,1,0,0,0,14,16a1,1,0,0,0,1-1,1,1,0,0,0-.29-.71L13.41,13l1.3-1.29A1,1,0,0,0,15,11a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L12,11.59l-1.29-1.3A1,1,0,0,0,10,10a1,1,0,0,0-1,1,1,1,0,0,0,.29.71L10.59,13l-1.3,1.29A1,1,0,0,0,9,15Z /> </symbol> <symbol id=icon-discount viewBox="0 0 24 24"> <path d="M15.5 7.5a1 1 0 0 0-.71.29l-7 7a1 1 0 0 0-.29.71 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l7-7a1 1 0 0 0 .29-.71 1 1 0 0 0-1-1zm-1 6.5a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5zm-5-4A1.5 1.5 0 1 0 8 8.5 1.5 1.5 0 0 0 9.5 10zM23 12a1 1 0 0 0-.28-.7l-1.37-1.41a2 2 0 0 1-.57-1.39 2.64 2.64 0 0 1 0-.28l.28-2a.66.66 0 0 0 0-.14 1 1 0 0 0-.83-1l-1.91-.28a2 2 0 0 1-1.42-1L16 2a1 1 0 0 0-.88-.53 1 1 0 0 0-.44.1l-1.77.87a2 2 0 0 1-1.76 0l-1.8-.85a1 1 0 0 0-.44-.1A1 1 0 0 0 8 2l-.9 1.76a2 2 0 0 1-1.42 1l-1.94.34a1 1 0 0 0-.83 1 .66.66 0 0 0 0 .14l.28 2v.29a2 2 0 0 1-.57 1.39L1.28 11.3a1 1 0 0 0 0 1.4l1.37 1.41a2 2 0 0 1 .57 1.39 2.64 2.64 0 0 1 0 .28l-.28 2a.66.66 0 0 0 0 .14 1 1 0 0 0 .83 1l1.94.34a2 2 0 0 1 1.42 1L8 22a1 1 0 0 0 .88.53 1 1 0 0 0 .44-.1l1.77-.87a2 2 0 0 1 1.76 0l1.77.87a1 1 0 0 0 .44.1A1 1 0 0 0 16 22l.93-1.74a2 2 0 0 1 1.42-1l1.94-.34a1 1 0 0 0 .83-1 .66.66 0 0 0 0-.14l-.28-1.95v-.29a2 2 0 0 1 .57-1.39l1.37-1.41A1 1 0 0 0 23 12zm-3.09.72a4 4 0 0 0-1.13 2.78 5.46 5.46 0 0 0 0 .56l.14 1-1 .17a4 4 0 0 0-2.84 2.07l-.47.89-.9-.44a4 4 0 0 0-3.52 0l-.9.44-.47-.89A4 4 0 0 0 6 17.23l-1-.17.14-1a5.46 5.46 0 0 0 0-.56 4 4 0 0 0-1.13-2.78L3.39 12l.7-.72A4 4 0 0 0 5.22 8.5a5.46 5.46 0 0 0 0-.56l-.22-1 1-.17A4 4 0 0 0 8.87 4.7l.47-.89.9.44a4 4 0 0 0 3.52 0l.9-.44.47.89A4 4 0 0 0 18 6.77l1 .17-.14 1a5.46 5.46 0 0 0 0 .56 4 4 0 0 0 1.13 2.78l.7.72z"/> </symbol> <symbol id=icon-done viewBox="0 0 24 24"> <path d="M9 19.42l-5.71-5.71A1 1 0 0 1 3 13a1 1 0 0 1 1-1 1 1 0 0 1 .71.29L9 16.59l10.29-10.3A1 1 0 0 1 20 6a1 1 0 0 1 1 1 1 1 0 0 1-.29.71z"/> </symbol> <symbol id=icon-done-all viewBox="0 0 24 24"> <path d="M22.83 6a1 1 0 0 0-.71.3L11.83 16.59 7.54 12.3a1 1 0 0 0-1.71.7 1 1 0 0 0 .29.71l5.71 5.71L23.54 7.71a1 1 0 0 0 .29-.71 1 1 0 0 0-1-1zm-4.95 1.71a1 1 0 0 0 .29-.71 1 1 0 0 0-1-1 1 1 0 0 0-.71.3l-6 6 1.41 1.42zM1.17 12a1 1 0 0 0-1 1 1 1 0 0 0 .3.71l5.7 5.7L7.59 18l-5.71-5.71a1 1 0 0 0-.71-.29z"/> </symbol> <symbol id=icon-download viewBox="0 0 24 24"> <path d=M20,19H4a1,1,0,0,0,0,2H20a1,1,0,0,0,0-2Zm-8-1.59,4.71-4.7A1,1,0,0,0,17,12a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L13,13.59V4a1,1,0,0,0-2,0v9.59l-2.29-2.3A1,1,0,0,0,8,11a1,1,0,0,0-1,1,1,1,0,0,0,.29.71Z /> </symbol> <symbol id=icon-drag viewBox="0 0 24 24"> <path d="M6 7a2 2 0 102 2 2 2 0 00-2-2zm12 4a2 2 0 10-2-2 2 2 0 002 2zm-6-4a2 2 0 102 2 2 2 0 00-2-2zm6 6a2 2 0 102 2 2 2 0 00-2-2zm-6 0a2 2 0 102 2 2 2 0 00-2-2zm-6 0a2 2 0 102 2 2 2 0 00-2-2z"/> </symbol> <symbol id=icon-edit viewBox="0 0 24 24"> <path d="M13.5 6.09L3 16.59V21h4.41l10.5-10.5zM6.12 19a1.12 1.12 0 0 1-.79-1.91l8.17-8.18 1.59 1.59-8.18 8.17a1.11 1.11 0 0 1-.79.33zM21 6.5a2.2 2.2 0 0 0-.64-1.56l-1.3-1.3a2.22 2.22 0 0 0-3.12 0L14.59 5 19 9.41l1.36-1.35A2.2 2.2 0 0 0 21 6.5z"/> </symbol> <symbol id=icon-expire viewBox="0 0 24 24"> <path d="M18.69 7a1 1 0 0 0 1-1 1 1 0 0 0-.25-.66 1 1 0 0 0-.75-.34 1 1 0 0 0-.67.26 1 1 0 0 0-.34.74 1 1 0 0 0 1.01 1zm.92 2.54a1 1 0 0 0 .95.69.87.87 0 0 0 .31-.05 1 1 0 0 0 .69-.95 1.12 1.12 0 0 0 0-.31 1 1 0 0 0-2 .31 1.12 1.12 0 0 0 .05.29zm-3.95-4.76a1 1 0 0 0 .91-.59 1 1 0 0 0 .09-.41 1 1 0 0 0-.59-.92 1 1 0 0 0-1.32.51 1 1 0 0 0-.09.41 1 1 0 0 0 1 1zm5.28 7.15a1 1 0 0 0-1 1 1 1 0 0 0 .9 1H21a1 1 0 0 0 1-.89v-.09a1 1 0 0 0-1.06-1.02zm-1.15 3.57a1 1 0 0 0-.86.5A8 8 0 1 1 12 4a1 1 0 0 0 0-2C8 2 2 5.07 2 12c0 7.33 6.59 10 10 10 5.6 0 8.79-4.57 8.79-5.5a1 1 0 0 0-1-1zM12 6a1 1 0 0 0-1 1v5a1.09 1.09 0 0 0 .07.35v.07a.92.92 0 0 0 .19.28 1.57 1.57 0 0 0 .19.15l3.46 2a1 1 0 0 0 1-1.74l-3-1.71V7A1 1 0 0 0 12 6z"/> </symbol> <symbol id=icon-clock viewBox="0 0 24 24"> <path d=M20,19H19V16.83a3,3,0,0,0-.88-2.12L15.41,12l2.71-2.71A3,3,0,0,0,19,7.17V5h1a1,1,0,0,0,0-2H4A1,1,0,0,0,4,5H5V7.17a3,3,0,0,0,.88,2.12L8.59,12,5.88,14.71A3,3,0,0,0,5,16.83V19H4a1,1,0,0,0,0,2H20a1,1,0,0,0,0-2Zm-3,0H7V16.83a1,1,0,0,1,.29-.71l3.42-3.41a1,1,0,0,0,0-1.42L7.29,7.88A1,1,0,0,1,7,7.17V5H17V7.17a1,1,0,0,1-.29.71l-3.42,3.41a1,1,0,0,0,0,1.42l3.42,3.41a1,1,0,0,1,.29.71Zm-2.88-2.88a3,3,0,0,0-4.24,0l-1,1a.47.47,0,0,0-.14.35.5.5,0,0,0,.5.5h5.58a.5.5,0,0,0,.5-.5.47.47,0,0,0-.14-.35Zm-.47-7.27a.47.47,0,0,0,.14-.35.5.5,0,0,0-.5-.5H10.71a.5.5,0,0,0-.5.5.47.47,0,0,0,.14.35L12,10.5Z /> </symbol> <symbol id=icon-eye viewBox="0 0 24 24"> <path d="M12 7a1 1 0 0 0 0 2 3 3 0 1 1-2.12 5.12 2.92 2.92 0 0 1-.78-1.34 1 1 0 0 0-2 .25 1.09 1.09 0 0 0 0 .26A5 5 0 1 0 12 7zm-4 3.87a1 1 0 0 0 1.4-.37 2.64 2.64 0 0 1 .48-.62 1 1 0 0 0-1.41-1.42 5.05 5.05 0 0 0-.8 1A1 1 0 0 0 8 10.87zm15.06-.4a18.8 18.8 0 0 0-2.77-3.66A11.62 11.62 0 0 0 12 3a11.62 11.62 0 0 0-8.32 3.81 18.8 18.8 0 0 0-2.77 3.66 3.06 3.06 0 0 0 0 3.06 18.8 18.8 0 0 0 2.77 3.66A11.62 11.62 0 0 0 12 21a11.62 11.62 0 0 0 8.32-3.81 18.8 18.8 0 0 0 2.77-3.66 3.06 3.06 0 0 0 0-3.06zm-1.73 2a16.63 16.63 0 0 1-2.46 3.27A9.68 9.68 0 0 1 12 19a9.68 9.68 0 0 1-6.9-3.22 16.63 16.63 0 0 1-2.46-3.27 1 1 0 0 1 0-1A16.63 16.63 0 0 1 5.1 8.22 9.68 9.68 0 0 1 12 5a9.68 9.68 0 0 1 6.9 3.22 16.63 16.63 0 0 1 2.46 3.27 1 1 0 0 1 0 1z"/> </symbol> <symbol id=icon-faq viewBox="0 0 24 24"> <path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm1 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zm-7-3a1.35 1.35 0 1 0 1.35 1.35A1.34 1.34 0 0 0 12 15zm.05-8.5a3.5 3.5 0 0 0-3.61 3.1.29.29 0 0 0 .28.31h1.59c.26 0 .35-.17.44-.43a1.2 1.2 0 0 1 1.3-.79c.64 0 1.17.23 1.17.88 0 1.1-2.35 1.68-2.35 3.55a.37.37 0 0 0 .35.38h1.59c.17 0 .29-.13.35-.38.33-1.3 2.4-1.67 2.4-3.71 0-1.76-1.65-2.91-3.51-2.91z"/> </symbol> <symbol id=icon-filter viewBox="0 0 24 24"> <path d="M3 18a1 1 0 001 1h5v-2H4a1 1 0 00-1 1zM3 6a1 1 0 001 1h9V5H4a1 1 0 00-1 1zm10 14v-1h7a1 1 0 000-2h-7v-1a1 1 0 00-2 0v4a1 1 0 002 0zM7 10v1H4a1 1 0 000 2h3v1a1 1 0 002 0v-4a1 1 0 00-2 0zm14 2a1 1 0 00-1-1h-9v2h9a1 1 0 001-1zm-5-3a1 1 0 001-1V7h3a1 1 0 000-2h-3V4a1 1 0 00-2 0v4a1 1 0 001 1z"/> </symbol> <symbol id=icon-follow viewBox="0 0 24 24"> <path d=M14,12A4.5,4.5,0,1,0,9.5,7.5,4.51,4.51,0,0,0,14,12Zm0-7a2.5,2.5,0,1,1-2.5,2.5A2.5,2.5,0,0,1,14,5Zm8,15c0-1.07-2-6-8-6s-8,4.94-8,6a1,1,0,0,0,2,.21C8.5,17.77,11,16,14,16s5.5,1.77,6,4.21A1,1,0,0,0,22,20ZM6.24,9.28a1.77,1.77,0,0,0-1.75,1.54A1.76,1.76,0,0,0,2.74,9.28,1.73,1.73,0,0,0,1,11c0,1.36,1.26,2.42,3.08,4.09a.63.63,0,0,0,.84,0C6.73,13.45,8,12.39,8,11A1.73,1.73,0,0,0,6.24,9.28Z /> </symbol> <symbol id=icon-friends viewBox="0 0 24 24"> <path d="M9 12a4.5 4.5 0 1 0-4.5-4.5A4.51 4.51 0 0 0 9 12zm0-7a2.5 2.5 0 1 1-2.5 2.5A2.5 2.5 0 0 1 9 5zm7.5 7a3.5 3.5 0 0 0 0-7c-1.52 0-1.64.78-1.64 1.09a1 1 0 0 0 1 1c.27 0 .32-.09.64-.09a1.5 1.5 0 0 1 0 3c-.68 0-.74-.34-1.26-.34a1 1 0 0 0-1 1c0 1.08 1.61 1.34 2.26 1.34zM9 14a7.09 7.09 0 0 0-7 5.82A1 1 0 0 0 2.82 21 1 1 0 0 0 4 20.18a5.1 5.1 0 0 1 10 0 1 1 0 0 0 1 .82.55.55 0 0 0 .18 0 1 1 0 0 0 .8-1.16A7.09 7.09 0 0 0 9 14zm13 4.79a6.31 6.31 0 0 0-5.27-4.69 1 1 0 1 0-.32 2A4.31 4.31 0 0 1 20 19.21a1 1 0 0 0 1 .79h.21a1 1 0 0 0 .79-1.21z"/> </symbol> <symbol id=icon-fundraising viewBox="0 0 24 24"> <path d="M9.5 5.51a1 1 0 00.71-.29l.79-.79V8.07a2.57 2.57 0 00-2.2 2.26c0 3.13 4.52 2.07 4.52 3.22 0 .53-.52.59-1.41.59a1.47 1.47 0 01-1.16-.57.61.61 0 00-.44-.19H8.92a.24.24 0 00-.22.24c0 1.11 1.12 1.9 2.31 2.21v.82a.29.29 0 00.29.3h1.39a.29.29 0 00.29-.3v-.78c1.28-.23 2.32-1 2.32-2.33s-.92-2.04-2.3-2.34c-1.17-.24-2.06-.33-2.06-.87s.47-.57 1.17-.57a1.36 1.36 0 011 .48.53.53 0 00.39.18H15a.24.24 0 00.23-.25c0-.78-1-1.72-2.23-2v-.1V4.43l.79.79a1 1 0 00.71.29 1 1 0 001-1 1 1 0 00-.29-.71l-2.5-2.5a1 1 0 00-1.42 0l-2.5 2.5a1 1 0 00-.29.71 1 1 0 001 1zM23 12a1 1 0 00-.28-.7l-1.37-1.41a2 2 0 01-.57-1.39 2.64 2.64 0 010-.28l.28-2a.66.66 0 000-.14 1 1 0 00-.83-1l-1.91-.28h-.17a1 1 0 00-1 1 1 1 0 00.82 1l1 .17-.14 1a5.46 5.46 0 000 .56 4 4 0 001.13 2.78l.7.72-.7.72a4 4 0 00-1.13 2.78 5.46 5.46 0 000 .56l.14 1-1 .17a4 4 0 00-2.84 2.07l-.47.89-.9-.44a4 4 0 00-3.52 0l-.9.44-.47-.89A4 4 0 006 17.23l-1-.17.14-1a5.46 5.46 0 000-.56 4 4 0 00-1.13-2.78L3.39 12l.7-.72A4 4 0 005.22 8.5a5.46 5.46 0 000-.56l-.22-1 1-.17a1 1 0 00.82-1 1 1 0 00-1-1h-.17l-1.94.34a1 1 0 00-.83 1 .66.66 0 000 .14l.28 2a2.64 2.64 0 010 .28 2 2 0 01-.57 1.39L1.28 11.3a1 1 0 000 1.4l1.37 1.41a2 2 0 01.57 1.39 2.64 2.64 0 010 .28l-.28 2a.66.66 0 000 .14 1 1 0 00.83 1l1.94.34a2 2 0 011.42 1L8 22a1 1 0 00.88.53 1 1 0 00.44-.1l1.77-.87a2 2 0 011.76 0l1.77.87a1 1 0 00.44.1A1 1 0 0016 22l.93-1.74a2 2 0 011.42-1l1.94-.34a1 1 0 00.83-1 .66.66 0 000-.14l-.28-2a2.64 2.64 0 010-.28 2 2 0 01.57-1.39l1.37-1.41A1 1 0 0023 12z"/> </symbol> <symbol id=icon-funds viewBox="0 0 24 24"> <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm1-8.8c-1.17-.24-2.06-.33-2.06-.87s.47-.57 1.17-.57a1.36 1.36 0 0 1 1 .48.53.53 0 0 0 .39.18H15a.24.24 0 0 0 .23-.25c0-.78-1-1.72-2.23-2V7.3a.29.29 0 0 0-.3-.3h-1.4a.29.29 0 0 0-.29.3v.82a2.57 2.57 0 0 0-2.2 2.26c0 3.13 4.52 2.07 4.52 3.22 0 .53-.52.59-1.41.59a1.47 1.47 0 0 1-1.16-.57.61.61 0 0 0-.44-.19h-1.4a.24.24 0 0 0-.22.24c0 1.11 1.12 1.9 2.31 2.21v.82a.29.29 0 0 0 .29.3h1.39a.29.29 0 0 0 .29-.3v-.78c1.28-.23 2.32-1 2.32-2.33s-.92-2.09-2.3-2.39z"/> </symbol> <symbol id=icon-gif viewBox="0 0 24 24"> <path d=M16,18a1,1,0,1,0,.71.29A1,1,0,0,0,16,18Zm-4,0a1,1,0,1,0,.71.29A1,1,0,0,0,12,18ZM8,18a1,1,0,1,0,.71.29A1,1,0,0,0,8,18ZM20,4H4A3,3,0,0,0,1,7V17a3,3,0,0,0,3,3,1,1,0,0,0,0-2,1,1,0,0,1-1-1V7A1,1,0,0,1,4,6H20a1,1,0,0,1,1,1V17a1,1,0,0,1-1,1,1,1,0,0,0,0,2,3,3,0,0,0,3-3V7A3,3,0,0,0,20,4ZM9.59,8.09H6.2A1.2,1.2,0,0,0,5,9.29v5.42a1.2,1.2,0,0,0,1.2,1.2H9.59a.4.4,0,0,0,.4-.4V11.9a.4.4,0,0,0-.4-.4H8.75a.4.4,0,0,0-.4.4v2.36H6.65V9.73H9.59a.39.39,0,0,0,.4-.39V8.49A.4.4,0,0,0,9.59,8.09Zm3.33,0h-.84a.4.4,0,0,0-.4.4v7a.4.4,0,0,0,.4.4h.84a.4.4,0,0,0,.4-.4v-7A.4.4,0,0,0,12.92,8.09Zm5.91,1.64a.4.4,0,0,0,.41-.39V8.49a.4.4,0,0,0-.41-.4H16.2A1.2,1.2,0,0,0,15,9.29v6.22a.4.4,0,0,0,.4.4h.85a.4.4,0,0,0,.4-.4V13.85H18.1a.4.4,0,0,0,.4-.4v-.84a.4.4,0,0,0-.4-.4H16.65V9.73Z /> </symbol> <symbol id=icon-giphy viewBox="0 0 24 24"> <path d="M16.65 15.51v-2.66h1.45a.4.4 0 00.4-.4v-.84a.4.4 0 00-.4-.4h-1.45V9.73h2.18a.4.4 0 00.41-.39v-.85a.4.4 0 00-.41-.4H16.2a1.2 1.2 0 00-1.2 1.2v6.22a.4.4 0 00.4.4h.85a.4.4 0 00.4-.4zm-3.73-7.42h-.84a.4.4 0 00-.4.4v7a.4.4 0 00.4.4h.84a.4.4 0 00.4-.4v-7a.4.4 0 00-.4-.4zm-3.33 0H6.2A1.2 1.2 0 005 9.29v5.42a1.2 1.2 0 001.2 1.2h3.39a.4.4 0 00.4-.4V11.9a.4.4 0 00-.4-.4h-.84a.4.4 0 00-.4.4v2.36h-1.7V9.73h2.94a.39.39 0 00.4-.39v-.85a.4.4 0 00-.4-.4zM7 19H5a1 1 0 01-1-1v-1a1 1 0 00-2 0v1a3 3 0 003 3h2a1 1 0 000-2zm14-3a1 1 0 00-1 1v1a1 1 0 01-1 1h-2a1 1 0 000 2h2a3 3 0 003-3v-1a1 1 0 00-1-1zM3 8a1 1 0 001-1V6a1 1 0 011-1h2a1 1 0 000-2H5a3 3 0 00-3 3v1a1 1 0 001 1zm16-5h-2a1 1 0 000 2h2a1 1 0 011 1v1a1 1 0 002 0V6a3 3 0 00-3-3z"/> </symbol> <symbol id=icon-google viewBox="0 0 488 512"> <path d="M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"/> </symbol> <symbol id=icon-google-color viewBox="0 0 48 48"> <path fill=#FFC107 d=M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z /><path fill=#FF3D00 d=M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z /><path fill=#4CAF50 d=M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z /><path fill=#1976D2 d=M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z /> </symbol> <symbol id=icon-hearts viewBox="0 0 24 24"> <path d="M17.25 4a4.64 4.64 0 0 0-3.75 1.84A4.64 4.64 0 0 0 9.75 4 4.71 4.71 0 0 0 5 8.76c0 1.19.65 3.76 1.85 3.76a1 1 0 0 0 1-1c0-.65-.85-1.21-.85-2.76A2.73 2.73 0 0 1 9.75 6a2.81 2.81 0 0 1 2.77 2.49 1 1 0 0 0 2 0A2.81 2.81 0 0 1 17.25 6 2.73 2.73 0 0 1 20 8.76c0 2.58-2.91 4.91-6.5 8.21l-.57-.52-.8-.74a1 1 0 0 0-.68-.26 1 1 0 0 0-1 1 1 1 0 0 0 .32.74l.82.74c1.31 1.2 1.41 1.4 1.91 1.4a1 1 0 0 0 .68-.27C18.61 15 22 12.38 22 8.76A4.71 4.71 0 0 0 17.25 4zm-10 10a1.78 1.78 0 0 0-1.75 1.54A1.78 1.78 0 0 0 3.75 14 1.73 1.73 0 0 0 2 15.75c0 1.36 1.26 2.42 3.08 4.09a.63.63 0 0 0 .84 0C7.74 18.17 9 17.11 9 15.75A1.73 1.73 0 0 0 7.25 14z"/> </symbol> <symbol id=icon-highlights viewBox="0 0 24 24"> <path d=M5.31,7a1,1,0,0,0,1-1A1,1,0,0,0,6,5.23,1,1,0,0,0,5.31,5a1,1,0,0,0-.74.34A1,1,0,0,0,4.32,6,1,1,0,0,0,5.31,7Zm3-2.2a1,1,0,0,0,1-1,1,1,0,0,0-.09-.41,1,1,0,0,0-1.32-.51,1,1,0,0,0-.59.92,1,1,0,0,0,.09.41A1,1,0,0,0,8.34,4.78ZM4.05,12.92a1,1,0,1,0-2,0V13h0a1,1,0,0,0,1,.89h.1A1,1,0,0,0,4.05,12.92ZM12,2a1,1,0,0,0,0,2A8,8,0,1,1,5.07,16a1,1,0,0,0-.86-.5,1,1,0,0,0-1,1C3.21,17.43,6.4,22,12,22c3.41,0,10-2.67,10-10C22,5.07,16,2,12,2ZM3.13,10.16a.87.87,0,0,0,.31.05,1,1,0,0,0,.95-.69,1.12,1.12,0,0,0,.05-.31A1,1,0,0,0,2.49,8.9a1.12,1.12,0,0,0-.05.31A1,1,0,0,0,3.13,10.16Zm4.7.39c0,1.74,1.59,2.95,3.89,5.09a.41.41,0,0,0,.56,0c2.3-2.14,3.89-3.35,3.89-5.09A2.29,2.29,0,0,0,12,9.23a2.25,2.25,0,0,0-1.87-1A2.28,2.28,0,0,0,7.83,10.55Z /> </symbol> <symbol id=icon-info viewBox="0 0 24 24"> <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm1-5h-.18a.18.18 0 0 1-.18-.18l.67-2.71a.76.76 0 0 0 0-.21.87.87 0 0 0-.87-.86h-1.09a1 1 0 0 0-1 1 1 1 0 0 0 .57.9.21.21 0 0 1 .12.19.09.09 0 0 1 0 .05l-.59 2.38a1.36 1.36 0 0 0 0 .29A1.2 1.2 0 0 0 11.6 17h1.06a1.19 1.19 0 0 0 1.19-1.19A.81.81 0 0 0 13 15zm-.5-8a1.35 1.35 0 1 0 1.35 1.35A1.34 1.34 0 0 0 12.5 7z"/> </symbol> <symbol id=icon-kick viewBox="0 0 24 24"> <path d=M11.83,9,15,12.16V12a3,3,0,0,0-3-3h-.17m-4.3.8,1.55,1.55A2.75,2.75,0,0,0,9,12a3,3,0,0,0,3,3,2.82,2.82,0,0,0,.65-.08l1.55,1.55A5,5,0,0,1,7.53,9.8M2,4.27,4.28,6.55,4.73,7A11.83,11.83,0,0,0,1,12a11.82,11.82,0,0,0,15.38,6.66l.43.42L19.73,22,21,20.73,3.27,3M12,7a5,5,0,0,1,5,5,4.8,4.8,0,0,1-.36,1.82l2.93,2.93A11.84,11.84,0,0,0,23,12,11.81,11.81,0,0,0,8,5.2l2.17,2.15A5,5,0,0,1,12,7Z /> </symbol> <symbol id=icon-language viewBox="0 0 24 24"> <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"/> </symbol> <symbol id=icon-like viewBox="0 0 24 24"> <path d=M12,22a1,1,0,0,1-.71-.29C5.87,16.29,2,13.06,2,9A5.89,5.89,0,0,1,7.75,3,5.66,5.66,0,0,1,12,5.2,5.66,5.66,0,0,1,16.25,3,5.89,5.89,0,0,1,22,9c0,4-3.75,7.17-9.29,12.71A1,1,0,0,1,12,22ZM7.75,5A3.88,3.88,0,0,0,4,9c0,3.12,3.81,6.44,8,10.59,4.09-4.06,8-7.47,8-10.59a3.88,3.88,0,0,0-3.75-4A3.8,3.8,0,0,0,13,7.56a1,1,0,0,1-1.9,0A3.8,3.8,0,0,0,7.75,5Z /> </symbol> <symbol id=icon-liked viewBox="0 0 24 24"> <path d=M12,22a1,1,0,0,1-.71-.29C5.88,16.3,2,13.06,2,9A5.89,5.89,0,0,1,7.75,3,5.66,5.66,0,0,1,12,5.2,5.66,5.66,0,0,1,16.25,3,5.89,5.89,0,0,1,22,9c0,4-3.78,7.21-9.29,12.71A1,1,0,0,1,12,22Z /> </symbol> <symbol id=icon-link viewBox="0 0 24 24"> <path d="M13.59 15.42a1 1 0 0 0-.71.29l-2.34 2.34a3.26 3.26 0 0 1-4.59 0 3.32 3.32 0 0 1-1-2.3 3.24 3.24 0 0 1 1-2.3l2.34-2.34a1 1 0 0 0 .29-.71 1 1 0 0 0-1-1 1 1 0 0 0-.71.29l-2.34 2.36A5.23 5.23 0 0 0 8.24 21 5.29 5.29 0 0 0 12 19.47l2.34-2.34a1 1 0 0 0 .29-.71 1 1 0 0 0-1.04-1zm5.87-10.89A5.21 5.21 0 0 0 15.76 3 5.29 5.29 0 0 0 12 4.53L9.7 6.87a1 1 0 0 0-.29.71 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29L13.46 6a3.26 3.26 0 0 1 4.59 0A3.32 3.32 0 0 1 19 8.24a3.24 3.24 0 0 1-.95 2.3l-2.34 2.34a1 1 0 0 0-.29.71 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l2.34-2.3a5.25 5.25 0 0 0 0-7.42zm-5.21 4.22a1 1 0 0 0-.71.29L9 13.54a1 1 0 0 0-.29.71 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l4.5-4.5a1 1 0 0 0 .29-.71 1 1 0 0 0-.96-1z"/> </symbol> <symbol id=icon-list viewBox="0 0 24 24"> <path d=M15,11H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm0-3H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm0,6H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2ZM18,3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V6A3,3,0,0,0,18,3Zm1,15a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1Z /> </symbol> <symbol id=icon-list-add viewBox="0 0 24 24"> <path d="M22.32 9.31a1 1 0 00-.93-1l-6.17-.41-2.29-5.74a1 1 0 00-1.86 0L8.78 7.9l-6.17.41a1 1 0 00-.93 1 1 1 0 00.36.77L6.79 14l-1.52 6a1 1 0 001 1.24 1 1 0 00.53-.15l5.2-3.27 5.23 3.29a1 1 0 00.53.15 1 1 0 001-1 1 1 0 000-.24l-1.52-6L22 10.08a1 1 0 00.32-.77zm-6.87 3.59a1 1 0 00-.33 1l1.06 4.17-3.65-2.29a1 1 0 00-1.06 0l-3.65 2.3 1.06-4.17a1 1 0 00-.33-1l-3.31-2.77 4.3-.29a1 1 0 00.86-.62l1.6-4 1.6 4a1 1 0 00.86.62l4.3.29z"/> </symbol> <symbol id=icon-list-added viewBox="0 0 24 24"> <path d="M22.32 9.31a1 1 0 00-.93-1l-6.17-.41-2.29-5.74a1 1 0 00-1.86 0L8.78 7.9l-6.17.41a1 1 0 00-.93 1 1 1 0 00.36.77L6.79 14l-1.52 6a1 1 0 001 1.24 1 1 0 00.53-.15l5.2-3.27 5.23 3.29a1 1 0 00.53.15 1 1 0 001-1 1 1 0 000-.24l-1.52-6L22 10.08a1 1 0 00.32-.77z"/> </symbol> <symbol id=icon-lists viewBox="0 0 24 24"> <path d="M6.69 5H5.24L4.8 3.64a.31.31 0 00-.6 0L3.76 5H2.31a.31.31 0 00-.18.56l1.17.85-.45 1.39a.28.28 0 000 .09.31.31 0 00.31.32.3.3 0 00.18-.06L4.5 7.3l1.17.85a.3.3 0 00.18.06.31.31 0 00.31-.32.28.28 0 000-.09L5.7 6.42l1.17-.85A.31.31 0 006.69 5zm0 6H5.24L4.8 9.64a.31.31 0 00-.6 0L3.76 11H2.31a.31.31 0 00-.18.56l1.17.85-.45 1.39a.28.28 0 000 .09.31.31 0 00.31.32.3.3 0 00.18-.06l1.16-.85 1.17.85a.3.3 0 00.18.06.31.31 0 00.31-.32.28.28 0 000-.09l-.46-1.38 1.17-.85a.31.31 0 00-.18-.57zm0 6H5.24l-.44-1.36a.31.31 0 00-.6 0L3.76 17H2.31a.31.31 0 00-.18.56l1.17.85-.45 1.39a.28.28 0 000 .09.31.31 0 00.31.32.3.3 0 00.18-.06l1.16-.85 1.17.85a.3.3 0 00.18.06.31.31 0 00.31-.32.28.28 0 000-.09l-.46-1.38 1.17-.85a.31.31 0 00-.18-.57zM10 7h10a1 1 0 000-2H10a1 1 0 000 2zm10 4H10a1 1 0 000 2h10a1 1 0 000-2zm0 6H10a1 1 0 000 2h10a1 1 0 000-2z"/> </symbol> <symbol id=icon-live viewBox="0 0 24 24"> <path d="M12 9a3 3 0 1 0 3 3 3 3 0 0 0-3-3zm0 4.1a1.1 1.1 0 1 1 1.1-1.1 1.1 1.1 0 0 1-1.1 1.1zM8.76 7.76a1 1 0 0 0-1-1C7 6.76 5 8.88 5 12s2.05 5.24 2.76 5.24a1 1 0 0 0 1-1C8.76 15.27 7 14.78 7 12s1.76-3.26 1.76-4.24zm7.48-1a1 1 0 0 0-1 1c0 1 1.76 1.46 1.76 4.24s-1.76 3.26-1.76 4.24a1 1 0 0 0 1 1C17 17.24 19 15.12 19 12s-2-5.24-2.76-5.24zM3 12c0-4.57 2.93-6.12 2.93-7.07a1 1 0 0 0-1-1C4 3.93 1 7.39 1 12s3 8.07 3.93 8.07a1 1 0 0 0 1-1C5.93 18.15 3 16.55 3 12zm20 0c0-4.61-3-8.07-3.93-8.07a1 1 0 0 0-1 1C18.07 5.85 21 7.45 21 12s-2.93 6.12-2.93 7.07a1 1 0 0 0 1 1C20 20.07 23 16.61 23 12z"/> </symbol> <symbol id=icon-loading viewBox="0 0 24 24"> <path d="M12 .9a2.12 2.12 0 1 0 1.48.62A2.09 2.09 0 0 0 12 .9zM5.64 3.69A1.95 1.95 0 1 0 7 4.26a1.95 1.95 0 0 0-1.36-.57zM4.79 12a1.75 1.75 0 0 0-.53-1.26 1.76 1.76 0 0 0-2.52 0 1.76 1.76 0 0 0 0 2.52 1.76 1.76 0 0 0 2.52 0A1.75 1.75 0 0 0 4.79 12zm.85 4.74a1.67 1.67 0 0 0-1.16.47A1.64 1.64 0 0 0 4 18.36 1.61 1.61 0 0 0 5.64 20a1.64 1.64 0 0 0 1.15-.47 1.67 1.67 0 0 0 .47-1.16 1.6 1.6 0 0 0-1.62-1.62zM12 19.53a1.47 1.47 0 1 0 1 .47 1.45 1.45 0 0 0-1-.47zm6.36-2.48a1.3 1.3 0 0 0-1.31 1.31 1.31 1.31 0 0 0 1.31 1.32 1.33 1.33 0 0 0 1.32-1.32 1.31 1.31 0 0 0-1.32-1.31zm3.46-5.87a1.16 1.16 0 1 0 .34.82 1.16 1.16 0 0 0-.34-.82zm-3.46-4.54a1 1 0 0 0 .71-.3 1 1 0 0 0-1.41-1.41 1 1 0 0 0 .7 1.71z"/> </symbol> <symbol id=icon-location viewBox="0 0 24 24"> <path d="M12 2a7 7 0 0 0-7 7c0 3.26 2.05 7.45 6.08 12.45l.14.17a1 1 0 0 0 1.56 0l.14-.17C17 16.45 19 12.26 19 9a7 7 0 0 0-7-7zm0 17.39C7.89 14.09 7 10.83 7 9a5 5 0 0 1 10 0c0 1.83-.89 5.09-5 10.39zM12 6.8A2.2 2.2 0 1 0 14.2 9 2.19 2.19 0 0 0 12 6.8z"/> </symbol> <symbol id=icon-locked viewBox="0 0 24 24"> <path d=M17.5,8H17V6A5,5,0,0,0,7,6V8H6.5A2.5,2.5,0,0,0,4,10.5V18a4,4,0,0,0,4,4h8a4,4,0,0,0,4-4V10.5A2.5,2.5,0,0,0,17.5,8ZM9,6a3,3,0,0,1,6,0V8H9Zm9,12a2,2,0,0,1-2,2H8a2,2,0,0,1-2-2V10.5a.5.5,0,0,1,.5-.5h11a.5.5,0,0,1,.5.5Zm-6-5a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V14A1,1,0,0,0,12,13Z /> </symbol> <symbol id=icon-logout viewBox="0 0 24 24"> <path d="M18 3H6a3 3 0 0 0-3 3v1a1 1 0 0 0 2 0V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-1a1 1 0 0 0-2 0v1a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm-8 5a1 1 0 0 0-1-1 1 1 0 0 0-.71.29l-4 4a1 1 0 0 0 0 1.42l4 4A1 1 0 0 0 9 17a1 1 0 0 0 1-1 1 1 0 0 0-.29-.71L7.41 13H16a1 1 0 0 0 0-2H7.41l2.3-2.29A1 1 0 0 0 10 8z"/> </symbol> <symbol id=icon-media viewBox="0 0 24 24"> <path d="M18 3H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3zm0 16H6a1 1 0 0 1-.93-.66l3.43-3.43L9.59 16l-.3.29A1 1 0 0 0 9 17a1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l3.79-3.8 4.43 4.43A1 1 0 0 1 18 19zm1-3.41l-3.79-3.8a1 1 0 0 0-1.42 0L11 14.59l-1.79-1.8a1 1 0 0 0-1.42 0L5 15.59V6a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1zM8.5 7A1.5 1.5 0 1 0 10 8.5 1.5 1.5 0 0 0 8.5 7z"/> </symbol> <symbol id=icon-message viewBox="0 0 24 24"> <path d=M17,3H7A4,4,0,0,0,3,7V22a1,1,0,0,0,.77,1A.91.91,0,0,0,4,23a1,1,0,0,0,.89-.55A2.61,2.61,0,0,1,7.24,21H17a4,4,0,0,0,4-4V7A4,4,0,0,0,17,3Zm2,14a2,2,0,0,1-2,2H7.24A4.6,4.6,0,0,0,5,19.57V7A2,2,0,0,1,7,5H17a2,2,0,0,1,2,2ZM15,9H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm-3,4H9a1,1,0,0,0,0,2h3a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-message-new viewBox="0 0 24 24"> <path d=M17,3H7A4,4,0,0,0,3,7V22a1,1,0,0,0,.77,1A.91.91,0,0,0,4,23a1,1,0,0,0,.89-.55A2.61,2.61,0,0,1,7.24,21H17a4,4,0,0,0,4-4V7A4,4,0,0,0,17,3Zm2,14a2,2,0,0,1-2,2H7.24A4.6,4.6,0,0,0,5,19.57V7A2,2,0,0,1,7,5H17a2,2,0,0,1,2,2Zm-4-6H13V9a1,1,0,0,0-2,0v2H9a1,1,0,0,0,0,2h2v2a1,1,0,0,0,2,0V13h2a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-messages-sm viewBox="0 0 24 24"> <path d=M19,4H5A3,3,0,0,0,2,7V17a3,3,0,0,0,3,3h.36a.64.64,0,0,1,.64.64v1.72a1,1,0,0,0,1,1,1,1,0,0,0,.56-.17L10.86,21A5.5,5.5,0,0,1,14,20h5a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4Zm0,14H14a7.52,7.52,0,0,0-4.24,1.3L8,20.48A2.64,2.64,0,0,0,5.36,18H5a1,1,0,0,1-1-1V7A1,1,0,0,1,5,6H18.47a.71.71,0,0,1,.71.71.69.69,0,0,1-.31.58L12,12,6.83,8.42a1,1,0,0,0-.56-.17,1,1,0,0,0-.57,1.82L11.43,14a1.06,1.06,0,0,0,.57.17,1,1,0,0,0,.56-.17L20,9h0V17A1,1,0,0,1,19,18Z /> </symbol> <symbol id=icon-minus viewBox="0 0 24 24"> <path d="M17 13H7a1 1 0 010-2h10a1 1 0 010 2z"/> </symbol> <symbol id=icon-more viewBox="0 0 24 24"> <path d="M6 10a2 2 0 1 0 2 2 2 2 0 0 0-2-2zm12 0a2 2 0 1 0 2 2 2 2 0 0 0-2-2zm-6 0a2 2 0 1 0 2 2 2 2 0 0 0-2-2z"/> </symbol> <symbol id=icon-more-v viewBox="0 0 24 24"> <path d=M8,6A2,2,0,1,0,6,8,2,2,0,0,0,8,6ZM8,18a2,2,0,1,0-2,2A2,2,0,0,0,8,18Zm0-6a2,2,0,1,0-2,2A2,2,0,0,0,8,12Z /> </symbol> <symbol id=icon-mute viewBox="0 0 24 24"> <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM4 12a8 8 0 0 1 8-8 7.92 7.92 0 0 1 4.9 1.69L5.69 16.9A7.92 7.92 0 0 1 4 12zm8 8a7.92 7.92 0 0 1-4.9-1.69L18.31 7.1A7.92 7.92 0 0 1 20 12a8 8 0 0 1-8 8z"/> </symbol> <symbol id=icon-notification viewBox="0 0 24 24"> <path d="M9.18 20a3 3 0 0 0 5.64 0zM19 14.76V11a7 7 0 0 0-5-6.71V4a2 2 0 0 0-4 0v.29A7 7 0 0 0 5 11v3.76c0 2.35-2 2-2 3.24a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1c0-1.25-2-.9-2-3.24zM6.43 17A4.6 4.6 0 0 0 7 14.76V11a5 5 0 0 1 10 0v3.76a4.6 4.6 0 0 0 .57 2.24z"/> </symbol> <symbol id=icon-of-instagram viewBox="0 0 24 24"> <path d="M7.8 2h8.4A5.8 5.8 0 0 1 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8A5.8 5.8 0 0 1 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8A3.6 3.6 0 0 0 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6A3.6 3.6 0 0 0 16.4 4H7.6m9.65 1.5A1.25 1.25 0 1 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 1 1-5 5 5 5 0 0 1 5-5m0 2a3 3 0 1 0 3 3 3 3 0 0 0-3-3z"/> </symbol> <symbol id=icon-of-menu viewBox="0 0 24 24"> <path d="M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"/> </symbol> <symbol id=icon-of-twitter viewBox="0 0 24 24"> <path d="M22.46 6a8.57 8.57 0 0 1-2.46.69 4.3 4.3 0 0 0 1.88-2.38 8.64 8.64 0 0 1-2.72 1.05A4.22 4.22 0 0 0 16 4a4.28 4.28 0 0 0-4.27 4.29 4.46 4.46 0 0 0 .11 1A12.19 12.19 0 0 1 3 4.79a4.27 4.27 0 0 0 1.33 5.71 4.24 4.24 0 0 1-1.95-.5 4.29 4.29 0 0 0 3.44 4.21 4.21 4.21 0 0 1-1.93.07 4.28 4.28 0 0 0 4 3 8.52 8.52 0 0 1-5.33 1.84 8.72 8.72 0 0 1-1-.06A12.14 12.14 0 0 0 8.12 21 12.14 12.14 0 0 0 20.33 8.79v-.56A8.57 8.57 0 0 0 22.46 6z"/> </symbol> <symbol id=icon-opacity-max viewBox="0 0 24 24"> <path d=M12.72,2.31a1,1,0,0,0-1.44,0C8.28,5.44,4,9.41,4,14a8,8,0,0,0,16,0C20,9.42,15.68,5.4,12.72,2.31ZM11.9,4.54l.1-.1.07.07c2.12,2.18,4.65,4.8,5.57,7.49H6.36C7.27,9.31,9.79,6.71,11.9,4.54Z /> </symbol> <symbol id=icon-opacity-min viewBox="0 0 24 24"> <path d=M12.72,2.31a1,1,0,0,0-1.44,0C8.28,5.44,4,9.41,4,14a8,8,0,0,0,16,0C20,9.42,15.68,5.4,12.72,2.31ZM11.9,4.54l.1-.1.07.07C14.71,7.23,18,10.62,18,14a6,6,0,0,1-1.54,4H7.54A6,6,0,0,1,6,14C6,10.62,9.27,7.25,11.9,4.54Z /> </symbol> <symbol id=icon-orientation viewBox="0 0 24 24"> <path d="M6.53 18.64a8.49 8.49 0 0 1-1.19-1 8 8 0 0 1-2.25-4.49 1 1 0 0 0-1-.85H2a1 1 0 0 0-.85 1 .66.66 0 0 0 0 .14A10 10 0 0 0 11 22a9.66 9.66 0 0 0 1.62-.14L8 17.21zm16.21-3.07a3 3 0 0 0-.88-2.12l-.95-1A3.89 3.89 0 0 1 19 13h-.41l1.86 1.86a1 1 0 0 1 .29.71 1 1 0 0 1-.29.71l-3.17 3.17a1 1 0 0 1-1.42 0L4.55 8.14a1 1 0 0 1-.29-.71 1 1 0 0 1 .29-.71l.54-.54A1.46 1.46 0 0 0 6 6.5 1.5 1.5 0 0 0 7.5 5a1.46 1.46 0 0 0-.32-.91l.54-.54a1 1 0 0 1 1.42 0l1.91 1.92a3 3 0 0 1 1.06-1.78l-1.56-1.55a3.07 3.07 0 0 0-4.24 0L3.13 5.31a3 3 0 0 0-.87 2.12 3 3 0 0 0 .88 2.12l11.31 11.31a3 3 0 0 0 4.24 0l3.17-3.17a3 3 0 0 0 .88-2.12zM15 11h4a2 2 0 0 0 2-2V6a1 1 0 0 0-1-1V4a3 3 0 0 0-6 0v1a1 1 0 0 0-1 1v3a2 2 0 0 0 2 2zm1-7a1 1 0 0 1 2 0v1h-2z"/> </symbol> <symbol id=icon-overlay viewBox="0 0 24 24"> <path d=M20.42,4.59a1,1,0,0,0-.3-.71,1,1,0,0,0-.71-.3,1,1,0,0,0-.71.3L3.88,18.7a1,1,0,0,0,0,1.42,1,1,0,0,0,.71.3,1,1,0,0,0,.71-.3L20.12,5.3A1,1,0,0,0,20.42,4.59ZM21,11.41a1,1,0,0,0-1-1,1,1,0,0,0-.7.29l-8.6,8.6a1,1,0,0,0-.29.7,1,1,0,0,0,1.7.71l8.6-8.6A1,1,0,0,0,21,11.41ZM4,13.59a1,1,0,0,0,.7-.29l8.6-8.6a1,1,0,0,0,.29-.7,1,1,0,0,0-1.7-.71l-8.6,8.6a1,1,0,0,0-.29.7A1,1,0,0,0,4,13.59ZM3.65,6.65a.66.66,0,0,0,.47-.19L6.46,4.12a.66.66,0,0,0,.19-.47A.65.65,0,0,0,6,3,3,3,0,0,0,3,6,.66.66,0,0,0,3.65,6.65Zm16.7,10.7a.66.66,0,0,0-.47.19l-2.34,2.34a.66.66,0,0,0-.19.47A.65.65,0,0,0,18,21a3,3,0,0,0,3-3A.66.66,0,0,0,20.35,17.35Z /> </symbol> <symbol id=icon-overlay-reset viewBox="0 0 24 24"> <path d=M16.62,16.2h0l-1.41-1.41L12.92,12.5,11.5,11.08,2.71,2.29A1,1,0,0,0,1.29,3.71L6.38,8.8,3.29,11.89a1,1,0,0,0-.29.7,1,1,0,0,0,1,1,1,1,0,0,0,.7-.29l3.09-3.09,2.29,2.29-6.2,6.2a1,1,0,0,0,0,1.42,1,1,0,0,0,.71.3,1,1,0,0,0,.71-.3l6.2-6.2,2.29,2.29L10.7,19.3a1,1,0,0,0-.29.7,1,1,0,0,0,1.7.71l3.09-3.09,4.09,4.09a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Zm2.68-5.5-2.68,2.68L18,14.79l2.68-2.68a1,1,0,0,0,.29-.7,1,1,0,0,0-1-1A1,1,0,0,0,19.3,10.7Zm-5,.39L20.12,5.3a1,1,0,0,0,0-1.42,1,1,0,0,0-.71-.3,1,1,0,0,0-.71.3L12.91,9.67Zm-1-6.39a1,1,0,0,0,.29-.7,1,1,0,0,0-1.7-.71L9.21,6l1.41,1.41Z /> </symbol> <symbol id=icon-payments viewBox="0 0 24 24"> <path d="M21 5h-4V4a3 3 0 0 0-3-3h-4a3 3 0 0 0-3 3v1H3a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a1 1 0 0 0-1-1zM9 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1H9zm11 13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7h3v2a1 1 0 0 0 2 0V7h6v2a1 1 0 0 0 2 0V7h3z"/> </symbol> <symbol id=icon-pause viewBox="0 0 24 24"> <rect width=4 height=14 x=6 y=5 rx=1 /><rect width=4 height=14 x=14 y=5 rx=1 /> </symbol> <symbol id=icon-pin viewBox="0 0 24 24"> <path d="M21 10.66a1 1 0 0 0-.29-.7L14 3.29a1 1 0 0 0-.67-.29c-1.33 0-.65 1.57-2.86 3.78l-.35.35A8.57 8.57 0 0 1 4 9.67a1 1 0 0 0-1 1 1 1 0 0 0 .29.69l4 4-4 4A.95.95 0 0 0 4 21a1 1 0 0 0 .7-.29l4-4 4 4a1 1 0 0 0 .7.29 1 1 0 0 0 1-1 8.57 8.57 0 0 1 2.6-6.12l.35-.35C19.44 11.3 21 12 21 10.66zm-5.2 1.46l-.34.34a10.56 10.56 0 0 0-2.9 5.35l-3.18-3.18-3.19-3.19a10.66 10.66 0 0 0 5.35-2.89l.34-.35a10 10 0 0 0 1.79-2.45l4.58 4.58a10 10 0 0 0-2.45 1.79z"/> </symbol> <symbol id=icon-play viewBox="0 0 24 24"> <path d="M8.52 5.14a.52.52 0 0 0-.52.52v12.68a.52.52 0 0 0 .52.52.57.57 0 0 0 .28-.08l10-6.34a.52.52 0 0 0 0-.88l-10-6.34a.57.57 0 0 0-.28-.08z"/> </symbol> <symbol id=icon-plus viewBox="0 0 24 24"> <path d="M17 13h-4v4a1 1 0 01-2 0v-4H7a1 1 0 010-2h4V7a1 1 0 012 0v4h4a1 1 0 010 2z"/> </symbol> <symbol id=icon-poll viewBox="0 0 24 24"> <path d="M20 9h-4V7a2 2 0 0 0-2-2H5V4a1 1 0 0 0-2 0v16a1 1 0 0 0 2 0v-1h5a2 2 0 0 0 2-2v-2h8a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2zm-6-2v2H5V7zm-4 10H5v-2h5zm-5-4v-2h15v2z"/> </symbol> <symbol id=icon-post viewBox="0 0 24 24"> <path d="M21.72 7.46c0-.18-.18-5.46-1.89-5.46C9.55 2 5.07 4 5.07 12.21v1.38C4 11.35 4.5 10.27 3.3 10.27a1 1 0 0 0-1 1 12.26 12.26 0 0 0 2.86 6A22.1 22.1 0 0 0 3.87 22a1 1 0 0 0 1 1c1.21 0 .78-1.07 1.9-4.3a10.69 10.69 0 0 0 4.88 1c2.36 0 6.88-.93 6.88-2.44a1 1 0 0 0-1-1c-.65 0-2.12 1.44-5.81 1.44a8.52 8.52 0 0 1-4.22-.92C11 8.66 15.36 7.6 15.36 6.19a1 1 0 0 0-1-1c-.95 0-4.85 3.71-7.26 8v-.93c0-6.14 2.43-8.12 12-8.22a11.07 11.07 0 0 1 .57 3.46c0 7.61-7.28 7.24-7.44 7.31a1 1 0 1 0 .06 2c.76-.04 9.43-.16 9.43-9.35z"/> </symbol> <symbol id=icon-post2 viewBox="0 0 24 24"> <path d=M18,3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V6A3,3,0,0,0,18,3Zm1,15a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1ZM15,9H9a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Zm-3,4H9a1,1,0,0,0,0,2h3a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-price viewBox="0 0 24 24"> <path d="M22 13a3.38 3.38 0 0 0-1-2.4l-7.41-7.43A4.06 4.06 0 0 0 10.76 2H5a3 3 0 0 0-3 3v5.76a4 4 0 0 0 1.17 2.83L10.6 21a3.4 3.4 0 0 0 4.8 0l5.6-5.6a3.38 3.38 0 0 0 1-2.4zm-2.4 1L14 19.6a1.45 1.45 0 0 1-2 0l-7.41-7.43A2 2 0 0 1 4 10.76V5a1 1 0 0 1 1-1h5.76a2 2 0 0 1 1.41.59L19.6 12a1.4 1.4 0 0 1 0 2zM7.7 6a1.7 1.7 0 1 0 1.7 1.7A1.7 1.7 0 0 0 7.7 6zm6.16 6.28c-1-.22-1.85-.3-1.85-.78s.43-.51 1.06-.51a1.2 1.2 0 0 1 .92.43.48.48 0 0 0 .35.16h1.35a.23.23 0 0 0 .21-.22c0-.71-.86-1.55-2-1.84v-.75a.27.27 0 0 0-.26-.27h-1.27a.27.27 0 0 0-.26.27v.74a2.31 2.31 0 0 0-2 2c0 2.81 4.07 1.85 4.07 2.89 0 .48-.47.53-1.27.53a1.3 1.3 0 0 1-1-.52.66.66 0 0 0-.4-.17h-1.28a.23.23 0 0 0-.2.22c0 1 1 1.72 2.08 2v.74a.27.27 0 0 0 .26.27h1.25a.26.26 0 0 0 .26-.27v-.71A2.18 2.18 0 0 0 16 14.43c0-1.2-.86-1.88-2.14-2.15z"/> </symbol> <symbol id=icon-price-free viewBox="0 0 24 24"> <path d="M21 10.6l-1.67-1.69-1.42 1.42L19.6 12a1.4 1.4 0 010 2L14 19.6a1.45 1.45 0 01-2 0l-1.68-1.69-1.41 1.42L10.6 21a3.4 3.4 0 004.8 0l5.6-5.6a3.4 3.4 0 000-4.8zM7.7 6a1.7 1.7 0 101.7 1.7A1.7 1.7 0 007.7 6zM22 3a1 1 0 00-1-1 1 1 0 00-.71.29l-3.79 3.8-2.91-2.92A4.06 4.06 0 0010.76 2H5a3 3 0 00-3 3v5.76a4 4 0 001.17 2.83l2.92 2.91-3.8 3.79A1 1 0 002 21a1 1 0 001 1 1 1 0 00.71-.29l18-18A1 1 0 0022 3zM7.5 15.09l-2.91-2.92A2 2 0 014 10.76V5a1 1 0 011-1h5.76a2 2 0 011.41.59l2.92 2.91z"/> </symbol> <symbol id=icon-price-update viewBox="0 0 24 24"> <path d="M22 13a3.44 3.44 0 0 0-1-2.42l-7.41-7.41A4.06 4.06 0 0 0 10.76 2H5a3 3 0 0 0-3 3v5.76a4.06 4.06 0 0 0 1.17 2.83l1.21 1.21a1 1 0 0 0 .71.29 1 1 0 0 0 1-1 1 1 0 0 0-.29-.71l-1.21-1.21A2 2 0 0 1 4 10.76V5a1 1 0 0 1 1-1h5.76a2 2 0 0 1 1.41.59L19.58 12a1.4 1.4 0 0 1 0 2l-.79.79a1 1 0 0 0-.29.71 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l.79-.79A3.44 3.44 0 0 0 22 13zM9.4 7.7a1.7 1.7 0 1 0-1.7 1.7 1.7 1.7 0 0 0 1.7-1.7zm7.1 9.3h-3.89a.61.61 0 0 0-.61.61.59.59 0 0 0 .18.42l1.47 1.47A3 3 0 0 1 12 20a3 3 0 0 1 0-6c1.95 0 2 1.34 3 1.34a1 1 0 0 0 1-1c0-.94-2-2.35-4-2.35a5 5 0 1 0 3.08 8.94l.89.88a.59.59 0 0 0 .42.18.61.61 0 0 0 .61-.61V17.5a.5.5 0 0 0-.5-.5z"/> </symbol> <symbol id=icon-profile viewBox="0 0 24 24"> <path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0-8a3 3 0 1 1-3 3 3 3 0 0 1 3-3zm9 17c0-2.27-3.2-7-9-7s-9 4.74-9 7a1 1 0 0 0 2 .2 7 7 0 0 1 7-5.2 7 7 0 0 1 7 5.2 1 1 0 0 0 2-.2z"/> </symbol> <symbol id=icon-referrals viewBox="0 0 24 24"> <path d="M9 12a4.5 4.5 0 1 0-4.5-4.5A4.51 4.51 0 0 0 9 12zm0-7a2.5 2.5 0 1 1-2.5 2.5A2.5 2.5 0 0 1 9 5zm5.36 13.09a1 1 0 0 0 1-1c0-.8-2.59-3.1-6.37-3.1-6.06 0-8 4.94-8 6a1 1 0 0 0 2 .21C3.5 17.77 6 16 9 16c3.6 0 4.39 2.09 5.36 2.09zM23 12a1 1 0 0 0-.29-.71l-3-3a1 1 0 0 0-1.42 0l-3 3A1 1 0 0 0 15 12a1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l1.29-1.3V16a4 4 0 0 1-4 4h-1a1 1 0 0 0 0 2h1a6 6 0 0 0 6-6v-4.59l1.29 1.3A1 1 0 0 0 22 13a1 1 0 0 0 1-1z"/> </symbol> <symbol id=icon-renew viewBox="0 0 24 24"> <path d="M19 4a1 1 0 0 0-1 1v1.7A7.94 7.94 0 0 0 12 4a7.58 7.58 0 0 0-7.33 5 1 1 0 0 0 1 1 1 1 0 0 0 .9-.57A6 6 0 0 1 16.48 8H15a1 1 0 0 0 0 2h5V5a1 1 0 0 0-1-1zm.33 11a1 1 0 0 0-1-1 1 1 0 0 0-.9.57A6 6 0 0 1 7.52 16H9a1 1 0 0 0 0-2H4v5a1 1 0 0 0 2 0v-1.7a7.94 7.94 0 0 0 6 2.7 7.58 7.58 0 0 0 7.33-5z"/> </symbol> <symbol id=icon-rotate-left viewBox="0 0 24 24"> <path d=M7,8.76a1,1,0,0,0,.16-.54,1,1,0,0,0-1-1,1,1,0,0,0-.84.46c-.61.94-.64,1.26-.64,1.38v0a1,1,0,0,0,1,1C6.44,10.1,6.51,9.44,7,8.76Zm-.89,4.1a1,1,0,0,0-1-.86H4.93a1,1,0,0,0-.86,1h0c0,.05,0,.09,0,.14.16,1.11.37,1.84,1.2,1.84a1,1,0,0,0,1-1C6.28,13.69,6.16,13.57,6.06,12.86Zm3.16,5a1,1,0,0,0-.46-.84c-.73-.47-.81-.76-1.34-.76a1,1,0,0,0-.65,1.76c.93.81,1.24.84,1.41.84h0A1,1,0,0,0,9.22,17.89ZM12,4c-.21,0-.42,0-.64,0l1.35-1.34A1,1,0,0,0,13,2a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L7.59,5l3.7,3.71A1,1,0,0,0,12,9a1,1,0,0,0,1-1,1,1,0,0,0-.29-.71L11.46,6c.18,0,.36,0,.54,0a6,6,0,0,1,0,12,1,1,0,0,0,0,2A8,8,0,0,0,12,4Z /> </symbol> <symbol id=icon-rotate-right viewBox="0 0 24 24"> <path d=M17.05,8.76a1,1,0,0,1-.16-.54,1,1,0,0,1,1-1,1,1,0,0,1,.84.46c.61.94.64,1.26.64,1.38v0a1,1,0,0,1-1,1C17.56,10.1,17.49,9.44,17.05,8.76Zm.89,4.1a1,1,0,0,1,1-.86h.14a1,1,0,0,1,.86,1h0c0,.05,0,.09,0,.14-.16,1.11-.37,1.84-1.2,1.84a1,1,0,0,1-1-1C17.72,13.69,17.84,13.57,17.94,12.86Zm-3.16,5a1,1,0,0,1,.46-.84c.73-.47.81-.76,1.34-.76a1,1,0,0,1,.65,1.76c-.93.81-1.24.84-1.41.84h0A1,1,0,0,1,14.78,17.89ZM12,4c.21,0,.42,0,.64,0L11.29,2.71A1,1,0,0,1,11,2a1,1,0,0,1,1-1,1,1,0,0,1,.71.29L16.41,5l-3.7,3.71A1,1,0,0,1,12,9a1,1,0,0,1-1-1,1,1,0,0,1,.29-.71L12.54,6c-.18,0-.36,0-.54,0a6,6,0,0,0,0,12,1,1,0,0,1,0,2A8,8,0,0,1,12,4Z /> </symbol> <symbol id=icon-schedule viewBox="0 0 24 24"> <path d="M19 3h-1V2a1 1 0 0 0-2 0v1H8V2a1 1 0 0 0-2 0v1H5a2 2 0 0 0-2 2v13a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V5a2 2 0 0 0-2-2zm0 15a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V9h14zm0-11H5V5h14zM9.79 17.21a1 1 0 0 0 1.42 0l5-5a1 1 0 0 0 .29-.71 1 1 0 0 0-1-1 1 1 0 0 0-.71.29l-4.29 4.3-1.29-1.3a1 1 0 0 0-.71-.29 1 1 0 0 0-1 1 1 1 0 0 0 .29.71z"/> </symbol> <symbol id=icon-search viewBox="0 0 24 24"> <path d=M21,20a1,1,0,0,0-.29-.71l-3.4-3.39A7.92,7.92,0,0,0,19,11a8,8,0,1,0-8,8,7.92,7.92,0,0,0,4.9-1.69l3.39,3.4A1,1,0,0,0,20,21,1,1,0,0,0,21,20ZM5,11a6,6,0,1,1,6,6A6,6,0,0,1,5,11Z /> </symbol> <symbol id=icon-security viewBox="0 0 24 24"> <path d="M20.12 4.5C15.67 3.93 12.82 1 12 1a1 1 0 0 0-.6.2C6 5.24 3 3.69 3 5.49v5.62C3 19.54 10.64 23 12 23s9-3.46 9-11.88V5.49a1 1 0 0 0-.88-.99zM19 11.11a10.35 10.35 0 0 1-7 9.83 10.35 10.35 0 0 1-7-9.83V6.32a20 20 0 0 0 7-3.1 20 20 0 0 0 7 3.1zM11 6.5V11H9.5a1 1 0 0 0 0 2H11v4.5a1 1 0 0 0 2 0V13h1.5a1 1 0 0 0 0-2H13V6.5a1 1 0 0 0-2 0z"/> </symbol> <symbol id=icon-send viewBox="0 0 24 24"> <path d="M20 3a.9.9 0 00-.28 0l-17 5A1 1 0 002 9a1 1 0 00.49.86l4.82 2.89a5 5 0 002.57.71 5.37 5.37 0 00.7 0 5.36 5.36 0 00-.05.7 5 5 0 00.72 2.57l2.89 4.82a1 1 0 001.86-.27l5-17A.9.9 0 0021 4a1 1 0 00-1-1zm-5.32 15.53L13 15.66a3.05 3.05 0 01-.42-1.54 3 3 0 01.84-2.12l.29-.29A1 1 0 0014 11a1 1 0 00-1-1 1 1 0 00-.71.29l-.29.29a3 3 0 01-2.12.88A3.05 3.05 0 018.34 11L5.47 9.32l13.05-3.84zM9 17a1 1 0 00-.71.29l-1 1A1 1 0 007 19a1 1 0 001 1 1 1 0 00.71-.29l1-1A1 1 0 0010 18a1 1 0 00-1-1zm-2-2a1 1 0 00-1-1 1 1 0 00-.71.29l-3 3A1 1 0 002 18a1 1 0 001 1 1 1 0 00.71-.29l3-3A1 1 0 007 15z"/> </symbol> <symbol id=icon-send-priority viewBox="0 0 24 24"> <path d=M20,3a.9.9,0,0,0-.28,0l-17,5A1,1,0,0,0,2,9a1,1,0,0,0,.49.86l4.82,2.89a5,5,0,0,0,2.57.71,5.37,5.37,0,0,0,.7,0,5.36,5.36,0,0,0-.05.7,5,5,0,0,0,.72,2.57l2.89,4.82A1,1,0,0,0,16,21.28l5-17A.9.9,0,0,0,21,4,1,1,0,0,0,20,3ZM14.68,18.53,13,15.66a3.05,3.05,0,0,1-.42-1.54A3,3,0,0,1,13.42,12l.29-.29A1,1,0,0,0,14,11a1,1,0,0,0-1-1,1,1,0,0,0-.71.29l-.29.29a3,3,0,0,1-2.12.88A3.05,3.05,0,0,1,8.34,11L5.47,9.32,18.52,5.48ZM9,16a1,1,0,0,0-1-1,1,1,0,0,0-.71.29l-4,4A1,1,0,0,0,3,20a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29l4-4A1,1,0,0,0,9,16Zm1,3a1,1,0,0,0-.71.29l-1,1A1,1,0,0,0,8,21a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29l1-1A1,1,0,0,0,11,20,1,1,0,0,0,10,19ZM3.71,15.71l1-1A1,1,0,0,0,5,14a1,1,0,0,0-1-1,1,1,0,0,0-.71.29l-1,1A1,1,0,0,0,2,15a1,1,0,0,0,1,1A1,1,0,0,0,3.71,15.71Z /> </symbol> <symbol id=icon-settings viewBox="0 0 24 24"> <path d=M12.55,22.2h-1.1A2.39,2.39,0,0,1,9.08,20v-.12l-.57-.24-.09.08a2.33,2.33,0,0,1-1.55.57,2.37,2.37,0,0,1-1.68-.69l-.78-.78a2.37,2.37,0,0,1-.69-1.68,2.33,2.33,0,0,1,.57-1.55l.08-.09-.24-.57H4a2.39,2.39,0,0,1-2.2-2.37v-1.1A2.39,2.39,0,0,1,4,9.08h.12l.24-.57-.08-.09a2.33,2.33,0,0,1-.57-1.55A2.37,2.37,0,0,1,4.4,5.18l.78-.78a2.37,2.37,0,0,1,1.68-.69,2.33,2.33,0,0,1,1.55.57l.09.08.57-.24V4a2.39,2.39,0,0,1,2.37-2.2h1.1A2.39,2.39,0,0,1,14.92,4v.12l.57.24.09-.08a2.33,2.33,0,0,1,1.55-.57,2.37,2.37,0,0,1,1.68.69l.78.78a2.37,2.37,0,0,1,.69,1.68,2.33,2.33,0,0,1-.57,1.55l-.08.09.24.57H20a2.39,2.39,0,0,1,2.2,2.37v1.1A2.39,2.39,0,0,1,20,14.92h-.12l-.24.57.08.09a2.33,2.33,0,0,1,.57,1.55,2.37,2.37,0,0,1-.69,1.68l-.78.78a2.38,2.38,0,0,1-1.68.7,2.34,2.34,0,0,1-1.55-.58l-.09-.08-.57.24V20A2.39,2.39,0,0,1,12.55,22.2ZM8.43,17.58A1.66,1.66,0,0,1,9,17.7l1,.42a1.58,1.58,0,0,1,1,1.36l0,.37a.38.38,0,0,0,.38.35h1.1a.38.38,0,0,0,.38-.35l0-.37a1.58,1.58,0,0,1,1-1.36l1-.42a1.66,1.66,0,0,1,.61-.12,1.55,1.55,0,0,1,1,.39l.28.24a.39.39,0,0,0,.52,0l.78-.78a.39.39,0,0,0,0-.52L18,16.61a1.55,1.55,0,0,1-.39-1A1.66,1.66,0,0,1,17.7,15l.42-1a1.6,1.6,0,0,1,1.36-1l.37,0a.38.38,0,0,0,.35-.38v-1.1a.38.38,0,0,0-.35-.38l-.37,0a1.57,1.57,0,0,1-1.35-1L17.7,9a1.66,1.66,0,0,1-.12-.61,1.55,1.55,0,0,1,.39-1l.24-.28a.39.39,0,0,0,0-.52l-.78-.78a.39.39,0,0,0-.52,0L16.61,6a1.55,1.55,0,0,1-1,.39A1.66,1.66,0,0,1,15,6.3l-1-.42a1.58,1.58,0,0,1-1-1.36l0-.37a.38.38,0,0,0-.38-.35h-1.1a.38.38,0,0,0-.38.35l0,.37a1.59,1.59,0,0,1-1,1.36L9,6.3a1.66,1.66,0,0,1-.61.12,1.55,1.55,0,0,1-1-.39l-.28-.24a.39.39,0,0,0-.52,0l-.78.78a.39.39,0,0,0,0,.52L6,7.39a1.55,1.55,0,0,1,.39,1A1.66,1.66,0,0,1,6.3,9l-.42,1a1.6,1.6,0,0,1-1.36,1l-.37,0a.38.38,0,0,0-.35.38v1.1a.38.38,0,0,0,.35.38l.37,0a1.6,1.6,0,0,1,1.36,1l.42,1a1.66,1.66,0,0,1,.12.61,1.55,1.55,0,0,1-.39,1l-.24.28a.39.39,0,0,0,0,.52l.78.78a.39.39,0,0,0,.52,0L7.39,18A1.55,1.55,0,0,1,8.43,17.58ZM9.3,4h0ZM12,16a4,4,0,1,1,4-4A4,4,0,0,1,12,16Zm0-6a2,2,0,1,0,2,2A2,2,0,0,0,12,10Z /> </symbol> <symbol id=icon-share viewBox="0 0 24 24"> <path d="M20 14a1 1 0 00-1 1v3a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h4a1 1 0 000-2H6a3 3 0 00-3 3v12a3 3 0 003 3h12a3 3 0 003-3v-3a1 1 0 00-1-1zm-1.41-8H17a9 9 0 00-9 9 1 1 0 002 0 7 7 0 017-7h1.59l-2.3 2.29A1 1 0 0016 11a1 1 0 001 1 1 1 0 00.71-.29L22.41 7l-4.7-4.71A1 1 0 0017 2a1 1 0 00-1 1 1 1 0 00.29.71z"/> </symbol> <symbol id=icon-size-max viewBox="0 0 24 24"> <path d=M18,3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V6A3,3,0,0,0,18,3Zm1,15a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1Zm-5-4a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V15A1,1,0,0,0,14,14ZM9,9H8a1,1,0,0,0,0,2H9A1,1,0,0,0,9,9Zm4,0h0a1,1,0,0,0,0,2h0a1,1,0,0,0,2,0h0A2,2,0,0,0,13,9Z /> </symbol> <symbol id=icon-size-min viewBox="0 0 24 24"> <path d=M4,7A1,1,0,0,0,5,6H5A1,1,0,0,1,6,5H6A1,1,0,0,0,6,3H6A3,3,0,0,0,3,6H3A1,1,0,0,0,4,7ZM20,17a1,1,0,0,0-1,1h0a1,1,0,0,1-1,1h0a1,1,0,0,0,0,2h0a3,3,0,0,0,3-3h0A1,1,0,0,0,20,17ZM18,3h0a1,1,0,0,0,0,2h0a1,1,0,0,1,1,1h0a1,1,0,0,0,2,0h0A3,3,0,0,0,18,3ZM12,9H6a3,3,0,0,0-3,3v6a3,3,0,0,0,3,3h6a3,3,0,0,0,3-3V12A3,3,0,0,0,12,9Zm1,9a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1h6a1,1,0,0,1,1,1Zm7-8a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V11A1,1,0,0,0,20,10ZM11,5h2a1,1,0,0,0,0-2H11a1,1,0,0,0,0,2Z /> </symbol> <symbol id=icon-sort viewBox="0 0 24 24"> <path d="M4 19h4a1 1 0 0 0 1-1 1 1 0 0 0-1-1H4a1 1 0 0 0-1 1 1 1 0 0 0 1 1zM3 6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1 1 1 0 0 0-1-1H4a1 1 0 0 0-1 1zm1 7h10a1 1 0 0 0 1-1 1 1 0 0 0-1-1H4a1 1 0 0 0-1 1 1 1 0 0 0 1 1z"/> </symbol> <symbol id=icon-spotify viewBox="0 0 24 24"> <path d="M17 12.42a12.52 12.52 0 0 0-6.38-1.67 12.15 12.15 0 0 0-3.48.49.76.76 0 0 0 .24 1.48.76.76 0 0 0 .21 0 10.14 10.14 0 0 1 3.05-.45 10.9 10.9 0 0 1 5.51 1.43.61.61 0 0 0 .39.13.82.82 0 0 0 .79-.78.68.68 0 0 0-.33-.63zm-1.09 3.13a9.64 9.64 0 0 0-5.15-1.36 15.06 15.06 0 0 0-3.36.4.67.67 0 0 0-.48.61.88.88 0 0 0 0 .16.67.67 0 0 0 .61.48.44.44 0 0 0 .16 0 13.72 13.72 0 0 1 3.07-.37 8.39 8.39 0 0 1 4.5 1.18.61.61 0 0 0 1-.54.57.57 0 0 0-.4-.56zM18 9.12a14.89 14.89 0 0 0-7.28-1.72 14.86 14.86 0 0 0-4.15.54.91.91 0 0 0-.63.87 1.09 1.09 0 0 0 0 .25.93.93 0 0 0 .87.63 14.38 14.38 0 0 1 3.74-.49c4.72 0 6.27 1.56 7 1.56a1 1 0 0 0 .79-.38.87.87 0 0 0 .12-.45.91.91 0 0 0-.46-.81zM12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/> </symbol> <symbol id=icon-spotify-filled viewBox="0 0 168 168"> <path d="M83.996.277C37.747.277.253 37.77.253 84.019c0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l.001-.004zm38.404 120.78a5.217 5.217 0 01-7.18 1.73c-19.662-12.01-44.414-14.73-73.564-8.07a5.222 5.222 0 01-6.249-3.93 5.213 5.213 0 013.926-6.25c31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-.903-8.148-4.35a6.538 6.538 0 014.354-8.143c30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-.001zm.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219a7.835 7.835 0 015.221-9.771c29.581-8.98 78.756-7.245 109.83 11.202a7.823 7.823 0 012.74 10.733c-2.2 3.722-7.02 4.949-10.73 2.739z"/> </symbol> <symbol id=icon-star viewBox="0 0 24 24"> <path d="M17.52 21a1 1 0 0 1-.52-.15l-5-3.1-5 3.1a1 1 0 0 1-.52.15 1 1 0 0 1-1-1.24l1.4-5.71-4.46-3.79a1 1 0 0 1-.36-.77A1 1 0 0 1 3 8.5l5.86-.43 2.22-5.45a1 1 0 0 1 1.86 0l2.22 5.45L21 8.5a1 1 0 0 1 .93 1 1 1 0 0 1-.36.77l-4.49 3.79 1.4 5.71a1 1 0 0 1 0 .24 1 1 0 0 1-.96.99zM12 15.57a1 1 0 0 1 .53.15L16 17.86l-1-3.93a1 1 0 0 1 0-.24 1 1 0 0 1 .36-.77l3.09-2.61-4-.29a1 1 0 0 1-.85-.62L12 5.65 10.47 9.4a1 1 0 0 1-.85.62l-4 .29 3.09 2.61a1 1 0 0 1 .36.77 1 1 0 0 1 0 .24L8 17.86l3.44-2.14a1 1 0 0 1 .56-.15z"/> </symbol> <symbol id=icon-star1 viewBox="0 0 24 24"> <path fill=#00aeef d="M11.67 2a.35.35 0 0 1 .66 0l2.15 6.61h7a.35.35 0 0 1 .21.64L16 13.31l2.14 6.61a.35.35 0 0 1-.12.39.36.36 0 0 1-.42 0L12 16.23l-5.62 4.08a.36.36 0 0 1-.42 0 .35.35 0 0 1-.12-.39L8 13.31 2.36 9.22a.35.35 0 0 1 .21-.64h7z" opacity=.8 /> </symbol> <symbol id=icon-star2 viewBox="0 0 24 24"> <path fill=#00aeef d="M14.48 8.58h7a.35.35 0 0 1 .21.64L16 13.31l2.14 6.61a.35.35 0 0 1-.12.39.36.36 0 0 1-.42 0L12 16.23l-5.62 4.08a.36.36 0 0 1-.42 0 .35.35 0 0 1-.12-.39L8 13.31 2.36 9.22a.35.35 0 0 1 .21-.64h11.91z" opacity=.8 /><path fill=#fa0 d="M9.52 8.58L11.66 2a.37.37 0 0 1 .34-.27.35.35 0 0 1 .33.24l2.15 6.61L12 12z"/> </symbol> <symbol id=icon-star3 viewBox="0 0 24 24"> <path fill=#00aeef d="M13.28 9.78L16 13.31l2.14 6.61a.35.35 0 0 1-.12.39.36.36 0 0 1-.42 0L12 16.23l-5.62 4.08a.36.36 0 0 1-.42 0 .35.35 0 0 1-.12-.39L8 13.31 2.36 9.22a.35.35 0 0 1 .21-.64h7z" opacity=.8 /><path fill=#fa0 d="M9.52 8.58L11.67 2a.35.35 0 0 1 .66 0l2.15 6.61h7a.35.35 0 0 1 .34.25.37.37 0 0 1-.13.39L16 13.31 12 12z"/> </symbol> <symbol id=icon-star4 viewBox="0 0 24 24"> <path fill=#00aeef d="M13.62 10.91L12 16.23l-5.62 4.08a.36.36 0 0 1-.42 0 .35.35 0 0 1-.12-.39L8 13.31 2.36 9.22a.35.35 0 0 1 .21-.64h7z" opacity=.8 /><path fill=#fa0 d="M9.52 8.58L11.67 2a.35.35 0 0 1 .66 0l2.15 6.61h7a.35.35 0 0 1 .34.25.37.37 0 0 1-.13.39L16 13.31l2.14 6.61a.35.35 0 0 1-.12.39.36.36 0 0 1-.42 0L12 16.23V12z"/> </symbol> <symbol id=icon-star5 viewBox="0 0 24 24"> <path fill=#00aeef d="M14.4 13.2l-6.4.11-5.64-4.09a.35.35 0 0 1 .21-.64h7z" opacity=.8 /><path fill=#fa0 d="M9.52 8.58L11.67 2a.35.35 0 0 1 .66 0l2.15 6.61h7a.35.35 0 0 1 .34.25.37.37 0 0 1-.13.39L16 13.31l2.14 6.61a.35.35 0 0 1-.12.39.36.36 0 0 1-.42 0L12 16.23l-5.62 4.08a.36.36 0 0 1-.42 0 .35.35 0 0 1-.12-.39L8 13.31 12 12z"/> </symbol> <symbol id=icon-star6 viewBox="0 0 24 24"> <path d="M11.67 2a.35.35 0 0 1 .66 0l2.07 6.34a.37.37 0 0 0 .34.24h6.69a.35.35 0 0 1 .21.64l-5.41 3.94a.33.33 0 0 0-.13.39l2.06 6.37a.35.35 0 0 1-.12.39.36.36 0 0 1-.42 0l-5.41-3.93a.36.36 0 0 0-.42 0l-5.41 3.93a.36.36 0 0 1-.42 0 .35.35 0 0 1-.12-.39l2.06-6.37a.33.33 0 0 0-.13-.39L2.36 9.22a.35.35 0 0 1 .21-.64h6.69a.37.37 0 0 0 .34-.24z"/> </symbol> <symbol id=icon-star-default viewBox="0 0 24 24"> <path d=M17.52,21a1,1,0,0,1-.52-.15l-5-3.1-5,3.1a1,1,0,0,1-.55.15,1,1,0,0,1-1-1,1,1,0,0,1,0-.24l1.4-5.71L2.42,10.26A1,1,0,0,1,3,8.5l5.86-.43,2.22-5.45A1,1,0,0,1,12,2a1,1,0,0,1,.93.63l2.22,5.45L21,8.5a1,1,0,0,1,.93,1h0a1,1,0,0,1-.36.77l-4.49,3.79,1.4,5.71s0,.08,0,.12,0,.08,0,.12A1,1,0,0,1,17.52,21ZM12,15.57h0a1,1,0,0,1,.53.15L16,17.86l-1-3.93s0-.08,0-.12a.68.68,0,0,1,0-.12,1,1,0,0,1,.36-.77l3.09-2.61-4-.29a1,1,0,0,1-.85-.62L12,5.65,10.47,9.4a1,1,0,0,1-.85.62l-4,.29,3.09,2.61a1,1,0,0,1,.36.77.68.68,0,0,1,0,.12s0,.08,0,.12L8,17.86l3.44-2.14A1,1,0,0,1,12,15.57Z /> </symbol> <symbol id=icon-star-on viewBox="0 0 24 24"> <path d=M17.52,21a1,1,0,0,1-.52-.15l-5-3.1-5,3.1a1,1,0,0,1-.55.15,1,1,0,0,1-1-1,1,1,0,0,1,0-.24l1.4-5.71L2.42,10.26A1,1,0,0,1,3,8.5l5.86-.43,2.22-5.45A1,1,0,0,1,12,2a1,1,0,0,1,.93.63l2.22,5.45L21,8.5a1,1,0,0,1,.93,1h0a1,1,0,0,1-.36.77l-4.49,3.79,1.4,5.71s0,.08,0,.12,0,.08,0,.12A1,1,0,0,1,17.52,21Z /> </symbol> <symbol id=icon-statements viewBox="0 0 24 24"> <path d="M21 10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-4a1 1 0 0 0 0 2h1.72L14 11.91a.27.27 0 0 1-.2.09.19.19 0 0 1-.14-.05l-2-1.5a2.18 2.18 0 0 0-1.41-.45 2.24 2.24 0 0 0-1.75.84L4 16.41V5a1 1 0 0 0-2 0v14a1 1 0 0 0 1 1h18a1 1 0 0 0 0-2H5.28l4.77-5.91a.25.25 0 0 1 .2-.09.19.19 0 0 1 .14.05l2 1.5a2.2 2.2 0 0 0 1.35.46 2.23 2.23 0 0 0 1.74-.84L20 7.59V9a1 1 0 0 0 1 1z"/> </symbol> <symbol id=icon-stop viewBox="0 0 24 24"> <rect width=12 height=12 x=6 y=6 rx=1 /> </symbol> <symbol id=icon-support viewBox="0 0 24 24"> <path d="M12 14a1.35 1.35 0 1 0 1.35 1.35A1.34 1.34 0 0 0 12 14zm0-12a9 9 0 0 0-1 17.94V22a1 1 0 0 0 1 1c1.09 0 9-4.63 9-12a9 9 0 0 0-9-9zm1 18.28V19a1 1 0 0 0-1-1 7 7 0 1 1 7-7c0 4.06-3 7.35-6 9.28zM12.05 6a3.5 3.5 0 0 0-3.61 3.1.29.29 0 0 0 .28.31h1.59c.26 0 .35-.17.44-.43a1.2 1.2 0 0 1 1.3-.79c.64 0 1.17.23 1.17.88 0 1.1-2.35 1.68-2.35 3.55a.37.37 0 0 0 .35.38h1.59c.17 0 .29-.13.35-.38.33-1.3 2.4-1.67 2.4-3.71 0-1.76-1.65-2.91-3.51-2.91z"/> </symbol> <symbol id=icon-test-tube viewBox="0 0 24 24"> <path d="M7 2v2h1v14a4 4 0 0 0 4 4 4 4 0 0 0 4-4V4h1V2H7m4 14c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m2-4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m1-5h-4V4h4v3z"/> </symbol> <symbol id=icon-test-tube-off viewBox="0 0 24 24"> <path d="M2 5.27L3.28 4 20 20.72 18.73 22l-2.89-2.89C15.36 20.77 13.82 22 12 22a4 4 0 0 1-4-4v-6.73l-6-6M7 2h10v2h-1v10.18l-2.37-2.37c.23-.18.37-.46.37-.81 0-.6-.4-1-1-1-.35 0-.63.14-.81.37L8 6.18V4H7V2m4 14c.5 0 .88-.29 1-.76L10.76 14c-.47.12-.76.5-.76 1 0 .6.4 1 1 1m3-9V4h-4v3h4z"/> </symbol> <symbol id=icon-text viewBox="0 0 24 24"> <path d=M7.94,4.66a1,1,0,0,0-1.88,0l-5,14A1.06,1.06,0,0,0,1,19a1,1,0,0,0,1.94.34L4.13,16H9.87l1.19,3.34A1,1,0,0,0,12,20a1,1,0,0,0,1-1,1.06,1.06,0,0,0-.06-.34ZM4.85,14,7,8l2.15,6ZM23,19c0-.95-1-.65-1-2.7V12.7A3.86,3.86,0,0,0,18,9c-3,0-2.93,1-2.93,1.26a1,1,0,0,0,1,1A10.74,10.74,0,0,1,18,11a1.87,1.87,0,0,1,2,1.7v.47A11.3,11.3,0,0,0,18,13c-2.32,0-4,1.47-4,3.5S15.68,20,18,20a4.35,4.35,0,0,0,2.77-.92c.52.74.82.92,1.23.92A1,1,0,0,0,23,19Zm-3-2.5c0,1-1,1.5-2,1.5s-2-.46-2-1.5S17,15,18,15a8.3,8.3,0,0,1,2,.21Z /> </symbol> <symbol id=icon-text-frame-off viewBox="0 0 24 24"> <path d=M18,3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V6A3,3,0,0,0,18,3Zm1,15a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1ZM12.93,6.63a1,1,0,0,0-1.86,0l-4,10A1,1,0,0,0,7,17a1,1,0,0,0,1,1,1,1,0,0,0,.93-.63l1-2.37h4.24l1,2.37A1,1,0,0,0,17,17a1,1,0,0,0-.07-.37ZM10.68,13,12,9.69,13.32,13Z /> </symbol> <symbol id=icon-text-frame-on viewBox="0 0 24 24"> <path d=M10.68,13h2.64L12,9.69ZM18,3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V6A3,3,0,0,0,18,3ZM16,18a1,1,0,0,1-.93-.63l-1-2.37H9.88l-1,2.37A1,1,0,0,1,8,18a1,1,0,0,1-1-1,1,1,0,0,1,.07-.37l4-10a1,1,0,0,1,1.86,0l4,10A1,1,0,0,1,17,17,1,1,0,0,1,16,18Z /> </symbol> <symbol id=icon-theme-dark viewBox="0 0 24 24"> <path d="M12 22C4.23 22 2 15 2 12 2 4.22 9 2 12 2h.32C13 2 14 2.08 14 3.06s-2.38 1.72-2.38 5.14a5.81 5.81 0 0 0 5.79 5.8c2.05 0 2.68-.88 3.33-.88a1 1 0 0 1 1 1c0 .49-1.86 7.88-9.74 7.88zM4 12a8 8 0 0 0 15 3.82 8 8 0 0 1-1.61.17 7.81 7.81 0 0 1-6.6-11.9A8 8 0 0 0 4 12z"/> </symbol> <symbol id=icon-theme-light viewBox="0 0 24 24"> <path d="M12 5a7 7 0 1 0 7 7 7 7 0 0 0-7-7zm0 12a5 5 0 1 1 5-5 5 5 0 0 1-5 5zm0-13a1 1 0 0 0 1-1V1a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1zM4.93 6.34a1 1 0 0 0 .71.3 1 1 0 0 0 1-1 1 1 0 0 0-.3-.71L4.93 3.51a1 1 0 0 0-.71-.29 1 1 0 0 0-1 1 1 1 0 0 0 .29.71zM4 12a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1zm1.64 5.36a1 1 0 0 0-.71.3l-1.42 1.41a1 1 0 0 0-.29.71 1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l1.41-1.42a1 1 0 0 0 .3-.71 1 1 0 0 0-1-1zM12 20a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1zm7.07-2.34a1 1 0 0 0-.71-.3 1 1 0 0 0-1 1 1 1 0 0 0 .3.71l1.41 1.42a1 1 0 0 0 .71.29 1 1 0 0 0 1-1 1 1 0 0 0-.29-.71zM23 11h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm-4.64-4.36a1 1 0 0 0 .71-.3l1.42-1.41a1 1 0 0 0 .29-.71 1 1 0 0 0-1-1 1 1 0 0 0-.71.29l-1.41 1.42a1 1 0 0 0-.3.71 1 1 0 0 0 1 1z"/> </symbol> <symbol id=icon-trial viewBox="0 0 24 24"> <path d="M20 5h-2.18A3 3 0 0 0 15 1a3 3 0 0 0-2.57 1.44l-.43.72-.43-.72A3 3 0 0 0 6.18 5H4a2 2 0 0 0-2 2v2a2 2 0 0 0 1 1.72V18a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-7.28A2 2 0 0 0 22 9V7a2 2 0 0 0-2-2zm-5-2a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM8 4a1 1 0 1 1 1 1 1 1 0 0 1-1-1zm10 15H6a1 1 0 0 1-1-1v-7h.5a1 1 0 0 0 0-2H4V7h5.66L8.15 9.48A1 1 0 0 0 8 10a1 1 0 0 0 1 1 1 1 0 0 0 .85-.48L12 7l2.15 3.52a1 1 0 1 0 1.7-1L14.34 7H20v2h-1.5a1 1 0 0 0 0 2h.5v7a1 1 0 0 1-1 1z"/> </symbol> <symbol id=icon-twitter viewBox="0 0 24 24"> <path d="M22.92 5.57a.31.31 0 0 0-.31-.31.35.35 0 0 0-.14 0 6.18 6.18 0 0 1-1.61.51 5.79 5.79 0 0 0 1.62-2 .3.3 0 0 0-.3-.3.26.26 0 0 0-.17 0 6.19 6.19 0 0 1-2.31.88 4.69 4.69 0 0 0-8.06 3.26 4.92 4.92 0 0 0 0 .67C5.67 7.88 3.47 3.8 3 3.8c-.33 0-.89 1.26-.89 2.51A4.65 4.65 0 0 0 3.34 9.5c-.68-.19-.8-.38-1-.38a.34.34 0 0 0-.33.35 4.69 4.69 0 0 0 2.51 4.15 6 6 0 0 1-.67-.07.29.29 0 0 0-.3.3 4.61 4.61 0 0 0 3.58 3.26 8.37 8.37 0 0 1-4.62 1.37 9.71 9.71 0 0 1-1-.06.29.29 0 0 0-.3.3C1.2 19 4.08 21 8.24 21A12.79 12.79 0 0 0 21 8.23V7.63a5.61 5.61 0 0 0 1.92-2.06zM8.24 19H7.4a4.91 4.91 0 0 0 2.76-2.61.3.3 0 0 0-.27-.3c-1.3-.11-3.06-.72-3.6-1.56.54-.07 1.49-.8 1.49-1.09a.29.29 0 0 0-.26-.29 4.33 4.33 0 0 1-3.21-2.09 2.83 2.83 0 0 0 .41 0 3 3 0 0 0 1.44-.38.31.31 0 0 0 .15-.26.31.31 0 0 0-.13-.25 6.08 6.08 0 0 1-2.12-3 12.32 12.32 0 0 0 7.84 3.13c1.71 0 1.72-1 1.72-2.63a2.69 2.69 0 1 1 5.38 0v.5A10.78 10.78 0 0 1 8.24 19z"/> </symbol> <symbol id=icon-twitter-filled viewBox="0 0 30 30"> <path d="M11.52 22.62a10.87 10.87 0 0 0 11-11v-.49a8.07 8.07 0 0 0 1.92-2 7.8 7.8 0 0 1-2.21.6 3.89 3.89 0 0 0 1.69-2.13 7.69 7.69 0 0 1-2.45.94 3.84 3.84 0 0 0-6.55 3.5 10.91 10.91 0 0 1-7.93-4 3.85 3.85 0 0 0 1.19 5.13 3.78 3.78 0 0 1-1.74-.48 3.84 3.84 0 0 0 3.08 3.77 3.93 3.93 0 0 1-1.74.07 3.87 3.87 0 0 0 3.6 2.67A7.74 7.74 0 0 1 6.54 21a6.84 6.84 0 0 1-.91-.06 10.87 10.87 0 0 0 5.89 1.73"/> </symbol> <symbol id=icon-undo viewBox="0 0 24 24"> <path d="M14.34 6a6.61 6.61 0 0 0-4.7 2L5 12.59V8a1 1 0 0 0-2 0v8h8a1 1 0 0 0 0-2H6.41l4.64-4.64a4.66 4.66 0 0 1 8 3.3A4.62 4.62 0 0 1 17.64 16l-1.35 1.34A1 1 0 0 0 16 18a1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l1.34-1.35a6.57 6.57 0 0 0 1.95-4.7A6.65 6.65 0 0 0 14.34 6z"/> </symbol> <symbol id=icon-unfollow viewBox="0 0 24 24"> <path d=M14,12A4.5,4.5,0,1,0,9.5,7.5,4.51,4.51,0,0,0,14,12Zm0-7a2.5,2.5,0,1,1-2.5,2.5A2.5,2.5,0,0,1,14,5Zm8,15c0-1.07-2-6-8-6s-8,4.94-8,6a1,1,0,0,0,2,.21C8.5,17.77,11,16,14,16s5.5,1.77,6,4.21A1,1,0,0,0,22,20ZM7,13H2a1,1,0,0,1,0-2H7a1,1,0,0,1,0,2Z /> </symbol> <symbol id=icon-unlocked viewBox="0 0 24 24"> <path d="M17.5 2A4.51 4.51 0 0 0 13 6.5V8H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-8a3 3 0 0 0-3-3V6.5a2.5 2.5 0 0 1 5 0V8a1 1 0 0 0 2 0V6.5A4.51 4.51 0 0 0 17.5 2zM16 11v8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1zm-6 2a2 2 0 1 0 2 2 2 2 0 0 0-2-2z"/> </symbol> <symbol id=icon-verified viewBox="0 0 24 24"> <path d=M23,12a1,1,0,0,0-.28-.7l-1.15-1.19a1,1,0,0,0-.72-.3,1,1,0,0,0-1,1,1,1,0,0,0,.28.69l.48.5-.69.72a4,4,0,0,0-1.14,2.78,3.43,3.43,0,0,0,0,.56l.14,1-1,.17a4,4,0,0,0-2.85,2.07l-.47.88-.91-.44a3.94,3.94,0,0,0-1.75-.4,4.15,4.15,0,0,0-1.76.4l-.9.44-.47-.88A4,4,0,0,0,6,17.23l-1-.17.14-1a3.39,3.39,0,0,0,0-.55,4,4,0,0,0-1.13-2.78L3.39,12l.69-.72A4,4,0,0,0,5.22,8.5a3.43,3.43,0,0,0,0-.56L5,6.94l1-.17A4,4,0,0,0,8.87,4.7l.47-.88.91.44a3.94,3.94,0,0,0,1.75.4,4.15,4.15,0,0,0,1.76-.4l.9-.44.46.86a1,1,0,0,0,1.93-.39,1,1,0,0,0-.18-.57L16,2a1,1,0,0,0-.88-.53,1,1,0,0,0-.44.1l-1.76.87a2.14,2.14,0,0,1-.89.2,2.06,2.06,0,0,1-.88-.2L9.35,1.59A1,1,0,0,0,8,2L7.11,3.76a2,2,0,0,1-1.43,1l-1.94.34a1,1,0,0,0-.83,1,.66.66,0,0,0,0,.14l.28,2a2.64,2.64,0,0,1,0,.28,2,2,0,0,1-.57,1.39L1.28,11.31a1,1,0,0,0,0,1.38l1.38,1.43a2,2,0,0,1,.56,1.38,2.64,2.64,0,0,1,0,.28l-.28,2a.66.66,0,0,0,0,.14,1,1,0,0,0,.83,1l1.94.34a2,2,0,0,1,1.43,1L8,22a1,1,0,0,0,1.32.43l1.76-.87a2.14,2.14,0,0,1,.89-.2,2.06,2.06,0,0,1,.88.2l1.77.87a1,1,0,0,0,.44.1A1,1,0,0,0,16,22l.92-1.74a2,2,0,0,1,1.43-1l1.94-.34a1,1,0,0,0,.83-1,.66.66,0,0,0,0-.14l-.28-2a2.64,2.64,0,0,1,0-.28,2,2,0,0,1,.57-1.39l1.37-1.42A1,1,0,0,0,23,12ZM9.71,10.29A1,1,0,0,0,9,10a1,1,0,0,0-1,1,1,1,0,0,0,.29.71L12,15.41l9.71-9.7A1,1,0,0,0,22,5a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L12,12.59Z /> </symbol> <symbol id=icon-verified-new viewBox="0 0 16 16"> <path d=M15.668,8.49a.667.667,0,0,0-.187-.467l-.767-.793a.667.667,0,0,0-.96.927l.32.333-.46.48a2.667,2.667,0,0,0-.76,1.853,2.287,2.287,0,0,0,0,.373l.093.667-.667.113a2.667,2.667,0,0,0-1.9,1.38l-.313.587-.607-.293a2.627,2.627,0,0,0-1.167-.267,2.767,2.767,0,0,0-1.173.267l-.6.293-.313-.587a2.667,2.667,0,0,0-1.873-1.38l-.667-.113.093-.667a2.26,2.26,0,0,0,0-.367,2.667,2.667,0,0,0-.753-1.853L2.595,8.49l.46-.48a2.667,2.667,0,0,0,.76-1.853,2.287,2.287,0,0,0,0-.373l-.147-.667L4.335,5a2.667,2.667,0,0,0,1.913-1.38l.313-.587.607.293A2.627,2.627,0,0,0,8.335,3.6,2.767,2.767,0,0,0,9.508,3.33l.6-.293.307.573a.669.669,0,1,0,1.167-.64L11,1.823a.668.668,0,0,0-.88-.287l-1.173.58a1.427,1.427,0,0,1-.593.133,1.373,1.373,0,0,1-.587-.133l-1.2-.567a.667.667,0,0,0-.9.273L5.075,3a1.333,1.333,0,0,1-.953.667L2.828,3.89a.667.667,0,0,0-.553.667.44.44,0,0,0,0,.093l.187,1.333a1.76,1.76,0,0,1,0,.187,1.333,1.333,0,0,1-.38.927l-.893.933a.667.667,0,0,0,0,.92l.92.953a1.333,1.333,0,0,1,.373.92,1.76,1.76,0,0,1,0,.187l-.187,1.333a.44.44,0,0,0,0,.093.667.667,0,0,0,.553.667l1.293.227A1.333,1.333,0,0,1,5.095,14l.573,1.16a.667.667,0,0,0,.88.287l1.173-.58a1.427,1.427,0,0,1,.593-.133,1.373,1.373,0,0,1,.587.133l1.18.58a.717.717,0,0,0,.92-.287L11.615,14a1.333,1.333,0,0,1,.953-.667l1.293-.227a.667.667,0,0,0,.553-.667.44.44,0,0,0,0-.093l-.187-1.333a1.76,1.76,0,0,1,0-.187,1.333,1.333,0,0,1,.38-.927l.913-.947a.667.667,0,0,0,.147-.46ZM6.808,7.35a.669.669,0,0,0-.947.947l2.473,2.467L14.808,4.3a.669.669,0,0,0-.947-.947L8.335,8.883Z transform="translate(-0.335 -0.49)"/> </symbol> <symbol id=icon-video viewBox="0 0 24 24"> <path d="M21.79 6a1.21 1.21 0 0 0-.86.35L19 8.25V7a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h11a3 3 0 0 0 3-3v-1.25l1.93 1.93a1.22 1.22 0 0 0 2.07-.86V7.18A1.21 1.21 0 0 0 21.79 6zM17 17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1zm4-2.08l-1.34-1.34a2.25 2.25 0 0 1 0-3.16L21 9.08z"/> </symbol> <symbol id=icon-video-off viewBox="0 0 24 24"> <path d="M21.79 6a1.21 1.21 0 0 0-.86.35L19 8.25V7a3 3 0 0 0-3-3H7.24l2 2H16a1 1 0 0 1 1 1v5.24a3.7 3.7 0 0 0 1.07 2.59l.93.93 1.93 1.93a1.22 1.22 0 0 0 2.07-.87V7.18A1.21 1.21 0 0 0 21.79 6zM21 15l-1.34-1.34a2.25 2.25 0 0 1 0-3.16L21 9.08zm-2.3 3.37L4.47 4.05 2.71 2.29a1 1 0 0 0-1.42 1.42l1.4 1.4A3 3 0 0 0 2 7v10a3 3 0 0 0 3 3h11a3 3 0 0 0 1.29-.3l2 2a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 18a1 1 0 0 1-1-1V7a.91.91 0 0 1 .13-.46L15.59 18z"/> </symbol> <symbol id=icon-video-switch viewBox="0 0 24 24"> <path d="M21.79 6a1.21 1.21 0 0 0-.86.35L19 8.25V7a3 3 0 0 0-3-3h-3.59l1.3-1.29A1 1 0 0 0 14 2a1 1 0 0 0-1-1 1 1 0 0 0-.71.29l-3 3a1 1 0 0 0 0 1.42l3 3A1 1 0 0 0 13 9a1 1 0 0 0 1-1 1 1 0 0 0-.29-.71L12.41 6H16a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-1a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1a3 3 0 0 0 3-3v-1.25l1.93 1.93a1.22 1.22 0 0 0 2.07-.86V7.18A1.21 1.21 0 0 0 21.79 6zM21 15l-1.34-1.34a2.25 2.25 0 0 1 0-3.16L21 9.08zm-12.29.37A1 1 0 0 0 8 15a1 1 0 0 0-1 1 1 1 0 0 0 .29.71L8.59 18H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1 1 1 0 0 0-1-1H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h3.59l-1.3 1.29A1 1 0 0 0 7 22a1 1 0 0 0 1 1 1 1 0 0 0 .71-.29l3-3a1 1 0 0 0 0-1.42z"/> </symbol> <symbol id=icon-view-full viewBox="0 0 24 24"> <path d="M17 4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM7 6h10a1 1 0 0 1 1 1v7H6V7a1 1 0 0 1 1-1zm10 12H7a1 1 0 0 1-1-1v-1h12v1a1 1 0 0 1-1 1z"/> </symbol> <symbol id=icon-view-grid viewBox="0 0 24 24"> <path d="M17 4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm1 3v4h-5V6h4a1 1 0 0 1 1 1zM7 6h4v5H6V7a1 1 0 0 1 1-1zM6 17v-4h5v5H7a1 1 0 0 1-1-1zm11 1h-4v-5h5v4a1 1 0 0 1-1 1z"/> </symbol> <symbol id=icon-voice viewBox="0 0 24 24"> <path d="M12 15a4 4 0 0 0 4-4V6a4 4 0 0 0-8 0v5a4 4 0 0 0 4 4zm-2-9a2 2 0 0 1 4 0v5a2 2 0 0 1-4 0zm9 4a1 1 0 0 0-1 1 6 6 0 0 1-12 0 1 1 0 0 0-2 0 8 8 0 0 0 7 7.93V21a1 1 0 0 0 2 0v-2.07A8 8 0 0 0 20 11a1 1 0 0 0-1-1z"/> </symbol> <symbol id=icon-voice-off viewBox="0 0 24 24"> <path d="M20 11a1 1 0 0 0-2 0 5.92 5.92 0 0 1-.79 3l1.44 1.45A7.89 7.89 0 0 0 20 11zM10 6a2 2 0 0 1 4 0v4.76l1.7 1.69A3.87 3.87 0 0 0 16 11V6a4 4 0 0 0-7.83-1.08L10 6.76zm10.71 14.29l-4.78-4.77-.85-.86-2-2L10 9.59l-7.29-7.3a1 1 0 0 0-1.42 1.42L8 10.41V11a4 4 0 0 0 4 4 4.53 4.53 0 0 0 .53-.05l1.64 1.64A6 6 0 0 1 6 11a1 1 0 0 0-2 0 8 8 0 0 0 7 7.93V21a1 1 0 0 0 2 0v-2.07a7.85 7.85 0 0 0 2.68-.84l3.61 3.62a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"/> </symbol> <symbol id=icon-volume-high viewBox="0 0 24 24"> <path d=M16.38,3.65a1,1,0,0,0-.76,1.86,7,7,0,0,1,0,13,1,1,0,0,0,.76,1.86,9,9,0,0,0,0-16.7Zm-1,11.74a1,1,0,0,0,1.41-.09,5,5,0,0,0,0-6.6A1,1,0,1,0,15.25,10a3,3,0,0,1,0,4A1,1,0,0,0,15.34,15.39Zm-3-12.31a1,1,0,0,0-1.09.21L6.59,8H4a2,2,0,0,0-2,2v4a2,2,0,0,0,2,2H6.59l4.7,4.71A1,1,0,0,0,12,21a.84.84,0,0,0,.38-.08A1,1,0,0,0,13,20V4A1,1,0,0,0,12.38,3.08ZM11,17.59l-3.29-3.3A1,1,0,0,0,7,14H4V10H7a1,1,0,0,0,.71-.29L11,6.41Z /> </symbol> <symbol id=icon-volume-low viewBox="0 0 24 24"> <path d="M16.75 8.7a1 1 0 1 0-1.5 1.3 3 3 0 0 1 0 4 1 1 0 1 0 1.5 1.32 5 5 0 0 0 0-6.6zm-4.37-5.62a1 1 0 0 0-1.09.21L6.59 8H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h2.59l4.7 4.71A1 1 0 0 0 12 21a.84.84 0 0 0 .38-.08A1 1 0 0 0 13 20V4a1 1 0 0 0-.62-.92zM11 17.59l-3.29-3.3A1 1 0 0 0 7 14H4v-4h3a1 1 0 0 0 .71-.29L11 6.41z"/> </symbol> <symbol id=icon-volume-off viewBox="0 0 24 24"> <path d=M18.35,17.93l-.71-.7-2.11-2.11L15,14.6h0L2.71,2.29A1,1,0,0,0,1.29,3.71L5.59,8H4a2,2,0,0,0-2,2v4a2,2,0,0,0,2,2H6.59l4.7,4.71A1,1,0,0,0,12,21a.84.84,0,0,0,.38-.08A1,1,0,0,0,13,20V15.41l2.92,2.93a2.8,2.8,0,0,1-.3.15,1,1,0,0,0,.76,1.86,9,9,0,0,0,1-.52l1.88,1.88a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM11,17.59l-3.29-3.3A1,1,0,0,0,7,14H4V10H7a.94.94,0,0,0,.46-.13L11,13.41ZM15.62,5.51a7,7,0,0,1,3.32,10.18l1.44,1.45a9,9,0,0,0-4-13.49,1,1,0,0,0-.76,1.86Zm1.84,8.7a4.91,4.91,0,0,0-.71-5.51A1,1,0,1,0,15.25,10a2.87,2.87,0,0,1,.66,2.65ZM11,6.41V7.76l2,2V4a1,1,0,0,0-.62-.92,1,1,0,0,0-1.09.21L8.91,5.67l1.42,1.42Z /> </symbol> <symbol id=icon-wallet viewBox="0 0 24 24"> <path d="M21 8.28V7a3 3 0 0 0-3-3H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h13a3 3 0 0 0 3-3v-1.28A2 2 0 0 0 22 14v-4a2 2 0 0 0-1-1.72zM19 17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h13a1 1 0 0 1 1 1v1h-4a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h4zm-4-3a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h5v4zm1-3a1 1 0 1 0 1 1 1 1 0 0 0-1-1z"/> </symbol> <symbol id=icon-bank-archive viewBox="0 0 24 24"> <path d=M8,18H3a1,1,0,0,0,0,2H8a1,1,0,0,0,0-2ZM5,11v5a1,1,0,0,0,2,0V11a1,1,0,0,0-2,0ZM15,8a6,6,0,1,0,6,6A6,6,0,0,0,15,8Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,15,18Zm1-4.41v-.84a1,1,0,0,0-2,0V14a1,1,0,0,0,.29.71L15.54,16a1,1,0,0,0,.71.29,1,1,0,0,0,1-1,1,1,0,0,0-.29-.71ZM3,9H9A1,1,0,0,0,9,7H6.86L12,4.14l8.51,4.73A1,1,0,0,0,21,9a1,1,0,0,0,.49-1.87l-9-5a1,1,0,0,0-1,0l-9,5A1,1,0,0,0,2,8,1,1,0,0,0,3,9Zm18,9a1,1,0,1,0,1,1A1,1,0,0,0,21,18Z /> </symbol> <symbol id=icon-bank-secondary viewBox="0 0 24 24"> <path d=M11,11v5a1,1,0,0,0,2,0V11a1,1,0,0,0-2,0ZM5,11v5a1,1,0,0,0,2,0V11a1,1,0,0,0-2,0ZM3,9H21a1,1,0,0,0,.49-1.87l-9-5a1,1,0,0,0-1,0l-9,5A1,1,0,0,0,3,9Zm9-4.86L17.14,7H6.86ZM15,18H3a1,1,0,0,0,0,2H15a1,1,0,0,0,0-2Zm4-6V11a1,1,0,0,0-2,0v1a1,1,0,0,0,2,0Zm4.91,8.28a.29.29,0,0,0-.21-.09H20.87L22.45,19a3.75,3.75,0,0,0,1.06-1.11,2.48,2.48,0,0,0,.31-1.24,2.61,2.61,0,0,0-.35-1.32,2.67,2.67,0,0,0-1-1A3.48,3.48,0,0,0,20.78,14a3.42,3.42,0,0,0-1.7.39,2.65,2.65,0,0,0-1,1,2.53,2.53,0,0,0-.37,1.27.24.24,0,0,0,.24.24h1.39a.74.74,0,0,0,.28-.05.37.37,0,0,0,.17-.21l.16-.4a1,1,0,0,1,.29-.28,1,1,0,0,1,.6-.15.85.85,0,0,1,.75.28,1,1,0,0,1,.2.57,1.08,1.08,0,0,1-.12.5,1.68,1.68,0,0,1-.48.5l-3.37,2.41a.78.78,0,0,0-.33.67v1a.31.31,0,0,0,.31.31H23.7a.29.29,0,0,0,.21-.09.29.29,0,0,0,.09-.22V20.49A.29.29,0,0,0,23.91,20.28Z /> </symbol> <symbol id=icon-notification-off viewBox="0 0 24 24"> <path d=M21.71,20.29l-18-18A1,1,0,0,0,3,2,1,1,0,0,0,2,3a1,1,0,0,0,.29.71L6,7.42A6.93,6.93,0,0,0,5,11v4.76c0,2.35-2,2-2,3.24a1,1,0,0,0,1,1H18.59l1.7,1.71A1,1,0,0,0,21,22a1,1,0,0,0,1-1A1,1,0,0,0,21.71,20.29ZM6.43,18A4.6,4.6,0,0,0,7,15.76V11a4.81,4.81,0,0,1,.48-2.11L16.59,18ZM12,6a5,5,0,0,1,5,5v1.76l2,2V11a7,7,0,0,0-5-6.71V4a2,2,0,0,0-4,0v.29A7.38,7.38,0,0,0,9,4.7L10.5,6.26A4.63,4.63,0,0,1,12,6Zm0,17a3,3,0,0,0,2.82-2H9.18A3,3,0,0,0,12,23Z /> </symbol> <symbol id=icon-image viewBox="0 0 24 24"> <path d=M18,3H6A3,3,0,0,0,3,6V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V6A3,3,0,0,0,18,3Zm1,15a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V6A1,1,0,0,1,6,5H18a1,1,0,0,1,1,1ZM9,10.5A1.5,1.5,0,1,0,7.5,9,1.5,1.5,0,0,0,9,10.5ZM14,13l-3,3L9,14,6.85,16.15a.47.47,0,0,0-.14.35.5.5,0,0,0,.5.5h9.58a.5.5,0,0,0,.5-.5.47.47,0,0,0-.14-.35Z /> </symbol> <symbol id=icon-collection viewBox="0 0 24 24"> <path d=M19,20H5a3,3,0,0,1-3-3V6A3,3,0,0,1,5,3H9.17a3,3,0,0,1,2.12.88L12.41,5H19a3,3,0,0,1,3,3v9A3,3,0,0,1,19,20ZM5,5A1,1,0,0,0,4,6V17a1,1,0,0,0,1,1H19a1,1,0,0,0,1-1V8a1,1,0,0,0-1-1H12a1,1,0,0,1-.71-.29L9.88,5.29A1.05,1.05,0,0,0,9.17,5Z /> </symbol> <symbol id=icon-viewscreen viewBox="0 0 24 24"> <path d=M9,3H6A3,3,0,0,0,3,6V9A1,1,0,0,0,5,9V6A1,1,0,0,1,6,5H9A1,1,0,0,0,9,3ZM9,19H6a1,1,0,0,1-1-1V15a1,1,0,0,0-2,0v3a3,3,0,0,0,3,3H9a1,1,0,0,0,0-2ZM18,3H15a1,1,0,0,0,0,2h3a1,1,0,0,1,1,1V9a1,1,0,0,0,2,0V6A3,3,0,0,0,18,3Zm2,11a1,1,0,0,0-1,1v3a1,1,0,0,1-1,1H15a1,1,0,0,0,0,2h3a3,3,0,0,0,3-3V15A1,1,0,0,0,20,14Z /> </symbol> <symbol id=icon-story viewBox="0 0 24 24"> <path d=M5.31,7a1,1,0,0,1-1-1,1,1,0,0,1,.25-.66A1,1,0,0,1,5.31,5,1,1,0,0,1,6,5.23,1,1,0,0,1,6.32,6,1,1,0,0,1,5.31,7ZM4.39,9.52a1,1,0,0,1-.95.69.87.87,0,0,1-.31-.05,1,1,0,0,1-.69-.95,1.12,1.12,0,0,1,.05-.31,1,1,0,0,1,2,.31A1.12,1.12,0,0,1,4.39,9.52Zm4-4.74a1,1,0,0,1-.91-.59,1,1,0,0,1-.09-.41,1,1,0,0,1,.59-.92,1,1,0,0,1,1.32.51,1,1,0,0,1,.09.41A1,1,0,0,1,8.34,4.78ZM3.06,11.93a1,1,0,0,1,1,1,1,1,0,0,1-.9,1h-.1a1,1,0,0,1-1-.89h0v-.09A1,1,0,0,1,3.06,11.93ZM4.21,15.5a1,1,0,0,1,.86.5A8,8,0,1,0,12,4a1,1,0,0,1,0-2c4,0,10,3.07,10,10,0,7.33-6.59,10-10,10-5.6,0-8.79-4.57-8.79-5.5A1,1,0,0,1,4.21,15.5ZM12,6a1,1,0,0,1,1,1v5h0a1.09,1.09,0,0,1-.07.35l0,.07a.92.92,0,0,1-.19.28l0,0a1.57,1.57,0,0,1-.19.15L9,14.87a1,1,0,0,1-1-1.74l3-1.71V7A1,1,0,0,1,12,6Z /> </symbol> <symbol id=icon-compose-sm viewBox="0 0 24 24"> <path d=M15.5,11H13V8.5a1,1,0,0,0-2,0V11H8.5a1,1,0,0,0,0,2H11v2.5a1,1,0,0,0,2,0V13h2.5a1,1,0,0,0,0-2Zm2-8H6.5A3.5,3.5,0,0,0,3,6.5v11A3.5,3.5,0,0,0,6.5,21h11A3.5,3.5,0,0,0,21,17.5V6.5A3.5,3.5,0,0,0,17.5,3ZM19,17.5A1.5,1.5,0,0,1,17.5,19H6.5A1.5,1.5,0,0,1,5,17.5V6.5A1.5,1.5,0,0,1,6.5,5h11A1.5,1.5,0,0,1,19,6.5Z /> </symbol> <symbol id=icon-vault viewBox="0 0 24 24"> <path d=M20.33,5.69h0l-.9-1.35A3,3,0,0,0,16.93,3H7.07a3,3,0,0,0-2.5,1.34l-.9,1.35A4,4,0,0,0,3,7.91V18a3,3,0,0,0,3,3H18a3,3,0,0,0,3-3V7.91A4,4,0,0,0,20.33,5.69ZM6.24,5.45A1,1,0,0,1,7.07,5h9.86a1,1,0,0,1,.83.45l.37.55H5.87ZM19,18a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V8H19ZM9.5,12.75A1.25,1.25,0,1,0,8.25,11.5,1.25,1.25,0,0,0,9.5,12.75ZM7.93,17h8.14a.42.42,0,0,0,.3-.73L13.7,13.6l-2.55,2.55-1.7-1.7L7.63,16.27a.42.42,0,0,0,.3.73Z /> </symbol> <symbol id=icon-smileys-people viewBox="0 0 24 24"> <path d=M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20ZM8.5,11a1.5,1.5,0,1,0-1.06-.44A1.51,1.51,0,0,0,8.5,11Zm7-3a1.5,1.5,0,1,0,1.06.44A1.51,1.51,0,0,0,15.5,8Zm.5,6H8a1,1,0,0,0-.89.55,1,1,0,0,0,.09,1,6,6,0,0,0,9.6,0,1,1,0,0,0,.09-1A1,1,0,0,0,16,14Z /> </symbol> <symbol id=icon-emoji viewBox="0 0 24 24"> <path d=M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20ZM8.5,11A1.5,1.5,0,1,0,7,9.5,1.5,1.5,0,0,0,8.5,11Zm7-3A1.5,1.5,0,1,0,17,9.5,1.5,1.5,0,0,0,15.5,8Zm.5,6c-1.08,0-1.31,2-4,2s-2.92-2-4-2a1,1,0,0,0-1,1c0,.66,1.9,3,5,3s5-2.34,5-3A1,1,0,0,0,16,14Z /> </symbol> <symbol id=icon-animals-nature viewBox="0 0 24 24"> <path d=M14.66,14.58c-.49,0-.62.44-1.1.44a.57.57,0,0,1-.56-.61h0a1,1,0,0,0-2,0,.57.57,0,0,1-.56.61c-.48,0-.61-.44-1.1-.44a.83.83,0,0,0-.84.87c0,.87,1.15,1.4,2,1.4A2.48,2.48,0,0,0,12,16.4a2.49,2.49,0,0,0,1.47.48c.91,0,2-.6,2-1.43A.83.83,0,0,0,14.66,14.58ZM23,13l-.24,0-.75.19q0-.47,0-.93L23.22,12c.46-.11.58-.52.58-1,0-.6-.31-1-.81-1a1.07,1.07,0,0,0-.25,0l-1,.25C21.19,6,19.53,2,17.5,2c-1.23,0-2.74,1.58-3.81,3.13a11,11,0,0,0-3.38,0C9.24,3.58,7.73,2,6.5,2c-2,0-3.69,4-4.27,8.28l-1-.25A1.07,1.07,0,0,0,1,10c-.59,0-.81.49-.81,1s.12.86.58,1L2,12.29q0,.46,0,.93L1.26,13A1.07,1.07,0,0,0,1,13c-.59,0-.81.49-.81,1s.12.86.58,1l1.46.37c1,3.8,5,6.66,9.76,6.66s8.76-2.86,9.76-6.66L23.22,15c.46-.11.58-.52.58-1C23.8,13.4,23.48,13,23,13Zm-3,.72L18.76,14c-.46.11-.61.52-.61,1s.26,1,.85,1l.24,0,.18,0A8.2,8.2,0,0,1,12,20a8.2,8.2,0,0,1-7.42-4.07l.18,0L5,16c.6,0,.85-.49.85-1s-.15-.86-.61-1L4,13.72c0-.07,0-.14,0-.22,0-.24,0-.48,0-.72l.74.19L5,13c.6,0,.85-.49.85-1s-.15-.86-.61-1l-1.07-.27C4.63,7,5.93,4.51,6.54,4A8.2,8.2,0,0,1,9,6.76a1,1,0,0,0,.85.47A14,14,0,0,1,12,7a14,14,0,0,1,2.17.23A1,1,0,0,0,15,6.76,8.2,8.2,0,0,1,17.46,4c.61.47,1.91,3,2.37,6.72L18.76,11c-.46.11-.61.52-.61,1s.26,1,.85,1l.24,0,.74-.19c0,.24,0,.48,0,.72C20,13.58,20,13.65,20,13.72ZM10,11.5a1.5,1.5,0,1,0-.44,1.06A1.51,1.51,0,0,0,10,11.5ZM15.5,10a1.5,1.5,0,1,0,1.06.44A1.51,1.51,0,0,0,15.5,10Z /> </symbol> <symbol id=icon-flag viewBox="0 0 24 24"> <path d=M4,22a1,1,0,0,1-1-1V6A3,3,0,0,1,6,3H20a1,1,0,0,1,1,1,1,1,0,0,1-.17.55L17.2,10l3.63,5.45A1,1,0,0,1,21,16a1,1,0,0,1-1,1H6a1,1,0,0,0-1,1v3A1,1,0,0,1,4,22ZM6,5A1,1,0,0,0,5,6v9.17A3,3,0,0,1,6,15H18.13l-3-4.45a1,1,0,0,1,0-1.1l3-4.45Z /> </symbol> <symbol id=icon-food-drinks viewBox="0 0 24 24"> <path d=M21,9a1,1,0,0,0,0-.24l-.62-2.49A3,3,0,0,0,17.44,4H16.28L17,1.24A1,1,0,0,0,17,1c0-.32-.25-.8-1-.8-.44,0-.85.1-1,.56L14.22,4H6.56A3,3,0,0,0,3.65,6.27L3,8.76A1,1,0,0,0,3,9a1,1,0,0,0,1,1H5.15l1.59,9.49A3,3,0,0,0,9.69,22h4.62a3,3,0,0,0,3-2.51L18.85,10H20A1,1,0,0,0,21,9ZM5.59,6.76a1,1,0,0,1,1-.76H17.44a1,1,0,0,1,1,.76L18.72,8H5.28Zm9.7,12.41a1,1,0,0,1-1,.83H9.69a1,1,0,0,1-1-.83L7.18,10h9.64Z /> </symbol> <symbol id=icon-objects viewBox="0 0 24 24"> <path d=M12.1,2A7.58,7.58,0,0,0,4.5,9.51C4.5,14,7.83,15.32,8,16.19l.47,3.24a3,3,0,0,0,3,2.57h1.2a3,3,0,0,0,3-2.57L16,16.19c.13-.88,3.46-2.23,3.46-6.69A7.5,7.5,0,0,0,12.1,2Zm.5,18H11.4a1,1,0,0,1-1-.86L10.24,18h3.52l-.17,1.14A1,1,0,0,1,12.6,20Zm1.47-4.1,0,.11H10l0-.11C9.57,13.39,6.5,13.61,6.5,9.5A5.6,5.6,0,0,1,12,4a5.5,5.5,0,0,1,5.5,5.5C17.5,13.46,14.42,13.48,14.07,15.9Z /> </symbol> <symbol id=icon-recent viewBox="0 0 24 24"> <path d=M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm4.47-6a1,1,0,0,0-.5-.86l-3-1.72V7a1,1,0,0,0-2,0v5a1,1,0,0,0,.5.87l3.47,2a1,1,0,0,0,1.5-.87Z /> </symbol> <symbol id=icon-smileys-people viewBox="0 0 24 24"> <path d=M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20ZM8.5,11a1.5,1.5,0,1,0-1.06-.44A1.51,1.51,0,0,0,8.5,11Zm7-3a1.5,1.5,0,1,0,1.06.44A1.51,1.51,0,0,0,15.5,8Zm.5,6H8a1,1,0,0,0-.89.55,1,1,0,0,0,.09,1,6,6,0,0,0,9.6,0,1,1,0,0,0,.09-1A1,1,0,0,0,16,14Z /> </symbol> <symbol id=icon-symbols viewBox="0 0 24 24"> <path d=M16.25,3A5.66,5.66,0,0,0,12,5.2,5.66,5.66,0,0,0,7.75,3,5.89,5.89,0,0,0,2,9c0,1.36.28,2.17,1.13,2.17a1,1,0,0,0,1-1A9.52,9.52,0,0,1,4,9,3.88,3.88,0,0,1,7.75,5a3.8,3.8,0,0,1,3.3,2.56,1,1,0,0,0,1.9,0A3.8,3.8,0,0,1,16.25,5,3.88,3.88,0,0,1,20,9c0,4.52-9,10.55-9,12a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29C18.12,16.3,22,13.06,22,9A5.89,5.89,0,0,0,16.25,3ZM9.61,16.25a.53.53,0,0,1,.2-.41l2-1.65a.56.56,0,0,0,.19-.41.53.53,0,0,0-.5-.53l-2.59-.16a.55.55,0,0,1-.46-.34l-1-2.41a.52.52,0,0,0-1,0l-1,2.41a.55.55,0,0,1-.46.34l-2.59.16a.53.53,0,0,0-.5.53.56.56,0,0,0,.19.41l2,1.65a.53.53,0,0,1,.2.41.51.51,0,0,1,0,.13L3.72,18.9a.57.57,0,0,0,0,.13.53.53,0,0,0,.53.53.46.46,0,0,0,.28-.08l2.2-1.39a.53.53,0,0,1,.56,0l2.2,1.39a.46.46,0,0,0,.28.08.53.53,0,0,0,.53-.53.57.57,0,0,0,0-.13l-.65-2.52A.51.51,0,0,1,9.61,16.25Z /> </symbol> <symbol id=icon-travel-places viewBox="0 0 24 24"> <path d=M18,12H17a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2ZM7,12H6a1,1,0,0,0,0,2H7a1,1,0,0,0,0-2ZM22.5,9a1,1,0,0,0-1-1h-1l-.68-2.73A3,3,0,0,0,16.94,3H7.06A3,3,0,0,0,4.15,5.27L3.47,8h-1a1,1,0,0,0,0,2h.28A3,3,0,0,0,2,12v7.5A1.5,1.5,0,0,0,3.5,21h1A1.5,1.5,0,0,0,6,19.5V19H18v.5A1.5,1.5,0,0,0,19.5,21h1A1.5,1.5,0,0,0,22,19.5V12a3,3,0,0,0-.78-2h.28A1,1,0,0,0,22.5,9ZM6.09,5.76a1,1,0,0,1,1-.76h9.88a1,1,0,0,1,1,.76L18.72,9H5.28ZM20,16a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H19a1,1,0,0,1,1,1Z /> </symbol> <symbol id=icon-activity viewBox="0 0 24 24"> <path d=M19,5H18V4a1,1,0,0,0-1-1H7A1,1,0,0,0,6,4V5H5A2,2,0,0,0,3,7v3a4.94,4.94,0,0,0,3.69,4.79,6,6,0,0,0,4.17,3.1A3,3,0,0,1,8,20a1,1,0,1,0,0,2h8a1,1,0,1,0,0-2,3,3,0,0,1-2.85-2.11,6.05,6.05,0,0,0,4.15-3.1A4.94,4.94,0,0,0,21,10V7A2,2,0,0,0,19,5ZM5,10V7H6v5c0,.08,0,.15,0,.23A3,3,0,0,1,5,10Zm7,6a4,4,0,0,1-4-4V5h8v7A4,4,0,0,1,12,16Zm7-6a3,3,0,0,1-1,2.23c0-.08,0-.15,0-.23V7h1Z /> </symbol> <symbol id=icon-full-screen-exit viewBox="0 0 24 24"> <path d=M8,9H4A1,1,0,0,1,4,7H7V4A1,1,0,0,1,9,4V8A1,1,0,0,1,8,9Z /><path d=M8,21a1,1,0,0,1-1-1V17H4a1,1,0,0,1,0-2H8a1,1,0,0,1,1,1v4A1,1,0,0,1,8,21Z /><path d=M20,9H16a1,1,0,0,1-1-1V4a1,1,0,0,1,2,0V7h3a1,1,0,0,1,0,2Z /><path d=M16,21a1,1,0,0,1-1-1V16a1,1,0,0,1,1-1h4a1,1,0,0,1,0,2H17v3A1,1,0,0,1,16,21Z /> </symbol> <symbol id=icon-chin viewBox="0 0 24 24"> <path d=M22,5a1,1,0,0,0-2,0A8,8,0,0,1,4,5,1,1,0,0,0,2,5,10,10,0,0,0,22,5ZM4.35,14.48a1.26,1.26,0,0,0,0-.27C4.2,13.84,4.1,13,3.22,13a1,1,0,0,0-1,1,.83.83,0,0,0,0,.22c.12.54.27,1.26,1.1,1.26A1,1,0,0,0,4.35,14.48Zm6.72,6.31a1,1,0,0,0-.78-1,7.8,7.8,0,0,0-1.15-.28,1,1,0,0,0-.32,1.94,6.38,6.38,0,0,0,1.25.31A1,1,0,0,0,11.07,20.79ZM6.34,17.65c-.43-.43-.6-.79-1.16-.79a1,1,0,0,0-1,1c0,.42.19.65.75,1.2a1.23,1.23,0,0,0,.92.5,1,1,0,0,0,.68-1.73Zm12.48-.77a1,1,0,0,0-.76.34c-.57.66-.91.78-.91,1.35a1,1,0,0,0,1,1,1,1,0,0,0,.68-.27c.84-.79,1-1,1-1.43A1,1,0,0,0,18.82,16.88Zm-4,2.66a8.13,8.13,0,0,0-1.15.28,1,1,0,0,0,.21,2l.22,0c1-.22,1.72-.43,1.72-1.23A1,1,0,0,0,14.85,19.54ZM21.78,14a1,1,0,0,0-1-1,1,1,0,0,0-1,.78,3.55,3.55,0,0,0-.14.7,1,1,0,0,0,1,1C21.73,15.48,21.78,14,21.78,14ZM15.5,5A1.5,1.5,0,1,0,14,3.5,1.5,1.5,0,0,0,15.5,5Zm-7,0A1.5,1.5,0,1,0,7,3.5,1.5,1.5,0,0,0,8.5,5ZM8,7A1,1,0,0,0,7,8c0,1.79,4.78,2,5,2s5-.21,5-2a1,1,0,0,0-1-1c-.71,0-1.22,1-4,1S8.73,7,8,7Z /> </symbol> <symbol id=icon-color viewBox="0 0 24 24"> <path class=a d=M0,0H24V24H0Z /><path d=M12,2a10,10,0,0,0,0,20,2.5,2.5,0,0,0,2.5-2.5,2.54,2.54,0,0,0-.64-1.67.53.53,0,0,1-.13-.33.5.5,0,0,1,.5-.5H16a6,6,0,0,0,6-6C22,6,17.51,2,12,2Zm4,13H14.23a2.49,2.49,0,0,0-1.87,4.15.54.54,0,0,1,.14.35.5.5,0,0,1-.5.5A8,8,0,0,1,12,4c4.41,0,8,3.14,8,7A4,4,0,0,1,16,15ZM6.5,10A1.5,1.5,0,1,0,8,11.5,1.5,1.5,0,0,0,6.5,10Zm3-4A1.5,1.5,0,1,0,11,7.5,1.5,1.5,0,0,0,9.5,6Zm5,0A1.5,1.5,0,1,0,16,7.5,1.5,1.5,0,0,0,14.5,6ZM16,11.5A1.5,1.5,0,1,0,17.5,10,1.5,1.5,0,0,0,16,11.5Z /> </symbol> <symbol id=icon-color-dark viewBox="0 0 24 24"> <path d=M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a7.9,7.9,0,0,1-4-1.07A7.93,7.93,0,0,0,9,19,7,7,0,0,0,9,5a7.93,7.93,0,0,0-1,.07A7.9,7.9,0,0,1,12,4a8,8,0,0,1,0,16Z /> </symbol> <symbol id=icon-color-light viewBox="0 0 24 24"> <path d=M12,22A10,10,0,1,1,22,12,10,10,0,0,1,12,22ZM12,4a8,8,0,1,0,8,8A8,8,0,0,0,12,4Z /> </symbol> <symbol id=icon-color-medium viewBox="0 0 24 24"> <path d=M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,0,1-3.57-.85,8.95,8.95,0,0,0,0-14.3A8,8,0,1,1,12,20Z /> </symbol> <symbol id=icon-eyebrows viewBox="0 0 24 24"> <path d=M23,9.71C23,8.62,19,3,12.16,3a12.53,12.53,0,0,0-2.27.21L1.82,4.73a1,1,0,0,0-.82,1,4.61,4.61,0,0,0,4.59,4.61,4.67,4.67,0,0,0,1.47-.24l4.41-1.47a10.26,10.26,0,0,1,9.72,1.73l.19.15a1,1,0,0,0,.62.22A1,1,0,0,0,23,9.71ZM14.75,6.07a12.27,12.27,0,0,0-3.91.64L6.43,8.18a2.73,2.73,0,0,1-.83.14,2.62,2.62,0,0,1-2.47-1.8l7.13-1.34A10.27,10.27,0,0,1,12.16,5a10.43,10.43,0,0,1,5.06,1.32A12.77,12.77,0,0,0,14.75,6.07ZM20.3,13c-1.05,0-2.9,3.69-8.3,3.69S4.75,13,3.7,13a1,1,0,0,0-1,1c0,.3,0,.77,2,2.26l-.56.89a1,1,0,0,0-.15.53,1,1,0,0,0,1,1,1,1,0,0,0,.85-.47l.56-.89a11.79,11.79,0,0,0,1.26.56l-.52,1.79a1.45,1.45,0,0,0,0,.28,1,1,0,0,0,1,1,1,1,0,0,0,1-.72l.52-1.78a12.39,12.39,0,0,0,1.38.19v2.05a1,1,0,0,0,2,0V18.64a12.39,12.39,0,0,0,1.38-.19l.6,2.08a1,1,0,0,0,2-.28,1,1,0,0,0,0-.28l-.6-2.09a11.79,11.79,0,0,0,1.26-.56l.75,1.19A1,1,0,0,0,20.16,18a.94.94,0,0,0-.16-.53l-.74-1.19c2-1.5,2-2,2-2.26A1,1,0,0,0,20.3,13Z /> </symbol> <symbol id=icon-face viewBox="0 0 24 24"> <path d=M21.16,8s0,0,0,0,0,0,0,0A10,10,0,0,0,12,2a9.79,9.79,0,0,0-3.26.56h0l0,0A10,10,0,1,0,22,12,9.92,9.92,0,0,0,21.16,8ZM12,4a8,8,0,0,1,6.78,3.78A7.61,7.61,0,0,1,17,8a7.53,7.53,0,0,1-6.54-3.85A7.81,7.81,0,0,1,12,4ZM8.21,5A7.51,7.51,0,0,1,4.34,9.68,8,8,0,0,1,8.21,5ZM12,20a8,8,0,0,1-8-8A9.55,9.55,0,0,0,9.76,6.63,9.53,9.53,0,0,0,17,10a9.47,9.47,0,0,0,2.64-.38A8.11,8.11,0,0,1,20,12,8,8,0,0,1,12,20Zm3-8.25A1.25,1.25,0,1,0,16.25,13,1.25,1.25,0,0,0,15,11.75Zm-6,0A1.25,1.25,0,1,0,10.25,13,1.25,1.25,0,0,0,9,11.75Z /> </symbol> <symbol id=icon-height viewBox="0 0 24 24"> <path d=M15,17a1,1,0,0,0-.71.29L13,18.59V5.41l1.29,1.3A1,1,0,0,0,15,7a1,1,0,0,0,1-1,1,1,0,0,0-.29-.71L12,1.59,8.29,5.29A1,1,0,0,0,8,6,1,1,0,0,0,9,7a1,1,0,0,0,.71-.29L11,5.41V18.59l-1.29-1.3A1,1,0,0,0,9,17a1,1,0,0,0-1,1,1,1,0,0,0,.29.71L12,22.41l3.71-3.7A1,1,0,0,0,16,18,1,1,0,0,0,15,17Z /> </symbol> <symbol id=icon-jawline viewBox="0 0 24 24"> <path d=M18.71,15.29A1,1,0,0,0,18,15a1,1,0,0,0-1,1,1,1,0,0,0,.29.71L18.59,18H5.41l1.3-1.29A1,1,0,0,0,7,16a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L1.59,19l3.7,3.71A1,1,0,0,0,6,23a1,1,0,0,0,1-1,1,1,0,0,0-.29-.71L5.41,20H18.59l-1.3,1.29A1,1,0,0,0,17,22a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29L22.41,19ZM12,15A10,10,0,0,0,22,5a1,1,0,0,0-2,0A8,8,0,0,1,4,5,1,1,0,0,0,2,5,10,10,0,0,0,12,15ZM15.5,5A1.5,1.5,0,1,0,14,3.5,1.5,1.5,0,0,0,15.5,5Zm-7,0A1.5,1.5,0,1,0,7,3.5,1.5,1.5,0,0,0,8.5,5ZM8,7A1,1,0,0,0,7,8c0,1.79,4.78,2,5,2s5-.21,5-2a1,1,0,0,0-1-1c-.71,0-1.22,1-4,1S8.73,7,8,7Z /> </symbol> <symbol id=icon-lips viewBox="0 0 24 24"> <path d=M22.6,10C20,8.18,18.65,4,15.14,4A4,4,0,0,0,12,5.42,4,4,0,0,0,8.86,4C5.34,4,4,8.18,1.4,10a2.06,2.06,0,0,0-.9,1.7,2.08,2.08,0,0,0,.66,1.51C3.62,15.51,4.07,21,12,21c5.84,0,7.65-3,9.11-5.44,1.72-2.86,2.39-2.6,2.39-3.91A2,2,0,0,0,22.6,10Zm-1.14,1.77C18.54,14.5,18.75,19,12,19s-6.54-4.5-9.46-7.28v-.13C5.29,9.69,6.62,6,8.86,6,10.8,6,10.79,8,12,8s1.19-2,3.14-2c2.24,0,3.55,3.69,6.32,5.59Zm-2.58.13s0-.06-.09-.16,0,0-.15-.11,0,0-.16-.05l-.07,0h0a5.5,5.5,0,0,1-1.45-.19,6.59,6.59,0,0,0-1.55-.27,7.47,7.47,0,0,0-2.08.47,4,4,0,0,1-1.26.23H12a4,4,0,0,1-1.26-.23,7.47,7.47,0,0,0-2.08-.47,6.59,6.59,0,0,0-1.55.27,5.5,5.5,0,0,1-1.45.19h0a.48.48,0,0,0-.17.05s-.07,0-.1,0a.48.48,0,0,0-.09.11.36.36,0,0,0-.15.32c0,.79,3.76,1.71,6.92,1.73,4.24,0,6.72-1.28,6.83-1.45a.58.58,0,0,0,.05-.14.74.74,0,0,0,0-.14h0A.54.54,0,0,0,18.88,11.85Z /> </symbol> <symbol id=icon-makeup viewBox="0 0 24 24"> <path d=M20,12V5.2A2.19,2.19,0,0,0,17.8,3a2.27,2.27,0,0,0-1,.23L13.66,4.81A3,3,0,0,0,12,7.5V12a1,1,0,0,0-1,1v5.5A2.5,2.5,0,0,0,13.5,21h5A2.5,2.5,0,0,0,21,18.5V13A1,1,0,0,0,20,12ZM14,7.5a1,1,0,0,1,.55-.9L17.71,5l.09,0a.2.2,0,0,1,.2.2V12H14Zm5,11a.5.5,0,0,1-.5.5h-5a.5.5,0,0,1-.5-.5V14h6ZM10,8H4A1,1,0,0,0,3,9v9.5A2.5,2.5,0,0,0,5.5,21H9a1,1,0,0,0,0-2H5.5a.5.5,0,0,1-.5-.5V14H7a1,1,0,0,0,0-2H5V10h5a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-nose viewBox="0 0 24 24"> <path d=M9,14c1.1,0,2-2.05,2-3.41V4A1,1,0,0,0,9,4v6.59C9,12.06,8,12.17,8,13A1,1,0,0,0,9,14Zm6,0a1,1,0,0,0,1-1c0-.82-1-.95-1-2.41a1,1,0,0,0-2,0C13,11.88,13.88,14,15,14Zm5,1.5a1,1,0,0,0-1,1,1.25,1.25,0,0,1-1.25,1.25c-.64,0-.91-.51-2-.51C13.9,17.24,14,19,12,19s-1.89-1.72-3.79-1.72c-1.05,0-1.32.51-2,.51A1.25,1.25,0,0,1,5,16.5a1,1,0,0,0-2,0,3.26,3.26,0,0,0,3.25,3.25c1.16,0,1.53-.51,1.95-.51S9.47,21,12,21s3.27-1.76,3.8-1.76.79.51,1.95.51A3.26,3.26,0,0,0,21,16.5,1,1,0,0,0,20,15.5Z /> </symbol> <symbol id=icon-position viewBox="0 0 24 24"> <path d=M9,7a1,1,0,0,0,.71-.29L11,5.41V8.5a1,1,0,0,0,2,0V5.41l1.29,1.3A1,1,0,0,0,15,7a1,1,0,0,0,1-1,1,1,0,0,0-.29-.71L12,1.59,8.29,5.29A1,1,0,0,0,8,6,1,1,0,0,0,9,7Zm6,10a1,1,0,0,0-.71.29L13,18.59V15.5a1,1,0,0,0-2,0v3.09l-1.29-1.3A1,1,0,0,0,9,17a1,1,0,0,0-1,1,1,1,0,0,0,.29.71L12,22.41l3.71-3.7A1,1,0,0,0,16,18,1,1,0,0,0,15,17Zm4-6H5a1,1,0,0,0,0,2H19a1,1,0,0,0,0-2Z /> </symbol> <symbol id=icon-smooth viewBox="0 0 24 24"> <path class=a d=M0,0H24V24H0Z /><path d=M6,13a1,1,0,1,0,1,1A1,1,0,0,0,6,13Zm0,4.13a.88.88,0,0,0,0,1.75.88.88,0,1,0,0-1.75ZM6,9a1,1,0,1,0,1,1A1,1,0,0,0,6,9ZM3,9.5a.5.5,0,1,0,.5.5A.5.5,0,0,0,3,9.5ZM6,5.13A.88.88,0,0,0,6,6.88.88.88,0,1,0,6,5.13ZM21,10.5a.5.5,0,1,0-.5-.5A.5.5,0,0,0,21,10.5ZM14,7a1,1,0,1,0-1-1A1,1,0,0,0,14,7Zm0-3.5a.5.5,0,1,0-.5-.5A.5.5,0,0,0,14,3.5ZM3,13.5a.5.5,0,1,0,.5.5A.5.5,0,0,0,3,13.5Zm7,7a.5.5,0,1,0,.5.5A.5.5,0,0,0,10,20.5Zm0-17A.5.5,0,1,0,9.5,3,.5.5,0,0,0,10,3.5ZM10,7A1,1,0,1,0,9,6,1,1,0,0,0,10,7Zm0,5.5A1.5,1.5,0,1,0,11.5,14,1.5,1.5,0,0,0,10,12.5Zm8,.5a1,1,0,1,0,1,1A1,1,0,0,0,18,13Zm0,4.13a.88.88,0,0,0,0,1.75.88.88,0,1,0,0-1.75ZM18,9a1,1,0,1,0,1,1A1,1,0,0,0,18,9Zm0-3.87a.88.88,0,0,0,0,1.75.88.88,0,1,0,0-1.75Zm3,8.37a.5.5,0,1,0,.5.5A.5.5,0,0,0,21,13.5ZM14,17a1,1,0,1,0,1,1A1,1,0,0,0,14,17Zm0,3.5a.5.5,0,1,0,.5.5A.5.5,0,0,0,14,20.5Zm-4-12A1.5,1.5,0,1,0,11.5,10,1.5,1.5,0,0,0,10,8.5ZM10,17a1,1,0,1,0,1,1A1,1,0,0,0,10,17Zm4-4.5A1.5,1.5,0,1,0,15.5,14,1.5,1.5,0,0,0,14,12.5Zm0-4A1.5,1.5,0,1,0,15.5,10,1.5,1.5,0,0,0,14,8.5Z /> </symbol> <symbol id=icon-thickness viewBox="0 0 24 24"> <path d=M12,11.41l3.71-3.7A1,1,0,0,0,16,7a1,1,0,0,0-1-1,1,1,0,0,0-.71.29L13,7.59V3a1,1,0,0,0-2,0V7.59L9.71,6.29A1,1,0,0,0,9,6,1,1,0,0,0,8,7a1,1,0,0,0,.29.71Zm0,1.18-3.71,3.7A1,1,0,0,0,8,17a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29L11,16.41V21a1,1,0,0,0,2,0V16.41l1.29,1.3A1,1,0,0,0,15,18a1,1,0,0,0,1-1,1,1,0,0,0-.29-.71Z /> </symbol> <symbol id=icon-width viewBox="0 0 24 24"> <path d=M7,15a1,1,0,0,0-.29-.71L5.41,13H18.59l-1.3,1.29A1,1,0,0,0,17,15a1,1,0,0,0,1,1,1,1,0,0,0,.71-.29L22.41,12l-3.7-3.71A1,1,0,0,0,18,8a1,1,0,0,0-1,1,1,1,0,0,0,.29.71L18.59,11H5.41l1.3-1.29A1,1,0,0,0,7,9,1,1,0,0,0,6,8a1,1,0,0,0-.71.29L1.59,12l3.7,3.71A1,1,0,0,0,6,16,1,1,0,0,0,7,15Z /> </symbol> <symbol id=icon-beauty viewBox="0 0 24 24"> <path d=M18,10a1,1,0,0,0-.29-.71l-3-3a1,1,0,0,0-1.42,0L2.91,16.67A3.15,3.15,0,0,0,2,18.88,3.12,3.12,0,0,0,5.12,22a3.15,3.15,0,0,0,2.21-.91L17.71,10.71A1,1,0,0,0,18,10ZM5.91,19.67a1.09,1.09,0,0,1-.79.33A1.12,1.12,0,0,1,4,18.88a1.09,1.09,0,0,1,.33-.79l6.17-6.18,1.59,1.59Zm7.59-7.58L11.91,10.5,14,8.41,15.59,10ZM22,2,19.5,3.4,17,2l1.4,2.5L17,7l2.5-1.4L22,7,20.6,4.5ZM7.5,5.6,10,7,8.6,4.5,10,2,7.5,3.4,5,2,6.4,4.5,5,7Zm12,9.8L17,14l1.4,2.5L17,19l2.5-1.4L22,19l-1.4-2.5L22,14Z /> </symbol> </svg> ';e.exports=s},7520:function(e,t,s){"use strict";s("96cf");var i=s("3b8d"),r=s("ce23");t["a"]={mixins:[r["a"]],methods:{goToStream:function(e){this.$router.push({name:"Live",params:{user:e.username}})},payForStream:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,s){var i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.makePayments({paymentType:"stream",streamId:t.id,amount:t.price},(function(){return r.payForStream(t,s)}));case 2:i=e.sent,i&&i.success&&this.goToStream(s),this.clicked=!1,this.clickedOnPay=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t,s){return e.apply(this,arguments)}return t}()}}},"76db":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-switcher-wrapper",class:{"g-input__wrapper":e.withLabel}},[e.withLabel?s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.labelText)+" "),e.isOptional?s("span",{staticClass:"g-input__optional"},[e._v(" "+e._s(e.$t("message.field_optional_title"))+" ")]):e._e()]):e._e(),s("div",{staticClass:"b-input-radio__wrapper",class:{"g-input__wrapper":!e.withLabel}},[s("span",{staticClass:"b-input-radio__container"},[s("input",{staticClass:"b-input-radio",attrs:{id:e.id,type:"checkbox",name:e.name,required:e.required,disabled:e.disabled},domProps:{checked:e.value},on:{change:e.onClick}}),s("label",{staticClass:"b-input-radio__text",class:{"m-with-help-tip":!!e.infoTip},attrs:{for:e.id}},[s("span",{domProps:{innerHTML:e._s(e.label)}}),e.infoTip?s("span",{staticClass:"g-icon-info"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.infoTip,expression:"infoTip",modifiers:{enabled:!0}}],staticClass:"icon-info"})]):e._e()]),s("span",{staticClass:"b-input-radio__label",on:{click:e.onClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})])]),e.error?s("p",{staticClass:"g-input__error"},[e._v(" "+e._s(e.error)+" ")]):e._e()])])},r=[],n=(s("7f7f"),s("ebf6")),a=s("3d94"),o={name:"Checkbox",$_veeValidate:{value:function(){return this.$el[0].value},name:function(){return this.name}},mixins:[n["a"],a["a"]],props:{label:{type:String,default:""},name:{type:String,default:""},value:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:String,default:""},withLabel:{type:Boolean,default:!1},labelText:{type:String,default:""},id:{type:String,default:function(){return this.uid}},disabled:{type:Boolean,default:!1},infoTip:{type:String,default:""}},methods:{onClick:function(e){this.innerLinkToRouter(e),this.disabled||this.$emit("input",!this.value)}}},c=o,l=s("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);t["a"]=u.exports},"792a":function(e,t,s){"use strict";s("7f7f");t["a"]={computed:{uploadedFilesUrl:function(){var e=this;return this.uploadedFiles.map((function(t){return t.videoUploadHost&&t.previewUrl?{url:t.url,thumbId:t.thumbId,previewUrl:t.previewUrl,videoUploadHost:t.videoUploadHost}:t.processId?{processId:t.processId,host:t.host,thumbId:t.thumbId,name:t.name}:t.id?"video"===t.mediaType&&"ChatsSend"!==e.$route.name?{id:t.id,thumbId:t.thumbId}:t.id:t.url}))}}}},"7b6b":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("b775"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,s=e.q,r=e.limit,n=e.offset,a=Object(i["c"])({limit:r,offset:n,q:s}),o=s?"search":"trending",c="".concat(i["b"],"/giphy/proxy/").concat(t,"/").concat(o).concat(a);return i["d"].get(c).then((function(e){return e.data}))}},"7e35":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("8247"),n=s.n(r),a=s("964f"),o=s.n(a),c=s("0591"),l=s.n(c),u=s("d634");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:h({},Object(u["eb"])(["isDarkMode"])),methods:{errorAvatar:function(e){var t;if(t=e.target?e.target:e,t){var s=t.src;-1===s.indexOf("/default_avatar.png")?t.src=n.a:t.onerror=null}},errorCover:function(e){var t=e.target,s=t.src;-1===s.indexOf("/default_header_image.png")&&-1===s.indexOf("/default_header_image_dark.png")?(this.isDarkMode?t.src=l.a:t.src=o.a,t.srcset="",t.sizes=""):t.onerror=null}}}},"7e6d":function(e,t,s){"use strict";var i=s("a4a3"),r=s.n(i);r.a},"7fbd":function(e,t,s){"use strict";var i=s("0cc8"),r=s.n(i);r.a},"835c":function(e,t,s){"use strict";var i=s("1384"),r=s.n(i);r.a},"84df":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{staticClass:"b-users-lists__item",attrs:{to:e.link}},[s("div",{staticClass:"b-users-lists__item__text"},[s("div",{staticClass:"b-users-lists__item__name"},[e._v(" "+e._s(e._f("encodeHtml")(e.usersList.name))+" ")]),s("div",{staticClass:"b-users-lists__item__count"},[e._v(" "+e._s(e.$tc("message.people_plural",e.usersList.usersCount,{COUNT:e.formatCount(e.usersList.usersCount)}))+" ")])]),e.usersList.usersCount?s("div",{staticClass:"b-users-lists__item__avatars"},[e._l(e.users,(function(t){return[s("span",{key:t.id,staticClass:"g-avatar m-border-line-theme",class:{"m-w24":e.isModal,"m-w36":!e.isModal}},[s("image-thumb",{key:"users_lists_list_user_avatar_"+t.id,attrs:{user:t,size:"c50"}})],1)]}))],2):e._e()])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("c5f6"),s("d634")),o=s("e66b"),c=s("f1f7");function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var d={name:"UsersList",components:{ImageThumb:o["a"]},props:{id:{type:Number,required:!0},isModal:{type:Boolean,default:!1}},computed:u(u(u({},Object(a["Qb"])(["getUsersList"])),Object(a["Ob"])(["getUser"])),{},{usersList:function(){return this.getUsersList(this.id)},users:function(){var e=this;return this.usersList.users?this.usersList.users.map((function(t){return e.getUser(t)})):[]},link:function(){switch(this.usersList.type){case"fans":return{name:"SubscribersByType",params:{type:"active"}};case"following":return{name:"SubscribesByType",params:{type:"active"}};case"bookmarks":return{name:"Bookmarks"};case"friends":return{name:"MyFriends"};case"favorites":return{name:"Favorites"};case"close_friends":return{name:"CustomList",params:{list:this.usersList.type}};default:return{name:"CustomList",params:{list:this.usersList.id}}}}}),methods:{formatCount:function(e){return Object(c["a"])(e)}}},h=d,p=s("2877"),m=Object(p["a"])(h,i,r,!1,null,null,null);t["a"]=m.exports},"85ec":function(e,t,s){},8901:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasUser&&!e.isPostsError?s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header post-header"},[s("go-back",{attrs:{default:{name:"Profile",params:{userId:e.user.username}}}}),s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.$t("message.post_page_title"))+" ")]),s("page-title",{attrs:{title:e.$t("message.post_page_title")}}),e.isMyPost?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_stat_modal_title"),expression:"$t('message.post_stat_modal_title')"}],staticClass:"g-page__header__btn m-with-round-hover",on:{click:e.openPostStat}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-statements",staticClass:"icon-statements"})]):s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_stat_modal_title"),expression:"$t('message.post_stat_modal_title')"}],staticClass:"g-page__header__btn m-with-round-hover",on:{click:e.doCopyPostLink}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-share",staticClass:"icon-share"})])],1),s("div",{staticClass:"divider"}),s("users-posts",{attrs:{showPostStreams:!1}})],1):e.hasUser&&e.isPostsError||e.loadingError?s("error-page"):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("4af5"),c=s("1dd8"),l=s("b6ee"),u=s("1db1"),d=s("04fc"),h=s("2ad6"),p=s("d634");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b={name:"PostPage",components:{UsersPosts:o["a"],ErrorPage:c["default"],GoBack:l["a"]},mixins:[u["a"],d["a"],h["a"]],computed:f(f(f(f({},Object(p["b"])(["authUser"])),Object(p["Ob"])(["user","hasUser"])),Object(p["T"])(["activePost","getPost","activePostId","hasActivePost"])),{},{isPostsError:function(){return this.loadingError},postedAt:function(){return this.activePost[0].postedAt},isMyPost:function(){var e,t=+this.$route.params.postId;if(t&&(e=this.hasActivePost&&this.activePostId===t?this.activePost:this.getPost(t),e[0]&&e[0].author===this.authUser.id))return!0;return!1}}),watch:{$route:function(){this.init()}},beforeMount:function(){this.init()},mounted:function(){document.documentElement.classList.add("p-posts-index-index")},beforeDestroy:function(){document.documentElement.classList.remove("p-posts-index-index"),this.clearActivePost()},methods:f(f({},Object(p["U"])(["clearActivePost"])),{},{doCopyPostLink:function(){var e=this,t=window.location.href;this.$copyText(t).then((function(){e.$bvToast.toast(e.$i18n.t("message.copy_link_to_post_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))},init:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.userId,e.next=3,this.fetchProfileData(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},v=b,g=s("2877"),_=Object(g["a"])(v,i,r,!1,null,null,null);t["default"]=_.exports},"89de":function(e,t,s){e.exports=s.p+"img/slide-1-2x.png"},"8a30":function(e,t,s){e.exports=s.p+"img/slide-2.jpg"},"8aaea":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-offer-wrapper"},[s("div",{staticClass:"b-offer-join"},[s("div",{staticClass:"b-offer-join__title"},[e._v(" "+e._s(e.$t("message.bundles_block_title"))+" "),e.isAuthUser?s("span",{staticClass:"g-icon-info m-icon-sm m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.bundles_author_description"),expression:"$t('message.bundles_author_description')",modifiers:{enabled:!0}}],staticClass:"icon-info"})]):e._e()]),e.isAuthUser&&e.user.canAddSubscriberByBundle?s("div",{staticClass:"b-offer-join__btn"},[s("button",{staticClass:"g-btn m-uppercase m-block m-rounded",attrs:{type:"button"},on:{click:e.addNewBundle}},[e._v(" "+e._s(e.$t("message.bundles_add_btn_label"))+" ")]),s("modal-bundle",{attrs:{id:e.bundleId,"bundle-discount":e.bundleDiscount,"bundle-duration":e.bundleDuration}})],1):e._e()])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=s("d634"),o=s("313e"),c=s("e057"),l=s("1db1");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"BundlesCard",components:{ModalBundle:o["a"]},mixins:[c["a"],l["a"]],data:function(){return{bundleId:void 0,bundleDiscount:void 0,bundleDuration:void 0}},computed:d(d({},Object(a["Ob"])(["userId","user"])),Object(a["b"])(["authUser"])),methods:d(d({},Object(a["Sb"])(["setModalUser"])),{},{openModalBundle:function(){var e=this;this.setModalUser({userId:this.userId}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalBundle")}))},addNewBundle:function(){this.bundleId=void 0,this.bundleDiscount=void 0,this.bundleDuration=void 0,this.openModalBundle()}}),mounted:function(){var e=this;this.$root.$on("bv::show::modal:ModalBundle:setBundle",(function(t){e.bundleId=t.id,e.bundleDiscount=t.discount,e.bundleDuration=t.duration}))},beforeDestroy:function(){this.$root.$off("bv::show::modal:ModalBundle:setBundle")}},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},"8c16":function(e,t,s){"use strict";s.d(t,"g",(function(){return h})),s.d(t,"b",(function(){return p})),s.d(t,"c",(function(){return m})),s.d(t,"a",(function(){return f})),s.d(t,"e",(function(){return b})),s.d(t,"f",(function(){return v})),s.d(t,"d",(function(){return g}));s("8e6e"),s("ac6a"),s("456d"),s("28a5");var i=s("768b"),r=s("bd86"),n=(s("3b2b"),s("96cf"),s("3b8d")),a=s("2612"),o=s("93bc"),c=s("1f5a"),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={beforeCreate:function(){var e=this;this.$validator.extend("usernameValidator",{getMessage:function(e){return"".concat(e," is not available.")},validate:function(t){return new Promise(function(){var s=Object(n["a"])(regeneratorRuntime.mark((function s(i){var r,n,o,c,l,u,h;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t!==e.authUser.username){s.next=3;break}return i({valid:!0}),s.abrupt("return");case 3:if(!(t.length<5)){s.next=6;break}return i({valid:!1}),s.abrupt("return");case 6:if(t!=="".concat(e.userLoginPrefix).concat(e.authUserId)){s.next=9;break}return i({valid:!0}),s.abrupt("return");case 9:if(r=new RegExp("^".concat(e.userLoginPrefix,"\\d+$")),n=new RegExp("^id\\d+$"),o=new RegExp("^[a-z]([.]{0,1}[a-z0-9_-]+)+$"),!r.test(t)&&!n.test(t)&&o.test(t)){s.next=15;break}return i({valid:!1}),s.abrupt("return");case 15:if(c=d({},e.existedUsernames),!c[t]){s.next=23;break}if(l=c[t].valid,l&&!(c[t].checkDate>=+new Date-6e5)){s.next=21;break}return i({valid:l}),s.abrupt("return");case 21:delete c[t],e.setExistedUsernames(c);case 23:return s.prev=23,s.next=26,Object(a["ob"])(t);case 26:u=s.sent,h=u.success,c[t]={valid:!h},h||(c[t].checkDate=+new Date),e.setExistedUsernames(c),i({valid:!h}),s.next=37;break;case 34:s.prev=34,s.t0=s["catch"](23),i({valid:!0});case 37:case"end":return s.stop()}}),s,null,[[23,34]])})));return function(e){return s.apply(this,arguments)}}())}},{immediate:!1})},computed:d(d(d({},Object(l["q"])(["getInit"])),Object(l["eb"])(["existedUsernames"])),{},{usernameValidate:function(){var e=this.username!==this.authUser.username&&24;return{max:e,usernameValidator:!0}}}),methods:d({},Object(l["fb"])(["setExistedUsernames"]))},p={mounted:function(){this.$validator.extend("checkPassword",{getMessage:function(e){return"The ".concat(e," must contain at least 1 number, at least 1 lower case letter, and at least 1 upper case letter")},validate:function(e){var t=new RegExp(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/);return t.test(e)}})}},m={mounted:function(){var e=this;this.$validator.extend("confirmPassword",{getMessage:function(e){return"The ".concat(e," confirmation does not match.")},validate:function(t,s){return t===e[s[0]]}})}},f={mounted:function(){var e=this;this.$validator.extend("onlyLatin",{getMessage:function(){return e.$i18n.t("message.only_latin_allowed")},validate:function(e){var t=/[^a-z\s-.']+/gi;return!t.test(e)}}),this.$validator.extend("checkCardHolderName",{getMessage:function(){return e.$i18n.t("message.invalid_cardholder_error")},validate:function(t){var s=e.getInit.cardholderStopwords;if(s&&s.length){var i=new RegExp("\\b".concat(s.join("\\b|\\b"),"\\b"),"gi");return!i.test(t)&&!o["a"].validate(t.trim())}return!o["a"].validate(t.trim())}})}},b={mounted:function(){var e=this;this.$validator.extend("minLength",{getMessage:function(t,s){var r=Object(i["a"])(s,1),n=r[0];return e.$i18n.t("message.minlength_validation_error",{LENGTH:n})},validate:function(e,t){var s=Object(i["a"])(t,1),r=s[0];return e.length>=r}})}},v={mounted:function(){var e=this;this.$validator.extend("urls",{getMessage:function(){return e.$i18n.t("message.urls_validation_error")},validate:function(e){return!e.split(/[\s\n]/).filter((function(e){return e.length})).some((function(e){return!o["b"].validate(e)}))}})}},g={mounted:function(){var e=this;this.$validator.extend("cpfValidate",{getMessage:function(){return e.$i18n.t("message.cpf_validation_error")},validate:function(e){return c["a"].isValid(e)}})}}},"8c82":function(e,t,s){},"8d4a":function(e,t,s){},9057:function(e,t,s){},"912b":function(e,t,s){"use strict";s("8e6e"),s("456d"),s("ac6a"),s("96cf");var i=s("3b8d"),r=(s("7514"),s("bd86")),n=s("2b0e"),a=s("9b02"),o=s.n(a),c=s("4db7"),l=(s("fc2f"),s("8e34"),s("d634")),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-action-panel m-shadow-gradient"},[e.isVideo?s("div",{staticClass:"story-back-btn",on:{click:e.hardBack}}):e._e(),e.isVideo?s("div",{staticClass:"story-next-btn",on:{click:e.hardForward}}):e._e(),[s("span",{staticClass:"b-action-panel__item m-free-size"},[s("button",{staticClass:"b-action-panel__el m-likes js-streaming__btn-likes__viewer m-fluid-width",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.post_like_button_title_like"),classes:"m-tooltip-light"},expression:"{content: $t('message.post_like_button_title_like'), classes: 'm-tooltip-light' }"}],staticClass:"icon-like"}),s("span",{staticClass:"b-action-panel__el__text"},[e._v(" "+e._s(e.currentStory.likesCount)+" ")])])]),s("span",{staticClass:"b-action-panel__item m-free-size"},[s("button",{staticClass:"b-action-panel__el m-tips js-streaming__btn-tips__viewer m-fluid-width",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.tooltip_tips"),classes:"m-tooltip-light"},expression:"{content: $t('message.tooltip_tips'), classes: 'm-tooltip-light' }"}],staticClass:"icon-funds"}),s("span",{staticClass:"b-action-panel__el__text"},[e._v(" "+e._s(e.currentStory.tipsAmount)+" ")])])])],s("span",{staticClass:"b-action-panel__item  m-space-distance m-right-part m-free-size m-online js-streaming__online",on:{click:e.showStats}},[s("span",{staticClass:"b-action-panel__el m-fluid-width"},[s("span",{staticClass:"b-action-panel__el__text js-streaming__actions__count__value"},[e._v(" "+e._s(e.currentStory.viewersCount)+" ")]),e.currentStory.viewers&&e.currentStory.viewers.length?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.tooltip_viewers"),classes:"m-tooltip-light"},expression:"{content: $t('message.tooltip_viewers'), classes: 'm-tooltip-light' }"}],staticClass:"icon-eye"}),s("span",{staticClass:"group-avatars"},e._l(e.viewers,(function(e){return s("span",{key:e.id,staticClass:"g-avatar m-w24 m-border-line"},[s("image-thumb",{attrs:{user:e,size:"c50"}})],1)})),0)])]),s("div",{staticClass:"b-action-panel__item m-free-size m-right-part m-dots-btn"},["currentHighlights"===e.type?s("b-dropdown",{ref:"postDropdown",staticClass:"b-post__tools__more",attrs:{right:"","toggle-class":"m-size-lg m-light m-not-width-limit m-center",variant:"link",offset:"4"},on:{hide:e.menuHide,show:e.menuShow}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.tooltip_more"),classes:"m-tooltip-light"},expression:"{content: $t('message.tooltip_more'), classes: 'm-tooltip-light' }"}],staticClass:"icon-more"})]),s("b-dropdown-item-button",{on:{click:e.editHighlight}},[e._v(" "+e._s(e.$t("message.edit_highlight"))+" ")]),s("b-dropdown-item-button",{on:{click:e.removeHighlight}},[e._v(" "+e._s(e.$t("message.remove_highlight"))+" ")])],2):s("b-dropdown",{ref:"postDropdown",staticClass:"b-post__tools__more",attrs:{right:"","toggle-class":"m-size-lg m-light m-not-width-limit m-center",variant:"link",offset:"4"},on:{hide:e.menuHide,show:e.menuShow}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.tooltip_more"),classes:"m-tooltip-light"},expression:"{content: $t('message.tooltip_more'), classes: 'm-tooltip-light' }"}],staticClass:"icon-more"})]),s("b-dropdown-item-button",{on:{click:e.remove}},[e._v(" "+e._s(e.$t("message.uploaded_media_delete_btn_title"))+" ")]),s("b-dropdown-item-button",{on:{click:function(t){return e.addStoryToHighlight(e.realStoryId)}}},[e._v(" "+e._s(e.$t("message.add_to_highlight"))+" ")])],2)],1),e.title?s("div",{staticClass:"b-story-name"},[e._v(" "+e._s(e.title)+" ")]):e._e(),s("modal-confirm",{attrs:{"modal-show":e.deleteStoryConfirm.show,title:"hightlight"===e.deleteStoryConfirm.type?e.$t("message.story_remove_confirm"):e.$t("message.story_remove_confirm_cover"),"agree-btn":e.$t("message.remove"),text:e.$t("message.are_you_sure"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){return e.$set(e.deleteStoryConfirm,"show",t)},"update:modal-show":function(t){return e.$set(e.deleteStoryConfirm,"show",t)},"on-agree":e.agreeConfirm,"on-hide":e.onConfirmClose}}),s("AddStoryToHighlightModal")],2)},d=[],h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{centered:"",id:"add-story-to-highlight-modal","modal-class":"story-highlights","dialog-class":"story-highlights-dialog","content-class":"story-highlights-content","header-class":"m-border-header","footer-class":"m-border-footer"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.add_to_highlight"))+" ")]),s("button",{staticClass:"b-modal__close m-with-round-hover",on:{click:e.backBtnClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close",attrs:{"extra-class":"m-aligned-top"}})])]),0===e.selected?s("div",{staticClass:"form-group"},[s("v-text-field",{attrs:{label:e.$t("message.highlights_placeholder_label"),autocomplete:!1,"auto-grow":"",maxlength:70,counter:70,outlined:"",clearable:"true","hide-details":"false",name:"name"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),s("p",{staticClass:"g-input__help"},[e._v(" "+e._s(e.$t("message.highlight_input_maxlength"))+" ")])],1):e._e(),s("div",{staticClass:"b-photos m-native-custom-scrollbar m-highlights-wrapper"},[s("div",{staticClass:"b-photos__item m-highlight m-checkbox-control b-story-item m-create selected",class:{checked:0===e.selected},on:{click:function(t){e.selected=0}}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"b-plus m-style-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-highlights"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.new_highlight"))+" ")])])]),e._l(e.highlights,(function(t){return s("div",{key:t.id,staticClass:"b-photos__item m-highlight m-checkbox-control b-story-item m-gradient-overlay selected",class:{checked:e.selected===t.id},on:{click:function(s){e.selected=t.id}}},[s("div",{staticClass:"b-story-item__inside"},[s("div",{staticClass:"b-story-item__text online_status_class"},[s("div",{staticClass:"b-story-item__text-name"},[e._v(" "+e._s(t.title)+" ")])]),s("img",{staticClass:"img-responsive",attrs:{src:t.cover,draggable:"false"}})])])}))],2),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{disabled:0===e.selected&&!e.title},on:{click:e.save}},[e._v(" "+e._s(e.$t("message.save"))+" ")])])],2)},p=[],m=(s("c1df"),s("e528")),f=s("b304"),b=s("ee41");function v(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={mixins:[b["a"]],components:{SpinnerLoader:m["a"],BackToTopBtn:f["a"]},data:function(){return{show:!1,selected:0,title:"",storyId:void 0}},computed:g(g({},Object(l["qb"])(["highlights"])),Object(l["b"])(["authUser"])),methods:g(g({},Object(l["pb"])(["fetchUserHighlights","saveHighlights","patchHighlight"])),{},{backBtnClick:function(){this.show=!1},save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$window.showPreloader(),0!==this.selected){e.next=9;break}return e.next=4,this.saveHighlights({title:this.title,storyIds:[this.storyId],coverStoryId:this.storyId});case 4:return t=this.$i18n.t("message.highlight_was_created"),e.next=7,this.fetchUserHighlights(this.authUser.id);case 7:e.next=12;break;case 9:return e.next=11,this.patchHighlight({highlightId:this.selected,storyIds:[this.storyId]});case 11:t=this.$i18n.t("message.story_added_to_highlight");case 12:this.$bvToast.toast(t,{toastClass:"b-toaster__only_msg settings-toast",toaster:"b-toaster-bottom-left",autoHideDelay:1e3}),this.show=!1,this.$window.hidePreloader();case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setSelected:function(e){this.stories=this.stories.map((function(t){return t.id!==e.id?t:g(g({},t),{},{selected:!t.selected})}))}}),mounted:function(){var e=this;this.$root.$on("show-add-story-to-highlight-modal",(function(t){var s=t.storyId;e.show=!0,e.storyId=s,e.fetchUserHighlights(e.authUser.id)}))},watch:{show:function(){var e=this;setTimeout((function(){e.show?e.pauseStory():e.playStory()}),300)}}},y=_,w=s("2877"),O=Object(w["a"])(y,h,p,!1,null,null,null),C=O.exports,P=s("e66b"),x=s("8b3f");function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function S(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var E={mixins:[b["a"]],data:function(){return{deleteStoryConfirm:{show:!1,type:"highlight",story:{}}}},components:{ImageThumb:P["a"],ModalConfirm:x["a"],AddStoryToHighlightModal:C},props:{realStoryId:{type:String,required:!0},removeStory:{type:Function,required:!0},removeHighlight:{type:Function,required:!0},showStats:{type:Function,required:!0},editHighlight:{type:Function,required:!0},type:{type:String,required:!0},title:{type:String,default:void 0},hardForward:{type:Function,required:!0},hardBack:{type:Function,required:!0},removePanel:{type:Function,required:!0}},computed:S(S({},Object(l["qb"])(["myStories","currentHighlights","storyFromArchive"])),{},{currentStory:function(){var e=this;return"currentHighlights"===this.type&&this.currentHighlights.stories?this.currentHighlights.stories.find((function(t){return t.id==e.realStoryId}))||{}:"stories"===this.type?this.myStories.find((function(t){return t.id==e.realStoryId}))||{}:"archive"===this.type&&this.storyFromArchive||{}},viewers:function(){return this.currentStory.viewers&&this.currentStory.viewers.length?this.currentStory.viewers.filter((function(e,t){return t<3})):[]},isVideo:function(){var e=o()(this,"currentStory.media[0].type");return"video"===e}}),methods:{remove:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.currentStory,s=t.isHighlightCover,i=t.isLastInHighlight,t.id,!s&&!i){e.next=7;break}this.deleteStoryConfirm.show=!0,this.deleteStoryConfirm.type=i?"highlight":"cover",setTimeout((function(){r.pauseStory()}),300),e.next=9;break;case 7:return e.next=9,this.removeStory();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),agreeConfirm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.removeStory();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onConfirmClose:function(){this.deleteStoryConfirm.type=null,this.playStory()},menuShow:function(){this.pauseStory()},menuHide:function(){this.playStory()},addStoryToHighlight:function(e){this.$root.$emit("show-add-story-to-highlight-modal",{storyId:e})},checkOpen:function(){var e=this;setTimeout((function(){var t=document.getElementById("zuck-modal-content");t&&t.innerHTML?e.checkOpen():e.removePanel()}),99)}},mounted:function(){this.checkOpen()}},T=E,A=Object(w["a"])(T,u,d,!1,null,null,null),j=A.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-action-panel m-shadow-gradient",class:{"m-comment-form-visible":e.showComment}},[s("div",{staticClass:"b-streaming__actions__overlay"}),e.isVideo?s("div",{staticClass:"story-back-btn",on:{click:e.hardBack}}):e._e(),e.isVideo?s("div",{staticClass:"story-next-btn",on:{click:e.hardForward}}):e._e(),s("span",{staticClass:"b-action-panel__item m-free-size m-visible-desk",class:{"m-hidden-comments":e.showComment}},[s("button",{staticClass:"b-action-panel__el m-likes",class:{active:e.isLiked},attrs:{type:"button",disabled:e.disabledLike},on:{click:e.likeHandleThrottled}},[e.isLiked?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.post_like_button_title_unlike"),classes:"m-tooltip-light"},expression:"{content: $t('message.post_like_button_title_unlike'), classes: 'm-tooltip-light' }"}],key:"icon-liked",staticClass:"icon-liked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.post_like_button_title_like"),classes:"m-tooltip-light"},expression:"{content: $t('message.post_like_button_title_like'), classes: 'm-tooltip-light' }"}],key:"icon-like",staticClass:"icon-like"})])]),e.canCommentStory?s("div",{staticClass:"b-action-panel__item m-free-size m-comments-form"},[s("button",{staticClass:"b-action-panel__el m-comments",attrs:{type:"button"},on:{click:e.showCommentForm}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.reply_story"),classes:"m-tooltip-light"},expression:"{content: $t('message.reply_story'), classes: 'm-tooltip-light' }"}],staticClass:"icon-message"})]),e.showComment?s("form",{staticClass:"b-comment-form m-field-line js-streaming__comment-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.commentText,expression:"commentText"}],ref:"commentInput",staticClass:"form-control b-comment-form__input",attrs:{type:"text",placeholder:e.$t("message.reply_story"),maxlength:"140",tabindex:"1"},domProps:{value:e.commentText},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.preventDefault(),t.stopPropagation()},focus:function(e){e.preventDefault(),e.stopPropagation()},blur:e.onBlur,input:function(t){t.target.composing||(e.commentText=t.target.value)}}}),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.send_form"),classes:"m-tooltip-light"},expression:"{content: $t('message.send_form'), classes: 'm-tooltip-light' }"}],staticClass:"b-comment-form__submit",attrs:{disabled:!e.commentText.length||e.disabledComment},on:{click:function(t){return t.preventDefault(),e.submitCommentThrottled(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-send"})])]):e._e()]):e._e(),e.storyUser.tipsEnabled?s("span",{staticClass:"b-action-panel__item",class:{"m-right-part":e.showCommentForm,"m-free-size":!e.showCommentForm&&"sm"===e.$mq||"sm"!==e.$mq}},[s("button",{staticClass:"b-action-panel__el m-tips js-streaming__btn-tips__viewer m-fluid-width",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.showTipsForm(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-funds"}),s("span",{staticClass:"b-action-panel__el__text",class:{"m-hidden-comments":e.showComment}},[e._v(" "+e._s(e.$t("message.send_tips"))+" ")])])]):e._e(),s("div",{staticClass:"b-action-panel__item m-free-size m-space-distance m-right-part m-dots-btn"},[s("b-dropdown",{ref:"postDropdown",staticClass:"b-post__tools__more",attrs:{right:"","toggle-class":"m-size-lg m-light m-not-width-limit m-center",variant:"link",offset:"4"},on:{hide:e.menuHide,show:e.menuShow}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.tooltip_more"),classes:"m-tooltip-light"},expression:"{content: $t('message.tooltip_more'), classes: 'm-tooltip-light' }"}],staticClass:"icon-more"})]),s("b-dropdown-item-button",{on:{click:e.openReportModal}},[e._v(" "+e._s(e.$t("message.report"))+" ")])],2)],1),e.title?s("div",{staticClass:"b-story-name"},[e._v(" "+e._s(e.title)+" ")]):e._e()])},M=[],I=(s("c5f6"),s("0f32")),L=s.n(I);function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function R(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var U={mixins:[b["a"]],components:{ImageThumb:P["a"]},data:function(){return{showComment:!1,commentText:"",pauseTimeout:void 0,disabledLike:!1,disabledComment:!1}},props:{realStoryId:{type:String,required:!0},type:{type:String,default:"userStories"},title:{type:String,default:void 0},close:{type:Function,required:!0},userId:{type:Number,required:!0},hardForward:{type:Function,required:!0},hardBack:{type:Function,required:!0},removePanel:{type:Function,required:!0}},computed:R(R(R(R({},Object(l["qb"])(["stories","userStories","chatStory","currentHighlights"])),Object(l["b"])(["authUser"])),Object(l["Ob"])(["getUser"])),{},{storyUser:function(){return this.currentStory.userId?this.getUser(this.currentStory.userId):{}},canCommentStory:function(){return this.storyUser.canCommentStory},storiesList:function(){var e=this;switch(!0){case"chatStory"===this.type:return[this.chatStory];case"currentHighlights"===this.type:return this.currentHighlights.stories;case"stories"===this.type:var t=this.stories.find((function(t){return t.user&&t.user.id==e.userId}));return t?t.stories:[];case"userStories"===this.type:return this.userStories;default:return[]}},currentStory:function(){var e=this;if(this.storiesList&&this.storiesList.length){var t=this.storiesList.find((function(t){return t.id==e.realStoryId}));return t||{}}return{}},isLiked:function(){return this.currentStory.isLiked},submitCommentThrottled:function(){return L()(this.submitComment,1e3)},likeHandleThrottled:function(){return L()(this.likeHandle,1e3)},isVideo:function(){var e=o()(this,"currentStory.media[0].type");return"video"===e}}),methods:R(R(R(R({},Object(l["pb"])(["like","unlike","comment"])),Object(l["B"])(["setReportType"])),Object(l["Sb"])(["setModalUser"])),{},{menuShow:function(){this.pauseStory()},menuHide:function(){this.playStory()},onBlur:function(){var e=this;this.playStory(),setTimeout((function(){e.commentText="",e.showComment=!1}),100)},openReportModal:function(){this.$refs.postDropdown.hide(),this.setReportType({type:"story",postId:this.currentStory.id}),this.$root.$emit("bv::show::modal","ModalReport")},showCommentForm:function(){var e=this;this.showComment||(this.commentText="",this.showComment=!0,this.pauseStory(),this.$nextTick((function(){e.$refs.commentInput.focus()})))},submitComment:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabledComment){e.next=2;break}return e.abrupt("return");case 2:return this.disabledComment=!0,this.showComment=!1,e.next=6,this.comment({id:this.realStoryId,userId:this.currentStory.userId,text:this.commentText});case 6:this.disabledComment=!1,this.$router.push({name:"Chat",params:{chatId:this.currentStory.userId}}),this.close();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showTipsForm:function(){var e=this;this.pauseStory(),this.setModalUser({userId:this.storyUser.id,storyId:this.realStoryId}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalTips")}))},likeHandle:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabledLike){e.next=2;break}return e.abrupt("return");case 2:return this.disabledLike=!0,t=this.isLiked?this.unlike:this.like,e.next=6,t({id:this.realStoryId,userId:this.currentStory.userId,type:this.type});case 6:this.disabledLike=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkOpen:function(){var e=this;setTimeout((function(){var t=document.getElementById("zuck-modal-content");t&&t.innerHTML?e.checkOpen():e.removePanel()}),99)}}),mounted:function(){var e=this;this.$root.$on("bv::show::modal",this.pauseStory),this.$root.$on("bv::hide::modal",this.playStory),this.$root.$on("modal::tips::close",(function(){document.documentElement.classList.remove("m-prevent-scrolling"),e.playStory()})),this.checkOpen()},beforeDestroy:function(){this.$root.$off("bv::show::modal",this.pauseStory),this.$root.$off("bv::hide::modal",this.playStory)}},N=U,B=Object(w["a"])(N,$,M,!1,null,null,null),F=B.exports,V=s("9798");function H(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?H(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):H(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:z(z(z(z({},Object(l["Ob"])(["user"])),Object(l["b"])(["authUser"])),Object(l["qb"])(["userStories"])),{},{type:function(){return"userStories"},zuckOptions:function(){return{backNative:!1,skin:"Snapgram",autoFullScreen:!1,avatars:!0,paginationArrows:!1,list:!0,cubeEffect:!0,localStorage:!1,previousTap:!0}},storiesNormalized:function(){return Object(V["b"])(this.userStories,this.user,!1)},allStories:function(){return[this.storiesNormalized]},element:function(){return"stories"}}),methods:z(z({},Object(l["pb"])(["watchStory","removeMyStory","removeMyHighlights"])),{},{getStoriesSet:function(e){switch(!0){case"chatStory"===this.type:return[this.chatStory];case"currentHighlights"===this.type:return this.currentHighlights.stories;case"stories"===this.type&&e:return this.myStories;case"stories"===this.type:return this.stories;case"userStories"===this.type:return this.userStories;case"archive"===this.type:return[this.storyFromArchive];default:return[]}},getUserId:function(e){switch(!0){case"chatStory"===this.type:return this.chatStory.userId;case"currentHighlights"===this.type:return this.currentHighlights.userId;case"stories"===this.type:var t=this.stories.find((function(t){var s=t.stories;return!!s.find((function(t){return t.id==e}))}));return t?t.user.id:void 0;case"userStories"===this.type:return this.userStories[0].userId;default:return}},getIsWatchedById:function(e){switch(!0){case"chatStory"===this.type:return this.chatStory.isWatched;case"currentHighlights"===this.type:var t=this.currentHighlights.stories.find((function(t){return t.id==e}));return!!t&&t.isWatched;case"stories"===this.type:for(var s=0;s<this.stories.length;s+=1)for(var i=0;i<this.stories[s].stories.length;i+=1)if(this.stories[s].stories[i].id==e)return this.stories[s].stories[i].isWatched;break;case"userStories"===this.type:var r=this.userStories.find((function(t){return t.id==e}));return r?r.isWatched:void 0;default:return}},waitMedia:function(){setTimeout((function(){var e=!1,t=document.querySelector(".story-viewer.viewing"),s=document.querySelector(".story-viewer.viewing .item.active img"),i=document.querySelector(".story-viewer.viewing .item.active video");t&&(s&&!s.complete&&(t.classList.add("paused"),t.classList.add("loading"),s.onload=function(){t&&(t.classList.remove("paused"),t.classList.remove("loading"))}),i&&(i.currentTime=0,i.readyState?(t.classList.remove("paused"),t.classList.remove("loading"),e=!0):(t.classList.add("paused"),t.classList.add("loading"),e=!1),i.onplaying=function(){t&&!e&&(t.classList.remove("paused"),t.classList.remove("loading")),e=!0},i.onwaiting=function(){t&&e&&!i.loop&&(t.classList.add("paused"),t.classList.add("loading")),e=!1}))}),100)},renderPanel:function(e,t){var s=this;this.panel&&this.removePanel();var r=document.createElement("div");if(r.className="panelWrapper","function"===typeof document.body.append){document.body.append(r);var a=e?j:F,o="currentHighlights"===this.type?this.currentHighlights.title:void 0,c=e?this.authUser.id:this.getUserId(t);this.panel=new n["default"](z(z({},a),{},{parent:this,propsData:{title:o,type:this.type,userId:c,realStoryId:t,close:function(){s.closeStory()},removeStory:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.removeMyStory(t);case 2:s.closeStory();case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),removeHighlight:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.removeMyHighlights(s.currentHighlights.id);case 2:s.closeStory();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),showStats:function(){s.$root.$emit("show::story::stat",{stories:s.getStoriesSet(e)})},editHighlight:function(){s.$root.$emit("show-create-highlight-modal",{isEdit:!0,currentHighlights:s.currentHighlights}),s.closeStory()},hardForward:function(e){try{s.zuckStories.navigateItem("next",e)}catch(t){s.closeStory()}},hardBack:function(e){try{s.zuckStories.navigateItem("previous",e)}catch(t){s.closeStory()}},removePanel:this.removePanel}})).$mount(".panelWrapper")}},closeStory:function(){var e=document.querySelector("#zuck-modal .close");e&&e.click()},removePanel:function(){this.panel&&(this.panel.$destroy(),this.panel.$el&&this.panel.$el.parentNode&&this.panel.$el.parentNode.removeChild(this.panel.$el),this.panel=null);var e=document.querySelectorAll(".b-streaming__actions");"function"===typeof e.forEach&&e.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},onWatchStory:function(e){var t=this;this.waitMedia();var s=e==="user-".concat(this.authUser.id);setTimeout((function(){var e=document.querySelector(".story-viewer.viewing .slides .item.active .tip.link");if(e){var i=e.innerHTML.trim();t.renderPanel(s,i);var r=t.getIsWatchedById(i);s||r||t.watchStory({id:i,type:t.type})}}),100)},onCloseStory:function(){this.removePanel()},goToProfile:function(){var e=document.querySelector(".story-viewer.viewing .slides .item.active .tip.link");if(e){var t=e.getAttribute("href");t&&(this.$router.push({name:"Profile",params:{userId:t}}),this.closeStory())}},addHeaderEvents:function(){var e=document.querySelector(".story-viewer.viewing .head .left");e&&e.addEventListener("click",this.goToProfile)},removeHeaderEvents:function(){var e=document.querySelector(".story-viewer.viewing .head .left");e&&e.removeEventListener("click",this.goToProfile)},initZuck:function(){var e=document.getElementById(this.element);if(e){this.zuckStories&&e&&(e.innerHTML="");var t=this;this.zuckStories=new c["a"](this.element,z(z({},this.zuckOptions),{},{stories:t.allStories,callbacks:{onView:function(e){0!==t.element.indexOf("chat-story-")&&document.body.classList.add("disabled-page-scrollbar"),t.onWatchStory(e),t.addHeaderEvents()},onClose:function(s,i){t.removeHeaderEvents(),t.onCloseStory(),0!==t.element.indexOf("chat-story-")&&document.body.classList.remove("disabled-page-scrollbar"),e&&(e.innerHTML=""),i()},onNavigateItem:function(e,s,i){t.onWatchStory(e),i()}}}))}}}),watch:{userStories:function(){var e=o()(this,"user.id"),t=o()(this,"authUser.id");this.userStories.length&&e&&t&&e!==t&&this.initZuck()}}}},9179:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"b-search-form b-form m-with-tabs",on:{submit:function(t){return t.preventDefault(),e.searchSubmit(t)}}},[s("div",{staticClass:"b-search-feed-form"},[s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.closeSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.search_clear"),expression:"$t('message.search_clear')"}],staticClass:"icon-close"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchField,expression:"searchField"}],ref:"searchInput",staticClass:"b-search-form__input form-control",attrs:{type:"search",maxlength:"30",placeholder:e.placeholderSearch,name:"q",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.searchField},on:{input:[function(t){t.target.composing||(e.searchField=t.target.value)},e.sanitize]}}),s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"submit"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.placeholderSearch,expression:"placeholderSearch"}],staticClass:"icon-search"})])]),s("div",{staticClass:"b-tabs__nav m-text m-search"},[e.authUser.isMakePayment?s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":"users"===e.searchType},attrs:{type:"button"},on:{click:function(t){return e.changeSearchType("users")}}},[e._v(" "+e._s(e.$t("message.search_users_tab_title"))+" ")]):e._e(),s("button",{staticClass:"b-tabs__nav__item",class:{"m-current":e.authUser.isMakePayment&&"posts"===e.searchType,"m-no-pointer":!e.authUser.isMakePayment},attrs:{type:"button"},on:{click:function(t){return e.changeSearchType("posts")}}},[e._v(" "+e._s(e.$t("message.search_posts_tab_title"))+" ")])])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("bd86")),a=s("b047c"),o=s.n(a),c=s("d634"),l=s("1686"),u=s.n(l);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={name:"FeedSearch",props:{isShow:{type:Boolean,required:!0}},data:function(){return{searchType:"posts",searchField:""}},computed:h(h({},Object(c["b"])(["authUser"])),{},{placeholderSearch:function(){return"users"===this.searchType?this.$i18n.t("message.search_users_input_placeholder"):this.$i18n.t("message.search_posts_placeholder")}}),watch:{$route:{handler:function(e){this.searchField=e.query&&e.query.q?e.query.q:e.params.q||"",this.searchType=e.query&&e.query.q?"posts":this.authUser.isMakePayment?"users":"posts"},immediate:!0},isShow:function(e){e&&!this.searchField.length&&this.$refs.searchInput&&this.$refs.searchInput.focus()},searchField:{handler:o()((function(e,t){"users"===this.searchType&&e!==t&&(e.length<3||this.searchSubmit())}),500)}},mounted:function(){this.searchType="posts",this.$route.query.q?this.searchField=this.$route.query.q.replace(/[%#@]/gm,""):this.authUser.isMakePayment&&(this.searchType="users",this.$route.params.q&&(this.searchField=this.$route.params.q.replace(/[%#@]/gm,""))),this.searchField.length&&this.$refs.searchInput&&this.$refs.searchInput.focus()},methods:{closeSearch:function(){this.searchField="",this.$router.replace({name:"Feed"}),this.$emit("close",!0),this.searchType=this.authUser.isMakePayment?"users":"posts"},changeSearchType:function(e){this.searchType=e,(this.$route.query.q||this.$route.params.q||"").replace(/[%#@]/gm,"").length&&this.searchSubmit()},searchSubmit:function(){if(this.searchField=this.searchField.trim(),"users"===this.searchType){if(this.$route.params.q===this.searchField||void 0===this.$route.params.q&&!this.searchField.length)return;this.$router.replace({name:"SearchUsers",params:{q:this.searchField}})}else{if(this.$route.query.q===this.searchField||void 0===this.$route.query.q&&!this.searchField.length)return;this.$router.replace({name:"Feed",query:{q:this.searchField}})}},sanitize:function(e){this.searchField=u()(e.target.value).replace(/[%#@]/gm,"")}}},m=p,f=s("2877"),b=Object(f["a"])(m,i,r,!1,null,null,null);t["a"]=b.exports},"918f":function(e,t,s){e.exports=s.p+"img/slide-3.jpg"},9344:function(e,t,s){"use strict";var i=s("df03"),r=s.n(i);r.a},"95c0":function(e,t,s){var i={"./slide-1-2x.png":"89de","./slide-1-3x.png":"fb37","./slide-1.png":"dce5c","./slide-2-2x.jpg":"5784","./slide-2-3x.jpg":"4606","./slide-2.jpg":"8a30","./slide-3-2x.jpg":"5c27","./slide-3-3x.jpg":"6e37","./slide-3.jpg":"918f","./slide-4-2x.jpg":"2dce","./slide-4-3x.jpg":"a092","./slide-4.jpg":"ae6e","./slide-5-2x.jpg":"51ff","./slide-5-3x.jpg":"7456","./slide-5.jpg":"62b0"};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=n,e.exports=r,r.id="95c0"},"95c5":function(e,t,s){"use strict";var i=s("9057"),r=s.n(i);r.a},"967c":function(e,t,s){},9755:function(e,t,s){},9798:function(e,t,s){"use strict";s.d(t,"a",(function(){return h})),s.d(t,"b",(function(){return p}));var i=s("75fc"),r=(s("7f7f"),s("7618")),n=s("9b02"),a=s.n(n),o=s("9029"),c=function(){var e=a()(window,"navigator.connection");if(!e||"object"!==Object(r["a"])(e))return{canUse:!1,isMobile:o["isMobile"]};var t={canUse:!0,isMobile:o["isMobile"],good:!0};return e.downlinkMax&&e.downlinkMax>=1.5||e.downlink&&e.downlink>=1.5||"4g"===e.effectiveType||"wifi"===e.type?t:{canUse:!0,good:!1,isMobile:o["isMobile"]}},l=function(e){return new Date(e).getTime()/1e3},u=function(e,t,s){var i=c(),r=i.canUse,n=i.isMobile,a=i.good,o=t,l=s||t;return"photo"===e?o:r?a?o:l:n?l:o},d=function(e){var t=a()(e,"[0].type","photo"),s=a()(e,"[0].files.source.url",""),i=a()(e,"[0].files.source.sources.720")||s;return u(t,s,i)},h=function(e){var t=e.stories,s=e.user,r=void 0===s?{}:s,n=r.id,o=r.avatarThumbs,c=r.username,d=r.name;return{id:"user-".concat(n),photo:o?o.c50:void 0,name:d,link:"",lastUpdated:l(t[0].createdAt),seen:!1,items:t.reduce((function(e,t){var s=t.media.map((function(e){var s=e.type,i=e.files,r=a()(i,"source.duration",0),n=a()(i,"source.url",void 0),o=a()(i,"source.sources.720",void 0),d=u(s,n,o);return{id:t.id,type:"gif"===s?"video":s,length:"photo"===s||r<5?5:r,loop:"photo"!==s&&r<5,src:d,preview:n,link:c,linkText:t.id,seen:!1,time:l(t.createdAt)}}));return[].concat(Object(i["a"])(e),Object(i["a"])(s))}),[])}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.avatarThumbs,r=t.username,n=t.id,o=t.name;return e.length?{id:"user-".concat(n),photo:i?i.c50:void 0,name:s?"My story":o,link:"",lastUpdated:l(e[0].createdAt),seen:!1,items:e.map((function(e){var t=e.id,s=e.media,i=e.createdAt,n=a()(s,"[0].type","photo"),o="gif"===n?"video":n,c=a()(s,"[0].files.source.duration",0),u=c<5?5:c,h="photo"!==n&&c<5,p=a()(s,"[0].source.url",""),m=d(s);return{id:t,type:o,length:u,loop:h,src:m,preview:p,link:r,linkText:t,seen:!1,time:l(i)}}))}:{}}},9855:function(e,t,s){e.exports=s.p+"img/background.png"},"9d30":function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={computed:a({},Object(r["M"])({photoSwipeIsOpen:"isOpen"})),methods:a({},Object(r["L"])({photoSwipeSetItems:"setItems",photoSwipeSetOptions:"setOptions",photoSwipeSetOpen:"setOpen"}))}},"9df8":function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return n}));s("c5f6"),s("a481");var i={methods:{priceHuman:function(e){return e?"$".concat(Math.max(Number(e),3).toFixed(2).replace(".00","")):this.$i18n.t("message.free")}}},r={methods:{amountHuman:function(e){return"$".concat(e?Math.max(Number(e),3).toFixed(2).replace(".00",""):Number(e).toFixed(2).replace(".00",""))}}},n={methods:{amountHumanShort:function(e){return"$".concat(Math.max(Number(e),3).toFixed(2).replace(".00",""))}}}},"9ef2":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-users__item__add-to-lists-btns"},[s("swiper",{ref:"swiper",attrs:{options:e.swiperOptions}},[s("swiper-slide",[s("button",{staticClass:"g-btn m-add-to-lists",attrs:{type:"button"},on:{click:e.openUsersListsModal}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:e.addedLists.length?"added":"add",class:"icon-list-add"+(e.addedLists.length?"ed":"")}),e._v(" "+e._s(e.addedLists.length?e.$t("message.open_users_lists_btn_label"):e.$t("message.add_to_users_lists_btn_label"))+" ")])]),e._l(e.addedLists,(function(t){return s("swiper-slide",{key:t.id},[s("router-link",{staticClass:"g-btn m-add-to-lists",attrs:{to:e.listRoute(t)}},[e._v(" "+e._s(e._f("encodeHtml")(t.name))+" ")])],1)}))],2)],1)},r=[],n=(s("8e6e"),s("456d"),s("bd86")),a=(s("7514"),s("ac6a"),s("5df3"),s("4f7f"),s("75fc")),o=(s("c5f6"),s("9b02")),c=s.n(o),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"AddToListsBtns",props:{user:{type:Object,required:!0},needUpdateSwiper:{type:Number,default:0}},data:function(){return{swiperOptions:{slidesPerView:"auto",watchOverflow:!0,spaceBetween:8,slideToClickedSlide:!0}}},computed:{addedLists:function(){var e=this;return this.user&&this.user.listsStates?Object(a["a"])(new Set(this.user.listsStates.filter((function(e){return["fans","following","rebill_on"].indexOf(e.type)<0&&e.hasUser})).map((function(e){return e.id})))).map((function(t){return e.user.listsStates.find((function(e){return t===e.id}))})):[]},swiper:function(){return c()(this,"$refs.swiper.$swiper")?this.$refs.swiper.$swiper:null}},watch:{needUpdateSwiper:function(e){e&&this.swiper&&this.swiper.update()}},methods:d(d({},Object(l["Sb"])(["setModalUser"])),{},{openUsersListsModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))},listRoute:function(e){switch(e.type){case"bookmarks":return{name:"Bookmarks"};case"friends":return{name:"MyFriends"};case"favorites":return{name:"Favorites"};case"close_friends":return{name:"CustomList",params:{list:e.type}};default:return{name:"CustomList",params:{list:e.id}}}}})},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},"9fb6":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-purchase",on:{mouseover:e.mouseover,mouseleave:e.mouseleave}},[e.hasPreview?e._e():s("div",{staticClass:"post-purchase__no-media"},[e.showHoverButtonData?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-unlocked",staticClass:"icon-unlocked"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-locked",staticClass:"icon-locked"})]),s("div",{staticClass:"b-purchase",class:{"profile-inner":e.isProfileInnerPage}},[s("div",{staticClass:"purchase-block",class:{"profile-inner":e.isProfileInnerPage}},[s("div",{staticClass:"content-icons"},[e.hasAny?s("ul",{staticClass:"b-purchase__list"},[e.hasLockedText?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-locked-text-icon",staticClass:"icon-text-frame-off",attrs:{"extra-class":"mr-0"}})]):e._e(),e.postLockedMedia("photo")?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isProfileInnerPage}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-photo-icon",staticClass:"icon-media"}),e.isProfileInnerPage?e._e():[e._v(" "+e._s(e.photoLockedCount)+" ")]],2):e._e(),e.postLockedMedia("video")?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isProfileInnerPage}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-video-icon",staticClass:"icon-video"}),e.isProfileInnerPage?e._e():[e._v(" "+e._s(e.videoLockedCount>1?e.videoLockedCount:e.videoLockedDuration?e.videoLockedDuration:"")+" ")]],2):e._e(),e.postLockedMedia("gif")&&!e.isProfileInnerPage?s("li",{staticClass:"b-purchase__list-item",class:{"m-without-counter":e.isProfileInnerPage}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-gif-icon",staticClass:"icon-gif"}),e._v(" "+e._s(e.gifLockedCount>1?e.gifLockedCount:e.gifLockedDuration?e.gifLockedDuration:"")+" ")]):e._e(),e.postLockedMedia("audio")&&!e.isProfileInnerPage?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-audio-icon",staticClass:"icon-voice"}),e._v(" "+e._s(e.audioLockedDuration?e.audioLockedDuration:"")+" ")]):e._e(),e.hasLockedPoll&&!e.isProfileInnerPage?s("li",{staticClass:"b-purchase__list-item"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"post-purchase-poll-icon",staticClass:"icon-poll"})]):e._e()]):e._e(),e.post.price?s("div",{staticClass:"b-post__price locked-icon"},[e._v(" $"+e._s(e.post.price.toFixed(2).replace(".00",""))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-locked"})]):e._e()]),!e.isProfileInnerPage||e.isProfileInnerPage&&!e.isGrid?s("button",{staticClass:"g-btn m-rounded post-subscribe-btn m-uppercase m-block mt-1",attrs:{type:"button"},on:{click:e.doConfirm}},[e._v(" "+e._s(e.textConfirmBtn)+" ")]):e._e(),e.isProfileInnerPage&&!e.confirmDisplayed?s("span",{staticClass:"b-btn-purchase-post",on:{click:e.doConfirm}}):e._e()])])])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("a481"),s("7f7f"),s("bd86")),o=s("3c15"),c=s("ce23"),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"PostPurchase",mixins:[o["a"],c["a"]],props:{post:{type:Object,required:!0},isLinked:{type:Boolean,default:!1},isGrid:{type:Boolean,default:!1},message:{type:Object,default:function(){}}},data:function(){return{token:"",showHoverButtonData:!1,confirmDisplayed:!1,confirmPay:!1}},computed:d(d(d({},Object(l["b"])(["authUserId"])),Object(l["Ob"])(["getUser"])),{},{isProfileInnerPage:function(){return"ProfileInner"===this.$route.name},isProfile:function(){return"Profile"===this.$route.name||"ProfileInner"===this.$route.name},textConfirmBtn:function(){return this.message?this.$i18n.t("message.message_pay_to_unlock_message",{MESSAGE_PRICE:"".concat(this.post.price.toFixed(2).replace(".00",""))}):this.$i18n.t("message.post_unlock_btn",{MESSAGE_PRICE:"".concat(this.post.price.toFixed(2).replace(".00",""))})},textUnlockBtnConfirm:function(){return this.message?this.$i18n.t("message.message_unlock_btn_confirm",{MESSAGE_PRICE:"".concat(this.post.price.toFixed(2).replace(".00",""))}):this.$i18n.t("message.post_unlock_btn_confirm",{MESSAGE_PRICE:"".concat(this.post.price.toFixed(2).replace(".00",""))})}}),methods:d(d(d({},Object(l["Sb"])(["setUserField"])),Object(l["S"])(["fetchPost"])),{},{showConfirmBtn:function(){this.confirmDisplayed=!0},doConfirm:function(){var e=this;if(this.isGrid)this.$router.push({name:"Post",params:{postId:this.post.id,userId:this.getUser(this.post.author).username}});else if(!this.isLinked)if(this.authUser.vat)this.confirmedPay();else{var t=this.post.price.toFixed(2).replace(".00",""),s=this.message?this.$i18n.t("message.buy_message_confirmation_copy",{PRICE:t}):this.$i18n.t("message.buy_post_confirmation_copy",{PRICE:t});alert({message:s,buttons:[{title:this.$i18n.t("message.button_pay"),onclick:function(){e.confirmedPay()},closeOnClick:!0}]})}},confirmedPay:function(){this.message?this.confirmPayAction():this.pay()},pay:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.post.id,e.next=3,this.makePayments({paymentType:"post",postId:t,amount:this.post.price},this.pay);case 3:s=e.sent,s&&s.success&&(this.setUserField({userId:this.authUserId,field:"hasPurchasedPosts",status:!0}),this.fetchPost({id:t}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1},confirmPayAction:function(){!1!==this.message.canPurchase&&this.payMessage()},payMessage:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.makePayments({paymentType:"message",messageId:this.message.id,amount:this.message.price},this.payMessage);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},a092:function(e,t,s){e.exports=s.p+"img/slide-4-3x.jpg"},a2ae:function(e,t,s){"use strict";t["a"]={methods:{addEmoji:function(e){var t=this;this.$nextTick((function(){var s=t.$refs.commentFormInput;if(s&&!(s.maxLength&&s.value.length>=s.maxLength)){if(document.selection){var i=document.selection.createRange();s.focus(),i.text=e}else if(s.selectionStart||"0"==s.selectionStart){var r=s.selectionStart,n=s.selectionEnd,a=r+e.length;s.value=s.value.substring(0,r)+e+s.value.substring(n,s.value.length),s.focus(),s.setSelectionRange(a,a)}else s.value+=e,s.focus();t.comment=s.value}}))}},mounted:function(){this.$root.$on("emoji:block:input",this.addEmoji)},beforeDestroy:function(){this.$root.$off("emoji:block:input",this.addEmoji)}}},a2fa:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isAuth||e.promotion||!e.user.canAddSubscriber?!e.isAuthUser&&e.user.subscribedBy?s("div",{class:{"m-rounded m-border m-profile dark":!e.flat&&!e.chat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&!e.chat&&e.newEdition,"m-flat":e.flat,"g-btn":!e.chat},attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.openUnsubscribeModal(t)},mouseover:e.mouseover,mouseleave:e.mouseleave}},[e.chat||e.newEdition?e._e():[!e.showHoverButtonData||e.waitForExpire||e.isExpiredNow&&e.user.isSuspended?s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"cancel-icon",staticClass:"icon-follow"}):s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-unfollow"})],e.user.canAddSubscriber?e.user.isSuspended?[e.isExpiredNow?[s("span",{staticClass:"b-btn-text m-default-state",domProps:{innerHTML:e._s(e.subscribeText)}}),e.chat||e.newEdition?e._e():s("span",{staticClass:"b-btn-text m-hover-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_unsubscribe_label_wait_for_expire_hover"))}})]:[s("span",{staticClass:"b-btn-text m-default-state",domProps:{innerHTML:e._s(e.subscribeText)}}),e.chat||e.newEdition?e._e():s("span",{staticClass:"b-btn-text m-hover-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_unsubscribe_label_new_hover"))}})]]:e.waitForExpire?[s("span",{staticClass:"b-btn-text m-default-state",domProps:{innerHTML:e._s(e.subscribeText)}}),e.chat||e.newEdition?e._e():s("span",{staticClass:"b-btn-text m-hover-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_unsubscribe_label_wait_for_expire_hover"))}})]:e.isFree?[s("span",{staticClass:"b-btn-text m-default-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_subscribed_free_label_new"))}}),e.chat||e.newEdition?e._e():s("span",{staticClass:"b-btn-text m-hover-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_unsubscribe_label_new_hover"))}})]:[s("span",{staticClass:"b-btn-text m-default-state",domProps:{innerHTML:e._s(e.subscribeTextNoTime)}}),e.chat||e.newEdition?e._e():s("span",{staticClass:"b-btn-text m-hover-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_unsubscribe_label_new_hover"))}})]:[s("span",{staticClass:"b-btn-text m-default-state",domProps:{innerHTML:e._s(e.subscribeText)}}),e.chat||e.newEdition?e._e():s("span",{staticClass:"b-btn-text m-hover-state",domProps:{innerHTML:e._s(this.$i18n.t("message.subscribe_btn_unsubscribe_label_new_hover"))}})],e.waitForExpire?s("modal-confirm",{attrs:{"modal-show":e.isEnableRenewConfirmShow,title:this.$i18n.t("message.renewal_confirmation"),text:this.$i18n.t("message.renewal_confirmation_desc",{NAME:e.user.name,AMOUNT:"<strong>"+e.amountHumanShort(e.user.subscribePrice)+"</strong>"}),"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isEnableRenewConfirmShow=t},"update:modal-show":function(t){e.isEnableRenewConfirmShow=t},"on-agree":e.doEnableRenew}}):e._e(),e.isExpiredNow&&e.user.isSuspended?s("modal-confirm",{attrs:{"modal-show":e.isSuspendedSubscribeConfirmShow,title:this.$i18n.t("message.renewal_confirmation"),text:this.$i18n.t("message.subscribe_suspended_confirm_popup",{LAST_POST_DATE:e.lastPostDate}),"agree-btn":this.$i18n.t("message.confirm_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isSuspendedSubscribeConfirmShow=t},"update:modal-show":function(t){e.isSuspendedSubscribeConfirmShow=t},"on-agree":e.openSubscribeModal}}):e._e()],2):e.isAuthUser&&e.promotion?s("div",{class:{"m-rounded m-border m-uppercase m-lg":!e.flat&&!e.chat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&!e.chat&&e.newEdition,"m-flat":e.flat,"g-btn":!e.chat},attrs:{role:"button"}},[e.chat||e.newEdition?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text",class:{"m-notice":!e.promotion.hasRelatedPromo},domProps:{innerHTML:e._s(e.subscribePromoText)}})]):!e.isAuthUser&&e.user.canAddSubscriber&&e.promotion?s("div",{class:{"m-rounded m-border m-profile":!e.flat&&!e.chat&&!e.newEdition,"m-rounded m-block m-uppercase":!e.flat&&!e.chat&&e.newEdition,"m-flat":e.flat,"g-btn":!e.chat},attrs:{role:"button"},on:{click:e.openSubscribeModal}},[e.chat||e.newEdition?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text",class:{"m-notice":!e.promotion.hasRelatedPromo&&!e.short},domProps:{innerHTML:e._s(e.subscribePromoText)}}),e.user.subscribePrice&&!1!==e.isExpiredNow?e._e():s("modal-confirm",{attrs:{"modal-show":e.isResubscribeConfirmShow,title:this.$i18n.t("message.dialog_resubscribe_title"),text:this.$i18n.t("message.dialog_resubscribe_desc_new",{AMOUNT:"<strong>"+e.amountHumanShort(e.user.subscribePrice)+"</strong>",DATE:"<strong>"+e.expiredDateHuman+"</strong>"}),"agree-btn":this.$i18n.t("message.confirm_yes_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isResubscribeConfirmShow=t},"update:modal-show":function(t){e.isResubscribeConfirmShow=t},"on-agree":e.doResubscribe}})],1):e.isAuthUser||!e.user.canAddSubscriber||e.promotion?e._e():s("div",{class:{"m-rounded m-border m-profile m-fluid-width":!e.flat&&!e.newEdition,"m-rounded m-uppercase m-block":!e.flat&&e.newEdition,"m-flat":e.flat,"g-btn":!e.chat},attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.openSubscribeModal(t)}}},[e.chat||e.newEdition?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"subscribe-icon",staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text",domProps:{innerHTML:e._s(e.subscribeMsg)}}),e.user.subscribePrice&&!1!==e.isExpiredNow?e._e():s("modal-confirm",{attrs:{"modal-show":e.isResubscribeConfirmShow,title:this.$i18n.t("message.dialog_resubscribe_title"),text:this.$i18n.t("message.dialog_resubscribe_desc_new",{AMOUNT:"<strong>"+e.amountHumanShort(e.user.subscribePrice)+"</strong>",DATE:"<strong>"+e.expiredDateHuman+"</strong>"}),"agree-btn":this.$i18n.t("message.confirm_yes_button"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isResubscribeConfirmShow=t},"update:modal-show":function(t){e.isResubscribeConfirmShow=t},"on-agree":e.doResubscribe}})],1):s("div",{staticClass:"m-fluid-width",class:{"m-rounded m-border m-profile dark":!e.flat&&!e.chat,"m-flat":e.flat,"g-btn":!e.chat},attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.openSubscribeModal(t)}}},[e.chat?e._e():s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-follow"}),s("span",{staticClass:"b-btn-text",domProps:{innerHTML:e._s(e.subscribeMsg)}})])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("96cf"),s("3b8d")),a=(s("386d"),s("7f7f"),s("7514"),s("bd86")),o=s("9b02"),c=s.n(o),l=s("c1df"),u=s.n(l),d=s("d634"),h=s("2612"),p=s("8b3f"),m=s("1db1"),f=s("9df8"),b=s("d981"),v=s("09e4"),g=s("f950");function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var w=function(e){return parseInt(e)==e},O={name:"SubscribeBtn",components:{ModalConfirm:p["a"]},mixins:[m["a"],f["b"],b["a"],f["c"]],props:{flat:{type:Boolean,required:!1},chat:{type:Object,default:null},short:{type:Boolean,required:!1},newEdition:{type:Boolean,required:!1}},data:function(){return{isResubscribeConfirmShow:!1,showHoverButtonData:!1,isEnableRenewConfirmShow:!1,isSuspendedSubscribeConfirmShow:!1}},computed:y(y({},Object(d["b"])(["isAuth","authUserId","authUser","subscriptionInitiated"])),{},{promotionAll:function(){return c()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return c()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},promotion:function(){return this.isAuthUser?"SubscribersByType"===this.$route.name&&"expired"===this.$route.params.type?this.promotionExpired:this.promotionAll:this.isAuth&&this.isExpired?this.promotionExpired&&this.promotionExpired.canClaim?this.promotionExpired:null:this.promotionAll&&this.promotionAll.canClaim?this.promotionAll:null},hasRelatedPromo:function(){return 1===c()(this,"user.promotions",[]).length},subscribeBtnPrice:function(){return null!==this.user.currentSubscribePrice&&void 0!==this.user.currentSubscribePrice?this.user.currentSubscribePrice:this.user.subscribePrice},formattedSubscribeBtnPrice:function(){return w(this.subscribeBtnPrice)?"$".concat(this.subscribeBtnPrice):this.priceHuman(this.subscribeBtnPrice)},subscribeMsg:function(){return this.short?this.$i18n.t("message.subscription_subscribe_free_simple_button"):this.subscribeBtnPrice?!1===this.isExpiredNow?this.$i18n.t("message.subscription_subscribe_simple_button"):this.$i18n.t("message.subscription_subscribe_price_full_button_new_btn_formatted",{PRICE:this.formattedSubscribeBtnPrice}):this.$i18n.t("message.subscription_subscribe_free_full_button")},isAuthUser:function(){return this.authUserId===this.id},expiredDateHuman:function(){return this.subscribe?u()(this.subscribe.expiredAt).format("MMM D, YYYY"):this.user.subscribedByExpireDate?u()(this.user.subscribedByExpireDate).format("MMM D, YYYY"):""},subscribeText:function(){return this.subscribe&&this.subscribe.price?this.$i18n.t("message.subscribe_btn_unsubscribe_label_wait_for_expire_formatted",{PRICE:w(this.subscribe.price)?"$".concat(this.subscribe.price):this.priceHuman(this.subscribe.price),DATE:this.expiredDateHuman}):this.$i18n.t("message.subscribe_btn_unsubscribe_label_wait_for_expire_for_free",{DATE:this.expiredDateHuman})},subscribeTextNoTime:function(){return this.subscribe&&this.subscribe.price?this.$i18n.t("message.subscribe_btn_unsubscribe_label_wait_for_expire_no_time_formatted",{PRICE:w(this.subscribe.price)?"$".concat(this.subscribe.price):this.priceHuman(this.subscribe.price)}):this.$i18n.t("message.subscribe_btn_unsubscribe_label_wait_for_expire_for_free_no_time")},subscribePromoText:function(){return this.short?this.$i18n.t("message.subscription_subscribe_free_simple_button"):parseFloat(this.promotion.price)?this.$i18n.t("message.subscription_promo_subscribe_price_full_button_new_formatted",{PRICE:w(this.promotion.price)?"$".concat(this.promotion.price):this.priceHuman(this.promotion.price)}):this.$i18n.t("message.subscription_promo_subscribe_free_full_button_new",{DAYS:"".concat(this.promotion.subscribeDays," ").concat(1===this.promotion.subscribeDays?this.$i18n.t("message.day"):this.$i18n.t("message.days"))})},isFree:function(){return!!this.subscribe&&!this.subscribe.price},lastPostDate:function(){return this.subscribe&&this.subscribe.lastPostDate?u()(this.subscribe.lastPostDate).format("MMM D, YYYY"):""}}),mounted:function(){this.subscriptionInitiated||(-1!==window.location.hash.indexOf("#subscribeModal")&&(this.isAuthUser||this.user.subscribedBy||this.openSubscribeModal()),"Profile"===this.$route.name&&-1!==window.location.search.indexOf("?enable_renew=1")&&(this.isAuthUser||(!0===this.isExpiredNow?this.openSubscribeModal():this.waitForExpire&&(this.isEnableRenewConfirmShow=!0))))},methods:y(y(y(y(y(y(y({},Object(d["Sb"])(["setModalUser"])),Object(d["Nb"])(["fetchSubscriptionsCount"])),Object(d["Ib"])(["updateSubscribe"])),Object(d["i"])(["fetchChat"])),Object(d["c"])(["setSubscriptionInitiated"])),Object(d["s"])(["updateLiveUser"])),{},{subscribeFinish:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t||!t.id){e.next=14;break}if(this.updateSubscribe(t),this.fetchSubscriptionsCount(),"Profile"!==this.$route.name&&"ProfileInner"!==this.$route.name&&"Post"!==this.$route.name){e.next=7;break}this.fetchProfileData(this.id),e.next=14;break;case 7:if("Chat"!==this.$route.name){e.next=13;break}return e.next=10,this.fetchChat(this.id);case 10:this.$emit("hide-dropdown"),e.next=14;break;case 13:"SubscribesByType"===this.$route.name?this.removeSubscribe(this.id):"Live"===this.$route.name&&(this.updateLiveUser(t),this.$root.$emit("bv::hide::modal","ModalSubscribeLite"));case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openSubscribeModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isAuthUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.setModalUser({userId:this.id});case 4:if(this.isAuth){e.next=8;break}this.$root.$emit("bv::show::modal","ModalSubscribe"),e.next=32;break;case 8:if(!this.user.subscribePrice){e.next=12;break}!1===this.isExpiredNow?this.isResubscribeConfirmShow=!0:this.$root.$emit("bv::show::modal","ModalSubscribe"),e.next=32;break;case 12:if(!this.authUser.isPaywallRestriction){e.next=16;break}this.$root.$emit("bv::show::modal","ModalSubscribe"),e.next=32;break;case 16:return e.prev=16,this.setSubscriptionInitiated(!0),window.showPreloader(),t=Object(g["a"])(this.$route.name),e.next=22,Object(h["gb"])(this.id,{source:t});case 22:s=e.sent,window.hidePreloader(),this.setSubscriptionInitiated(!1),this.subscribeFinish(s),e.next=32;break;case 28:e.prev=28,e.t0=e["catch"](16),window.hidePreloader(),Object(v["b"])(e.t0);case 32:case"end":return e.stop()}}),e,this,[[16,28]])})));function t(){return e.apply(this,arguments)}return t}(),doEnableRenew:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.history.replaceState(null,"",window.location.href.replace(window.location.search,"")),t=this.id,e.next=4,this.autoprolongToggle({id:t});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openUnsubscribeModal:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.id,this.user.canAddSubscriber){e.next=7;break}return e.next=4,this.setModalUser({userId:t});case 4:this.$root.$emit("bv::show::modal","ModalUnsubscribe"),e.next=24;break;case 7:if(!this.user.isSuspended){e.next=17;break}if(!this.isExpiredNow){e.next=12;break}this.isSuspendedSubscribeConfirmShow=!0,e.next=15;break;case 12:return e.next=14,this.setModalUser({userId:t});case 14:this.$root.$emit("bv::show::modal","ModalUnsubscribe");case 15:e.next=24;break;case 17:if(!this.waitForExpire){e.next=21;break}this.autoprolongToggle({id:t}),e.next=24;break;case 21:return e.next=23,this.setModalUser({userId:t});case 23:this.$root.$emit("bv::show::modal","ModalUnsubscribe");case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doResubscribe:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(g["a"])(this.$route.name),e.next=4,Object(h["ab"])(this.id,{source:t});case 4:s=e.sent,this.subscribeFinish(s),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Object(v["b"])(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),mouseover:function(){this.showHoverButtonData=!0},mouseleave:function(){this.showHoverButtonData=!1}})},C=O,P=s("2877"),x=Object(P["a"])(C,i,r,!1,null,null,null);t["a"]=x.exports},a4a3:function(e,t,s){},a751:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-offer-wrapper"},[e.isAuthUser&&e.user.canCreatePromotion&&!e.promotion?s("promotions-card",{attrs:{id:e.user.id}}):e._e(),e.promotion?s("div",{staticClass:"b-offer-join"},[s("div",{staticClass:"b-offer-join__content"},[e.promotion?[s("div",{staticClass:"b-offer-join__details"},[e.promotion?[e.isPromotionFree?[e._v(" "+e._s(e.$t("message.trial_offer_popup_title_new"))+" ")]:[e._v(" "+e._s(e.promotionDiscount)+"% "+e._s(e.$t("message.discount_bundle_off"))+" ")]]:e._e(),e.isPromotionFree?[s("span",[e._v(e._s(e.$t("message.free")))]),e._v(" "+e._s(e.$t("message.subscribe_btn_for"))+" "+e._s(e.promotion.subscribeDays)+" "+e._s(e.$t(1===e.promotion.subscribeDays?e.$t("message.day"):e.$t("message.days")))+" ")]:[s("span",{staticClass:"b-amount-price m-num"},[e._v(e._s(e.priceHuman(e.promotion.price)))]),e._v(" "+e._s(e.$t("message.text_amount_days_promo"))+" ")],e.promotionEnded?[e._v(" "+e._s(e.$t("message.pretext_with"))+" "+e._s(e.promotion.claimsCount)+" promotion subscribers ")]:e._e()],2),s("div",{staticClass:"b-offer-join__left-time"},[e.promotion.subscribeCounts?[e._v(e._s(e.promotion.subscribeCounts)+" left "),s("br")]:e._e(),e.promotion.finishedAt&&"0000-00-00 00:00:00"!==e.promotion.finishedAt?[e._v(" "+e._s(e.$t("message.pretext_ends"))+" "+e._s(e.promotionEnds)+" ")]:e._e()],2),s("span",{staticClass:"g-icon-info m-icon-sm m-with-round-hover"})]:e._e()],2),e.promotion&&e.promotion.message?s("div",{staticClass:"b-offer-join__bubble"},[s("span",{staticClass:"g-avatar m-w24 m-border-line"},[s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-offer-join__bubble__text",domProps:{innerHTML:e._s(e.promotion.message)}})]):e._e(),s("div",{staticClass:"b-offer-join__btn"},[!e.promotion||e.isAuthUser||e.promotionEnded?e._e():s("subscribe-btn",{attrs:{id:e.id}}),e.promotion&&e.isAuthUser&&!e.promotionEnded?[s("button",{staticClass:"g-btn m-rounded m-uppercase m-border",attrs:{type:"button"},on:{click:e.doFinishPromotion}},[e._v(" "+e._s(e.$t("message.promo_campaign_finish_btn_label"))+" ")]),s("router-link",{ref:"profileUrl",staticClass:"g-btn g-hidden",attrs:{to:{name:"Profile",params:{userId:e.user.username}}}}),s("button",{staticClass:"g-btn m-rounded m-uppercase",on:{click:function(t){return t.preventDefault(),e.doCopyPostLink(t)}}},[e._v(" "+e._s(e.$t("message.copy_link_to_profile_btn"))+" ")])]:e._e(),e.promotion&&e.promotionEnded?s("button",{staticClass:"g-btn m-rounded m-border m-block m-uppercase",attrs:{type:"button",disabled:e.disabledDeletePromotion},on:{click:e.doDeletePromotion}},[e._v(" "+e._s(e.$t("message.campaign_finished_txt_btn"))+" ")]):e._e()],2)]):e._e(),e.isAuthUser?s("modal-confirm",{attrs:{"modal-show":e.showDeletePromotionConfirm,title:e.$t("message.title_stop_profile_promotion"),text:e.$t("message.stop_promotion_campaign"),"agree-btn":this.$i18n.t("message.button_label_stop_campaign"),"close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.showDeletePromotionConfirm=t},"update:modal-show":function(t){e.showDeletePromotionConfirm=t},"on-agree":e.agreeStopPromotion}}):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("7f7f"),s("7514"),s("bd86")),o=(s("c5f6"),s("9b02")),c=s.n(o),l=s("c1df"),u=s.n(l),d=s("d634"),h=s("0a2a"),p=s("8b3f"),m=s("e66b"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.promotion&&!e.promotionEnded||e.isAuthUser?s("div",{staticClass:"b-offer-join"},[s("div",{staticClass:"b-offer-join__title"},[e._v(" "+e._s(e.$t("message.promotion_campaign_title"))+" "),e.isAuthUser?s("span",{staticClass:"g-icon-info m-icon-sm m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.$t("message.start_promotion_desc_all"),expression:"$t('message.start_promotion_desc_all')",modifiers:{enabled:!0}}],staticClass:"icon-info"})]):e._e()]),!e.isAuthUser||e.promotion&&!e.promotionEnded?e._e():s("div",{staticClass:"b-offer-join__btn"},[s("button",{staticClass:"g-btn m-rounded m-block m-uppercase",attrs:{type:"button"},on:{click:e.showModalPromotion}},[e._v(" "+e._s(e.$t("message.start_profile_promotion_btn"))+" ")])])]):e._e()},b=[],v=s("9df8");function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function _(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y={name:"ProfilePromotions",mixins:[v["c"]],props:{id:{type:Number,required:!0}},data:function(){return{disabledDeletePromotion:!1,collapsed:!1,showDeletePromotionConfirm:!1,timer:null,finishNow:!1}},computed:_(_(_(_({},Object(d["Ob"])(["getUser"])),Object(d["b"])(["authUserId"])),Object(d["q"])(["currentDate"])),{},{user:function(){return this.getUser(this.id)},promotionAll:function(){return c()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return c()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},promotion:function(){return this.isSubscribersExpired?this.promotionExpired:this.promotionAll},promotionEnds:function(){return u()(this.promotion.finishedAt).format("MMM D")},promotionEnded:function(){return!this.promotion||!this.promotion.canClaim||this.finishNow},isPromotionFree:function(){return this.promotion.price<=0},isSubscribersExpired:function(){return"expired"===this.$route.params.type&&("SubscribersByType"===this.$route.name||"SubscribesByType"===this.$route.name)||!this.isAuthUser&&this.promotionExpired},isAuthUser:function(){return this.authUserId===this.user.id}}),watch:{promotion:{handler:function(e){e&&e.canClaim?this.startTimer():this.stopTimer()},immediate:!0},currentDate:function(){this.promotionEnded?this.stopTimer():this.startTimer()}},mounted:function(){try{this.collapsed=null!==localStorage.getItem("collapsedPromotion")&&"true"===localStorage.getItem("collapsedPromotion")&&this.isAuthUser}catch(e){}},beforeDestroy:function(){this.stopTimer()},methods:_(_({},Object(d["Nb"])(["finishPromotion","deletePromotion"])),{},{doCopyPostLink:function(){var e=this,t=this.$refs.profileUrl.$el.href;this.$copyText(t).then((function(){e.$bvToast.toast(e.$i18n.t("message.copy_link_to_profile_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))},doFinishPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.showDeletePromotionConfirm=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),agreeStopPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.finishPromotion(this.promotion.id);case 2:this.stopTimer();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doDeletePromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledDeletePromotion=!0,e.next=3,this.deletePromotion(this.promotion.id);case 3:this.disabledDeletePromotion=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showModalPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$root.$emit("bv::show::modal","ModalPromotion");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setFinishNow:function(){this.finishNow=!0,this.stopTimer()},startTimer:function(){if(this.stopTimer(),null!==this.promotion.finishedAt){var e=+new Date(this.promotion.finishedAt)-this.currentDate;e>0?e<2147483647&&(this.timer=setTimeout(this.setFinishNow,e)):this.setFinishNow()}},stopTimer:function(){clearTimeout(this.timer)}})},w=y,O=s("2877"),C=Object(O["a"])(w,f,b,!1,null,null,null),P=C.exports;function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var S={name:"ProfilePromotions",components:{SubscribeBtn:h["a"],ModalConfirm:p["a"],ImageThumb:m["a"],PromotionsCard:P},mixins:[v["c"]],props:{id:{type:Number,required:!0}},data:function(){return{disabledDeletePromotion:!1,collapsed:!1,showDeletePromotionConfirm:!1,timer:null,finishNow:!1,swiperOption:{spaceBetween:8,autoHeight:!1,slidesPerView:"auto",loop:!1,pagination:{el:".swiper-pagination",clickable:!0}}}},computed:k(k(k(k({},Object(d["Ob"])(["getUser"])),Object(d["b"])(["authUserId"])),Object(d["q"])(["currentDate"])),{},{user:function(){return this.getUser(this.id)},promotionAll:function(){return c()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return c()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},promotion:function(){return this.isSubscribersExpired?this.promotionExpired:this.promotionAll},promotionEnds:function(){return u()(this.promotion.finishedAt).format("MMM D")},promotionEnded:function(){return!this.promotion||!this.promotion.canClaim||this.finishNow},isPromotionFree:function(){return this.promotion.price<=0},isSubscribersExpired:function(){return"expired"===this.$route.params.type&&("SubscribersByType"===this.$route.name||"SubscribesByType"===this.$route.name)||!this.isAuthUser&&this.promotionExpired},isAuthUser:function(){return this.authUserId===this.user.id},promotionDiscount:function(){if(!this.isPromotionFree)return Math.round((this.user.subscribePrice-this.promotion.price)/this.user.subscribePrice*100)}}),watch:{promotion:{handler:function(e){e&&e.canClaim?this.startTimer():this.stopTimer()},immediate:!0},currentDate:function(){this.promotionEnded?this.stopTimer():this.startTimer()}},mounted:function(){try{this.collapsed=null!==localStorage.getItem("collapsedPromotion")&&"true"===localStorage.getItem("collapsedPromotion")&&this.isAuthUser}catch(e){}},beforeDestroy:function(){this.stopTimer()},methods:k(k({},Object(d["Nb"])(["finishPromotion","deletePromotion"])),{},{doCopyPostLink:function(){var e=this,t=this.$refs.profileUrl.$el.href;this.$copyText(t).then((function(){e.$bvToast.toast(e.$i18n.t("message.copy_link_to_profile_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))},doFinishPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.showDeletePromotionConfirm=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),agreeStopPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.finishPromotion(this.promotion.id);case 2:this.stopTimer();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doDeletePromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledDeletePromotion=!0,e.next=3,this.deletePromotion(this.promotion.id);case 3:this.disabledDeletePromotion=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showModalPromotion:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$root.$emit("bv::show::modal","ModalPromotion");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),toggleBox:function(){this.collapsed=!this.collapsed,localStorage.setItem("collapsedPromotion",this.collapsed)},setFinishNow:function(){this.finishNow=!0,this.stopTimer()},startTimer:function(){if(this.stopTimer(),null!==this.promotion.finishedAt){var e=+new Date(this.promotion.finishedAt)-this.currentDate;e>0?e<2147483647&&(this.timer=setTimeout(this.setFinishNow,e)):this.setFinishNow()}},stopTimer:function(){clearTimeout(this.timer)}})},E=S,T=Object(O["a"])(E,i,r,!1,null,null,null);t["a"]=T.exports},a775:function(e,t,s){"use strict";var i=s("f1fb"),r=s.n(i);r.a},a8fc:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{ref:"usersListsDropdown",attrs:{"toggle-class":"m-with-round-hover",offset:"4",right:""}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.list_sort"),classes:"m-tooltip-higher"},expression:"{content: $t('message.list_sort'), classes: 'm-tooltip-higher' }"}],staticClass:"icon-sort"})]),e._l(e.sort,(function(t){return s("b-dropdown-item",{key:t,staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.sortModel,expression:"sortModel"}],staticClass:"b-input-radio",attrs:{id:"users-lists-sort-"+t,type:"radio",name:"sort",disabled:e.orderDisabled},domProps:{value:t,checked:e._q(e.sortModel,t)},on:{change:function(s){e.sortModel=t}}}),s("label",{attrs:{for:"users-lists-sort-"+t}},[e._v(" "+e._s(e.$t("message.sort_"+t+"_label"))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])})),s("b-dropdown-divider"),e._l(e.order,(function(t){return s("b-dropdown-item",{key:t,staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.orderModel,expression:"orderModel"}],staticClass:"b-input-radio",attrs:{id:"users-lists-order-"+t,type:"radio",name:"order",disabled:e.orderDisabled},domProps:{value:t,checked:e._q(e.orderModel,t)},on:{change:function(s){e.orderModel=t}}}),s("label",{attrs:{for:"users-lists-order-"+t}},[e._v(" "+e._s(e.$t("message.sort_"+t+"ending_label"))+" ")]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])})),s("b-dropdown-divider"),s("b-dropdown-item-button",{on:{click:e.enableCustomOrder}},[e._v(" "+e._s(e.$t("message.customize_order"))+" ")])],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("9b02"),c=s.n(o),l=s("d634");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"UsersListsSort",data:function(){return{sort:["name","recent","people","custom"],order:["asc","desc"],orderDisabled:!1}},computed:d(d({},Object(l["b"])(["authUser"])),{},{sortModel:{get:function(){return this.authUser.listsSort||"custom"},set:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.orderDisabled=!0,this.hide(),e.next=4,this.saveUsersListsOrder({sort:t});case 4:this.orderDisabled=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},orderModel:{get:function(){return this.authUser.listsSortOrder||"asc"},set:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.hide(),e.next=3,this.saveUsersListsOrder({order:t});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}),methods:d(d(d({},Object(l["Rb"])(["setCustomOrderEnabled"])),Object(l["Pb"])(["saveUsersListsOrder"])),{},{enableCustomOrder:function(){var e=this;this.hide(),this.$nextTick((function(){e.setCustomOrderEnabled(!0)})),"UsersLists"!==!this.$route.name&&(this.$root.$emit("bv::hide::modal","ModalUsersLists"),setTimeout((function(){e.$router.push({name:"UsersLists"}),"sm"===e.$mq&&(e.$window.enableBodyScroll(),e.$window.document.body.classList.remove("m-dropdown-body"))}),350))},hide:function(){c()(this,"$refs.usersListsDropdown")&&this.$refs.usersListsDropdown.hide()}})},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},aae3d:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header m-search-form-visible"},[s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.$t("message.search_title"))+" ")]),s("page-title",{attrs:{title:e.$t("message.search_title")}}),s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.toggleSearch}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-search"})]),s("feed-search",{attrs:{"is-show":e.isShowSearch},on:{close:e.toggleSearch}})],1),e.isLoading?s("div",{staticClass:"b-posts_preloader_container show_more_container"},[s("spinner-loader")],1):e._e(),s("div",{staticClass:"b-users"},[e.searchUsers.length?s("div",{staticClass:"b-users__list"},e._l(e.searchUsers,(function(e){return s("search-users-item",{key:e,attrs:{"user-id":e}})})),1):e._e(),e.searchUsers.length||e.isLoading?e._e():s("p",{staticClass:"empty-message"},[e._v(" "+e._s(e.$t("message.no_users_found_message"))+" ")]),e.searchUsers.length>=1?s("infinite-loading",{attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"b-posts_preloader_container show_more_container",attrs:{slot:"spinner"},slot:"spinner"},[s("spinner-loader")],1),s("div",{attrs:{slot:"no-more"},slot:"no-more"}),s("div",{attrs:{slot:"no-results"},slot:"no-results"})]):e._e()],1),s("back-to-top-btn")],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("a481"),s("96cf"),s("3b8d")),a=s("bd86"),o=s("e166"),c=s.n(o),l=s("e528"),u=s("b304"),d=s("9179"),h=s("39a7"),p=s("d634");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function f(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b={name:"SearchUsers",components:{InfiniteLoading:c.a,SpinnerLoader:l["a"],BackToTopBtn:u["a"],FeedSearch:d["a"],SearchUsersItem:h["a"]},data:function(){return{isShowSearch:!0,infiniteId:+new Date,isLoading:!0,offset:0}},computed:f({},Object(p["Ob"])(["searchUsers"])),watch:{$route:{handler:function(){this.isLoading=!0,this.getSearchUsers()},immediate:!0}},methods:f(f({},Object(p["Nb"])(["fetchSearchUsers"])),{},{toggleSearch:function(){this.isShowSearch=!this.isShowSearch},infiniteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getSearchUsers({more:!0,limit:40});case 2:s=e.sent,s&&s.length?t.loaded():t.complete();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getSearchUsers:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},s=t.more,i=void 0!==s&&s,r=this.$route.params.q?this.$route.params.q.replace(/[%#@]/gm,""):"",this.offset=i?this.offset+40:0,e.next=5,this.fetchSearchUsers({more:i,query:r,offset:this.offset,limit:40});case 5:return n=e.sent,this.isLoading=!1,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},v=b,g=(s("1d62"),s("2877")),_=Object(g["a"])(v,i,r,!1,null,"9812c0d4",null);t["default"]=_.exports},ad76:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"g-page__header"},[s("go-back"),s("h1",{staticClass:"g-page-title"},[e._v(" "+e._s(e.$t("message.report_abuse"))+" ")]),s("page-title",{attrs:{title:e.$t("message.report_abuse")}})],1),s("p",{domProps:{innerHTML:e._s(e.$t("message.report_abuse_paragraph_1"))},on:{click:e.innerLinkToRouter}}),s("p",{domProps:{innerHTML:e._s(e.$t("message.report_abuse_paragraph_2"))},on:{click:e.innerLinkToRouter}}),s("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[s("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"input-name",name:"name",required:"",type:"text",label:e.$t("message.your_name_label"),placeholder:e.$t("message.your_name_label"),maxlength:40},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.errors.first("name")?s("template",{slot:"afterInput"},[s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("name"))+" ")])]):e._e()],2),s("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"input-email",name:"email",required:"",type:"email",label:e.$t("message.your_email_label"),placeholder:e.$t("message.your_email_label"),maxlength:255},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}},[e.errors.first("email")?s("template",{slot:"afterInput"},[s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("email"))+" ")])]):e._e()],2),s("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"input-reported-username",name:"username",required:"",type:"text",label:e.$t("message.reported_username_label"),placeholder:e.$t("message.reported_username_label"),maxlength:24},model:{value:e.reportedUsername,callback:function(t){e.reportedUsername=t},expression:"reportedUsername"}},[e.errors.first("username")?s("template",{slot:"afterInput"},[s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("username"))+" ")])]):e._e()],2),s("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required|urls",expression:"'required|urls'"}],attrs:{id:"input-reported-urls",name:"urls",required:"",type:"textarea",label:e.$t("message.reported_urls_label"),placeholder:e.$t("message.reported_urls_label"),maxlength:65535},model:{value:e.reportedUrls,callback:function(t){e.reportedUrls=t},expression:"reportedUrls"}},[e.errors.first("urls")?s("template",{slot:"afterInput"},[s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("urls"))+" ")])]):e._e()],2),s("div",{staticClass:"g-input__wrapper m-only-label m-reset-tg"},[s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.$t("message.reported_content_involves"))+" ")])]),e._l(e.reportAbuseOptions.involves,(function(t,i){return s("div",{key:i,staticClass:"g-input__wrapper b-input-radio__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportInvolves,expression:"reportInvolves"},{name:"validate",rawName:"v-validate",value:"required|minLength:1",expression:"'required|minLength:1'"}],staticClass:"b-input-radio",attrs:{id:"input-involves-"+i,name:"involves",type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.reportInvolves)?e._i(e.reportInvolves,i)>-1:e.reportInvolves},on:{change:function(t){var s=e.reportInvolves,r=t.target,n=!!r.checked;if(Array.isArray(s)){var a=i,o=e._i(s,a);r.checked?o<0&&(e.reportInvolves=s.concat([a])):o>-1&&(e.reportInvolves=s.slice(0,o).concat(s.slice(o+1)))}else e.reportInvolves=n}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"input-involves-"+i},domProps:{innerHTML:e._s(t)}}),s("span",{staticClass:"b-input-radio__label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})])])])})),e.errors.first("involves")?s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("involves"))+" ")]):e._e(),s("div",{staticClass:"g-input__wrapper m-only-label m-reset-tg"},[s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.$t("message.reported_agreed_distribution"))+" ")])]),s("div",{staticClass:"g-input__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportAgreedDistribution,expression:"reportAgreedDistribution"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"b-input-radio",attrs:{id:"input-agreed-distribution-1",required:"",name:"input-agreed-distribution",type:"radio"},domProps:{value:!0,checked:e._q(e.reportAgreedDistribution,!0)},on:{change:function(t){e.reportAgreedDistribution=!0}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"input-agreed-distribution-1"}},[e._v(" "+e._s(e.$t("message.yes"))+" ")]),e._m(0)])]),s("div",{staticClass:"g-input__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportAgreedDistribution,expression:"reportAgreedDistribution"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"b-input-radio",attrs:{id:"input-agreed-distribution-2",required:"",name:"input-agreed-distribution",type:"radio"},domProps:{value:!1,checked:e._q(e.reportAgreedDistribution,!1)},on:{change:function(t){e.reportAgreedDistribution=!1}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"input-agreed-distribution-2"}},[e._v(" "+e._s(e.$t("message.no"))+" ")]),e._m(1)]),e.errors.first("input-agreed-distribution")?s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("input-agreed-distribution"))+" ")]):e._e()]),s("div",{staticClass:"g-input__wrapper m-only-label m-reset-tg"},[s("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.$t("message.reported_issue_label"))+" ")])]),e._l(e.reportAbuseOptions.issues,(function(t,i){return s("div",{key:i,staticClass:"g-input__wrapper b-input-radio__wrapper"},[s("span",{staticClass:"b-input-radio__container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.reportIssue,expression:"reportIssue"},{name:"validate",rawName:"v-validate",value:"required|minLength:1",expression:"'required|minLength:1'"}],staticClass:"b-input-radio",attrs:{id:"input-issue-"+i,name:"issue",type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.reportIssue)?e._i(e.reportIssue,i)>-1:e.reportIssue},on:{change:function(t){var s=e.reportIssue,r=t.target,n=!!r.checked;if(Array.isArray(s)){var a=i,o=e._i(s,a);r.checked?o<0&&(e.reportIssue=s.concat([a])):o>-1&&(e.reportIssue=s.slice(0,o).concat(s.slice(o+1)))}else e.reportIssue=n}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"input-issue-"+i},domProps:{innerHTML:e._s(t)}}),s("span",{staticClass:"b-input-radio__label"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),s("span",{staticClass:"b-input-ripple"})])])])})),e.errors.first("issue")?s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("issue"))+" ")]):e._e(),s("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"input-reported-description",name:"desc",required:"",type:"textarea",label:e.$t("message.report_describe_label"),placeholder:e.$t("message.report_describe_label"),maxlength:65535},model:{value:e.reportedDesc,callback:function(t){e.reportedDesc=t},expression:"reportedDesc"}},[e.errors.first("desc")?s("template",{slot:"afterInput"},[s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("desc"))+" ")])]):e._e()],2),s("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"input-reporter-signature",name:"signature",required:"",type:"text",label:e.$t("message.report_signature_field"),maxlength:255},model:{value:e.reporterSignature,callback:function(t){e.reporterSignature=t},expression:"reporterSignature"}},[e.errors.first("signature")?s("template",{slot:"afterInput"},[s("p",{staticClass:"g-input__help m-danger"},[e._v(" "+e._s(e.errors.first("signature"))+" ")])]):e._e()],2),e._m(2),s("div",{staticClass:"g-btn__wrapper"},[e.disabledSubmitReport?s("spinner-loader"):e._e(),s("button",{staticClass:"g-btn m-rounded m-border",attrs:{type:"button",disabled:e.disabledSubmitReport},on:{click:e.back}},[e._v(" "+e._s(e.$t("message.button_label_cancel"))+" ")]),s("button",{staticClass:"g-btn m-rounded",attrs:{type:"submit",disabled:e.disabledSubmitReport}},[e._v(" "+e._s(e.$t("message.report_button"))+" ")])],1)],2)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"b-input-radio__label"},[s("span",{staticClass:"b-input-ripple"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"b-input-radio__label"},[s("span",{staticClass:"b-input-ripple"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-input__wrapper"},[s("div",{staticClass:"captcha_wrapper",attrs:{id:"report_captcha_wrapper"}})])}],n=(s("8e6e"),s("a481"),s("96cf"),s("3b8d")),a=(s("ac6a"),s("456d"),s("7f7f"),s("bd86")),o=s("9b02"),c=s.n(o),l=s("44ba"),u=s("d634"),d=s("b6ee"),h=s("13ca"),p=s("e528"),m=s("ebf6"),f=s("fece"),b=s("1560"),v=s("8c16"),g=s("09e4");function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var w={components:{GoBack:d["a"],InputOF:h["a"],SpinnerLoader:p["a"]},mixins:[m["a"],f["a"],b["a"],v["e"],v["f"]],data:function(){return{nameProxy:"",emailProxy:"",reportedUsername:"",reportedUrls:"",reportInvolves:[],reportAgreedDistribution:null,reportIssue:[],reportedDesc:"",action:"report",captchaWrapperId:"report_captcha_wrapper",disabledSubmitReport:!1,reporterSignature:"",toastId:null,needToLoadRecaptcha:!0}},computed:y(y(y({},Object(u["b"])(["authUser"])),Object(u["q"])(["reportAbuseOptions"])),{},{name:{get:function(){return this.nameProxy||this.authUser.name},set:function(e){this.nameProxy=e}},email:{get:function(){return this.emailProxy||this.authUser.email},set:function(e){this.emailProxy=e}},disabledSubmit:function(){var e=this;return this.disabledSubmitReport||!Object.keys(this.reportAbuseOptions).length||Object.keys(this.fields).some((function(t){return e.fields[t].invalid}))||this.formDisabled}}),mounted:function(){Object.keys(this.reportAbuseOptions).length||this.fetchReportAbuseOptions()},beforeDestroy:function(){this.$root.$off("bv::toast:show"),this.$root.$off("bv::toast:hidden")},methods:y(y({},Object(u["p"])(["fetchReportAbuseOptions"])),{},{back:function(){this.goBack()},submit:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$validator.validateAll(),!this.disabledSubmit){e.next=3;break}return e.abrupt("return");case 3:this.disabledSubmitReport=!0,e.prev=4,t=this.$route.params,s=t.type,i=t.id,r={name:this.name,email:this.email,username:this.reportedUsername,url:this.reportedUrls,involves:this.reportInvolves,agreedDistribution:this.reportAgreedDistribution,issues:this.reportIssue,issue:this.reportedDesc,signature:this.reporterSignature,"v3-recaptcha-response":this["v3-recaptcha-response"],"g-recaptcha-response":this["g-recaptcha-response"]},e.t0=s,e.next="user"===e.t0?10:"post"===e.t0?14:"story"===e.t0?18:22;break;case 10:return e.next=12,Object(l["f"])(i,4,r);case 12:return n=e.sent,e.abrupt("break",23);case 14:return e.next=16,Object(l["d"])(i,4,r);case 16:return n=e.sent,e.abrupt("break",23);case 18:return e.next=20,Object(l["e"])(i,4,r);case 20:return n=e.sent,e.abrupt("break",23);case 22:return e.abrupt("break",23);case 23:this.disabledSubmitReport=!1,n&&n.success&&(this.nameProxy="",this.emailProxy="",this.reportedUsername="",this.reportedUrls="",this.reportInvolves=[],this.reportAgreedDistribution=null,this.reportIssue=[],this.reportedDesc="",this.reporterSignature="",this.$validator.reset(),this.errors.clear(),this.$root.$on("bv::toast:show",(function(e){a.$root.$off("bv::toast:show");var t=e.componentId;a.$root.$on("bv::toast:hidden",(function(e){a.$root.$off("bv::toast:hidden"),t===e.componentId&&a.$router.replace({name:"Feed"})}))})),this.$bvToast.toast(this.$i18n.t("message.report_sent_success_message"),{toaster:"b-toaster-bottom-left",autoHideDelay:3e3,appendToast:!0})),e.next=33;break;case 27:e.prev=27,e.t1=e["catch"](4),this.maybeInitV3Captcha(),this.disabledSubmitReport=!1,this.V2rendered&&this.initV2Captcha(),102===c()(e.t1,"data.error.code")?this.V2rendered||this.initV2Captcha():Object(g["b"])(e.t1);case 33:case"end":return e.stop()}}),e,this,[[4,27]])})));function t(){return e.apply(this,arguments)}return t}()})},O=w,C=s("2877"),P=Object(C["a"])(O,i,r,!1,null,null,null);t["default"]=P.exports},ae6e:function(e,t,s){e.exports=s.p+"img/slide-4.jpg"},aeef:function(e,t,s){"use strict";(function(e){s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("2dd3"),n=s("7520"),a=s("9029"),o=s("d634");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={components:{ItemContent:r["a"]},mixins:[n["a"]],data:function(){return{clicked:!1,clickedOnPay:!1,hover:!1,timeout:void 0}},computed:l(l({},Object(o["Ob"])(["getUser"])),{},{user:function(){return this.getUser(this.value.user)},spaModule:function(){return!0},paid:function(){return this.value.price>0&&!this.value.isOpened},isMobile:function(){return a["isMobile"]},eventSet:function(){var e=this;return this.paid&&this.isMobile?{click:this.buy}:this.paid?{mouseover:function(){e.hover=!0},mouseleave:function(){e.hover=!1},click:this.buy}:{}}}),props:{value:{required:!0}},methods:{buy:function(){var e=this;this.clicked?this.clickedOnPay||(this.clickedOnPay=!0,setTimeout((function(){e.payForStream(e.value,e.user)}))):this.clicked=!0},resetHoverByTimeout:function(){var e=this;this.timeout=setTimeout((function(){e.clicked=!1}),7e3)}},watch:{clicked:function(){this.isMobile&&this.clicked&&this.resetHoverByTimeout()},hover:function(){this.isMobile||(this.hover?e.clearTimeout(this.timeout):this.clicked&&this.resetHoverByTimeout())}}}}).call(this,s("c8ba"))},b000:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"g-section__header connect_spotify m-mb-20"},[s("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.$t("message.settings_spotify_account"))+" ")]),e.authUser.isSpotifyConnected?s("button",{staticClass:"g-btn m-border m-rounded m-sm m-bold",attrs:{type:"button",disabled:e.disabledSpotify},on:{click:function(t){return e.disableSpotify()}}},[e._v(" "+e._s(e.$t("message.disconnect_twitter_account_button"))+" ")]):s("a",{staticClass:"g-btn m-border m-rounded m-sm m-bold",attrs:{href:e.connectLink}},[e._v(" "+e._s(e.$t("message.connect_twitter_button"))+" ")])]),e.authUser.isSpotifyConnected?[s("div",{staticClass:"g-input__wrapper"},[s("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.$t("message.settings_spotify_anthem"))+" ")]),s("router-link",{staticClass:"spotify__settings__btn",attrs:{to:{name:"SpotifyAnthem"},tag:"button"}},[e.spotifyBioAnthem?s("span",{staticClass:"g-input__label"},[e._v(" "+e._s(e.userAnthemArtistSong)+" ")]):e._e(),s("div",{staticClass:"b-spotify__desc"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-spotify-filled",attrs:{"extra-class":"b-spotify__logo"}}),e._v(" "+e._s(e.userAnthemArtist)+" ")])])],1),s("div",{staticClass:"g-input__wrapper"},[s("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.$t("message.settings_spotify_top_artists"))+" ")]),s("router-link",{staticClass:"spotify__settings__btn",attrs:{to:{name:"SpotifyArtists"},tag:"button",disabled:!e.hasSpotifyTopArtists}},[s("span",{staticClass:"g-input__label"},[e._v(e._s(e.$t("message.settings_spotify_top_artists")))]),s("div",{staticClass:"b-spotify__desc"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-spotify-filled",attrs:{"extra-class":"b-spotify__logo"}}),e._v(" "+e._s(e.listOfTopSpotifyArtists)+" ")])])],1)]:e._e()],2)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=(s("a481"),s("7f7f"),s("bd86")),o=s("9b02"),c=s.n(o),l=s("d634"),u=s("b775");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={name:"SpotifySettings",data:function(){return{disabledSpotify:!1}},computed:h(h(h({},Object(l["b"])(["authUser"])),Object(l["eb"])(["spotifyBio","spotifyTopArtists","spotifyTopTracks","spotifyBioTopArtists","spotifyBioAnthem"])),{},{connectLink:function(){var e="".concat(window.location.origin).concat(window.location.pathname);return"".concat(u["a"]).concat(u["b"],"/proxy/spotify?app-token=").concat(u["h"],"&return_url=").concat(e)},hasSpotifyTopArtists:function(){return!!this.spotifyTopArtists.length},hasSpotifyTopTracks:function(){return!!this.spotifyTopTracks.length},listOfTopSpotifyArtists:function(){return this.spotifyBioTopArtists.length?this.spotifyBioTopArtists.map((function(e){return e.name})).join(", "):this.hasSpotifyTopArtists?this.$i18n.t("message.settings_spotify_select_artists"):this.$i18n.t("message.settings_spotify_no_artists")},userAnthemArtist:function(){return this.spotifyBioAnthem?this.spotifyBioAnthem.artists.map((function(e){return e.name})).join(", "):this.hasSpotifyTopTracks?this.$i18n.t("message.settings_spotify_select_anthem"):this.$i18n.t("message.settings_spotify_no_anthem")},userAnthemArtistSong:function(){return this.spotifyBioAnthem.name}}),watch:{authUser:function(e,t){e.isSpotifyConnected&&!t.isSpotifyConnected&&(this.fetchSpotifyBio(),this.fetchSpotifyTop())}},mounted:function(){this.checkSpotifyTokens(),this.authUser.isSpotifyConnected&&(this.fetchSpotifyBio(),this.fetchSpotifyTop())},methods:h(h(h({},Object(l["Nb"])(["connectSpotify","disconnectSpotify"])),Object(l["db"])(["fetchSpotifyBio","fetchSpotifyTop","fetchSpotifyTopArtists"])),{},{checkSpotifyTokens:function(){var e=c()(this.$route,"query.access_token"),t=c()(this.$route,"query.refresh_token"),s=c()(this.$route,"query.token_expiration");e&&t&&s&&(this.$router.replace(this.$route.path),this.connectSpotify({accessToken:e,tokenExpiration:s,refreshToken:t}))},disableSpotify:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledSpotify=!0,e.next=3,this.disconnectSpotify();case 3:this.disabledSpotify=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},m=p,f=s("2877"),b=Object(f["a"])(m,i,r,!1,null,null,null);t["a"]=b.exports},b304:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"g-btn m-border m-rounded m-block m-sm m-back-to-top m-gray-color m-uppercase",class:{"g-hidden":!e.showBackToTop},attrs:{type:"button"},on:{click:e.scrollToTop}},[e._v(" "+e._s(e.$t("message.back_to_top_button_label"))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-up"})])},r=[],n=s("b047c"),a=s.n(n),o=s("16d9"),c={name:"BackToTopBtn",mixins:[o["a"]],data:function(){return{showBackToTop:!1}},mounted:function(){window.addEventListener("scroll",this.catchScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.catchScroll)},methods:{catchScroll:a()((function(){this.showBackToTop=window.pageYOffset>0}),300,{leading:!0})}},l=c,u=s("2877"),d=Object(u["a"])(l,i,r,!1,null,null,null);t["a"]=d.exports},b37e:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i={usd:{symbol:"$"},eur:{symbol:""},gbp:{symbol:""}},r={get:function(e){var t;return t=e?i[e.toLowerCase()]:i.usd,t},getSymbol:function(e){return this.get(e).symbol},format:function(e,t){var s,i=this.get(t);return s=i&&i.symbol?"".concat(i.symbol).concat(e):"".concat(e," ").concat(t.toUpperCase()),s}}},b45f:function(e,t,s){"use strict";var i=s("967c"),r=s.n(i);r.a},b6a4:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("d634");function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={data:function(){return{disabledHideUserPost:!1}},methods:o(o(o({},Object(n["Nb"])(["toggleHiddenPosts"])),Object(n["S"])(["fetchPosts"])),{},{hideUserPostsText:function(e){return e?this.$i18n.t("message.post_dropdown_hide_posts"):this.$i18n.t("message.post_dropdown_show_posts")},doHideUserPosts:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,r,n,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.userId,r=t.isFeed,n=void 0!==r&&r,a=t.hideDropdown,this.disabledHideUserPost=!0,a&&a(),this.$nextTick(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.toggleHiddenPosts(s);case 2:return e.next=4,o.fetchPosts();case 4:n&&alert("You can access posts and enable showing them in your feed from user's profile page");case 5:case"end":return e.stop()}}),e)})))),this.disabledHideUserPost=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})}},bc02:function(e,t,s){"use strict";(function(e){s("8e6e"),s("456d"),s("ac6a"),s("5df3"),s("96cf");var i=s("3b8d"),r=(s("7f7f"),s("7514"),s("a481"),s("bd86")),n=s("c1df"),a=s.n(n),o=s("9b02"),c=s.n(o),l=s("0f32"),u=s.n(l),d=s("d634"),h=s("c70f"),p=s("bc863"),m=s("e66b"),f=s("4683"),b=s("33a44"),v=s("6c62"),g=s("8b3f"),_=s("e057"),y=s("925c"),w=s("7e35"),O=s("b6a4"),C=s("c785"),P=s("7520"),x=s("0687"),k=s("16d9");function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={name:"ProfileHeader",components:{PayerRating:f["a"],ImageThumb:m["a"],UtilsTime:b["a"],Highlights:h["a"],ModalConfirm:g["a"],OffersBlock:p["a"],UsersStatus:v["a"]},mixins:[_["a"],y["a"],w["a"],O["a"],C["a"],P["a"],x["a"],k["a"]],data:function(){return{isShowBio:!1,showCollapseBtn:!1,isShowFriends:!1,disabledMuteUser:!1,isShowStreamConfirm:!1,stickyHeader:!1}},computed:E(E(E(E(E(E(E({},Object(d["Ob"])(["user","hasUser"])),Object(d["b"])(["isAuth","authUser"])),Object(d["wb"])(["streams"])),Object(d["Jb"])(["getSubscribe"])),Object(d["eb"])(["userLoginPrefix"])),Object(d["Bb"])(["scheduledStreams"])),{},{isShowOnlineStatus:function(){return this.userIsStreamingNow||this.user.isMuted||this.user.isOnline||null!==this.user.lastSeen},subscriber:function(){return this.getSubscriber(this.user.id)},subscribe:function(){return this.getSubscribe(this.user.id)},isExpiredSubscribe:function(){return!this.isAuthUser&&this.subscribe&&this.subscribe.expiredAt&&+new Date(this.subscribe.expiredAt)-+new Date<=0&&!this.subscribe.renewedAt&&!this.subscribe.status},expiredSubscribeDays:function(){return this.isExpiredSubscribe?("en"!==this.$i18n.locale&&a.a.locale(this.$i18n.locale),a()(this.subscribe.expiredAt).toNow(!0)):""},isExpired:function(){return!!this.subscriber&&(!this.subscriber.renewedAt&&this.subscriber.expiredAt&&+new Date(this.subscriber.expiredAt)-+new Date<=0)},totalSumm:function(){return this.subscriber?"$".concat(this.subscriber.totalSumm.toFixed(2).replace(".00","")):"$0"},websiteAwayLink:function(){var e=this.user.website,t=-1===e.indexOf("://")?"http://".concat(e):e;return"/away?url=".concat(t)},wishlistAwayLink:function(){var e=this.user.wishlist,t=-1===e.indexOf("://")?"http://".concat(e):e;return"/away?url=".concat(t)},showUserInfoTitle:function(){return this.isShowBio?this.$i18n.t("message.profile_less_info_button"):this.$i18n.t("message.profile_more_info_button")},showInfoTitle:function(){return this.isShowBio?this.$i18n.t("message.profile_show_less_info_button"):this.$i18n.t("message.profile_show_more_info_button")},muteTitle:function(){return this.user.isMuted?this.$i18n.t("message.unrestrict_user_username",{USERNAME:this.user.username}):this.$i18n.t("message.ignore_user_username",{USERNAME:this.user.username})},shorterUserWishlist:function(){var e=this.user.wishlist;return e},promotionAll:function(){return c()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return c()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},promotion:function(){return this.isAuthUser?this.promotionAll:this.isExpiredSubscribe?this.promotionExpired&&this.promotionExpired.canClaim?this.promotionExpired:null:this.promotionAll&&this.promotionAll.canClaim?this.promotionAll:null},runStoryTrottled:function(){return u()(this.runStory,1500)},isArchivePage:function(){return"ProfileInner"===this.$route.name&&"archived"===this.$route.params.postType},addedLists:function(){return this.user.listsStates?this.user.listsStates.filter((function(e){return["fans","following","rebill_on"].indexOf(e.type)<0&&e.hasUser})):[]},userStream:function(){var e=this;return(this.streams||[]).find((function(t){return t.user===e.user.id&&!t.isScheduled}))},userIsStreamingNow:function(){return this.user.hasStream&&!this.user.isMuted},hasAnyDesktopTab:function(){return this.user.photosCount||this.user.videosCount||this.user.audiosCount||this.user.archivedPostsCount||this.isArchivePage},hasFriendsSpotifyTab:function(){return this.user.isSpotifyConnected||this.isAuthUser||this.user.isPerformer&&this.user.hasFriends}}),watch:{user:function(e,t){e.isBlocked&&!t.isBlocked&&this.user.subscribedOn&&this.fetchSubscriptionsCount()}},mounted:function(){var e=this;window.addEventListener("scroll",this.setStickyHeader),this.isShowBio=!0,this.$nextTick((function(){e.getAboutLines()>2&&(e.isShowBio=!1,e.showCollapseBtn=!0)}))},beforeDestroy:function(){window.removeEventListener("scroll",this.setStickyHeader)},methods:E(E(E(E({},Object(d["Sb"])(["setCurrentUser","setModalUser"])),Object(d["Nb"])(["fetchSubscriptionsCount"])),Object(d["S"])(["fetchPostsPinned","fetchUserPostsByType"])),{},{tabSwitcherClick:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,s){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&(1===t.button||2===t.button))){e.next=2;break}return e.abrupt("return");case 2:if(s!==this.$route.params.postType){e.next=6;break}return e.next=5,Promise.all([this.fetchPostsPinned(),this.fetchUserPostsByType()]);case 5:this.scrollToTop();case 6:case"end":return e.stop()}}),e,this)})));function t(t,s){return e.apply(this,arguments)}return t}(),getAboutLines:function(){var t=0;if(this.$refs.userAbout){var s=e.getComputedStyle(this.$refs.userAbout),i=parseInt(s.height,10),r=parseInt(s.lineHeight,10);t=i/r}return this.user.location&&(t+=1),this.user.website&&(t+=1),this.user.wishlist&&(t+=1),t},setStickyHeader:function(){this.stickyHeader=window.scrollY>180},runStory:function(){if(this.user.hasStream&&!this.user.isMuted&&this.userStream)return!this.userStream.isOpened&&this.userStream.price>0?void(this.isShowStreamConfirm=!0):void this.goToStream(this.user);if(this.user.id!==this.authUser.id&&this.user.hasStories&&this.user.canLookStory){var e=document.querySelector(".js-my-stories-element");e&&e.click()}else this.user.id!==this.authUser.id&&this.authUser.isPerformer&&(this.user.subscribedOn||this.user.subscribedOnExpiredNow)&&this.maybeOpenCard({userId:this.user.id})},toggleBio:function(){this.isShowBio=!this.isShowBio},openTipsModal:function(){var e=this;this.setModalUser({userId:this.user.id,postId:null}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalTips")}))},doCopyProfileLink:function(){var e=this,t=this.getUrlUser();this.user&&this.user.id!==this.authUser.id&&(this.user.subscribedBy||this.user.subscribedIsExpiredNow)&&(t+="?rec=".concat(this.authUser.id)),navigator.share?navigator.share({title:this.user.name,url:t}).catch(console.log):this.$copyText(t).then((function(){e.$bvToast.toast(e.$i18n.t("message.copy_link_to_profile_btn_copied"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"})}))},getUrlUser:function(){if(document.getElementById("profileUrl")){var e=document.getElementById("profileUrl"),t=e.href;return t}return""},openUsersListsModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))}})}}).call(this,s("c8ba"))},bc863:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hideBlock?e._e():s("div",{staticClass:"list-offers"},[e.promotion||e.isAuthUser?e._e():s("subscribe",{attrs:{id:e.id}}),e.promotion||e.isAuthUser?s("promotion",{attrs:{id:e.id}}):e._e(),e.isAuthUser||e.bundles.length?s("div",{staticClass:"b-bundles-group b-profile__content__item",class:{"m-active":e.isAuthUser||e.isShowBundles,"m-toggle-block":!e.isAuthUser}},[e.isAuthUser?e._e():s("div",{staticClass:"b-profile__content__item__title"},[s("button",{staticClass:"b-profile__bio__link",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleBundles(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price"}),e._v(" "+e._s(e.$t("message.bundles_block_title"))+" "),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down",attrs:{"extra-class":"m-button-arrow"}})])]),e.isAuthUser?s("bundles-card",{directives:[{name:"show",rawName:"v-show",value:e.showAddBtn,expression:"showAddBtn"}]}):e._e(),e.isAuthUser||e.isShowBundles?e._l(e.bundles,(function(e){return s("bundle",{key:e.id,attrs:{bundle:e}})})):e._e()],2):e._e()],1)},r=[],n=(s("8e6e"),s("20d6"),s("ac6a"),s("456d"),s("7514"),s("bd86")),a=(s("c5f6"),s("9b02")),o=s.n(a),c=s("d634"),l=s("a751"),u=s("8aaea"),d=s("418f"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-offer-wrapper"},[s("div",{staticClass:"b-offer-join"},[s("div",{staticClass:"b-offer-join__content"},[s("span",{staticClass:"g-icon-info m-icon-sm m-with-round-hover"}),s("div",{staticClass:"b-offer-join__details"},[s("span",{staticClass:"m-capitalize"},[e._v(e._s(e.params.panelTitle)+" ")]),s("div",{staticClass:"b-offer-join__text",domProps:{innerHTML:e._s(e.params.panelText)}})])]),s("div",{staticClass:"b-offer-join__btn"},[s("subscribe-btn",{attrs:{id:e.id}})],1)])])},p=[],m=s("0a2a"),f=s("64dc"),b={name:"SubscribeBlock",components:{SubscribeBtn:m["a"]},mixins:[f["a"]]},v=b,g=s("2877"),_=Object(g["a"])(v,h,p,!1,null,null,null),y=_.exports,w=s("709f");function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function C(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var P={name:"Offers",data:function(){var e=w["a"].getItem("showUserBundlesBlock"),t=e?JSON.parse(e):{},s=!1!==t[this.id];return{isShowBundles:s}},components:{Promotion:l["a"],Bundle:d["a"],Subscribe:y,BundlesCard:u["a"]},props:{id:{type:Number,required:!0}},computed:C(C(C(C({},Object(c["h"])(["getBundles"])),Object(c["Ob"])(["userId","user"])),Object(c["b"])(["authUserId"])),{},{hideBlock:function(){return this.isAuthUser&&0===this.user.subscribePrice||!this.isAuthUser&&!this.user.canAddSubscriber},bundles:function(){return this.user.subscriptionBundles?this.getBundles(this.user.subscriptionBundles):[]},promotion:function(){return this.promotionAll||this.promotionExpired},promotionAll:function(){return o()(this,"user.promotions",[]).find((function(e){return"all"===e.type}))},promotionExpired:function(){return o()(this,"user.promotions",[]).find((function(e){return"expired"===e.type}))},showAddBtn:function(){var e=this;return!!o()(this,"user.canAddSubscriberByBundle.durations")&&!!Object.keys(this.user.canAddSubscriberByBundle.durations).filter((function(t){return e.bundles.findIndex((function(e){return e.duration===Number(t)}))<0})).length},isAuthUser:function(){return this.authUserId===this.user.id}}),methods:{setShowBundles:function(e){this.isShowBundles=e;var t=w["a"].getItem("showUserBundlesBlock"),s=t?JSON.parse(t):{};s[this.id]=e,w["a"].setItem("showUserBundlesBlock",JSON.stringify(s))},hideBundles:function(){this.setShowBundles(!1)},toggleBundles:function(){this.setShowBundles(!this.isShowBundles)}},mounted:function(){this.$root.$on("bundle:was:bought",this.hideBundles)},beforeDestroy:function(){this.$root.$off("bundle:was:bought",this.hideBundles)}},x=P,k=Object(g["a"])(x,i,r,!1,null,null,null);t["a"]=k.exports},c37b:function(e,t,s){"use strict";var i=s("f29ea"),r=s.n(i);r.a},c4c0:function(e,t,s){},c618:function(e,t,s){"use strict";var i=s("3251"),r=s.n(i);r.a},c70f:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isShowContainer?s("div",{staticClass:"stories-list m-native-custom-scrollbar"},[e._l(e.userStreams,(function(e){return s("Stream",{key:e.id,attrs:{value:e}})})),e.mainScheduledStream?s("ScheduledStream",{key:e.mainScheduledStream.id,attrs:{value:e.mainScheduledStream,isProfile:!0}}):e._e(),e.isAuthUser&&e.authUser.canAddStory?s("AddHighlightsBtn"):e._e(),s("MyStories",{attrs:{value:e.userStories,startZuck:e.startZuck,storyAuthor:e.user}}),e.isAuthUser||e.user.canLookStory?e._l(e.highlights,(function(e){return s("Item",{key:e.id,attrs:{value:e}})})):e._e(),e.isAuthUser&&e.authUser.canAddStory&&!e.authUser.hasStories?s("StoryArchive"):e._e()],2):e._e()},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-story-item m-gradient-overlay m-viewed m-story-archive",on:{click:e.click}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"b-plus m-dark-bg m-simple-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-story"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.story_archive"))+" ")]),s("image-thumb",{attrs:{user:e.authUser,size:"c144"}})],1)])},o=[],c=s("d634"),l=s("e66b");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"StoryArchive",components:{ImageThumb:l["a"]},computed:d({},Object(c["b"])(["authUser"])),methods:{click:function(){this.$root.$emit("show-create-highlight-modal",{isArchive:!0})}}},p=h,m=s("2877"),f=Object(m["a"])(p,a,o,!1,null,null,null),b=f.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-story-item m-create",on:{click:e.click}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"b-plus m-style-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-highlights"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.reate_highlight"))+" ")])])])},g=[];function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var w={name:"AddHighlights",computed:y(y({},Object(c["q"])(["getInit"])),Object(c["b"])(["authUser"])),methods:y(y({},Object(c["pb"])(["fetchMyStories","addNewMyStory"])),{},{click:function(){this.$root.$emit("show-create-highlight-modal",{isNew:!0})}})},O=w,C=Object(m["a"])(O,v,g,!1,null,null,null),P=C.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-story-item m-gradient-overlay"},[s("div",{staticClass:"b-story-item__inside",on:{click:e.runStoryTrottled}},[s("div",{staticClass:"b-story-item__text online_status_class"},[s("div",{staticClass:"b-story-item__text-name"},[e._v(" "+e._s(e.value.title)+" ")])]),s("img",{staticClass:"img-responsive",attrs:{src:e.value.cover,draggable:"false"}})]),s("div",{ref:"highlights",staticStyle:{display:"none"},attrs:{id:"highlights-"+e.value.id}})])},k=[],S=(s("96cf"),s("3b8d")),E=s("0f32"),T=s.n(E),A=s("912b"),j=s("9798");function $(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?$(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):$(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var I={data:function(){return{scrollY:0}},mixins:[A["a"]],props:{value:{required:!0}},computed:M(M(M({},Object(c["Ob"])(["getUser"])),Object(c["qb"])(["currentHighlights"])),{},{allStories:function(){return this.currentHighlights.stories?[Object(j["b"])(this.currentHighlights.stories,this.getUser(this.currentHighlights.stories[0].userId),!1)]:[]},type:function(){return"currentHighlights"},element:function(){var e=this.value?this.value.id:"";return"highlights-".concat(e)},runStoryTrottled:function(){return T()(this.runStory,1500)}}),methods:M(M({},Object(c["pb"])(["fetchHighlights","fetchUserHighlights","resetCurrentHighlights"])),{},{runStory:function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.scrollY=this.$window.scrollY,this.$window.showPreloader(),e.next=4,this.fetchHighlights(this.value.id);case 4:this.$nextTick((function(){t.currentHighlights.stories&&(t.$window.scrollTo(0,0),t.initZuck(),t.$nextTick((function(){t.$refs.highlights&&t.$refs.highlights.firstChild&&t.$refs.highlights.firstChild.click()})))})),this.$window.hidePreloader();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onCloseStory:function(){this.$window.scrollTo(0,this.scrollY),this.removePanel()}})},L=I,D=Object(m["a"])(L,x,k,!1,null,null,null),R=D.exports,U=s("45d2"),N=s("ddd6"),B=s("1994"),F=s("9029");function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function H(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?V(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var z={components:{AddHighlightsBtn:P,StoryArchive:b,Item:R,Stream:U["a"],MyStories:B["a"],ScheduledStream:N["a"]},mixins:[A["a"]],computed:H(H(H(H(H(H({},Object(c["Ob"])(["user"])),Object(c["qb"])(["highlights","userStories"])),Object(c["b"])(["authUser"])),Object(c["wb"])(["streams"])),Object(c["Bb"])(["mainScheduledStream"])),{},{isShowContainer:function(){return this.isAuthUser||this.user.canLookStory&&(this.userStories.length||this.highlights.length)||this.userStreams.length||this.user.hasScheduledStream},userStreams:function(){var e=this;return this.streams.filter((function(t){return t.user===e.user.id&&!t.isScheduled}))},isAuthUser:function(){return this.authUser.id===this.user.id},scrollBar:function(){return F["isMobile"]?"div":"perfect-scrollbar"}}),methods:{startZuck:function(){this.initZuck()}}},q=z,G=Object(m["a"])(q,i,r,!1,null,null,null);t["a"]=G.exports},c7ad:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isMobileDevice?e._e():s("div",{staticClass:"b-comment-form__emoji",class:{"m-disabled":e.disabled}},[s("div",{staticClass:"b-comment-form__emoji-wrapper"},[s("div",{staticClass:"b-wrap-emoji m-native-custom-scrollbar"},[s("div",{staticClass:"b-list-emoji"},e._l(e.currentEmojiList,(function(t){return s("span",{key:t,staticClass:"emoji-outer emoji-sizer m-with-round-hover",on:{click:function(s){return e.clickOnEmoji(t)}}},[s("span",{class:"emoji-inner emoji"+e.getClassByEmojiCode(t)})])})),0)]),s("ul",{staticClass:"b-emoji-tabs"},[e._l(e.categoriesKeys,(function(t){return s("li",{key:t,staticClass:"b-emoji-tabs__item m-with-round-hover m-size-sm-hover",class:{"m-current":t===e.current},on:{click:function(s){e.current=t}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],class:e.categories[t].img})])})),s("li",{staticClass:"b-emoji-tabs__item m-close-categories"},[s("button",{staticClass:"b-btn-remove m-without-bg m-with-round-hover m-size-sm-hover",on:{click:e.onClose}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])])],2)])])},r=[],n=(s("8e6e"),s("5695"),s("75fc")),a=(s("28a5"),s("a481"),s("ac6a"),s("456d"),s("bd86")),o=s("9029"),c={frequently_used:{img:"icon-recent",alt:"Frequently Used"},smiles_and_people:{img:"icon-smileys-people",alt:"Smileys and People"},animals_and_nature:{img:"icon-animals-nature",alt:"Animals and Nature"},food_and_drinks:{img:"icon-food-drinks",alt:"Food and Drinks"},activity:{img:"icon-activity",alt:"Activity"},travel_and_places:{img:"icon-travel-places",alt:"Travel and Places"},objects:{img:"icon-objects",alt:"Objects"},symbols:{img:"icon-symbols",alt:"Symbols"},flags:{img:"icon-flag",alt:"Flags"}},l={smiles_and_people:{"1f601":"","1f602":"","1f603":"","1f604":"","1f605":"","1f606":"","1f609":"","1f60a":"","1f60b":"","1f60c":"","1f60d":"","1f60f":"","1f612":"","1f613":"","1f614":"","1f616":"","1f618":"","1f61a":"","1f61c":"","1f61d":"","1f61e":"","1f620":"","1f621":"","1f622":"","1f623":"","1f624":"","1f625":"","1f628":"","1f629":"","1f62a":"","1f62b":"","1f62d":"","1f630":"","1f631":"","1f632":"","1f633":"","1f635":"","1f637":"","1f638":"","1f639":"","1f63a":"","1f63b":"","1f63c":"","1f63d":"","1f63e":"","1f63f":"","1f640":"","1f645":"","1f646":"","1f647":"","1f648":"","1f649":"","1f64a":"","1f64b":"","1f64c":"","1f64d":"","1f64e":"","1f64f":"","1f600":"","1f607":"","1f608":"","1f60e":"","1f610":"","1f611":"","1f615":"","1f617":"","1f619":"","1f61b":"","1f61f":"","1f626":"","1f627":"","1f62c":"","1f62e":"","1f62f":"","1f634":"","1f636":""},travel_and_places:{"1f680":"","1f683":"","1f684":"","1f685":"","1f687":"","1f689":"","1f68c":"","1f68f":"","1f691":"","1f692":"","1f693":"","1f695":"","1f697":"","1f699":"","1f69a":"","1f6a2":"","1f6a4":"","1f6a5":"","1f6a7":"","1f6a8":"","1f6a9":"","1f6aa":"","1f6ab":"","1f6ac":"","1f6ad":"","1f6b2":"","1f6b6":"","1f6bd":"","1f6be":"","1f6c0":""},animals_and_nature:{"1f40c":"","1f40d":"","1f40e":"","1f411":"","1f412":"","1f414":"","1f417":"","1f418":"","1f419":"","1f41a":"","1f41b":"","1f41c":"","1f41d":"","1f41e":"","1f41f":"","1f420":"","1f421":"","1f422":"","1f423":"","1f424":"","1f425":"","1f426":"","1f427":"","1f428":"","1f429":"","1f42b":"","1f42c":"","1f42d":"","1f42e":"","1f42f":"","1f430":"","1f431":"","1f432":"","1f433":"","1f434":"","1f435":"","1f436":"","1f437":"","1f438":"","1f439":"","1f43a":"","1f43b":"","1f43c":"","1f43d":"","1f43e":"","1f440":""},food_and_drinks:{"1f330":"","1f331":"","1f334":"","1f335":"","1f337":"","1f338":"","1f339":"","1f33a":"","1f33b":"","1f33c":"","1f33d":"","1f33e":"","1f33f":"","1f340":"","1f341":"","1f342":"","1f343":"","1f344":"","1f345":"","1f346":"","1f347":"","1f348":"","1f349":"","1f34a":"","1f34c":"","1f34d":"","1f34e":"","1f34f":"","1f351":"","1f352":"","1f353":"","1f354":"","1f355":"","1f356":"","1f357":"","1f358":"","1f359":"","1f35a":"","1f35b":"","1f35c":"","1f35d":"","1f35e":"","1f35f":"","1f360":"","1f361":"","1f362":"","1f363":"","1f364":"","1f365":"","1f366":"","1f367":"","1f368":"","1f369":"","1f36a":"","1f36b":"","1f36c":"","1f36d":"","1f36e":"","1f36f":"","1f370":"","1f371":"","1f372":"","1f373":"","1f374":"","1f375":"","1f376":"","1f377":"","1f378":"","1f379":"","1f37a":"","1f37b":"","1f380":"","1f381":"","1f382":""},objects:{"231a":"","231b":"","23e9":"","23ea":"","23eb":"","23ec":"","23f0":"","23f3":"","26aa":"","26ab":"","26bd":"","26be":"","26c4":"","26c5":"","26ce":"","26d4":"","26ea":"","26f2":"","26f3":"","26f5":"","26fa":"","26fd":"","2b50":"","2b55":"","1f300":"","1f301":"","1f302":"","1f303":"","1f304":"","1f305":"","1f306":"","1f307":"","1f308":"","1f309":"","1f30a":"","1f30b":"","1f30c":"","1f30f":"","1f311":"","1f313":"","1f314":"","1f315":"","1f319":"","1f31b":"","1f31f":"","1f320":"","1f383":"","1f384":"","1f385":"","1f386":"","1f387":"","1f388":"","1f389":"","1f38a":"","1f38b":"","1f38c":"","1f38d":"","1f38e":"","1f38f":"","1f390":"","1f391":"","1f392":"","1f393":"","1f3a0":"","1f3a1":"","1f3a2":"","1f3a3":"","1f3a4":"","1f3a5":"","1f3a6":"","1f3a7":"","1f3a8":"","1f3a9":"","1f3aa":"","1f3ab":"","1f3ac":"","1f3ad":"","1f3ae":"","1f3af":"","1f3b0":"","1f3b1":"","1f3b2":"","1f3b3":"","1f3b4":"","1f3b5":"","1f3b6":"","1f3b7":"","1f3b8":"","1f3b9":"","1f3ba":"","1f3bb":"","1f3bc":"","1f3bd":"","1f3be":"","1f3bf":"","1f3c0":"","1f3c1":"","1f3c2":"","1f3c3":"","1f3c4":"","1f3c6":"","1f3c8":"","1f3ca":"","1f3e0":"","1f3e1":"","1f3e2":"","1f3e3":"","1f3e5":"","1f3e6":"","1f3e7":"","1f3e8":"","1f3e9":"","1f3ea":"","1f3eb":"","1f3ec":"","1f3ed":"","1f3ee":"","1f3ef":"","1f3f0":"","1f442":"","1f443":"","1f444":"","1f445":"","1f446":"","1f447":"","1f448":"","1f449":"","1f44a":"","1f44b":"","1f44c":"","1f44d":"","1f44e":"","1f44f":"","1f450":"","1f451":"","1f452":"","1f453":"","1f454":"","1f455":"","1f456":"","1f457":"","1f458":"","1f459":"","1f45a":"","1f45b":"","1f45c":"","1f45d":"","1f45e":"","1f45f":"","1f460":"","1f461":"","1f462":"","1f463":"","1f464":"","1f4a0":"","1f4a1":"","1f4a2":"","1f4a3":"","1f4a4":"","1f4a5":"","1f4a6":"","1f4a7":"","1f4a8":"","1f4a9":"","1f4aa":"","1f4ab":"","1f4ac":"","1f4ae":"","1f4af":"","1f4b0":"","1f4b3":"","1f4b4":"","1f4b5":"","1f4b8":"","1f559":"","1f55a":"","1f55b":"","1f5fb":"","1f5fc":""},symbols:{"1f466":"","1f467":"","1f468":"","1f469":"","1f46a":"","1f46b":"","1f46e":"","1f46f":"","1f470":"","1f471":"","1f472":"","1f473":"","1f474":"","1f475":"","1f476":"","1f477":"","1f478":"","1f479":"","1f47a":"","1f47b":"","1f47c":"","1f47d":"","1f47e":"","1f47f":"","1f480":"","1f481":"","1f482":"","1f483":"","1f484":"","1f485":"","1f486":"","1f487":"","1f488":"","1f489":"","1f48a":"","1f48b":"","1f48c":"","1f48d":"","1f48e":"","1f48f":"","1f490":"","1f491":"","1f492":"","1f493":"","1f494":"","1f495":"","1f496":"","1f497":"","1f498":"","1f499":"","1f49a":"","1f49b":"","1f49c":"","1f49d":"","1f49e":"","1f49f":""},flags:{"1f3c1":"","1f6a9":"","1f38c":"","1f3f4":"","1f3f3 fe0f":"","1f3f3 fe0f 200d 1f308":"","1f3f4 200d 2620 fe0f":"","1f1e6 1f1e8":"","1f1e6 1f1e9":"","1f1e6 1f1ea":"","1f1e6 1f1eb":"","1f1e6 1f1ec":"","1f1e6 1f1ee":"","1f1e6 1f1f1":"","1f1e6 1f1f2":"","1f1e6 1f1f4":"","1f1e6 1f1f6":"","1f1e6 1f1f7":"","1f1e6 1f1f8":"","1f1e6 1f1f9":"","1f1e6 1f1fa":"","1f1e6 1f1fc":"","1f1e6 1f1fd":"","1f1e6 1f1ff":"","1f1e7 1f1e6":"","1f1e7 1f1e7":"","1f1e7 1f1e9":"","1f1e7 1f1ea":"","1f1e7 1f1eb":"","1f1e7 1f1ec":"","1f1e7 1f1ed":"","1f1e7 1f1ee":"","1f1e7 1f1ef":"","1f1e7 1f1f1":"","1f1e7 1f1f2":"","1f1e7 1f1f3":"","1f1e7 1f1f4":"","1f1e7 1f1f6":"","1f1e7 1f1f7":"","1f1e7 1f1f8":"","1f1e7 1f1f9":"","1f1e7 1f1fb":"","1f1e7 1f1fc":"","1f1e7 1f1fe":"","1f1e7 1f1ff":"","1f1e8 1f1e6":"","1f1e8 1f1e8":"","1f1e8 1f1e9":"","1f1e8 1f1eb":"","1f1e8 1f1ec":"","1f1e8 1f1ed":"","1f1e8 1f1ee":"","1f1e8 1f1f0":"","1f1e8 1f1f1":"","1f1e8 1f1f2":"","1f1e8 1f1f3":"","1f1e8 1f1f4":"","1f1e8 1f1f5":"","1f1e8 1f1f7":"","1f1e8 1f1fa":"","1f1e8 1f1fb":"","1f1e8 1f1fc":"","1f1e8 1f1fd":"","1f1e8 1f1fe":"","1f1e8 1f1ff":"","1f1e9 1f1ea":"","1f1e9 1f1ec":"","1f1e9 1f1ef":"","1f1e9 1f1f0":"","1f1e9 1f1f2":"","1f1e9 1f1f4":"","1f1e9 1f1ff":"","1f1ea 1f1e6":"","1f1ea 1f1e8":"","1f1ea 1f1ea":"","1f1ea 1f1ec":"","1f1ea 1f1ed":"","1f1ea 1f1f7":"","1f1ea 1f1f8":"","1f1ea 1f1f9":"","1f1ea 1f1fa":"","1f1eb 1f1ee":"","1f1eb 1f1ef":"","1f1eb 1f1f0":"","1f1eb 1f1f2":"","1f1eb 1f1f4":"","1f1eb 1f1f7":"","1f1ec 1f1e6":"","1f1ec 1f1e7":"","1f1ec 1f1e9 ":"","1f1ec 1f1ea":"","1f1ec 1f1eb":"","1f1ec 1f1ec":"","1f1ec 1f1ed":"","1f1ec 1f1ee":"","1f1ec 1f1f1":"","1f1ec 1f1f2":"","1f1ec 1f1f3":"","1f1ec 1f1f5":"","1f1ec 1f1f6":"","1f1ec 1f1f7":"","1f1ec 1f1f8":"","1f1ec 1f1f9":"","1f1ec 1f1fa":"","1f1ec 1f1fc":"","1f1ec 1f1fe":"","1f1ed 1f1f0":"","1f1ed 1f1f2":"","1f1ed 1f1f3":"","1f1ed 1f1f9":"","1f1ed 1f1fa":"","1f1ee 1f1e8":"","1f1ee 1f1e9 ":"","1f1ee 1f1ea":"","1f1ee 1f1f1":"","1f1ee 1f1f2":"","1f1ee 1f1f3":"","1f1ee 1f1f4":"","1f1ee 1f1f6":"","1f1ee 1f1f7":"","1f1ee 1f1f8":"","1f1ee 1f1f9":"","1f1ef 1f1ea":"","1f1ef 1f1f2":"","1f1ef 1f1f4":"","1f1ef 1f1f5":"","1f1f0 1f1ea":"","1f1f0 1f1ec":"","1f1f0 1f1ed":"","1f1f0 1f1ee":"","1f1f0 1f1f2":"","1f1f0 1f1f3":"","1f1f0 1f1f5":"","1f1f0 1f1f7":"","1f1f0 1f1fc":"","1f1f0 1f1fe":"","1f1f0 1f1ff":"","1f1f1 1f1e6":"","1f1f1 1f1e7":"","1f1f1 1f1e8":"","1f1f1 1f1ee":"","1f1f1 1f1f0":"","1f1f1 1f1f7":"","1f1f1 1f1f8":"","1f1f1 1f1f9":"","1f1f1 1f1fa":"","1f1f1 1f1fb":"","1f1f1 1f1fe":"","1f1f2 1f1e6":"","1f1f2 1f1e8":"","1f1f2 1f1e9":"","1f1f2 1f1ea":"","1f1f2 1f1eb":"","1f1f2 1f1ec":"","1f1f2 1f1ed":"","1f1f2 1f1f0":"","1f1f2 1f1f1":"","1f1f2 1f1f2":"","1f1f2 1f1f3":"","1f1f2 1f1f4":"","1f1f2 1f1f5":"","1f1f2 1f1f6":"","1f1f2 1f1f7":"","1f1f2 1f1f8":"","1f1f2 1f1f9":"","1f1f2 1f1fa":"","1f1f2 1f1fb":"","1f1f2 1f1fc":"","1f1f2 1f1fd":"","1f1f2 1f1fe":"","1f1f2 1f1ff":"","1f1f3 1f1e6":"","1f1f3 1f1e8":"","1f1f3 1f1ea":"","1f1f3 1f1eb":"","1f1f3 1f1ec":"","1f1f3 1f1ee":"","1f1f3 1f1f1":"","1f1f3 1f1f4":"","1f1f3 1f1f5":"","1f1f3 1f1f7":"","1f1f3 1f1fa":"","1f1f3 1f1ff":"","1f1f4 1f1f2":"","1f1f5 1f1e6":"","1f1f5 1f1ea":"","1f1f5 1f1eb":"","1f1f5 1f1ec":"","1f1f5 1f1ed":"","1f1f5 1f1f0":"","1f1f5 1f1f1":"","1f1f5 1f1f2":"","1f1f5 1f1f3":"","1f1f5 1f1f7":"","1f1f5 1f1f8":"","1f1f5 1f1f9":"","1f1f5 1f1fc":"","1f1f5 1f1fe":"","1f1f6 1f1e6":"","1f1f7 1f1ea":"","1f1f7 1f1f4":"","1f1f7 1f1f8":"","1f1f7 1f1fa":"","1f1f7 1f1fc":"","1f1f8 1f1e6":"","1f1f8 1f1e7":"","1f1f8 1f1e8":"","1f1f8 1f1e9":"","1f1f8 1f1ea":"","1f1f8 1f1ec":"","1f1f8 1f1ed":"","1f1f8 1f1ee":"","1f1f8 1f1ef":"","1f1f8 1f1f0":"","1f1f8 1f1f1":"","1f1f8 1f1f2":"","1f1f8 1f1f3":"","1f1f8 1f1f4":"","1f1f8 1f1f7":"","1f1f8 1f1f8":"","1f1f8 1f1f9":"","1f1f8 1f1fb":"","1f1f8 1f1fd":"","1f1f8 1f1fe":"","1f1f8 1f1ff":"","1f1f9 1f1e6":"","1f1f9 1f1e8":"","1f1f9 1f1e9":"","1f1f9 1f1eb":"","1f1f9 1f1ec":"","1f1f9 1f1ed":"","1f1f9 1f1ef":"","1f1f9 1f1f0":"","1f1f9 1f1f1":"","1f1f9 1f1f2":"","1f1f9 1f1f3":"","1f1f9 1f1f4":"","1f1f9 1f1f7":"","1f1f9 1f1f9":"","1f1f9 1f1fb":"","1f1f9 1f1fc":"","1f1f9 1f1ff":"","1f1fa 1f1e6":"","1f1fa 1f1ec":"","1f1fa 1f1f2":"","1f1fa 1f1f3":"","1f1fa 1f1f8":"","1f1fa 1f1fe":"","1f1fa 1f1ff":"","1f1fb 1f1e6":"","1f1fb 1f1e8":"","1f1fb 1f1ea":"","1f1fb 1f1ec":"","1f1fb 1f1ee":"","1f1fb 1f1f3":"","1f1fb 1f1fa":"","1f1fc 1f1eb":"","1f1fc 1f1f8":"","1f1fd 1f1f0":"","1f1fe 1f1ea":"","1f1fe 1f1f9":"","1f1ff 1f1e6":"","1f1ff 1f1f2":"","1f1ff 1f1fc":"","1f3f4 e0067 e0062 e0065 e006e e0067 e007f":"","1f3f4 e0067 e0062 e0073 e0063 e0074 e007f":"","1f3f4 e0067 e0062 e0077 e006c e0073 e007f":""},activity:{"1f486":"","1f486 1f3fb":"","1f486 1f3fc":"","1f486 1f3fd":"","1f486 1f3fe":"","1f486 1f3ff":"","1f486 200d 2642 fe0f":"","1f486 1f3fb 200d 2642 fe0f":"","1f486 1f3fc 200d 2642 fe0f":"","1f486 1f3fd 200d 2642 fe0f":"","1f486 1f3fe 200d 2642 fe0f":"","1f486 1f3ff 200d 2642 fe0f":"","1f486 200d 2640 fe0f":"","1f486 1f3fb 200d 2640 fe0f":"","1f486 1f3fc 200d 2640 fe0f":"","1f486 1f3fd 200d 2640 fe0f":"","1f486 1f3fe 200d 2640 fe0f":"","1f486 1f3ff 200d 2640 fe0f":"","1f487":"","1f487 1f3fb":"","1f487 1f3fc":"","1f487 1f3fd":"","1f487 1f3fe":"","1f487 1f3ff":"","1f487 200d 2642 fe0f":"","1f487 1f3fb 200d 2642 fe0f":"","1f487 1f3fc 200d 2642 fe0f":"","1f487 1f3fd 200d 2642 fe0f":"","1f487 1f3fe 200d 2642 fe0f":"","1f487 1f3ff 200d 2642 fe0f":"","1f487 200d 2640 fe0f":"","1f487 1f3fb 200d 2640 fe0f":"","1f487 1f3fc 200d 2640 fe0f":"","1f487 1f3fd 200d 2640 fe0f":"","1f487 1f3fe 200d 2640 fe0f":"","1f487 1f3ff 200d 2640 fe0f":"","1f6b6":"","1f6b6 1f3fb":"","1f6b6 1f3fc":"","1f6b6 1f3fd":"","1f6b6 1f3fe":"","1f6b6 1f3ff":"","1f6b6 200d 2642 fe0f":"","1f6b6 1f3fb 200d 2642 fe0f":"","1f6b6 1f3fc 200d 2642 fe0f":"","1f6b6 1f3fd 200d 2642 fe0f":"","1f6b6 1f3fe 200d 2642 fe0f":"","1f6b6 1f3ff 200d 2642 fe0f":"","1f6b6 200d 2640 fe0f":"","1f6b6 1f3fb 200d 2640 fe0f":"","1f6b6 1f3fc 200d 2640 fe0f":"","1f6b6 1f3fd 200d 2640 fe0f":"","1f6b6 1f3fe 200d 2640 fe0f":"","1f6b6 1f3ff 200d 2640 fe0f":"","1f3c3":"","1f3c3 1f3fb":"","1f3c3 1f3fc":"","1f3c3 1f3fd":"","1f3c3 1f3fe":"","1f3c3 1f3ff":"","1f3c3 200d 2642 fe0f":"","1f3c3 1f3fb 200d 2642 fe0f":"","1f3c3 1f3fc 200d 2642 fe0f":"","1f3c3 1f3fd 200d 2642 fe0f":"","1f3c3 1f3fe 200d 2642 fe0f":"","1f3c3 1f3ff 200d 2642 fe0f":"","1f3c3 200d 2640 fe0f":"","1f3c3 1f3fb 200d 2640 fe0f":"","1f3c3 1f3fc 200d 2640 fe0f":"","1f483":"","1f483 1f3fb":"","1f483 1f3fc":"","1f483 1f3fd":"","1f483 1f3fe":"","1f483 1f3ff":"","1f57a":"","1f57a 1f3fb":"","1f57a 1f3fc":"","1f57a 1f3fd":"","1f57a 1f3fe":"","1f57a 1f3ff":"","1f574 fe0f":"","1f574 1f3fb":"","1f574 1f3fc":"","1f574 1f3fd":"","1f574 1f3fe":"","1f574 1f3ff":"","1f46f":"","1f46f 200d 2642 fe0f":"","1f46f 200d 2640 fe0f":"","1f9d6":"","1f9d6 1f3fb":"","1f9d6 1f3fc":"","1f9d6 1f3fd":"","1f9d6 1f3fe":"","1f9d6 1f3ff":"","1f9d6 200d 2642 fe0f":"","1f9d6 1f3fb 200d 2642 fe0f":"","1f9d6 1f3fc 200d 2642 fe0f":"","1f9d6 1f3fd 200d 2642 fe0f":"","1f9d6 1f3fe 200d 2642 fe0f":"","1f9d6 1f3ff 200d 2642 fe0f":"","1f9d6 200d 2640 fe0f":"","1f9d6 1f3fb 200d 2640 fe0f":"","1f9d6 1f3fc 200d 2640 fe0f":"","1f9d6 1f3fd 200d 2640 fe0f":"","1f9d6 1f3fe 200d 2640 fe0f":"","1f9d6 1f3ff 200d 2640 fe0f":"","1f9d7":"","1f9d7 1f3fb":"","1f9d7 1f3fc":"","1f9d7 1f3fd":"","1f9d7 1f3fe":"","1f9d7 1f3ff":"","1f9d7 200d 2642 fe0f":"","1f9d7 1f3fb 200d 2642 fe0f":"","1f9d7 1f3fc 200d 2642 fe0f":"","1f9d7 1f3fd 200d 2642 fe0f":"","1f9d7 1f3fe 200d 2642 fe0f":"","1f9d7 1f3ff 200d 2642 fe0f":"","1f9d7 200d 2640 fe0f":"","1f9d7 1f3fb 200d 2640 fe0f":"","1f9d7 1f3fc 200d 2640 fe0f":"","1f9d7 1f3fd 200d 2640 fe0f":"","1f9d7 1f3fe 200d 2640 fe0f":"","1f9d7 1f3ff 200d 2640 fe0f":""}};function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var h={name:"EmojiList",props:{disabled:{type:Boolean,default:!1}},data:function(){return{current:"smiles_and_people",list:null,frequentlyUsed:[]}},created:function(){this.list=d({frequently_used:this.frequentlyUsed},l)},computed:{categories:function(){return c},categoriesKeys:function(){return Object.keys(c)},currentEmojiList:function(){return Object.keys(this.list[this.current])},isMobileDevice:function(){return o["isMobile"]||o["isTablet"]}},methods:{getClassByEmojiCode:function(e){return e.replace(/ /g,"")},clickOnEmoji:function(e){var t=e.split(" ").map((function(e){return"0x".concat(e)}));this.$root.$emit("emoji:block:input",String.fromCodePoint.apply(String,Object(n["a"])(t)))},onClose:function(){this.$emit("close")}}},p=h,m=s("2877"),f=Object(m["a"])(p,i,r,!1,null,null,null);t["a"]=f.exports},c7be:function(e,t,s){"use strict";var i=s("c4c0"),r=s.n(i);r.a},cd68:function(e,t,s){"use strict";var i=s("e7fc"),r=s.n(i);r.a},ce23:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d"),s("7f7f"),s("a481"),s("96cf");var i=s("3b8d"),r=s("bd86"),n=s("f05e"),a=s("1e36"),o=s("9b02"),c=s.n(o),l=s("09e4"),u=s("d634");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(r["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={mixins:[a["a"]],data:function(){return{token:"",vat:null}},computed:h(h({},Object(u["b"])(["authUser"])),Object(u["Ob"])(["getUser"])),beforeDestroy:function(){this.$root.$off("card::verify::success"),this.$root.$off("card::verify::hide",this.resetPaymentData)},methods:h(h(h({},Object(u["H"])(["setCardNeedVerify"])),Object(u["n"])(["fetchAllTransactions"])),{},{makePayments:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,a,o,u,d,h,p,m,f,b=this,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=v.length>1&&void 0!==v[1]?v[1]:null,this.setCardNeedVerify({}),i=t.paymentType,r=t.amount,a=t.hideVatPopup,!s){e.next=16;break}if(a||this.vat||!r||!this.authUser.vat||"credit"===i){e.next=11;break}if(o={subscribe:"subscribes",message:"chat_messages",tip:"tips",post:"post",stream:"stream"},!o[i]||!this.authUser.vat[o[i]]){e.next=11;break}return this.vat=!0,this.$root.$once("alert:was:closed",this.resetPaymentData),alert({message:this.$i18n.t("message.confirm_vat_charge",{AMOUNT:"$".concat((Math.ceil(parseFloat(r)*(100+parseFloat(this.authUser.vat[o[i]])))/100).toFixed(2).replace(".00","")),VAT_AMOUNT:"$".concat((Math.ceil(parseFloat(r)*parseFloat(this.authUser.vat[o[i]]))/100).toFixed(2).replace(".00","")),COUNTRY:this.authUser.vatCountry}),buttons:[{title:this.$i18n.t("message.button_pay"),onclick:function(){b.$root.$off("alert:was:closed",b.resetPaymentData),s.call()},closeOnClick:!0}]}),e.abrupt("return",{success:!1});case 11:this.$root.$off("card::verify::success",s),this.$root.$off("card::verify::hide",this.resetPaymentData),this.$window.showPreloader(),t.token=this.token,this.vat&&(t.vat=this.vat);case 16:if(e.prev=16,"complete"===this.paymentsLoaded){e.next=27;break}return e.prev=18,e.next=21,this.getPaymentsJs();case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e["catch"](18),this.$window.hidePreloader(),e.abrupt("return");case 27:return e.next=29,Object(n["l"])(t);case 29:return u=e.sent,s&&(this.$window.hidePreloader(),this.resetPaymentData(),"PaymentsCreditsTransactions"===this.$route.name&&this.fetchAllTransactions()),e.abrupt("return",u);case 34:if(e.prev=34,e.t1=e["catch"](16),!s){e.next=63;break}if(this.$window.hidePreloader(),d=function(){switch(i){case"subscribe":return"doSubscribe";case"message":case"templates":return"doPayChat";case"credit":return"doPayCredits";case"post":return"doPayPost";case"stream":return"doPayStream";case"tip":return"doTips";default:return null}}(),d){e.next=41;break}throw e.t1;case 41:if(201!==c()(e.t1,"data.error.code")){e.next=48;break}return window[d]="doTips"===d?function(e,t,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";b.token=n,s.call()}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";b.token=t,s.call()},h=document.getElementsByTagName("head")[0],p=document.createElement("script"),p.innerText=e.t1.data.error.message,h.appendChild(p),e.abrupt("return");case 48:if(107!==c()(e.t1,"data.error.code")){e.next=55;break}return m=e.t1.data.error.payload.card,this.setCardNeedVerify(m),this.$root.$once("card::verify::hide",this.resetPaymentData),this.$root.$once("card::verify::success",s),this.$nextTick((function(){b.$root.$emit("bv::show::modal","ModalCardVerify")})),e.abrupt("return");case 55:this.token="","PaymentsCreditsTransactions"===this.$route.name&&this.fetchAllTransactions(),f={},c()(e.t1,"data.error.payload.canRetry")&&(f.buttons=[{title:this.$i18n.t("message.retry"),onclick:function(){b.$root.$off("alert:was:closed",b.resetPaymentData),s.call()},closeOnClick:!0}]),this.$root.$once("alert:was:closed",this.resetPaymentData),Object(l["b"])(e.t1,f),e.next=64;break;case 63:throw e.t1;case 64:case"end":return e.stop()}}),e,this,[[16,34],[18,23]])})));function t(t){return e.apply(this,arguments)}return t}(),resetPaymentData:function(){this.vat=null,this.token=""}})}},d075:function(e,t,s){"use strict";s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return h}));s("8e6e"),s("ac6a"),s("456d"),s("7f7f");var i=s("bd86"),r=(s("a481"),s("c1df")),n=s.n(r),a=s("d634"),o=s("709f");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u=function(){var e,t=o["a"].getItem("recommender");if(t)try{e=JSON.parse(t)}catch(s){e={}}else e={};return e},d=function(e){var t=u();if(t&&t[e]){var s=n()(t[e].expiredAt).isBefore();if(!s)return t[e].recId;h(e)}},h=function(e){var t=u();if(t&&t[e]){delete t[e];var s=JSON.stringify(t);o["a"].setItem("recommender",s)}};t["a"]={created:function(){var e=this;this.$watch((function(e){return[e.$route,e.authUserId,e.userId]}),(function(t){var s=function(){i&&i.query&&void 0!==i.query.rec&&e.$router.replace({query:l(l({},e.$route.query),{},{rec:void 0})})},i=t[0],r=t[1],a=t[2];if(a&&"Profile"===i.name&&i.query&&void 0!==i.query.rec){var c=i.query.rec;if(c=parseInt(c,10)||null,!c)return void s();if(r&&(r===c||r===a))return void s();if(a===c)return void s();var d=u();d[a]||(d[a]={},d[a].userId=a),d[a].recId=c,d[a].expiredAt=n()().add(1,"months").format();var h=JSON.stringify(d);o["a"].setItem("recommender",h),s()}}),{immediate:!0})},computed:l(l({},Object(a["b"])(["authUserId"])),Object(a["Ob"])(["userId"]))}},d1e5:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("multiselect",{ref:"multiselect",staticClass:"custom-select",attrs:{options:e.options,searchable:e.searchable,"custom-label":e.customLabel,"show-labels":!1,placeholder:e.placeholder,"max-height":e.maxHeight,required:e.required,disabled:e.disabled},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},[s("template",{slot:"caret"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down"})])],2)},r=[],n=(s("7514"),s("c5f6"),s("7618")),a=(s("7f7f"),s("8e5f")),o=s.n(a),c=s("0f32"),l=s.n(c),u={name:"Select",components:{Multiselect:o.a},$_veeValidate:{value:function(){return this.$el.value},name:function(){return this.name}},props:{value:{required:!0,validator:function(e){return"string"===typeof e||"number"===typeof e||"object"===Object(n["a"])(e)}},options:{type:[Array,Object],default:function(){return[]}},searchable:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},maxHeight:{type:Number,default:void 0},name:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{localValue:{get:function(){return this.valueByCode(this.value)},set:function(e){e&&this.$emit("input",e.code)}},multiselect:function(){return this.$refs.multiselect},multiselectIsOpen:function(){return this.$refs.multiselect.isOpen}},mounted:function(){window.addEventListener("resize",this.adjustPosition),window.addEventListener("scroll",this.adjustPosition)},beforeDestroy:function(){window.removeEventListener("resize",this.adjustPosition),window.removeEventListener("scroll",this.adjustPosition)},methods:{adjustPosition:l()((function(e){this.multiselect&&this.multiselectIsOpen&&this.multiselect.adjustPosition()}),200),customLabel:function(e){var t=e.name;return t},valueByCode:function(e){return this.options.find((function(t){return t.code===e||Number(t.code)===Number(e)}))}}},d=u,h=(s("60bc"),s("2877")),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},d21a:function(e,t,s){"use strict";var i=s("3aa2"),r=s.n(i);r.a},d308:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{ref:"postSortingDropdown",staticClass:"post-sorting-dropdown",class:{"m-active":e.activeClass},attrs:{offset:"4",right:"","toggle-class":"m-with-round-hover"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.list_sort"),expression:"$t('message.list_sort')"}],staticClass:"icon-sort"})]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postFilter,expression:"postFilter"}],staticClass:"b-input-radio",attrs:{id:"filter-all",type:"radio",value:"date_all_time",name:"posts-filter-field"},domProps:{checked:e._q(e.postFilter,"date_all_time")},on:{change:function(t){e.postFilter="date_all_time"}}}),s("label",{attrs:{for:"filter-all"}},[e._v(e._s(e.$t("message.filter_all_time_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postFilter,expression:"postFilter"}],staticClass:"b-input-radio",attrs:{id:"filter-3-months",type:"radio",value:"date_last_3_months",name:"posts-filter-field"},domProps:{checked:e._q(e.postFilter,"date_last_3_months")},on:{change:function(t){e.postFilter="date_last_3_months"}}}),s("label",{attrs:{for:"filter-3-months"}},[e._v(e._s(e.$t("message.filter_last_3_months_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postFilter,expression:"postFilter"}],staticClass:"b-input-radio",attrs:{id:"filter-month",type:"radio",value:"date_last_1_month",name:"posts-filter-field"},domProps:{checked:e._q(e.postFilter,"date_last_1_month")},on:{change:function(t){e.postFilter="date_last_1_month"}}}),s("label",{attrs:{for:"filter-month"}},[e._v(e._s(e.$t("message.filter_last_month_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postFilter,expression:"postFilter"}],staticClass:"b-input-radio",attrs:{id:"filter-week",type:"radio",value:"date_last_1_week",name:"posts-filter-field"},domProps:{checked:e._q(e.postFilter,"date_last_1_week")},on:{change:function(t){e.postFilter="date_last_1_week"}}}),s("label",{attrs:{for:"filter-week"}},[e._v(e._s(e.$t("message.filter_last_week_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-divider"),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postOrderType,expression:"postOrderType"}],staticClass:"b-input-radio",attrs:{id:"order-publish_date",type:"radio",name:"posts-order-field",value:"publish_date"},domProps:{checked:e._q(e.postOrderType,"publish_date")},on:{change:function(t){e.postOrderType="publish_date"}}}),s("label",{attrs:{for:"order-publish_date"}},[e._v(e._s(e.$t("message.sort_latest_posts_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postOrderType,expression:"postOrderType"}],staticClass:"b-input-radio",attrs:{id:"order-favorites_count",type:"radio",name:"posts-order-field",value:"favorites_count"},domProps:{checked:e._q(e.postOrderType,"favorites_count")},on:{change:function(t){e.postOrderType="favorites_count"}}}),s("label",{attrs:{for:"order-favorites_count"}},[e._v(e._s(e.$t("message.sort_most_liked_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),e.hideTips?e._e():s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postOrderType,expression:"postOrderType"}],staticClass:"b-input-radio",attrs:{id:"order-tips_summ",type:"radio",name:"posts-order-field",value:"tips_summ"},domProps:{checked:e._q(e.postOrderType,"tips_summ")},on:{change:function(t){e.postOrderType="tips_summ"}}}),s("label",{attrs:{for:"order-tips_summ"}},[e._v(e._s(e.$t("message.sort_highest_tips_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-divider"),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postOrder,expression:"postOrder"}],staticClass:"b-input-radio",attrs:{id:"posts-order-asc",type:"radio",name:"posts-order-dir",value:"asc"},domProps:{checked:e._q(e.postOrder,"asc")},on:{change:function(t){e.postOrder="asc"}}}),s("label",{attrs:{for:"posts-order-asc"}},[e._v(e._s(e.$t("message.sort_ascending_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.postOrder,expression:"postOrder"}],staticClass:"b-input-radio",attrs:{id:"posts-order-desc",type:"radio",name:"posts-order-dir",value:"desc"},domProps:{checked:e._q(e.postOrder,"desc")},on:{change:function(t){e.postOrder="desc"}}}),s("label",{attrs:{for:"posts-order-desc"}},[e._v(e._s(e.$t("message.sort_descending_label")))]),s("span",{staticClass:"b-dropdown__icon"},[s("span",{staticClass:"b-input-ripple"})])])],2)},r=[],n=(s("a481"),{name:"PostFilter",props:{hideTips:{type:Boolean,default:!1}},data:function(){return{postFilter:"date_all_time",postOrderType:"publish_date",postOrder:"desc"}},computed:{activeClass:function(){return"date_all_time"!==this.postFilter||"publish_date"!==this.postOrderType||"desc"!==this.postOrder}},watch:{postFilter:function(){this.updateParamsHandler()},postOrderType:function(){this.updateParamsHandler()},postOrder:function(){this.updateParamsHandler()}},mounted:function(){var e=this.$route.query,t=e.order,s=e.filter;if(t)switch(t){case"publish_date_desc":this.postOrderType="publish_date",this.postOrder="desc";break;case"publish_date_asc":this.postOrderType="publish_date",this.postOrder="asc";break;case"favorites_count_desc":this.postOrderType="favorites_count",this.postOrder="desc";break;case"favorites_count_asc":this.postOrderType="favorites_count",this.postOrder="asc";break;case"tips_summ_desc":this.postOrderType="tips_summ",this.postOrder="desc";break;case"tips_summ_asc":this.postOrderType="tips_summ",this.postOrder="asc";break;default:break}s&&(this.postFilter=s)},methods:{updateParamsHandler:function(){var e=this;this.$refs.postSortingDropdown&&this.$refs.postSortingDropdown.hide(),this.$nextTick((function(){e.updatePosts()}))},updatePosts:function(){var e="".concat(this.postOrderType,"_").concat(this.postOrder),t=this.postFilter,s=this.$route.query.q,i={};"publish_date_desc"!==e&&(i.order=e),"date_all_time"!==t&&(i.filter=t),s&&(i.q=s),this.$router.replace({query:i})}}}),a=n,o=s("2877"),c=Object(o["a"])(a,i,r,!1,null,null,null);t["a"]=c.exports},d32a:function(e,t,s){},d5a9:function(e,t,s){},d5ea:function(e,t,s){},d981:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=(s("c5f6"),s("d634"));function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={props:{id:{type:Number,required:!0}},computed:a(a(a(a({},Object(r["Ob"])(["getUser"])),Object(r["Jb"])(["getSubscribe"])),Object(r["q"])(["currentDate"])),{},{user:function(){return this.getUser(this.id)},subscribe:function(){return this.getSubscribe(this.id)},isExpired:function(){return!!this.user.subscribedIsExpiredNow||this.subscribe&&!this.subscribe.renewedAt&&!this.subscribe.status},agreePrice:function(){return this.subscribe?Math.max(this.subscribe.newPrice,this.subscribe.price):0},isAutoprolong:function(){return!!this.subscribe&&(!!this.subscribe.renewedAt||0===this.user.subscribePrice)},isNewPriceHigherAgreePrice:function(){return this.user.subscribePrice>this.agreePrice},waitForExpire:function(){return!this.isAutoprolong||this.isNewPriceHigherAgreePrice},isExpiredNow:function(){return this.subscribe&&+new Date(this.subscribe.expiredAt)<this.currentDate||this.user.subscribedIsExpiredNow}}),methods:a(a({},Object(r["Ib"])(["autoprolongToggle"])),Object(r["Kb"])(["removeSubscribe"]))}},dab1:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.option.isVoted||e.isPostUser||!e.author.subscribedBy||e.voted||e.isFinished?s("div",{staticClass:"vote-button-wrapper",class:{"m-owner":e.isPostUser}},[s("div",{staticClass:"post-vote-button",class:{"m-unvoted":!e.option.isVoted,"m-voted":e.option.isVoted&&(e.isPostUser||e.author.subscribedBy)}},[e.option.count&&e.isPostUser&&"PostVoters"!==e.$route.name?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.show_who_voted"),expression:"$t('message.show_who_voted')"}],staticClass:"b-post__vote__link",attrs:{to:{name:"PostVoters",params:{postId:e.postId,userId:e.author.username,optionId:+e.option.id}},"active-class":""}}):e._e(),e.author.subscribedBy||e.isPostUser?s("div",{staticClass:"post_voting_percent",style:{width:e.votingPercent+"%"}}):e._e(),s("span",{staticClass:"post-vote-button__label",domProps:{innerHTML:e._s(e.option.name)}}),e.author.subscribedBy||e.isPostUser?s("span",{staticClass:"post-vote-button__count"},[e._v(" "+e._s(e.option.count)+" ")]):e._e()],1)]):s("div",{staticClass:"vote-button-wrapper"},[s("button",{staticClass:"post-vote-button m-voting-hover",attrs:{type:"button",disabled:e.disabledVote},domProps:{innerHTML:e._s(e.option.name)},on:{click:e.voteHandler}})])},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("96cf"),s("3b8d")),a=s("bd86"),o=(s("c5f6"),s("09e4")),c=s("d634"),l=s("e057"),u=s("5892");function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var p={name:"PostVoteOption",mixins:[l["a"]],props:{option:{type:Object,required:!0},total:{type:Number,required:!0},voted:{type:Boolean,default:!1},postId:{type:Number,required:!0},author:{type:Object,required:!0},isFinished:{type:Boolean,default:!1},disabledVote:{type:Boolean,default:!1}},computed:h(h(h({},Object(c["Ob"])(["user"])),Object(c["b"])(["authUserId"])),{},{votingPercent:function(){return this.total?this.option.count/this.total*100:0},isPostUser:function(){return this.author.id===this.authUserId}}),methods:h(h({},Object(c["S"])(["fetchPost"])),{},{voteHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$emit("disable-vote",!0),e.prev=1,e.next=4,Object(u["C"])(this.postId,this.option.id);case 4:t=e.sent,t&&t.success?this.fetchPost({id:this.postId}):this.$emit("disable-vote",!1),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$emit("disable-vote",!1),Object(o["b"])(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()})},m=p,f=s("2877"),b=Object(f["a"])(m,i,r,!1,null,null,null);t["a"]=b.exports},dce5c:function(e,t,s){e.exports=s.p+"img/slide-1.png"},dd20:function(e,t,s){e.exports=s.p+"img/btn_google_light.svg"},ddd6:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"b-story-item m-gradient-overlay",on:{click:function(t){return e.scroll("stream"+e.value.id)}}},[e.spaModule?s("router-link",{staticClass:"b-story-item__link",attrs:{to:e.isProfile?{name:"ProfileInner",params:{postType:"streams"},hash:"#stream"+e.value.id}:"/"+e.user.username+"/streams#stream"+e.value.id}},[s("item-content",{attrs:{value:e.value}})],1):s("a",{staticClass:"b-story-item__link",attrs:{href:"/"+e.user.username+"/streams#stream"+e.value.id}},[s("item-content",{attrs:{value:e.value}})],1)],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"b-story-item__inside scheduled-story"},[i("span",{staticClass:"b-story-item__pos-avatar b-story-item__text-name b-story-item__text-width",attrs:{id:"popover-"+e.value.id}},[i("utils-time",{attrs:{date:e.value.scheduledAt,type:"scheduled-stream"}})],1),i("div",{staticClass:"b-story-item__text"},[i("div",{staticClass:"b-story-item__text-name"},[i("div",{staticClass:"b-username-row"},[i("div",{staticClass:"b-username m-flex"},[i("div",{staticClass:"g-user-name"},[i("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-live"}),e.soon?[e._v(" Soon ")]:i("utils-time",{attrs:{date:e.value.scheduledAt,type:"expired"},on:{time:function(t){return e.checkTime(e.value)}}})],2)])])])]),e.streamThumbSrc?i("img",{ref:"streamThumb",staticClass:"img-responsive m-stream-image",attrs:{src:e.streamThumbSrc,draggable:"false"}}):i("img",{attrs:{src:s("9855")}}),i("div",{staticClass:"b-story-item__upcoming"},[i("div",{staticStyle:{"text-align":"center",margin:"0 10px"}},[e._v(" "+e._s(e.value.title)+" ")])])])},o=[],c=s("e66b"),l=s("33a44"),u=s("48f6"),d=s.n(u),h=s("64a1"),p=s.n(h),m=s("d634");function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var v=3,g={components:{ImageThumb:c["a"],UtilsTime:l["a"]},data:function(){return{soon:!1,interval:v,streamThumbSrc:null,showDefaultCover:!1}},props:{value:{required:!0}},mounted:function(){this.checkTime(this.value)},created:function(){this.streamThumbSrc=!!this.value.media&&this.value.media.files.thumb.url},computed:b(b(b({},Object(m["eb"])(["isDarkMode"])),Object(m["Ob"])(["getUser"])),{},{user:function(){return this.value.user},defaultCoverSrc:function(){return this.isDarkMode?p.a:d.a},streamTitle:function(){return this.value.title||"Untitled"}}),methods:{checkTime:function(e){var t=(new Date).getTime(),s=new Date(e.scheduledAt).getTime();this.soon=s-t<=6e4}}},_=g,y=(s("42c3"),s("2877")),w=Object(y["a"])(_,a,o,!1,null,null,null),O=w.exports,C=s("9029"),P=s("16d9");function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function k(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){Object(n["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var S={components:{ItemContent:O},mixins:[P["a"]],computed:k(k({},Object(m["Ob"])(["getUser"])),{},{user:function(){return this.getUser(this.value.user)},spaModule:function(){return!0},isMobile:function(){return C["isMobile"]}}),props:{value:{required:!0},isProfile:{type:Boolean,default:!1}},methods:{scroll:function(e){var t=this;this.$nextTick((function(){var s=document.getElementById(e);s&&t.scrollTo({top:s.offsetHeight-60,behavior:"smooth"})}))}}},E=S,T=Object(y["a"])(E,i,r,!1,null,null,null);t["a"]=T.exports},df03:function(e,t,s){},e057:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("d634");function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var o={computed:a(a(a({},Object(r["Ob"])(["userId"])),Object(r["b"])(["authUserId"])),{},{isAuthUser:function(){return this.userId===this.authUserId}})}},e7fc:function(e,t,s){},e941:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.authUser.canAddStory?s("div",{staticClass:"b-story-item b-story-item-own m-gradient-overlay",attrs:{id:"add-story-btn"},on:{click:e.click}},[s("div",{staticClass:"b-story-item__inside"},[s("span",{staticClass:"b-plus m-dark-bg m-simple-color b-story-item__pos-avatar"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add"})]),s("div",{staticClass:"b-story-item__text"},[e._v(" "+e._s(e.$t("message.add_story"))+" ")]),s("image-thumb",{attrs:{user:e.authUser,size:"c144"}}),s("input",{ref:"input",style:{opacity:"0"},attrs:{type:"file",name:"file"},on:{change:e.edit}})],1)]):e._e()},r=[],n=(s("8e6e"),s("6b54"),s("7618")),a=(s("7f7f"),s("96cf"),s("3b8d")),o=(s("ac6a"),s("456d"),s("bd86")),c=s("71ea"),l=(s("5892"),s("09e4")),u=(s("bc3a"),s("d634"));s("3b2b"),s("63d9"),s("8449"),s("6c7b"),s("6aa2"),s("4917"),s("34ef"),s("7872"),s("0b21"),s("673e"),s("7514"),s("2fdb"),s("a481"),s("28a5"),s("55dd"),s("20d6"),s("6762"),s("5df3"),s("1c4c"),s("ac4d"),s("8a81");
/*!
 * Doka 5.5.0
 * Copyright 2019 PQINA Inc - All Rights Reserved
 * Please visit https://pqina.nl/doka/ for further information
 */
function d(e){return(d="function"==typeof Symbol&&"symbol"==Object(n["a"])(Symbol.iterator)?function(e){return Object(n["a"])(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Object(n["a"])(e)})(e)}function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function p(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},i=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter((function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable})))),i.forEach((function(t){h(e,t,s[t])}))}return e}function m(e,t){return v(e)||_(e,t)||w()}function f(e){return b(e)||g(e)||y()}function b(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}function v(e){if(Array.isArray(e))return e}function g(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _(e,t){var s=[],i=!0,r=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(s.push(a.value),!t||s.length!==t);i=!0);}catch(e){r=!0,n=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw n}}return s}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var O=function(e){return e instanceof HTMLElement},C=function(e,t){return t.parentNode.insertBefore(e,t)},P=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},x=function(e){return"object"===d(e)&&null!==e},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=p({},e),r=[],n=[],a=function(e,t,s){s?n.push({type:e,data:t}):(u[e]&&u[e](t),r.push({type:e,data:t}))},o=function(e){for(var t,s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];return l[e]?(t=l)[e].apply(t,i):null},c={getState:function(){return p({},i)},processActionQueue:function(){var e=[].concat(r);return r.length=0,e},processDispatchQueue:function(){var e=[].concat(n);n.length=0,e.forEach((function(e){var t=e.type,s=e.data;a(t,s)}))},dispatch:a,query:o},l={};t.forEach((function(e){l=p({},e(i),l)}));var u={};return s.forEach((function(e){u=p({},e(a,o,i),u)})),c},S=function(e,t,s){"function"!=typeof s?Object.defineProperty(e,t,s):e[t]=s},E=function(e,t){for(var s in e)e.hasOwnProperty(s)&&t(s,e[s])},T=function(e){var t={};return E(e,(function(s){S(t,s,e[s])})),t},A=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===s)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,s)},j="http://www.w3.org/2000/svg",$=["svg","path"],M=function(e){return $.includes(e)},I=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===d(t)&&(s=t,t=null);var i=M(e)?document.createElementNS(j,e):document.createElement(e);return t&&(M(e)?A(i,"class",t):i.className=t),E(s,(function(e,t){A(i,e,t)})),i},L=function(e){return function(t,s){void 0!==s&&e.children[s]?e.insertBefore(t,e.children[s]):e.appendChild(t)}},D=function(e,t){return function(e,s){return void 0!==s?t.splice(s,0,e):t.push(e),e}},R=function(e,t){return function(s){return t.splice(t.indexOf(s),1),s.element.parentNode&&e.removeChild(s.element),s}},U=function(e,t,s,i){var r=s[0]||e.left,n=s[1]||e.top,a=r+e.width,o=n+e.height*(i[1]||1),c={element:p({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:r,top:n,right:a,bottom:o}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){N(c.inner,p({},e.inner)),N(c.outer,p({},e.outer))})),B(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,B(c.outer),c},N=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},B=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},F=function(e){return"number"==typeof e},V=function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(s)<i},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,s=void 0===t?.5:t,i=e.damping,r=void 0===i?.75:i,n=e.mass,a=void 0===n?10:n,o=e.delay,c=void 0===o?0:o,l=null,u=null,d=0,h=!1,p=null,m=T({interpolate:function(e){if(null===p&&(p=e),!(e-c<p||h)){if(!F(l)||!F(u))return h=!0,void(d=0);V(u+=d+=-(u-l)*s/a,l,d*=r)?(u=l,d=0,h=!0,m.onupdate(u),m.oncomplete(u)):m.onupdate(u)}},target:{set:function(e){if(F(e)&&!F(u)&&(u=e,p=null),null===l&&(l=e,u=e,p=null),h&&(p=null),u===(l=e)||void 0===l)return h=!0,d=0,p=null,m.onupdate(u),void m.oncomplete(u);h=!1},get:function(){return l}},resting:{get:function(){return h}},onupdate:function(){},oncomplete:function(){},position:{get:function(){return u}}});return m},z=function(e){return e<.5?2*e*e:(4-2*e)*e-1},q=function(){var e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=s.duration,r=void 0===i?500:i,n=s.easing,a=void 0===n?z:n,o=s.delay,c=void 0===o?0:o,l=null,u=!0,d=!1,h=null,p=T({interpolate:function(s){u||null===h||(null===l&&(l=s),s-l<c||((e=s-l-c)<r?(t=e/r,p.onupdate((e>=0?a(d?1-t:t):0)*h)):(e=1,t=d?0:1,p.onupdate(t*h),p.oncomplete(t*h),u=!0)))},target:{get:function(){return d?0:h},set:function(e){if(null===h)return h=e,p.onupdate(e),void p.oncomplete(e);e<h?(h=1,d=!0):(d=!1,h=e),u=!1,l=null}},resting:{get:function(){return u}},onupdate:function(){},oncomplete:function(){}});return p},G={spring:H,tween:q},Z=function(e,t,s){var i=e[t]&&"object"===d(e[t][s])?e[t][s]:e[t]||e,r="string"==typeof i?i:i.type,n="object"===d(i)?p({},i):{};return G[r]?G[r](n):null},W=function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var r=e,n=function(){return s[e]},a=function(t){return s[e]=t};"object"===d(e)&&(r=e.key,n=e.getter||n,a=e.setter||a),t[r]&&!i||(t[r]={get:n,set:a})}))}))},Y=function(e){var t=e.mixinConfig,s=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,n=p({},s),a=[];return E(t,(function(e,t){var o=Z(t);o&&(o.onupdate=function(t){s[e]=t},o.target=n[e],W([{key:e,setter:function(e){o.target!==e&&(o.target=e)},getter:function(){return s[e]}}],[i,r],s,!0),a.push(o))})),{write:function(e){var t=!0;return a.forEach((function(s){s.resting||(t=!1),s.interpolate(e)})),t},destroy:function(){}}},X=function(e){return function(t,s){e.addEventListener(t,s)}},K=function(e){return function(t,s){e.removeEventListener(t,s)}},Q=function(e){var t=e.viewExternalAPI,s=e.view,i=[],r=X(s.element),n=K(s.element);return t.on=function(e,t){i.push({type:e,fn:t}),r(e,t)},t.off=function(e,t){i.splice(i.findIndex((function(s){return s.type===e&&s.fn===t})),1),n(e,t)},{write:function(){return!0},destroy:function(){i.forEach((function(e){n(e.type,e.fn)}))}}},J=function(e){var t=e.mixinConfig,s=e.viewProps,i=e.viewExternalAPI;W(t,i,s)},ee={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},te=function(e){var t=e.mixinConfig,s=e.viewProps,i=e.viewInternalAPI,r=e.viewExternalAPI,n=e.view,a=p({},s),o={};W(t,[i,r],s);var c=function(){return n.rect?U(n.rect,n.childViews,[s.translateX||0,s.translateY||0],[s.scaleX||0,s.scaleY||0]):null};return i.rect={get:c},r.rect={get:c},t.forEach((function(e){s[e]=void 0===a[e]?ee[e]:a[e]})),{write:function(){if(se(o,s))return ie(n.element,s),Object.assign(o,p({},s)),!0},destroy:function(){}}},se=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var s in t)if(t[s]!==e[s])return!0;return!1},ie=function(e,t){var s=t.opacity,i=t.perspective,r=t.translateX,n=t.translateY,a=t.scaleX,o=t.scaleY,c=t.rotateX,l=t.rotateY,u=t.rotateZ,d=t.originX,h=t.originY,p=t.width,m=t.height,f="",b="";null==d&&null==h||(b+="transform-origin: ".concat(d||0,"px ").concat(h||0,"px;")),null!=i&&(f+="perspective(".concat(i,"px) ")),null==r&&null==n||(f+="translate3d(".concat(r||0,"px, ").concat(n||0,"px, 0) ")),null==a&&null==o||(f+="scale3d(".concat(null!=a?a:1,", ").concat(null!=o?o:1,", 1) ")),null!=u&&(f+="rotateZ(".concat(u,"rad) ")),null!=c&&(f+="rotateX(".concat(c,"rad) ")),null!=l&&(f+="rotateY(".concat(l,"rad) ")),""!=f&&(b+="transform:".concat(f,";")),null!=s&&(b+="opacity:".concat(s,";"),s<1&&(b+="pointer-events:none;"),0===s&&"BUTTON"===e.nodeName&&(b+="visibility:hidden;")),null!=p&&(b+="width:".concat(p,"px;")),null!=m&&(b+="height:".concat(m,"px;"));var v=e.elementCurrentStyle||"";b.length===v.length&&b===v||(e.setAttribute("style",b),e.elementCurrentStyle=b)},re={styles:te,listeners:Q,animations:Y,apis:J},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(s.paddingTop,10)||0,e.marginTop=parseInt(s.marginTop,10)||0,e.marginRight=parseInt(s.marginRight,10)||0,e.marginBottom=parseInt(s.marginBottom,10)||0,e.marginLeft=parseInt(s.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent&&"fixed"!==s.position,e},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,s=void 0===t?"div":t,i=e.name,r=void 0===i?null:i,n=e.attributes,a=void 0===n?{}:n,o=e.read,c=void 0===o?function(){}:o,l=e.write,u=void 0===l?function(){}:l,d=e.create,h=void 0===d?function(){}:d,m=e.destroy,f=void 0===m?function(){}:m,b=e.filterFrameActionsForChild,v=void 0===b?function(e,t){return t}:b,g=e.didCreateView,_=void 0===g?function(){}:g,y=e.didWriteView,w=void 0===y?function(){}:y,O=e.shouldUpdateChildViews,C=void 0===O?function(){return!0}:O,P=e.ignoreRect,x=void 0!==P&&P,k=e.ignoreRectUpdate,S=void 0!==k&&k,E=e.mixins,A=void 0===E?[]:E;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=I(s,r?"doka--".concat(r):null,a),n=window.getComputedStyle(i,null),o=ne(),l=null,d=!1,m=[],b=[],g={},y={},O=[u],P=[c],k=[f],E=function(){return i},j=function(){return[].concat(m)},$=function(){return l||(l=U(o,m,[0,0],[1,1]))},M=function(){return i.layoutCalculated=!1},N={element:{get:E},style:{get:function(){return n}},childViews:{get:j}},B=p({},N,{rect:{get:$},ref:{get:function(){return g}},is:function(e){return r===e},appendChild:L(i),createChildView:function(e){return function(t,s){return t(e,s)}}(e),linkView:function(e){return m.push(e),e},unlinkView:function(e){m.splice(m.indexOf(e),1)},appendChildView:D(i,m),removeChildView:R(i,m),registerWriter:function(e){return O.push(e)},registerReader:function(e){return P.push(e)},registerDestroyer:function(e){return k.push(e)},invalidateLayout:M,dispatch:e.dispatch,query:e.query}),F={element:{get:E},childViews:{get:j},rect:{get:$},resting:{get:function(){return d}},isRectIgnored:function(){return x},invalidateLayout:M,_read:function(){l=null,C({root:H,props:t})&&m.forEach((function(e){return e._read()})),!(S&&o.width&&o.height)&&ne(o,i,n);var e={root:H,props:t,rect:o};P.forEach((function(t){return t(e)}))},_write:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=0===s.length;return O.forEach((function(r){!1===r({props:t,root:H,actions:s,timestamp:e})&&(i=!1)})),b.forEach((function(t){!1===t.write(e)&&(i=!1)})),C({props:t,root:H,actions:s,timestamp:e})&&(m.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,v(t,s))||(i=!1)})),m.forEach((function(t,r){t.element.parentNode||(H.appendChild(t.element,r),t._read(),t._write(e,v(t,s)),i=!1)}))),d=i,w({props:t,root:H,actions:s,timestamp:e}),i},_destroy:function(){b.forEach((function(e){return e.destroy()})),k.forEach((function(e){e({root:H})})),m.forEach((function(e){return e._destroy()}))}},V=p({},N,{rect:{get:function(){return o}}});Object.keys(A).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var s=re[e]({mixinConfig:A[e],viewProps:t,viewState:y,viewInternalAPI:B,viewExternalAPI:F,view:T(V)});s&&b.push(s)}));var H=T(B);h({root:H,props:t});var z=(i.children||[]).length;return m.forEach((function(e,t){H.appendChild(e.element,z+t)})),_(H),T(F,t)}},oe=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,i="__framePainter";if(window[i])return window[i].readers.push(e),void window[i].writers.push(t);window[i]={readers:[e],writers:[t]};var r=window[i],n=1e3/s,a=null,o=null,c=null,l=null,u=function(){document.hidden?(c=function(){return window.setTimeout((function(){return d(performance.now())}),n)},l=function(){return window.clearTimeout(o)}):(c=function(){return window.requestAnimationFrame(d)},l=function(){return window.cancelAnimationFrame(o)})};document.addEventListener("visibilitychange",(function(){l&&l(),u(),d(performance.now())}));var d=function e(t){o=c(e),a||(a=t);var s=t-a;s<=n||(a=t-s%n,r.readers.forEach((function(e){return e()})),r.writers.forEach((function(e){return e(t)})))};return u(),d(performance.now()),{pause:function(){l(o)}}},ce=function(e,t){return function(s){var i=s.root,r=s.props,n=s.actions,a=void 0===n?[]:n,o=s.timestamp;if(a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:i,props:r,action:t.data,timestamp:o})})),t)return t({root:i,props:r,actions:a,timestamp:o})}},le=function(e){return Array.isArray(e)},ue=function(e){return null==e},de=function(e){return e.trim()},he=function(e){return""+e},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return ue(e)?[]:le(e)?e:he(e).split(t).map(de).filter((function(e){return e.length}))},me=function(e){return"boolean"==typeof e},fe=function(e){return me(e)?e:"true"===e},be=function(e){return"string"==typeof e},ve=function(e){return F(e)?e:be(e)?he(e).replace(/[a-z]+/gi,""):0},ge=function(e){return parseInt(ve(e),10)},_e=function(e){return parseFloat(ve(e))},ye=function(e){return F(e)&&isFinite(e)&&Math.floor(e)===e},we=function(e){if(ye(e))return e;var t=he(e).trim();return/MB$/i.test(t)?(t=t.replace(/MB$i/,"").trim(),1e3*ge(t)*1e3):/KB/i.test(t)?(t=t.replace(/KB$i/,"").trim(),1e3*ge(t)):ge(t)},Oe=function(e){return"function"==typeof e},Ce=function(e){for(var t=self,s=e.split("."),i=null;i=s.shift();)if(!(t=t[i]))return null;return t},Pe=function(e){return null===e},xe=function(e){return le(e)?"array":Pe(e)?"null":ye(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":d(e)},ke=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},Se={array:pe,boolean:fe,int:function(e){return"bytes"===xe(e)?we(e):ge(e)},float:_e,bytes:we,string:function(e){return Oe(e)?e:he(e)},object:function(e){try{return JSON.parse(ke(e))}catch(t){return e}},file:function(e){return e},function:function(e){return Ce(e)}},Ee=function(e,t){return Se[t](e)},Te=function(e,t,s){if(e===t)return e;var i=xe(e);if(i!==s){var r=Ee(e,s);if(i=xe(r),null===r)throw'Trying to assign value with incorrect type, allowed type: "'.concat(s,'"');e=r}return e},Ae=function(e,t){var s=e;return{enumerable:!0,get:function(){return s},set:function(i){s=Te(i,e,t)}}},je=function(e){var t={};return E(e,(function(s){var i=be(e[s])?e[s]:s,r=e[i];t[s]=i===s?Ae(r[0],r[1]):t[i]})),T(t)},$e=function(e){e.file=null,e.activeView=null,e.markup=[],e.rootRect={x:0,y:0,left:0,top:0,width:0,height:0},e.stage=null,e.stageOffset=null,e.image=null,e.zoomTimeoutId=null,e.instantUpdate=!1,e.filePromise=null,e.fileLoader=null,e.instructions={size:null,crop:null,filter:null,color:null},e.filter=null,e.filterName=null,e.filterValue=null,e.colorValues={},e.colorMatrices={},e.size={width:!1,height:!1,aspectRatioLocked:!0,aspectRatioPrevious:!1},e.crop={rectangle:null,transforms:null,rotation:null,flip:null,aspectRatio:null,isRotating:!1,isDirty:!1,draft:{rectangle:null,transforms:null}}},Me=function(e){var t={noImageTimeout:null,options:je(e)};return $e(t),t},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},Le=function(e,t){e!==t&&console.warn("'".concat(e,"' is deprecated, please use '").concat(t,"' instead."))},De=function(e,t){var s={};return E(t,(function(i){var r=be(t[i])?t[i]:i;s[i]={get:function(){return Le(i,r),e.getState().options[r]},set:function(t){Le(i,r),e.dispatch("SET_".concat(Ie(r,"_").toUpperCase()),{value:t})}}})),s},Re=function(e){return function(t,s,i){var r={};return E(e,(function(e){var s=Ie(e,"_").toUpperCase();r["SET_".concat(s)]=function(r){var n;try{n=i.options[e],i.options[e]=r.value}catch(e){}t("DID_SET_".concat(s),{value:i.options[e],prevValue:n})}})),r}},Ue=function(e){return function(t){var s={};return E(e,(function(e){s["GET_".concat(Ie(e,"_").toUpperCase())]=function(){return t.options[e]}})),s}},Ne=function(){return Math.random().toString(36).substr(2,9)},Be=function(e,t){return e.splice(t,1)},Fe=function(){var e=[],t=function(t,s){Be(e,e.findIndex((function(e){return e.event===t&&(e.cb===s||!s)})))};return{fire:function(t){for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){setTimeout((function(){e.apply(void 0,i)}),0)}))},on:function(t,s){e.push({event:t,cb:s})},onOnce:function(s,i){e.push({event:s,cb:function(){t(s,i),i.apply(void 0,arguments)}})},off:t}},Ve={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex",FILE:"file"},He="undefined"!=typeof window&&void 0!==window.document,ze=function(){return He},qe=null,Ge=function(){return null===qe&&(qe=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),qe},Ze=function(){return p({},Ke)},We=function(e){E(e,(function(e,t){Ke[e]&&Xe(e,t)}))},Ye=function(e){return be(Ke[e])?Ke[e]:e},Xe=function(e,t){e=Ye(e),Ke[e][0]=Te(t,Ke[e][0],Ke[e][1])},Ke={id:[null,Ve.STRING],className:[null,Ve.STRING],src:[null,Ve.FILE],maxImagePreviewWidth:[1500,Ve.INT],maxImagePreviewHeight:[1500,Ve.INT],allowPreviewFitToView:[!0,Ve.BOOLEAN],allowButtonCancel:[!0,Ve.BOOLEAN],allowButtonConfirm:[!0,Ve.BOOLEAN],allowDropFiles:[!1,Ve.BOOLEAN],allowBrowseFiles:[!0,Ve.BOOLEAN],allowAutoClose:[!0,Ve.BOOLEAN],allowAutoDestroy:[!1,Ve.BOOLEAN],utils:[["crop","filter","color","markup"],Ve.ARRAY],initialState:[null,Ve.OBJECT],outputData:[!1,Ve.BOOLEAN],outputFile:[!0,Ve.BOOLEAN],outputStripImageHead:[!0,Ve.BOOLEAN],outputType:[null,Ve.STRING],outputQuality:[null,Ve.INT],outputFit:["cover",Ve.STRING],outputUpscale:[!0,Ve.BOOLEAN],outputWidth:[null,Ve.INT],outputHeight:[null,Ve.INT],outputCanvasMemoryLimit:[ze()&&Ge()?16777216:null,Ve.INT],size:[null,Ve.OBJECT],sizeMin:[{width:1,height:1},Ve.OBJECT],sizeMax:[{width:9999,height:9999},Ve.OBJECT],filter:[null,Ve.OBJECT],filters:[{original:{label:"Original",matrix:function(){return null}},chrome:{label:"Chrome",matrix:function(){return[1.398,-.316,.065,-.273,.201,-.051,1.278,-.08,-.273,.201,-.051,.119,1.151,-.29,.215,0,0,0,1,0]}},fade:{label:"Fade",matrix:function(){return[1.073,-.015,.092,-.115,-.017,.107,.859,.184,-.115,-.017,.015,.077,1.104,-.115,-.017,0,0,0,1,0]}},mono:{label:"Mono",matrix:function(){return[.212,.715,.114,0,0,.212,.715,.114,0,0,.212,.715,.114,0,0,0,0,0,1,0]}},noir:{label:"Noir",matrix:function(){return[.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,0,0,0,1,0]}}},Ve.OBJECT],crop:[null,Ve.OBJECT],cropShowSize:[!1,Ve.BOOLEAN],cropZoomTimeout:[null,Ve.INT],cropMask:[null,Ve.FUNCTION],cropMaskInset:[0,Ve.INT],cropAllowImageTurnLeft:[!0,Ve.BOOLEAN],cropAllowImageTurnRight:[!1,Ve.BOOLEAN],cropAllowImageFlipHorizontal:[!0,Ve.BOOLEAN],cropAllowImageFlipVertical:[!0,Ve.BOOLEAN],cropResizeKeyCodes:[[18,91,92,93],Ve.ARRAY],cropResizeScrollRectOnly:[!1,Ve.BOOLEAN],cropAspectRatio:[null,Ve.STRING],cropAspectRatioOptions:[null,Ve.ARRAY],cropMinImageWidth:[1,Ve.INT],cropMinImageHeight:[1,Ve.INT],colorBrightness:[0,Ve.NUMBER],colorBrightnessRange:[[-.25,.25],Ve.ARRAY],colorContrast:[1,Ve.NUMBER],colorContrastRange:[[.5,1.5],Ve.ARRAY],colorExposure:[1,Ve.NUMBER],colorExposureRange:[[.5,1.5],Ve.ARRAY],colorSaturation:[1,Ve.NUMBER],colorSaturationRange:[[0,2],Ve.ARRAY],markup:[null,Ve.ARRAY],markupFilter:[function(){return!0},Ve.FUNCTION],markupAllowAddMarkup:[!0,Ve.BOOLEAN],markupFontSizeDefault:[2,Ve.NUMBER],markupFontSizeOptions:[[["XL",.15],["L",.125],["M",.1],["S",.075],["XS",.05]],Ve.ARRAY],markupFontFamilyDefault:[1,Ve.INT],markupFontFamilyOptions:[[["Serif","Palatino, 'Times New Roman', serif"],["Sans Serif","Helvetica, Arial, Verdana"],["Monospaced","Monaco, 'Lucida Console', monospaced"]],Ve.ARRAY],markupShapeStyleDefault:[2,Ve.INT],markupShapeStyleOptions:[[["Fill",0,null,0],["Outline thick",.025,null,4],["Outline default",.015,null,2],["Outline thin",.005,null,1],["Outline dashed",.005,[.01],1]],Ve.ARRAY],markupLineStyleDefault:[1,Ve.INT],markupLineStyleOptions:[[["Thick",.025,null,4],["Default",.015,null,2],["Thin",.005,null,1],["Dashed",.005,[.01],1]],Ve.ARRAY],markupLineDecorationDefault:[1,Ve.INT],markupLineDecorationOptions:[[["None",[]],["Single arrow",["arrow-end"]],["Double arrow",["arrow-begin","arrow-end"]]],Ve.ARRAY],markupColorDefault:[0,Ve.INT],markupColorOptions:[[["White","#fff","#f6f6f6"],["Silver","#9e9e9e"],["Black","#000","#333"],["Red","#f44336"],["Orange","#ff9800"],["Yellow","#ffeb3b"],["Green","#4caf50"],["Blue","#2196f3"],["Violet","#3f51b5"],["Purple","#9c27b0"]],Ve.ARRAY],beforeCreateBlob:[null,Ve.FUNCTION],afterCreateBlob:[null,Ve.FUNCTION],onconfirm:[null,Ve.FUNCTION],oncancel:[null,Ve.FUNCTION],onclose:[null,Ve.FUNCTION],onloadstart:[null,Ve.FUNCTION],onload:[null,Ve.FUNCTION],onloaderror:[null,Ve.FUNCTION],onupdate:[null,Ve.FUNCTION],oninit:[null,Ve.FUNCTION],ondestroy:[null,Ve.FUNCTION],labelButtonReset:["Reset",Ve.STRING],labelButtonCancel:["Cancel",Ve.STRING],labelButtonConfirm:["Done",Ve.STRING],labelButtonUtilCrop:["Crop",Ve.STRING],labelButtonUtilResize:["Resize",Ve.STRING],labelButtonUtilFilter:["Filter",Ve.STRING],labelButtonUtilColor:["Colors",Ve.STRING],labelButtonUtilMarkup:["Markup",Ve.STRING],labelStatusMissingWebGL:["WebGL is required but is disabled on your browser",Ve.STRING],labelStatusAwaitingImage:["Waiting for image",Ve.STRING],labelStatusLoadImageError:["Error loading image",Ve.STRING],labelStatusLoadingImage:["Loading image",Ve.STRING],labelStatusProcessingImage:["Processing image",Ve.STRING],labelColorBrightness:["Brightness",Ve.STRING],labelColorContrast:["Contrast",Ve.STRING],labelColorExposure:["Exposure",Ve.STRING],labelColorSaturation:["Saturation",Ve.STRING],labelMarkupTypeRectangle:["Square",Ve.STRING],labelMarkupTypeEllipse:["Circle",Ve.STRING],labelMarkupTypeText:["Text",Ve.STRING],labelMarkupTypeLine:["Arrow",Ve.STRING],labelMarkupSelectFontSize:["Size",Ve.STRING],labelMarkupSelectFontFamily:["Font",Ve.STRING],labelMarkupSelectLineDecoration:["Decoration",Ve.STRING],labelMarkupSelectLineStyle:["Style",Ve.STRING],labelMarkupSelectShapeStyle:["Style",Ve.STRING],labelMarkupRemoveShape:["Remove",Ve.STRING],labelButtonCropZoom:["Zoom",Ve.STRING],labelButtonCropRotateLeft:["Rotate left",Ve.STRING],labelButtonCropRotateRight:["Rotate right",Ve.STRING],labelButtonCropRotateCenter:["Center rotation",Ve.STRING],labelButtonCropFlipHorizontal:["Flip horizontal",Ve.STRING],labelButtonCropFlipVertical:["Flip vertical",Ve.STRING],labelButtonCropAspectRatio:["Aspect ratio",Ve.STRING],pointerEventsPolyfillScope:["root",Ve.STRING],styleCropCorner:["circle",Ve.STRING],styleFullscreenSafeArea:[ze()&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?"bottom":"none",Ve.STRING],styleLayoutMode:[null,Ve.STRING]},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(s,Math.max(t,e))},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return parseFloat(e.toFixed(t))},et=function(e,t){return Je(e.x)===Je(t.x)&&Je(e.y)===Je(t.y)},tt=function(e,t){return{x:Je(e.x,t),y:Je(e.y,t)}},st=function(e,t){return ct(e.x-t.x,e.y-t.y)},it=function(e,t){return e.x*t.x+e.y*t.y},rt=function(e,t){return it(st(e,t),st(e,t))},nt=function(e,t){return Math.sqrt(rt(e,t))},at=function(e,t){return ct(Qe(e.x,t.x,t.x+t.width),Qe(e.y,t.y,t.y+t.height))},ot=function(e,t,s){var i=Math.cos(t),r=Math.sin(t),n=ct(e.x-s.x,e.y-s.y);return ct(s.x+i*n.x-r*n.y,s.y+r*n.x+i*n.y)},ct=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},lt=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},ut=function(e,t){var s=gt(e),i=gt(t);return s.left>=i.left&&s.top>=i.top&&s.bottom<=i.bottom&&s.right<=i.right},dt=function(e,t,s){return 0===t?{tl:e.tl,tr:e.tr,br:e.br,bl:e.bl}:{tl:ot(e.tl,t,s),tr:ot(e.tr,t,s),br:ot(e.br,t,s),bl:ot(e.bl,t,s)}},ht=function(e,t,s){var i=dt(wt(e),t,s),r=i.tl,n=i.tr,a=i.br,o=i.bl,c=Math.min(r.x,n.x,a.x,o.x),l=Math.min(r.y,n.y,a.y,o.y),u=Math.max(r.x,n.x,a.x,o.x),d=Math.max(r.y,n.y,a.y,o.y);return Ot(c,l,u-c,d-l)},pt=function(e,t,s){return Ot(t*(e.x-s.x)+s.x,t*(e.y-s.y)+s.y,t*e.width,t*e.height)},mt=function(e,t){return Ot(e.x+t.x,e.y+t.y,e.width,e.height)},ft={translate:mt,rotate:ht,scale:pt},bt=function(e,t,s){return t.reduce((function(e,t){return(0,ft[t[0]])(e,t[1],s)}),e)},vt=function(e){return Ot(e.x,e.y,e.width,e.height)},gt=function(e){return{top:e.y,right:e.x+e.width,bottom:e.y+e.height,left:e.x}},_t=function(e){var t=e.top,s=e.right,i=e.bottom,r=e.left;return{x:r,y:t,width:s-r,height:i-t}},yt=function(e){return ct(e.x+.5*e.width,e.y+.5*e.height)},wt=function(e){return{tl:{x:e.x,y:e.y},tr:{x:e.x+e.width,y:e.y},br:{x:e.x+e.width,y:e.y+e.height},bl:{x:e.x,y:e.y+e.height}}},Ot=function(e,t,s,i){return{x:e,y:t,width:s,height:i}},Ct=function(e){if(ue(e))return e;if(/:/.test(e)){var t=e.split(":"),s=t[0];return t[1]/s}return parseFloat(e)},Pt=function(e,t){var s=e.width,i=s*t;return i>e.height&&(s=(i=e.height)/t),{x:.5*(e.width-s),y:.5*(e.height-i),width:s,height:i}},xt=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.height/e.width,r=t,n=1,a=i;a>r&&(n=(a=r)/i);var o=Math.max(1/n,r/a),c=e.width/(s*o*n);return{width:c,height:c*t}},kt=function(e,t){return{x:e,y:t}},St=function(e,t){return e.x*t.x+e.y*t.y},Et=function(e,t){return kt(e.x-t.x,e.y-t.y)},Tt=function(e,t){return St(Et(e,t),Et(e,t))},At=function(e,t){return Math.sqrt(Tt(e,t))},jt=function(e,t){var s=e,i=t,r=1.5707963267948966-t,n=Math.sin(1.5707963267948966),a=Math.sin(i),o=Math.sin(r),c=Math.cos(r),l=s/n;return kt(c*(l*a),c*(l*o))},$t=function(e,t){var s=e.width,i=e.height,r=jt(s,t),n=jt(i,t),a=kt(e.x+Math.abs(r.x),e.y-Math.abs(r.y)),o=kt(e.x+e.width+Math.abs(n.y),e.y+Math.abs(n.x)),c=kt(e.x-Math.abs(n.y),e.y+e.height-Math.abs(n.x));return{width:At(a,o),height:At(a,c)}},Mt=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},r=i.x>.5?1-i.x:i.x,n=i.y>.5?1-i.y:i.y,a=2*r*e.width,o=2*n*e.height,c=$t(t,s);return Math.max(c.width/a,c.height/o)},It=function(e,t){var s=t.origin,i=t.translation,r=t.scale;return bt(e,[["scale",r],["translate",i]],s)},Lt=function(e,t){var s=e,i=t,r=1.5707963267948966-t,n=Math.sin(1.5707963267948966),a=Math.sin(i),o=Math.sin(r),c=Math.cos(r),l=s/n;return ct(c*(l*a),c*(l*o))},Dt=function(e,t){var s=e.width,i=e.height,r=t%(Math.PI/2),n=Lt(s,r),a=Lt(i,r),o=wt(e);return{tl:ct(o.tl.x+Math.abs(n.x),o.tl.y-Math.abs(n.y)),tr:ct(o.tr.x+Math.abs(a.y),o.tr.y+Math.abs(a.x)),br:ct(o.br.x-Math.abs(n.x),o.br.y+Math.abs(n.y)),bl:ct(o.bl.x-Math.abs(a.y),o.bl.y-Math.abs(a.x))}},Rt=function(e,t,s){var i=s.origin,r=s.translation,n=It(e,s),a={x:i.x+r.x,y:i.y+r.y},o=2*Math.PI+s.rotation%(2*Math.PI),c=Dt(t,o),l=ot(c.tl,-o,a),u=ot(c.tr,-o,a),d=ot(c.br,-o,a),h={x:Math.min(l.x,u.x,d.x),y:Math.min(l.y,u.y,d.y),width:Math.max(l.x,u.x,d.x)-Math.min(l.x,u.x,d.x),height:Math.max(l.y,u.y,d.y)-Math.min(l.y,u.y,d.y)},p=Ot(h.x,h.y,h.width,h.height),m=yt(p),f=t.height/t.width,b={x:(m.x-n.x)/n.width,y:(m.y-n.y)/n.height},v=b.y>.5?1-b.y:b.y,g=2*(b.x>.5?1-b.x:b.x)*n.width,_=2*v*n.height;return{center:b,zoom:Math.min(g/p.width,_/p.height),rotation:s.rotation,aspectRatio:f}},Ut=function(e,t){var s=Nt(e,t);return{center:{x:Je(s.center.x),y:Je(s.center.y)},rotation:Je(s.rotation),zoom:Je(s.zoom),aspectRatio:Je(s.aspectRatio),flip:p({},t.flip)}},Nt=function(e,t){var s=Rt(e,t.rectangle,t.transforms);return{center:{x:s.center.x,y:s.center.y},rotation:s.rotation,zoom:s.zoom,aspectRatio:s.aspectRatio,flip:p({},t.flip)}},Bt=function(e,t,s,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"width",n=e.width,a=e.height;return n||a?(n=n&&Qe(n,t.width,s.width),a=a&&Qe(a,t.height,s.height),i?(a?n?"width"===r?a=n/i:"height"===r?n=a*i:(a*i<t.width?a=(n=t.width)/i:n/i<t.height&&(n=(a=t.height)*i),a*i>s.width?a=(n=s.width)/i:n/i>s.height&&(n=(a=s.height)*i)):a=Qe(a*i,t.width,s.width)/i:n=Qe(n/i,t.height,s.height)*i,{width:n,height:a}):{width:n,height:a}):{width:n,height:a}},Ft=function(e,t){var s=new Array(20);return s[0]=e[0]*t[0]+e[1]*t[5]+e[2]*t[10]+e[3]*t[15],s[1]=e[0]*t[1]+e[1]*t[6]+e[2]*t[11]+e[3]*t[16],s[2]=e[0]*t[2]+e[1]*t[7]+e[2]*t[12]+e[3]*t[17],s[3]=e[0]*t[3]+e[1]*t[8]+e[2]*t[13]+e[3]*t[18],s[4]=e[0]*t[4]+e[1]*t[9]+e[2]*t[14]+e[3]*t[19]+e[4],s[5]=e[5]*t[0]+e[6]*t[5]+e[7]*t[10]+e[8]*t[15],s[6]=e[5]*t[1]+e[6]*t[6]+e[7]*t[11]+e[8]*t[16],s[7]=e[5]*t[2]+e[6]*t[7]+e[7]*t[12]+e[8]*t[17],s[8]=e[5]*t[3]+e[6]*t[8]+e[7]*t[13]+e[8]*t[18],s[9]=e[5]*t[4]+e[6]*t[9]+e[7]*t[14]+e[8]*t[19]+e[9],s[10]=e[10]*t[0]+e[11]*t[5]+e[12]*t[10]+e[13]*t[15],s[11]=e[10]*t[1]+e[11]*t[6]+e[12]*t[11]+e[13]*t[16],s[12]=e[10]*t[2]+e[11]*t[7]+e[12]*t[12]+e[13]*t[17],s[13]=e[10]*t[3]+e[11]*t[8]+e[12]*t[13]+e[13]*t[18],s[14]=e[10]*t[4]+e[11]*t[9]+e[12]*t[14]+e[13]*t[19]+e[14],s[15]=e[15]*t[0]+e[16]*t[5]+e[17]*t[10]+e[18]*t[15],s[16]=e[15]*t[1]+e[16]*t[6]+e[17]*t[11]+e[18]*t[16],s[17]=e[15]*t[2]+e[16]*t[7]+e[17]*t[12]+e[18]*t[17],s[18]=e[15]*t[3]+e[16]*t[8]+e[17]*t[13]+e[18]*t[18],s[19]=e[15]*t[4]+e[16]*t[9]+e[17]*t[14]+e[18]*t[19]+e[19],s},Vt=[],Ht=function(e){var t=[];return E(e,(function(e,s){return t.push(s)})),t.length?t.reduce((function(e,t){return Ft(f(e),t)}),t.shift()):[]},zt=function(e){return e.crop.draft.transforms?e.crop.draft.transforms.scale:e.crop.transforms.scale},qt=function(e){var t=e.image.width/e.image.naturalWidth,s=zt(e);return{width:e.options.cropMinImageWidth*s*t,height:e.options.cropMinImageHeight*s*t}},Gt=function(e){var t=zt(e);return{width:e.image.width*t,height:e.image.height*t}},Zt=function(e){return e.options.size?e.options.size.width:null},Wt=function(e){return e.options.size?e.options.size.height:null},Yt=function(e){return!1===e.size.width?Zt(e):e.size.width},Xt=function(e){return!1===e.size.height?Wt(e):e.size.height},Kt=function(e){return e.options.cropAspectRatioOptions?e.options.cropAspectRatioOptions.map((function(e){return{label:e.label,value:e.value?Ct(e.value):null}})):null},Qt=function(e){return{ALLOW_MANUAL_RESIZE:function(){return e.options.utils.includes("resize")},GET_SIZE:function(){return!1!==e.size.width&&!1!==e.size.height?{width:e.size.width,height:e.size.height}:{width:null,height:null}},GET_SIZE_INPUT:function(){return{width:e.size.width,height:e.size.height}},GET_SIZE_ASPECT_RATIO_LOCK:function(){return e.size.aspectRatioLocked},IS_ACTIVE_VIEW:function(t){return e.activeView===t},GET_ACTIVE_VIEW:function(){return e.activeView},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_FILE:function(){return e.file},GET_IMAGE:function(){return e.image},GET_STAGE:function(){return p({},e.stage,e.stageOffset)},GET_ROOT:function(){return e.rootRect},GET_ROOT_SIZE:function(){return{width:e.rootRect.width,height:e.rootRect.height}},GET_MIN_IMAGE_SIZE:function(){return{width:e.options.cropMinImageWidth,height:e.options.cropMinImageHeight}},GET_IMAGE_PREVIEW_SCALE_FACTOR:function(){return e.image.width/e.image.naturalWidth},GET_MIN_PREVIEW_IMAGE_SIZE:function(){var t=e.image.width/e.image.naturalWidth;return{width:e.options.cropMinImageWidth*t,height:e.options.cropMinImageHeight*t}},GET_MIN_CROP_SIZE:function(){return qt(e)},GET_MAX_CROP_SIZE:function(){return Gt(e)},GET_MIN_PIXEL_CROP_SIZE:function(){var t=e.crop.transforms.scale,s=qt(e);return{width:s.width/t,height:s.height/t}},GET_MAX_PIXEL_CROP_SIZE:function(){var t=e.crop.transforms.scale,s=Gt(e);return{width:s.width/t,height:s.height/t}},GET_CROP_ASPECT_RATIO_OPTIONS:function(){return Kt(e)},GET_ACTIVE_CROP_ASPECT_RATIO:function(){var t=e.crop.aspectRatio;return be(t)?Ct(t):t},GET_CROP_ASPECT_RATIO:function(){var t=be(e.options.cropAspectRatio)?Ct(e.options.cropAspectRatio):e.options.cropAspectRatio,s=Kt(e);return!s||s&&!s.length||s.find((function(e){return e.value===t}))?t:s[0].value},GET_CROP_RECTANGLE_ASPECT_RATIO:function(){var t=e.crop,s=t.rectangle,i=t.aspectRatio;return s?s.width/s.height:i},GET_CROP_FLIP:function(){return e.crop.flip?p({},e.crop.flip):p({},e.instructions.crop.flip)},GET_CROP_ROTATION:function(){return p({},e.crop.rotation)},GET_CROP:function(t,s){var i=Vt[t];if(i&&i.ts===s)return i;var r=ss(e);return r&&(r.ts=s,Vt[t]=r),r},GET_COLOR_MATRIX:function(){return Ht(e.colorMatrices)},GET_COLOR_VALUES:function(){return p({exposure:e.options.colorExposure,brightness:e.options.colorBrightness,contrast:e.options.colorContrast,saturation:e.options.colorSaturation},e.colorValues)},GET_PREVIEW_IMAGE_DATA:function(){return e.file.preview},GET_THUMB_IMAGE_DATA:function(){return e.file.thumb},GET_FILTER:function(){return e.filter},GET_UID:function(){return e.uid},GET_MARKUP_BY_ID:function(t){return e.markup.find((function(e){return e[1].id===t}))}}},Jt=function(e,t){var s=Yt(e),i=Xt(e),r=t.width/t.height;return Bt({width:s,height:i},e.options.sizeMin,e.options.sizeMax,r)},es=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.zoom,i=t.rotation,r=t.center,n=t.aspectRatio,a=xt(e,n,s),o={x:.5*a.width,y:.5*a.height},c={x:0,y:0,width:a.width,height:a.height,center:o},l=s*Mt(e,Pt(c,n),i,r);return{widthFloat:a.width/l,heightFloat:a.height/l,width:Math.round(a.width/l),height:Math.round(a.height/l)}},ts=function(e,t){var s=yt(t),i=yt(e);return!et(i,s)},ss=function(e){if(!e.stage||!e.image)return null;var t=e.crop.draft.rectangle||{free:e.crop.rectangle,limited:e.crop.rectangle},s=e.crop.draft.transforms||e.crop.transforms,i=s.origin,r=s.translation,n=s.scale,a=s.interaction,o=e.crop.rotation,c=e.crop.flip,l=!(!e.crop.draft.rectangle&&!e.crop.draft.transforms),u=l||e.instantUpdate,d=ts(t.limited,e.stage),h=e.crop.isDirty||l,p=e.crop.isRotating,m={width:e.image.naturalWidth,height:e.image.naturalHeight},f=Ht(e.colorMatrices),b={crop:es(m,Nt(e.image,{rectangle:t.limited,transforms:{origin:i,translation:r,scale:n,rotation:o.main+o.sub},flip:c})),image:Jt(e,t.limited)},v=b.image,g=b.crop,_=g.width,y=g.height,w=g.widthFloat/g.heightFloat;v.width&&v.height?(_=v.width,y=v.height):v.width&&!v.height?(_=v.width,y=v.width/w):v.height&&!v.width&&(y=v.height,_=v.height*w),b.currentWidth=Math.round(_),b.currentHeight=Math.round(y);var O={x:0,y:0},C=0,P=0;if(u&&a){if(a.translation){var x=a.translation.x-r.x,k=a.translation.y-r.y;O.x=100*Math.sign(x)*Math.log10(1+Math.abs(x)/100),O.y=100*Math.sign(k)*Math.log10(1+Math.abs(k)/100)}if(a.scale){var S=a.scale-n;C=.25*Math.sign(S)*Math.log10(1+Math.abs(S)/.25)}if(a.rotation){var T=a.rotation-(o.main+o.sub);P=.05*Math.sign(T)*Math.log10(1+Math.abs(T)/.05)}}var A={},j=t.free,$=gt(j),M=gt(t.limited);return E($,(function(e){var t=$[e]-M[e];A[e]=M[e]+5*Math.sign(t)*Math.log10(1+Math.abs(t)/5)})),{canRecenter:d,canReset:h,isDraft:u,isRotating:p,cropRect:{x:A.left,y:A.top,width:A.right-A.left,height:A.bottom-A.top},origin:i,translation:r,translationBand:O,scale:n,scaleBand:C,rotation:o,rotationBand:P,flip:c,interaction:a,cropStatus:b,colorMatrix:f,markup:e.markup}},is=function(e,t){if(1165519206!==e.getUint32(t+=2,!1))return-1;var s=18761===e.getUint16(t+=6,!1);t+=e.getUint32(t+4,s);var i=e.getUint16(t,s);t+=2;for(var r=0;r<i;r++)if(274===e.getUint16(t+12*r,s))return e.getUint16(t+12*r+8,s)},rs=function(e){var t=new DataView(e);if(65496!=t.getUint16(0,!1))return null;for(var s,i=t.byteLength,r=2;r<i;){if(t.getUint16(r+2,!1)<=8)return-1;if(s=t.getUint16(r,!1),r+=2,65505===s)return is(t,r);if(65280!=(65280&s))return null;r+=t.getUint16(r,!1)}},ns=function(e){return new Promise((function(t){var s=new FileReader;s.onload=function(){return t(rs(s.result)||-1)},s.readAsArrayBuffer(e.slice(0,262144))}))},as={HORIZONTAL:1,VERTICAL:2},os=function(e,t){var s=e.width,i=s*t;i>e.height&&(s=(i=e.height)/t);var r=.5*(e.width-s),n=.5*(e.height-i);return Ot(r,n,s,i)},cs=function(e,t){var s=e.width,i=e.height,r=Lt(s,t),n=Lt(i,t),a=wt(e),o=ct(a.tl.x+Math.abs(r.x),a.tl.y-Math.abs(r.y)),c=ct(a.tr.x+Math.abs(n.y),a.tr.y+Math.abs(n.x)),l=ct(a.bl.x-Math.abs(n.y),a.bl.y-Math.abs(n.x));return{width:nt(o,c),height:nt(o,l)}},ls=function(e,t,s,i){var r=i.x>.5?1-i.x:i.x,n=i.y>.5?1-i.y:i.y,a=2*r*e.width,o=2*n*e.height,c=cs(t,s);return Math.max(c.width/a,c.height/o)},us=function(e,t,s){var i=e.center,r=e.zoom,n=e.aspectRatio,a=yt(t),o={x:a.x-s.width*i.x,y:a.y-s.height*i.y},c=2*Math.PI+e.rotation%(2*Math.PI),l=ls(s,os(t,n||s.height/s.width),c,i);return{origin:{x:i.x*s.width,y:i.y*s.height},translation:o,scale:r*l,rotation:e.rotation}},ds=function(e){return{origin:p({},e.origin),translation:p({},e.translation),rotation:e.rotation,scale:e.scale}},hs=function(e,t,s,i){var r=s.translation,n=s.scale,a=s.rotation,o=s.origin,c={origin:p({},o),translation:p({},r),scale:n,rotation:2*Math.PI+a%(2*Math.PI)},l=e.height/e.width,u={x:o.x+r.x,y:o.y+r.y},d=Dt(t,c.rotation),h=ot(d.tl,-c.rotation,u),m=ot(d.tr,-c.rotation,u),f=ot(d.br,-c.rotation,u),b=ot(d.bl,-c.rotation,u),v={x:Math.min(h.x,m.x,f.x,b.x),y:Math.min(h.y,m.y,f.y,b.y),width:Math.max(h.x,m.x,f.x,b.x)-Math.min(h.x,m.x,f.x,b.x),height:Math.max(h.y,m.y,f.y,b.y)-Math.min(h.y,m.y,f.y,b.y)},g=Ot(v.x,v.y,v.width,v.height),_=yt(g),y=gt(g),w=It(e,s),O=yt(w),C={x:w.x,y:w.y},P={x:O.x,y:O.y},x=_.x,k=_.y,S={x:C.x,y:C.y,width:w.width,height:w.height};if(!ut(g,w))if("moving"===i){S.y>g.y?S.y=g.y:S.y+S.height<y.bottom&&(S.y=y.bottom-S.height),S.x>g.x?S.x=g.x:S.x+S.width<y.right&&(S.x=y.right-S.width);var E=It(e,p({},s,{scale:c.scale})),T=yt(E);P.x=T.x,P.y=T.y,C.x=E.x,C.y=E.y,S.x=P.x-.5*S.width,S.y=P.y-.5*S.height,S.y>g.y?S.y=g.y:S.y+S.height<y.bottom&&(S.y=y.bottom-S.height),S.x>g.x?S.x=g.x:S.x+S.width<y.right&&(S.x=y.right-S.width);var A={x:S.x-C.x,y:S.y-C.y},j={x:A.x*Math.cos(c.rotation)-A.y*Math.sin(c.rotation),y:A.x*Math.sin(c.rotation)+A.y*Math.cos(c.rotation)};c.translation.x+=j.x,c.translation.y+=j.y}else if("resizing"===i){w.width<g.width&&(S.width=g.width,S.height=S.width*l,S.height<g.height&&(S.height=g.height,S.width=S.height/l)),w.height<g.height&&(S.height=g.height,S.width=S.height/l,S.width<g.width&&(S.width=g.width,S.height=S.width*l)),S.x=P.x-.5*S.width,S.y=P.y-.5*S.height,S.y>g.y?S.y=g.y:S.y+S.height<y.bottom&&(S.y=y.bottom-S.height),S.x>g.x?S.x=g.x:S.x+S.width<y.right&&(S.x=y.right-S.width),c.scale=ls(e,t,c.rotation,{x:(x-S.x)/S.width,y:(k-S.y)/S.height});var $=It(e,p({},s,{scale:c.scale})),M=yt($);P.x=M.x,P.y=M.y,C.x=$.x,C.y=$.y,S.x=P.x-.5*S.width,S.y=P.y-.5*S.height,S.y>g.y?S.y=g.y:S.y+S.height<y.bottom&&(S.y=y.bottom-S.height),S.x>g.x?S.x=g.x:S.x+S.width<y.right&&(S.x=y.right-S.width);var I={x:S.x-C.x,y:S.y-C.y},L={x:I.x*Math.cos(c.rotation)-I.y*Math.sin(c.rotation),y:I.x*Math.sin(c.rotation)+I.y*Math.cos(c.rotation)};c.translation.x+=L.x,c.translation.y+=L.y}else if("rotating"===i){var D=!1;if(S.y>g.y){var R=S.y-g.y;S.y=g.y,S.height+=2*R,D=!0}if(S.y+S.height<y.bottom){var U=y.bottom-(S.y+S.height);S.y=y.bottom-S.height,S.height+=2*U,D=!0}if(S.x>g.x){var N=S.x-g.x;S.x=g.x,S.width+=2*N,D=!0}if(S.x+S.width<y.right){var B=y.right-(S.x+S.width);S.x=y.right-S.width,S.width+=2*B,D=!0}D&&(c.scale=ls(e,t,c.rotation,{x:(x-w.x)/w.width,y:(k-w.y)/w.height}))}return p({},c,{rotation:s.rotation})},ps=function(e,t,s){var i=s.origin,r=s.translation,n=s.scale,a=2*Math.PI+s.rotation%(2*Math.PI),o={x:i.x+r.x,y:i.y+r.y},c=Dt(t,a),l=ot(c.tl,-a,o),u=ot(c.tr,-a,o),d=ot(c.br,-a,o),h=ot(c.bl,-a,o),p=Ot(Math.min(l.x,u.x,d.x,h.x),Math.min(l.y,u.y,d.y,h.y),Math.max(l.x,u.x,d.x,h.x)-Math.min(l.x,u.x,d.x,h.x),Math.max(l.y,u.y,d.y,h.y)-Math.min(l.y,u.y,d.y,h.y)),m=Ot(p.x,p.y,p.width,p.height),f=It(e,s),b=wt(f),v=yt(f),g=ot(b.tl,a,o),_=ot(b.br,a,o),y=g.x+.5*(_.x-g.x),w=g.y+.5*(_.y-g.y),O=mt(f,{x:y-v.x,y:w-v.y}),C=mt(m,{x:y-v.x,y:w-v.y}),P=yt(C),x={x:O.x,y:O.y},k=O.width,S=O.height,E=(P.x-x.x)/k,T=(P.y-x.y)/S,A={x:E*e.width,y:T*e.height},j=1-n,$=A.x*j,M=A.y*j,I={x:x.x+k*E,y:x.y+S*T},L=ot(x,a,{x:x.x+.5*k,y:x.y+.5*S}),D=ot(x,a,I),R=L.x-D.x,U=L.y-D.y;return{origin:tt(A),translation:tt({x:x.x-$+R,y:x.y-M+U})}},ms={n:function(e){return{x:e.x+.5*e.width,y:e.y}},e:function(e){return{x:e.x+e.width,y:e.y+.5*e.height}},s:function(e){return{x:e.x+.5*e.width,y:e.y+e.height}},w:function(e){return{x:e.x,y:e.y+.5*e.height}}},fs=function(e,t){return ms[e](t)},bs=function(e,t,s){var i=s.origin,r=s.translation,n=2*Math.PI+s.rotation%(2*Math.PI),a=It(e,s),o={x:i.x+r.x,y:i.y+r.y},c=Dt(t,n),l=ot(c.tl,-n,o),u=ot(c.tr,-n,o),d=ot(c.br,-n,o),h={x:Math.min(l.x,u.x,d.x),y:Math.min(l.y,u.y,d.y),width:Math.max(l.x,u.x,d.x)-Math.min(l.x,u.x,d.x),height:Math.max(l.y,u.y,d.y)-Math.min(l.y,u.y,d.y)},m=Ot(h.x,h.y,h.width,h.height),f=gt(m),b=gt(a),v=a;if(f.top<b.top||f.right>b.right||f.bottom>b.bottom||f.left<b.left){var g=p({},b);if(f.top<=g.top){var _=g.bottom-g.top,y=g.right-g.left,w=Math.max(1,m.height/_),O=_*w,C=y*w-y;g.bottom=f.top+O,g.top=f.top,g.left-=.5*C,g.right+=.5*C}if(f.bottom>=g.bottom){var P=g.bottom-g.top,x=g.right-g.left,k=Math.max(1,m.height/P),S=P*k,E=x*k-x;g.bottom=f.bottom,g.top=f.bottom-S,g.left-=.5*E,g.right+=.5*E}if(f.left<=g.left){var T=g.bottom-g.top,A=g.right-g.left,j=Math.max(1,m.width/A),$=A*j,M=T*j-T;g.right=f.left+$,g.left=f.left,g.top-=.5*M,g.bottom+=.5*M}if(f.right>=g.right){var I=g.bottom-g.top,L=g.right-g.left,D=Math.max(1,m.width/L),R=L*D,U=I*D-I;g.right=f.right,g.left=f.right-R,g.top-=.5*U,g.bottom+=.5*U}v=Ot(g.left,g.top,g.right-g.left,g.bottom-g.top)}var N=wt(v),B=yt(v),F=ot(N.tl,n,o),V=ot(N.br,n,o),H=F.x+.5*(V.x-F.x),z=F.y+.5*(V.y-F.y),q=mt(v,{x:H-B.x,y:z-B.y}),G=mt(m,{x:H-B.x,y:z-B.y}),Z=yt(G),W={x:q.x,y:q.y},Y=q.width,X=q.height,K=(Z.x-W.x)/Y,Q=(Z.y-W.y)/X,J=Y/e.width,ee={x:K*e.width,y:Q*e.height},te=1-J,se=ee.x*te,ie=ee.y*te,re={x:W.x+Y*K,y:W.y+X*Q},ne=ot(W,n,{x:W.x+.5*Y,y:W.y+.5*X}),ae=ot(W,n,re),oe=ne.x-ae.x,ce=ne.y-ae.y;return{origin:ee,translation:{x:W.x-se+oe,y:W.y-ie+ce},scale:J,rotation:s.rotation}},vs=function(e,t,s,i,r,n,a,o,c){var l=n.left,u=n.right,d=n.top,h=n.bottom,p=u-l,m=h-d,f=r.left,b=r.right,v=r.top,g=r.bottom;if(s===as.VERTICAL){if(v=e.y>0?i.y:Math.min(i.y,Math.max(t.y,d)),g=e.y>0?Math.max(i.y,Math.min(t.y,h)):i.y,a){var _=(g-v)/a;f=i.x-.5*_,b=i.x+.5*_}}else if(f=e.x>0?i.x:Math.min(i.x,Math.max(t.x,l)),b=e.x>0?Math.max(i.x,Math.min(t.x,u)):i.x,a){var y=(b-f)*a;v=i.y-.5*y,g=i.y+.5*y}var w,O,C,P,x=o.width,k=o.height;if(s===as.VERTICAL?(w=i.x-.5*x,O=i.x+.5*x,e.y<0?(C=i.y-k,P=i.y):e.y>0&&(C=i.y,P=i.y+k)):(C=i.y-.5*k,P=i.y+.5*k,e.x<0?(w=i.x-x,O=i.x):e.x>0&&(w=i.x,O=i.x+x)),a)if(s===as.VERTICAL){var S=Math.min((g-v)/a,p),E=S*a;f<l&&(b=(f=l)+S),b>u&&(f=(b=u)-S),i.x=f+.5*S,e.y<0?v=i.y-E:e.y>0&&(g=i.y+E)}else{var T=Math.min((b-f)*a,m),A=T/a;v<d&&(g=(v=d)+T),g>h&&(v=(g=h)-T),i.y=v+.5*T,e.x<0?f=i.x-A:e.x>0&&(b=i.x+A)}var j=_t({top:v,right:b,bottom:g,left:f}),$=function(){var t=x*a;s===as.HORIZONTAL?(v=i.y-.5*t,g=i.y+.5*t):e.y<0?(g=i.y,v=g-t):e.y>0&&(v=i.y,g=v+t)},M=function(){var t=k/a;s===as.VERTICAL?(f=i.x-.5*t,b=i.x+.5*t):e.x<0?(b=i.x,f=b-t):e.x>0&&(f=i.x,b=f+t)};b<O&&(b=O,f=O-x,a&&$()),f>w&&(f=w,b=w+x,a&&$()),v>C&&(v=C,g=C+k,a&&M()),g<P&&(g=P,v=P-k,a&&M());var I=c.width,L=c.height;if(a&&(a<1?I=L/a:L=I*a),b-f>I&&(e.x<0?f=i.x-I:b=i.x+I),g-v>L&&(e.y<0?v=i.y-L:g=i.y+L),b-f==0&&(e.x>0?b=i.x+2:f=i.x-2),g-v==0&&(e.y>0?g=i.y+2:v=i.y-2),Math.round(f)<l||Math.round(b)>u||Math.round(v)<d||Math.round(g)>h){var D=h-d,R=u-l;if(f<l){f=l;var U=Math.min(b-f,R);b=f+U}if(b>u){b=u;var N=Math.min(b-f,R);f=b-N}if(v<d){v=d;var B=Math.min(g-v,D);g=v+B}if(g>h){g=h;var F=Math.min(g-v,D);v=g-F}j=_t({top:v,right:b,bottom:g,left:f})}return{free:j,limited:_t({top:v,right:b,bottom:g,left:f})}},gs={nw:function(e){return{x:e.x,y:e.y}},ne:function(e){return{x:e.x+e.width,y:e.y}},se:function(e){return{x:e.x+e.width,y:e.y+e.height}},sw:function(e){return{x:e.x,y:e.y+e.height}}},_s=function(e,t){return gs[e](t)},ys=function(e,t,s,i,r,n,a){var o=gt(i),c=o.left,l=o.right,u=o.top,d=o.bottom,h=at({x:t.x,y:t.y},i),p=e.x>0?s.x:Math.min(h.x,s.x),m=e.x>0?Math.max(s.x,h.x):s.x,f=e.y>0?s.y:Math.min(h.y,s.y),b=e.y>0?Math.max(s.y,h.y):s.y;if(r){var v=h.x-s.x;e.x>0?m=Math.max(s.x,s.x+e.x*v):p=Math.min(s.x,s.x-e.x*v),e.y>0?b=Math.max(s.y,s.y+e.x*v*r):f=Math.min(s.y,s.y-e.x*v*r)}var g=_t({top:f,right:m,bottom:b,left:p});if(_t({top:f,right:m,bottom:b,left:p}),n.width&&n.height){var _=n.width,y=n.height;r&&(1===r?y=_=Math.max(_,y):_<y?_=y/r:_>y?y=_*r:_=y/r),m-p<_&&(e.x>0?m=s.x+_:p=s.x-_),b-f<y&&(e.y>0?b=s.y+y:f=s.y-y);var w=a.width,O=a.height;r&&(r<1?w=O/r:O=w*r),m-p>w&&(e.x<0?p=s.x-w:m=s.x+w),b-f>O&&(e.y<0?f=s.y-O:b=s.y+O)}if(m-p==0&&(e.x>0?m=s.x+2:p=s.x-2),b-f==0&&(e.y>0?b=s.y+2:f=s.y-2),Math.round(p)<c||Math.round(m)>l||Math.round(f)<u||Math.round(b)>d){var C=d-u,P=l-c;if(p<c){p=c;var x=Math.min(m-p,P);m=p+x,r&&(e.y>0&&(b=s.y+x*r),e.y<0&&(f=s.y-x*r))}if(m>l){m=l;var k=Math.min(m-p,P);p=m-k,r&&(e.y>0&&(b=s.y+k*r),e.y<0&&(f=s.y-k*r))}if(f<u){f=u;var S=Math.min(b-f,C);b=f+S,r&&(e.x>0&&(m=s.x+S/r),e.x<0&&(p=s.x-S/r))}if(b>d){b=d;var E=Math.min(b-f,C);f=b-E,r&&(e.x>0&&(m=s.x+E/r),e.x<0&&(p=s.x-E/r))}g=_t({top:f,right:m,bottom:b,left:p})}return{free:g,limited:_t({top:f,right:m,bottom:b,left:p})}},ws=function(e,t,s){var i=vt(e);return i.width=Math.min(i.height,i.width),i.height=i.width,i.height=i.width*t,i.height<s.height&&(i.height=s.height,i.width=i.height/t),i.width<s.width&&(i.width=s.width,i.height=i.width*t),i},Os=Math.PI/2,Cs=Math.PI/4,Ps=function(e){var t=Je(Cs),s=Je(Os),i=e/s,r=Math.floor(i)*s,n=e-r;return n>t&&(n-=s,r+=s),{main:r,sub:n}},xs=function(e){return new Promise((function(t,s){var i=new Image;i.src=URL.createObjectURL(e),i.onerror=function(e){clearInterval(r),s(e)};var r=setInterval((function(){i.naturalWidth&&i.naturalHeight&&(clearInterval(r),URL.revokeObjectURL(i.src),t({width:i.naturalWidth,height:i.naturalHeight}))}),1)}))},ks=function(e,t){var s={width:e.width,height:e.height};if(e.width>t.width||e.height>t.height){var i=e.height/e.width,r=t.width/e.width,n=t.height/e.height;r<n?(s.width=e.width*r,s.height=s.width*i):(s.height=e.height*n,s.width=s.height/i)}return s},Ss=function(e){return/^image/.test(e.type)},Es={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},Ts=function(e,t,s){return-1===s&&(s=1),Es[s](e,t)},As=function(e){e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},js=function(e){return e&&(e.horizontal||e.vertical)},$s=function(e,t,s){if(t<=1&&!js(s))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;var i=document.createElement("canvas"),r=e.naturalWidth,n=e.naturalHeight,a=t>=5&&t<=8;a?(i.width=n,i.height=r):(i.width=r,i.height=n);var o=i.getContext("2d");if(t&&o.transform.apply(o,Ts(r,n,t)),js(s)){var c=[1,0,0,1,0,0];(!a&&s.horizontal||a&s.vertical)&&(c[0]=-1,c[4]=r),(!a&&s.vertical||a&&s.horizontal)&&(c[3]=-1,c[5]=n),o.transform.apply(o,c)}return o.drawImage(e,0,0,r,n),i},Ms=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).canvasMemoryLimit,r=s.zoom||1,n=$s(e,t,s.flip),a={width:n.width,height:n.height},o=s.aspectRatio||a.height/a.width,c=xt(a,o,r);if(i){var l=c.width*c.height;if(l>i){var u=Math.sqrt(i)/Math.sqrt(l);a.width=Math.floor(a.width*u),a.height=Math.floor(a.height*u),c=xt(a,o,r)}}var d=document.createElement("canvas"),h={x:.5*c.width,y:.5*c.height},p={x:0,y:0,width:c.width,height:c.height,center:h},m=r*Mt(a,Pt(p,o),s.rotation,s.center);d.width=Math.round(c.width/m),d.height=Math.round(c.height/m),h.x/=m,h.y/=m;var f=h.x-a.width*(s.center?s.center.x:.5),b=h.y-a.height*(s.center?s.center.y:.5),v=d.getContext("2d");v.translate(h.x,h.y),v.rotate(s.rotation||0),v.drawImage(n,f-h.x,b-h.y,a.width,a.height);var g=v.getImageData(0,0,d.width,d.height);return As(d),g},Is="undefined"!=typeof window&&void 0!==window.document;Is&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,s){var i=this.toDataURL(t,s).split(",")[1];setTimeout((function(){for(var s=atob(i),r=s.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=s.charCodeAt(a);e(new Blob([n],{type:t||"image/png"}))}))}}));var Ls=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(i){var r=s?s(e):e;Promise.resolve(r).then((function(e){e.toBlob(i,t.type,t.quality)}))}))},Ds=function(e,t){return Bs(e.x*t,e.y*t)},Rs=function(e,t){return Bs(e.x+t.x,e.y+t.y)},Us=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:Bs(e.x/t,e.y/t)},Ns=function(e,t,s){var i=Math.cos(t),r=Math.sin(t),n=Bs(e.x-s.x,e.y-s.y);return Bs(s.x+i*n.x-r*n.y,s.y+r*n.x+i*n.y)},Bs=function(){return{x:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}},Fs=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;return"string"==typeof e?parseFloat(e)*s:"number"==typeof e?e*(i?t[i]:Math.min(t.width,t.height)):void 0},Vs=function(e,t,s){var i=e.borderStyle||e.lineStyle||"solid",r=e.backgroundColor||e.fontColor||"transparent",n=e.borderColor||e.lineColor||"transparent",a=Fs(e.borderWidth||e.lineWidth,t,s);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof i?"":i.map((function(e){return Fs(e,t,s)})).join(","),stroke:n,fill:r,opacity:e.opacity||1}},Hs=function(e){return null!=e},zs=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=Fs(e.x,t,s,"width")||Fs(e.left,t,s,"width"),r=Fs(e.y,t,s,"height")||Fs(e.top,t,s,"height"),n=Fs(e.width,t,s,"width"),a=Fs(e.height,t,s,"height"),o=Fs(e.right,t,s,"width"),c=Fs(e.bottom,t,s,"height");return Hs(r)||(r=Hs(a)&&Hs(c)?t.height-a-c:c),Hs(i)||(i=Hs(n)&&Hs(o)?t.width-n-o:o),Hs(n)||(n=Hs(i)&&Hs(o)?t.width-i-o:0),Hs(a)||(a=Hs(r)&&Hs(c)?t.height-r-c:0),{x:i||0,y:r||0,width:n||0,height:a||0}},qs=function(e,t){return Object.keys(t).forEach((function(s){return e.setAttribute(s,t[s])}))},Gs="http://www.w3.org/2000/svg",Zs=function(e,t){var s=document.createElementNS(Gs,e);return t&&qs(s,t),s},Ws=function(e){return qs(e,p({},e.rect,e.styles))},Ys=function(e){var t=e.rect.x+.5*e.rect.width,s=e.rect.y+.5*e.rect.height,i=.5*e.rect.width,r=.5*e.rect.height;return qs(e,p({cx:t,cy:s,rx:i,ry:r},e.styles))},Xs={contain:"xMidYMid meet",cover:"xMidYMid slice"},Ks=function(e,t){qs(e,p({},e.rect,e.styles,{preserveAspectRatio:Xs[t.fit]||"none"}))},Qs={left:"start",center:"middle",right:"end"},Js=function(e,t,s,i){var r=Fs(t.fontSize,s,i),n=t.fontFamily||"sans-serif",a=t.fontWeight||"normal",o=Qs[t.textAlign]||"start";qs(e,p({},e.rect,e.styles,{"stroke-width":0,"font-weight":a,"font-size":r,"font-family":n,"text-anchor":o})),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},ei=function(e,t,s,i){qs(e,p({},e.rect,e.styles,{fill:"none"}));var r=e.childNodes[0],n=e.childNodes[1],a=e.childNodes[2],o=e.rect,c={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(qs(r,{x1:o.x,y1:o.y,x2:c.x,y2:c.y}),t.lineDecoration){n.style.display="none",a.style.display="none";var l=Us({x:c.x-o.x,y:c.y-o.y}),u=Fs(.05,s,i);if(-1!==t.lineDecoration.indexOf("arrow-begin")){var d=Ds(l,u),h=Rs(o,d),m=Ns(o,2,h),f=Ns(o,-2,h);qs(n,{style:"display:block;",d:"M".concat(m.x,",").concat(m.y," L").concat(o.x,",").concat(o.y," L").concat(f.x,",").concat(f.y)})}if(-1!==t.lineDecoration.indexOf("arrow-end")){var b=Ds(l,-u),v=Rs(c,b),g=Ns(c,2,v),_=Ns(c,-2,v);qs(a,{style:"display:block;",d:"M".concat(g.x,",").concat(g.y," L").concat(c.x,",").concat(c.y," L").concat(_.x,",").concat(_.y)})}}},ti=function(e){return function(t){return Zs(e,{id:t.id})}},si=function(e){var t=Zs("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=function(){t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},ii=function(e){var t=Zs("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),s=Zs("line");t.appendChild(s);var i=Zs("path");t.appendChild(i);var r=Zs("path");return t.appendChild(r),t},ri={image:si,rect:ti("rect"),ellipse:ti("ellipse"),text:ti("text"),line:ii},ni={rect:Ws,ellipse:Ys,image:Ks,text:Js,line:ei},ai=function(e,t){return ri[e](t)},oi=function(e,t,s,i,r){e.rect=zs(s,i,r),e.styles=Vs(s,i,r),ni[t](e,s,i,r)},ci=function(e,t){return e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0},li=function(e,t,s){return new Promise((function(i){var r=new FileReader;r.onloadend=function(){var e=r.result,n=document.createElement("div");n.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",n.innerHTML=e;var a=n.querySelector("svg");document.body.appendChild(n);var o=a.getBBox();n.parentNode.removeChild(n);var c=n.querySelector("title"),l=a.getAttribute("viewBox")||"",u=a.getAttribute("width")||"",d=a.getAttribute("height")||"",h=parseFloat(u)||null,p=parseFloat(d)||null,m=(u.match(/[a-z]+/)||[])[0]||"",f=(d.match(/[a-z]+/)||[])[0]||"",b=l.split(" ").map(parseFloat),v=b.length?{x:b[0],y:b[1],width:b[2],height:b[3]}:o,g=null!=h?h:v.width,_=null!=p?p:v.height;a.style.overflow="visible",a.setAttribute("width",g),a.setAttribute("height",_);var y="";if(s&&s.length){var w={width:g,height:_};y=s.sort(ci).reduce((function(e,t){var s=ai(t[0],t[1]);return oi(s,t[0],t[1],w),s.removeAttribute("id"),1===s.getAttribute("opacity")&&s.removeAttribute("opacity"),e+"\n"+s.outerHTML+"\n"}),""),y="\n\n<g>".concat(y.replace(/&nbsp;/g," "),"</g>\n\n")}var O=t.aspectRatio||_/g,C=g,P=C*O,x=Mt({width:g,height:_},Pt({width:C,height:P},O),t.rotation,t.center),k=t.zoom*x,S=t.rotation*(180/Math.PI),E={x:.5*C,y:.5*P},T={x:E.x-g*t.center.x,y:E.y-_*t.center.y},A=["rotate(".concat(S," ").concat(E.x," ").concat(E.y,")"),"translate(".concat(E.x," ").concat(E.y,")"),"scale(".concat(k,")"),"translate(".concat(-E.x," ").concat(-E.y,")"),"translate(".concat(T.x," ").concat(T.y,")")],j=["scale(".concat(t.flip.horizontal?-1:1," ").concat(t.flip.vertical?-1:1,")"),"translate(".concat(t.flip.horizontal?-g:0," ").concat(t.flip.vertical?-_:0,")")],$='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(C).concat(m,'" height="').concat(P).concat(f,'" \nviewBox="0 0 ').concat(C," ").concat(P,'" \npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(c?c.textContent:"",'</title>\n<g transform="').concat(A.join(" "),'">\n<g transform="').concat(j.join(" "),'">\n').concat(a.outerHTML).concat(y,"\n</g>\n</g>\n</svg>");i($)},r.readAsText(e)}))},ui=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(s){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},di=function(){var e={resize:function(e,t){var i=t.mode,a=void 0===i?"contain":i,o=t.upscale,c=void 0!==o&&o,l=t.width,u=t.height,d=t.matrix;if(d=!d||r(d)?null:d,!l&&!u)return n(e,d);if(null===l?l=u:null===u&&(u=l),"force"!==a){var h=l/e.width,p=u/e.height,m=1;if("cover"===a?m=Math.max(h,p):"contain"===a&&(m=Math.min(h,p)),m>1&&!1===c)return n(e,d);l=e.width*m,u=e.height*m}for(var f=e.width,b=e.height,v=Math.round(l),g=Math.round(u),_=e.data,y=new Uint8ClampedArray(v*g*4),w=f/v,O=b/g,C=Math.ceil(.5*w),P=Math.ceil(.5*O),x=0;x<g;x++)for(var k=0;k<v;k++){for(var S=4*(k+x*v),E=0,T=0,A=0,j=0,$=0,M=0,I=0,L=(x+.5)*O,D=Math.floor(x*O);D<(x+1)*O;D++)for(var R=Math.abs(L-(D+.5))/P,U=(k+.5)*w,N=R*R,B=Math.floor(k*w);B<(k+1)*w;B++){var F=Math.abs(U-(B+.5))/C,V=Math.sqrt(N+F*F);if(V>=-1&&V<=1&&(E=2*V*V*V-3*V*V+1)>0){var H=_[3+(F=4*(B+D*f))];I+=E*H,A+=E,H<255&&(E=E*H/250),j+=E*_[F],$+=E*_[F+1],M+=E*_[F+2],T+=E}}y[S]=j/T,y[S+1]=$/T,y[S+2]=M/T,y[S+3]=I/A,d&&s(S,y,d)}return{data:y,width:v,height:g}},filter:n},t=function(t,s){var i=t.transforms,r=null;if(i.forEach((function(e){"filter"===e.type&&(r=e)})),r){var n=null;i.forEach((function(e){"resize"===e.type&&(n=e)})),n&&(n.data.matrix=r.data,i=i.filter((function(e){return"filter"!==e.type})))}s(function(t,s){return t.forEach((function(t){s=e[t.type](s,t.data)})),s}(i,t.imageData))};function s(e,t,s){for(var i=0,r=0,n=0,a=t[e]/255,o=t[e+1]/255,c=t[e+2]/255,l=t[e+3]/255;i<4;i++)n=255*(a*s[r=5*i]+o*s[r+1]+c*s[r+2]+l*s[r+3]+s[r+4]),t[e+i]=Math.max(0,Math.min(n,255))}self.onmessage=function(e){t(e.data.message,(function(t){self.postMessage({id:e.data.id,message:t},[t.data.buffer])}))};var i=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function r(e){return self.JSON.stringify(e||[])===i}function n(e,t){if(!t||r(t))return e;for(var s=e.data,i=s.length,n=t[0],a=t[1],o=t[2],c=t[3],l=t[4],u=t[5],d=t[6],h=t[7],p=t[8],m=t[9],f=t[10],b=t[11],v=t[12],g=t[13],_=t[14],y=t[15],w=t[16],O=t[17],C=t[18],P=t[19],x=0,k=0,S=0,E=0,T=0;x<i;x+=4)k=s[x]/255,S=s[x+1]/255,E=s[x+2]/255,T=s[x+3]/255,s[x]=Math.max(0,Math.min(255*(k*n+S*a+E*o+T*c+l),255)),s[x+1]=Math.max(0,Math.min(255*(k*u+S*d+E*h+T*p+m),255)),s[x+2]=Math.max(0,Math.min(255*(k*f+S*b+E*v+T*g+_),255)),s[x+3]=Math.max(0,Math.min(255*(k*y+S*w+E*O+T*C+P),255));return e}},hi=function(e,t){if(1165519206===e.getUint32(t+4,!1)){t+=4;var s=18761===e.getUint16(t+=6,!1);t+=e.getUint32(t+4,s);var i=e.getUint16(t,s);t+=2;for(var r=0;r<i;r++)if(274===e.getUint16(t+12*r,s))return e.setUint16(t+12*r+8,1,s),!0;return!1}},pi=function(e){var t=new DataView(e);if(65496!==t.getUint16(0))return null;for(var s,i,r=2,n=!1;r<t.byteLength;){if(s=t.getUint16(r,!1),i=t.getUint16(r+2,!1)+2,!(s>=65504&&s<=65519||65534===s))break;if(n||(n=hi(t,r,i)),r+i>t.byteLength)break;r+=i}return e.slice(0,r)},mi=function(e){return new Promise((function(t){var s=new FileReader;s.onload=function(){return t(pi(s.result)||null)},s.readAsArrayBuffer(e.slice(0,262144))}))},fi=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},bi=function(e,t){var s=fi();if(s){var i=new s;return i.append(e),i.getBlob(t)}return new Blob([e],{type:t})},vi=function(){return Math.random().toString(36).substr(2,9)},gi=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),s=URL.createObjectURL(t),i=new Worker(s),r=[];return{transfer:function(){},post:function(e,t,s){var n=vi();r[n]=t,i.onmessage=function(e){var t=r[e.data.id];t&&(t(e.data.message),delete r[e.data.id])},i.postMessage({id:n,message:e},s)},terminate:function(){i.terminate(),URL.revokeObjectURL(s)}}},_i=function(e){return new Promise((function(t,s){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){s(e)},i.src=e}))},yi=function(e){return e.reduce((function(e,t){return e.then((function(e){return t().then(Array.prototype.concat.bind(e))}))}),Promise.resolve([]))},wi=function(e,t){return new Promise((function(s){var i={width:e.width,height:e.height},r=e.getContext("2d"),n=t.sort(ci).map((function(e){return function(){return new Promise((function(t){Ti[e[0]](r,i,e[1],t)&&t()}))}}));yi(n).then((function(){return s(e)}))}))},Oi=function(e,t){e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},Ci=function(e){e.fill(),e.stroke(),e.globalAlpha=1},Pi=function(e,t,s){var i=zs(s,t),r=Vs(s,t);return Oi(e,r),e.rect(i.x,i.y,i.width,i.height),Ci(e,r),!0},xi=function(e,t,s){var i=zs(s,t),r=Vs(s,t);Oi(e,r);var n=i.x,a=i.y,o=i.width,c=i.height,l=o/2*.5522848,u=c/2*.5522848,d=n+o,h=a+c,p=n+o/2,m=a+c/2;return e.moveTo(n,m),e.bezierCurveTo(n,m-u,p-l,a,p,a),e.bezierCurveTo(p+l,a,d,m-u,d,m),e.bezierCurveTo(d,m+u,p+l,h,p,h),e.bezierCurveTo(p-l,h,n,m+u,n,m),Ci(e,r),!0},ki=function(e,t,s,i){var r=zs(s,t),n=Vs(s,t);Oi(e,n);var a=new Image;a.onload=function(){if("cover"===s.fit){var t=r.width/r.height,o=t>1?a.width:a.height*t,c=t>1?a.width/t:a.height,l=.5*a.width-.5*o,u=.5*a.height-.5*c;e.drawImage(a,l,u,o,c,r.x,r.y,r.width,r.height)}else if("contain"===s.fit){var d=Math.min(r.width/a.width,r.height/a.height),h=d*a.width,p=d*a.height,m=r.x+.5*r.width-.5*h,f=r.y+.5*r.height-.5*p;e.drawImage(a,0,0,a.width,a.height,m,f,h,p)}else e.drawImage(a,0,0,a.width,a.height,r.x,r.y,r.width,r.height);Ci(e,n),i()},a.src=s.src},Si=function(e,t,s){var i=zs(s,t),r=Vs(s,t);Oi(e,r);var n=Fs(s.fontSize,t),a=s.fontFamily||"sans-serif",o=s.fontWeight||"normal",c=s.textAlign||"left";return e.font="".concat(o," ").concat(n,"px ").concat(a),e.textAlign=c,e.fillText(s.text,i.x,i.y),Ci(e,r),!0},Ei=function(e,t,s){var i=zs(s,t),r=Vs(s,t);Oi(e,r),e.beginPath();var n={x:i.x,y:i.y},a={x:i.x+i.width,y:i.y+i.height};e.moveTo(n.x,n.y),e.lineTo(a.x,a.y);var o=Us({x:a.x-n.x,y:a.y-n.y}),c=.04*Math.min(t.width,t.height);if(-1!==s.lineDecoration.indexOf("arrow-begin")){var l=Ds(o,c),u=Rs(n,l),d=Ns(n,2,u),h=Ns(n,-2,u);e.moveTo(d.x,d.y),e.lineTo(n.x,n.y),e.lineTo(h.x,h.y)}if(-1!==s.lineDecoration.indexOf("arrow-end")){var p=Ds(o,-c),m=Rs(a,p),f=Ns(a,2,m),b=Ns(a,-2,m);e.moveTo(f.x,f.y),e.lineTo(a.x,a.y),e.lineTo(b.x,b.y)}return Ci(e,r),!0},Ti={rect:Pi,ellipse:xi,image:ki,text:Si,line:Ei},Ai=function(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t},ji=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,r){if(!e||!Ss(e))return r({status:"not an image file",file:e});var n=s.stripImageHead,a=s.beforeCreateBlob,o=s.afterCreateBlob,c=s.canvasMemoryLimit,l=t.crop,u=t.size,d=t.filter,h=t.markup,p=t.output,m=t.image&&t.image.orientation?Math.max(1,Math.min(8,t.image.orientation)):null,f=p&&p.quality,b=null===f?null:f/100,v=p&&p.type||null,g=[];!u||"number"!=typeof u.width&&"number"!=typeof u.height||g.push({type:"resize",data:u}),d&&20===d.length&&g.push({type:"filter",data:d});var _=function(e){var t=o?o(e):e;Promise.resolve(t).then(i)},y=function(e,t){var s=Ai(e),i=h.length?wi(s,h):s;Promise.resolve(i).then((function(e){Ls(e,t,a).then((function(t){if(As(e),n)return _(t);mi(t).then((function(e){null!==e&&(t=new Blob([e,t.slice(20)],{type:t.type})),_(t)}))})).catch(r)}))};if(/svg/.test(e.type)&&null===v)return li(e,l,h).then((function(e){i(bi(e,"image/svg+xml"))}));var w=URL.createObjectURL(e);_i(w).then((function(t){URL.revokeObjectURL(w);var s=Ms(t,m,l,{canvasMemoryLimit:c}),i={quality:b,type:v||e.type};if(!g.length)return y(s,i);var r=gi(di);r.post({transforms:g,imageData:s},(function(e){y(ui(e),i),r.terminate()}),[s.data.buffer])})).catch(r)}))},$i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},Mi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getFullYear(),"-").concat($i(e.getMonth()+1,"00"),"-").concat($i(e.getDate(),"00"),"_").concat($i(e.getHours(),"00"),"-").concat($i(e.getMinutes(),"00"),"-").concat($i(e.getSeconds(),"00"))},Ii=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e("GET_CROP_ASPECT_RATIO"),n={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null};s?Object.assign(n,s):t.options.crop?Object.assign(n,t.options.crop):n.aspectRatio=r;var a=i.width,o=i.height;if(a&&o)n.aspectRatio=o/a;else if(t.instructions.size){var c=t.instructions.size,l=c.width,u=c.height;l&&u&&(n.aspectRatio=u/l)}return n},Li=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Di=function(e){return e.split(".").pop()},Ri=function(e){if("string"!=typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},Ui=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="string"==typeof s?e.slice(0,e.size,s):e.slice(0,e.size,e.type);return r.lastModifiedDate=new Date,be(t)||(t=Mi()),t&&null===i&&Di(t)?r.name=t:(i=i||Ri(r.type),r.name=t+(i?"."+i:"")),r},Ni=function(e){return e.substr(0,e.lastIndexOf("."))||e},Bi={jpeg:"jpg","svg+xml":"svg"},Fi=function(e,t){var s=Ni(e),i=t.split("/")[1],r=Bi[i]||i;return"".concat(s,".").concat(r)},Vi=function(e){return/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg"},Hi=function(e){return Array.isArray(e)&&20===e.length},zi=function(e){return[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0]},qi=function(e){return[e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0]},Gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0]},Zi=function(e){return[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0]},Wi=["x","y","left","top","right","bottom","width","height"],Yi=function(e){return"string"==typeof e&&/%/.test(e)?parseFloat(e)/100:e},Xi=function(){return Math.random().toString(36).substr(2,9)},Ki=function(e){var t=m(e,2),s=t[0],i=t[1],r=!1!==i.allowSelect,n=!1!==i.allowMove,a=!1!==i.allowResize,o=!1!==i.allowInput,c=!1!==i.allowDestroy,l=void 0===i.allowEdit||i.allowEdit;return(!0===i.allowResize||!0===i.allowMove||!0===i.allowInput||i.allowEdit)&&(r=!0),!1===i.allowMove&&(a=!1),!0===i.allowResize&&(n=!0),[s,p({zIndex:0,id:Xi()},i,Wi.reduce((function(e,t){return e[t]=Yi(i[t]),e}),{}),{isDestroyed:!1,isSelected:!1,isDirty:!0,allowDestroy:c,allowSelect:r,allowMove:n,allowResize:a,allowInput:o,allowEdit:l})]},Qi={contrast:qi,exposure:Zi,brightness:zi,saturation:Gi},Ji=Math.PI/2,er=function(e){var t={upscale:e("GET_OUTPUT_UPSCALE"),mode:e("GET_OUTPUT_FIT"),width:e("GET_OUTPUT_WIDTH"),height:e("GET_OUTPUT_HEIGHT")},s=e("GET_SIZE_INPUT");if(e("ALLOW_MANUAL_RESIZE")&&(s.width||s.height)){var i=s.width,r=s.height,n=e("GET_CROP_RECTANGLE_ASPECT_RATIO");i&&!r?r=i/n:r&&!i&&(i=r*n),t.width=i,t.height=r,t.upscale=!0,t.mode="force"}return t},tr=function(e,t){var s=t("GET_UID"),i=t("GET_CROP",s,Date.now()),r={width:i.cropStatus.currentWidth,height:i.cropStatus.currentHeight},n=e.mode,a=e.width,o=e.height,c=e.upscale;if(!a&&!o)return r;if(null===a?a=o:null===o&&(o=a),"force"!==n){var l=a/r.width,u=o/r.height,d=1;if("cover"===n?d=Math.max(l,u):"contain"===n&&(d=Math.min(l,u)),d>1&&!1===c)return r;a=r.width*d,o=r.height*d}return{width:Math.round(a),height:Math.round(o)}},sr=function(e){return e.markup.filter((function(e){return!e[1].isDestroyed}))},ir=function(e,t,s){return new Promise((function(i,r){var n={data:null,file:null},a=Ut(t.image,t.crop),o=er(s),c={crop:a,image:p({},tr(o,s),{orientation:t.file.orientation}),size:o,output:{type:s("GET_OUTPUT_TYPE"),quality:s("GET_OUTPUT_QUALITY")},filter:t.colorMatrices.filter?{id:t.filterName,value:t.filterValue,matrix:t.colorMatrices.filter}:null,color:Object.keys(t.colorValues).length?Object.keys(t.colorValues).reduce((function(e,s){return e[s]={value:t.colorValues[s],matrix:t.colorMatrices[s].map((function(e){return Je(e,5)}))},e}),{}):null,markup:sr(t).map((function(e){return[e[0],p({},e[1])]})),colorMatrix:s("GET_COLOR_MATRIX")};if(e.data&&(n.data=c),e.file){var l={beforeCreateBlob:s("GET_BEFORE_CREATE_BLOB"),afterCreateBlob:s("GET_AFTER_CREATE_BLOB"),stripImageHead:s("GET_OUTPUT_STRIP_IMAGE_HEAD"),canvasMemoryLimit:s("GET_OUTPUT_CANVAS_MEMORY_LIMIT")},u=t.file.data,d=p({},c,{filter:c.colorMatrix,markup:c.markup});ji(u,d,l).then((function(e){n.file=Ui(e,Fi(u.name,Vi(e.type))),i(n)})).catch(r)}else i(n)}))},rr=function(e){e.crop.draft.rotateMinScale=null},nr=function(e){e.crop.draft.rotateMinScale||(e.crop.draft.rotateMinScale=e.crop.transforms.scale)},ar=function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];nr(e);var r=p({},e.crop.transforms,{scale:e.crop.draft.rotateMinScale});e.crop.draft.transforms=br(e.image,e.crop.rectangle,r,t.main+t.sub,s,e.crop.draft.transforms?e.crop.draft.transforms.rotation:e.crop.rotation.main+e.crop.rotation.sub,i),e.crop.rotation=Ps(e.crop.draft.transforms.rotation)},or=function(e,t,s){if(null!==e.stage){hr(e),e.size.width=!!e.instructions.size&&e.instructions.size.width,e.size.height=!!e.instructions.size&&e.instructions.size.height,e.size.aspectRatioLocked=!0,e.size.aspectRatioPrevious=!1,e.crop.rectangle=os(e.stage,e.instructions.crop.aspectRatio||e.image.aspectRatio),e.crop.draft.rectangle=null,e.crop.transforms=us(e.instructions.crop,e.stage,e.image),e.crop.draft.transforms=null,e.crop.rotation=Ps(e.instructions.crop.rotation),e.crop.flip=p({},e.instructions.crop.flip);var i=t("GET_CROP_ASPECT_RATIO_OPTIONS")||[],r=i.map((function(e){return e.value})).find((function(t){return t===e.instructions.crop.aspectRatio})),n=i.find((function(e){return null===e.value}));r?e.crop.aspectRatio=r:n&&i.length?e.crop.aspectRatio=null:e.crop.aspectRatio=t("GET_CROP_ASPECT_RATIO"),e.crop.isDirty=!1,e.instructions.markup&&s("MARKUP_SET_VALUE",{value:e.instructions.markup.map(Ki).sort(ci)}),Object.keys(e.instructions.color).forEach((function(t){return s("COLOR_SET_VALUE",{key:t,value:e.instructions.color[t]})})),s("FILTER_SET_VALUE",{value:e.instructions.filter}),rr(e)}},cr=function(e,t){if(e.stage){hr(e);var s=e.crop.rectangle,i=s.height/s.width,r=e.crop.aspectRatio;if(null!==r&&Je(i,3)!==r){var n=t("GET_MIN_CROP_SIZE");n.width=Je(n.width),n.height=Je(n.height);var a=Math.min(s.width,s.height);Math.min(a*r,a/r)<Math.max(n.width,n.height)&&(e.crop.rectangle=ws(p({},e.crop.rectangle),r,n),e.crop.draft.transforms=bs(e.image,e.crop.rectangle,e.crop.transforms))}var o=e.crop.draft.transforms||e.crop.transforms,c=Rt(e.image,e.crop.rectangle,o);e.crop.aspectRatio&&(c.aspectRatio=e.crop.aspectRatio),e.crop.transforms=us(c,e.stage,e.image),e.crop.draft.transforms=null;var l=e.crop.aspectRatio||e.crop.rectangle.height/e.crop.rectangle.width;e.crop.rectangle=os(e.stage,l),e.crop.draft.rectangle=null,rr(e)}},lr=function(e){e.crop.draft.rectangle=null,e.crop.transforms=e.crop.draft.transforms||e.crop.transforms,e.crop.transforms.interaction=null,e.crop.draft.transforms=null,e.crop.transforms=p({},e.crop.transforms,ps(e.image,e.crop.rectangle,e.crop.transforms)),e.crop.isRotating=!1,e.crop.isDirty=!0},ur=function(e,t,s){var i=t("GET_CROP_ZOOM_TIMEOUT");i&&(clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=setTimeout((function(){s("CROP_ZOOM")}),i))},dr=function(e,t,s){hr(e),ur(e,t,s)},hr=function(e){clearTimeout(e.zoomTimeoutId)},pr=function(e){e.crop.rectangle=e.crop.draft.rectangle.limited,e.crop.draft.rectangle=null,lr(e),rr(e)},mr=function(e){e.crop.draft.transforms=ds(e.crop.transforms),e.crop.draft.rectangle={limited:vt(e.crop.rectangle),free:vt(e.crop.rectangle)},hr(e)},fr=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},br=function(e,t,s,i,r,n,a){var o=hs(e,t,p({},ds(s),{rotation:i}),"rotating"),c=fr(t,r);return Je(o.scale,5)>Je(c,5)?(a&&(n+=2*a),p({},ds(s),{rotation:n,interaction:{rotation:o.rotation}})):(o.scale=Math.min(c,o.scale),o.interaction={rotation:o.rotation},o)},vr=function(e,t,s,i,r){var n=Math.max(1e-10,i),a=hs(e,t,p({},ds(s),{scale:n}),"resizing"),o=fr(t,r);return a.scale=Math.min(o,a.scale),a.interaction={scale:n},a},gr=function(e,t,s,i){var r={x:s.translation.x+i.x,y:s.translation.y+i.y},n=hs(e,t,p({},ds(s),{translation:r}),"moving");return n.interaction={translation:r},n},_r=function(e){return new Promise((function(t,s){if(be(e)){var i=null;fetch(e).then((function(e){if(e.headers&&(i=e.headers.get("Content-Type")),e.ok)return e.blob();s(e)})).then((function(e){!e.type.length&&i&&(e=e.slice(0,e.size,i)),t(e)}))}else if(e instanceof Blob)t(e);else{if("IMG"===e.nodeName){var r=function(e){var s=document.createElement("canvas");s.width=e.naturalWidth,s.height=e.naturalHeight,s.getContext("2d").drawImage(e,0,0),s.toBlob(t)};return e.complete?void r(e):void(e.onload=function(){return r(e)})}"CANVAS"!==e.nodeName?s(e):e.toBlob(t)}}))},yr=function(e){return!1===e.file},wr=function(e,t,s){return p({SET_UID:function(e){var t=e.id;s.uid=t},AWAIT_IMAGE:function(){s.file||(s.noImageTimeout=setTimeout((function(){e("AWAITING_IMAGE")}),250))},REQUEST_REMOVE_IMAGE:function(){e("UNLOAD_IMAGE"),s.file=!1,s.noImageTimeout=setTimeout((function(){e("AWAITING_IMAGE")}),500)},DID_UNLOAD_IMAGE:function(){e("ABORT_IMAGE")},REQUEST_ABORT_IMAGE:function(t){e("UNLOAD_IMAGE"),s.file=!1,s.queuedFile=t},DID_SET_SRC:function(t){t.value!==t.prevValue&&(clearTimeout(s.noImageTimeout),e("REQUEST_LOAD_IMAGE",{source:t.value}))},ABORT_IMAGE:function(){if(s.file=null,s.queuedFile){var t=s.queuedFile;s.queuedFile=null,e("REQUEST_LOAD_IMAGE",t)}},REQUEST_LOAD_IMAGE:function(t){var i=t.source,r=t.success,n=void 0===r?function(){}:r,a=t.failure,o=void 0===a?function(e){}:a,c=t.options,l=t.resolveOnConfirm,u=void 0!==l&&l;if(clearTimeout(s.noImageTimeout),!i)return o();null===s.file?($e(s),s.file={uid:Ne()},e("DID_REQUEST_LOAD_IMAGE",{source:i}),_r(i).then((function(t){if(yr(s))return e("ABORT_IMAGE");t.name||(t.name=Mi()),s.file.orientation=-1,s.file.data=t,e("LOAD_IMAGE",{success:n,failure:o,options:c,resolveOnConfirm:u},!0),e("KICK")})).catch((function(t){if(yr(s))return e("ABORT_IMAGE");e("DID_LOAD_IMAGE_ERROR",{error:{status:"IMAGE_LOAD_ERROR",data:t}}),o(t)}))):e("REQUEST_ABORT_IMAGE",{source:i,success:n,failure:o,options:c,resolveOnConfirm:u})},LOAD_IMAGE:function(i){var r=i.success,n=i.failure,a=i.options,o=void 0===a?{}:a,c=i.resolveOnConfirm;if(yr(s))return e("ABORT_IMAGE");var l=s.file.data;Promise.all([xs(l),ns(l)]).then((function(i){if(yr(s))return e("ABORT_IMAGE");var a=i[0],l=i[1];s.file.orientation=l;var u=a.width,d=a.height;l>=5&&l<=8?(a.width=d,a.height=u):(a.width=u,a.height=d);var h=t("GET_MIN_IMAGE_SIZE");if(a.width<h.width||a.height<h.height)return e("DID_LOAD_IMAGE_ERROR",{error:{status:"IMAGE_MIN_SIZE_VALIDATION_ERROR",data:{size:a,minImageSize:h}}}),$e(s),void n();var m=ks(a,{width:t("GET_MAX_IMAGE_PREVIEW_WIDTH"),height:t("GET_MAX_IMAGE_PREVIEW_HEIGHT")});if(s.image={x:0,y:0,width:m.width,height:m.height,naturalWidth:a.width,naturalHeight:a.height,aspectRatio:a.height/a.width},t("ALLOW_MANUAL_RESIZE")&&o.size&&(s.size.width=o.size.width,s.size.height=o.size.height,s.size.aspectRatioLocked=!0,s.size.aspectRatioPrevious=!1,s.instructions.size={width:o.size.width,height:o.size.height}),s.instructions.crop=Ii(t,s,o.crop?p({},o.crop):null,s.size),void 0===o.filter)s.instructions.filter=s.options.filter;else{var f=o.filter;s.instructions.filter=null===f?f:f.id||f.matrix||f}var b=s.options.markup||[];s.instructions.markup=b.concat(o.markup||[]),s.instructions.color=Object.keys(Qi).reduce((function(e,t){return e[t]=o.color&&void 0!==o.color[t]?"number"==typeof o.color[t]?o.color[t]:o.color[t].value:s.options["color".concat(Li(t))],e}),{}),e("DID_LOAD_IMAGE",{image:p({size:s.file.data.size,name:s.file.data.name,type:s.file.data.type,orientation:l},a)}),s.filePromise={resolveOnConfirm:c,success:r,failure:n}})).catch((function(t){if(yr(s))return e("ABORT_IMAGE");e("DID_LOAD_IMAGE_ERROR",{error:{status:"IMAGE_UNKNOWN_ERROR",data:t}}),$e(s),n()}))},CHANGE_VIEW:function(t){var i=t.id;s.activeView=i,e("SHOW_VIEW",{id:i})},UPDATE_ROOT_RECT:function(e){var t=e.rect;s.rootRect=t},DID_RESIZE_STAGE:function(i){var r=i.size,n=i.offset,a=i.animate,o=null===s.stage;if(s.stage=Ot(0,0,r.width,r.height),s.stageOffset=ct(n.x,n.y),!t("GET_ALLOW_PREVIEW_FIT_TO_VIEW")){var c=Math.min(r.width,s.image.naturalWidth),l=Math.min(r.height,s.image.naturalHeight);s.stage=Ot(0,0,c,l),s.stageOffset=ct(n.x+.5*r.width-.5*c,n.y+.5*r.height-.5*l)}if(o){if(or(s,t,e),!s.filePromise.resolveOnConfirm){var u=Ut(s.image,s.crop),d=er(t);s.filePromise.success({crop:u,image:{orientation:s.file.orientation},size:d,output:{type:t("GET_OUTPUT_TYPE"),quality:t("GET_OUTPUT_QUALITY")}})}}else s.instantUpdate=!a,cr(s,t),setTimeout((function(){s.instantUpdate=!1}),16)},RESIZE_SET_OUTPUT_SIZE_ASPECT_RATIO_LOCK:function(e){var t=e.value;s.size.aspectRatioLocked=t},RESIZE_SET_OUTPUT_SIZE:function(i){var r=i.width,n=i.height,a=Bt({width:r=r||null,height:n=n||null},t("GET_SIZE_MIN"),t("GET_SIZE_MAX"),t("GET_CROP_RECTANGLE_ASPECT_RATIO"));if(s.size.width=a.width?Math.round(a.width):null,s.size.height=a.height?Math.round(a.height):null,r&&n){var o=n/r;if(o===s.crop.aspectRatio)return;!1===s.size.aspectRatioPrevious&&(s.size.aspectRatioPrevious=s.crop.aspectRatio),e("CROP_SET_ASPECT_RATIO",{value:o})}else!1!==s.size.aspectRatioPrevious&&(e("CROP_SET_ASPECT_RATIO",{value:s.size.aspectRatioPrevious}),s.size.aspectRatioPrevious=!1)},CROP_SET_ASPECT_RATIO:function(e){var i=e.value;if(hr(s),s.crop.aspectRatio=i,s.crop.aspectRatio&&cr(s,t),s.crop.isDirty=!0,s.size.width&&s.size.height)if(s.crop.aspectRatio){var r=s.size.width*s.crop.aspectRatio,n=Qe(r,t("GET_SIZE_MIN").height,t("GET_SIZE_MAX").height);s.size.height=n,s.size.width=n/s.crop.aspectRatio}else s.size.height=null},DID_SET_CROP_ASPECT_RATIO:function(t){var s=t.value,i=t.prevValue;Ct(s)!==Ct(i)&&e("CROP_SET_ASPECT_RATIO",{value:s})},CROP_ZOOM:function(){s.stage&&(hr(s),cr(s,t))},CROP_RECT_CORNER_DRAG_RELEASE:function(){return pr(s)||ur(s,t,e)},CROP_RECT_EDGE_DRAG_RELEASE:function(){return pr(s)||ur(s,t,e)},CROP_IMAGE_RESIZE_GRAB:function(){return mr(s)||hr(s)},CROP_IMAGE_ROTATE_GRAB:function(){mr(s),hr(s),s.crop.isRotating=!0},CROP_RECT_EDGE_DRAG_GRAB:function(){return mr(s)||hr(s)},CROP_RECT_CORNER_DRAG_GRAB:function(){return mr(s)||hr(s)},CROP_RECT_EDGE_DRAG:function(e){var i=e.offset,r=e.origin,n=e.anchor,a=s.image,o=s.stage,c=/n|s/.test(r)?as.VERTICAL:as.HORIZONTAL,l=fs(r,s.crop.rectangle),u=fs(n,s.crop.rectangle),d=at({x:l.x+(c===as.HORIZONTAL?i.x:0),y:l.y+(c===as.VERTICAL?i.y:0)},o),h=t("GET_MIN_CROP_SIZE"),p=t("GET_MAX_CROP_SIZE");h.width=Je(h.width),h.height=Je(h.height);var m=fr(s.crop.rectangle,t("GET_MIN_PREVIEW_IMAGE_SIZE"))/(s.crop.draft.transforms.scale||s.crop.transforms.scale);p.width=Je(p.width*m),p.height=Je(p.height*m);var f={x:Math.sign(l.x-u.x),y:Math.sign(l.y-u.y)};s.crop.draft.rectangle=vs(f,d,c,u,gt(s.crop.rectangle),gt(o),s.crop.aspectRatio,h,p),s.crop.draft.transforms=bs(a,s.crop.draft.rectangle.limited,s.crop.transforms)},CROP_RECT_CORNER_DRAG:function(e){var i=e.offset,r=e.origin,n=e.anchor,a=s.image,o=s.stage,c=_s(r,s.crop.rectangle),l=_s(n,s.crop.rectangle),u={x:c.x+i.x,y:c.y+i.y},d=t("GET_MIN_CROP_SIZE"),h=t("GET_MAX_CROP_SIZE");d.width=Je(d.width),d.height=Je(d.height);var p=fr(s.crop.rectangle,t("GET_MIN_PREVIEW_IMAGE_SIZE"))/(s.crop.draft.transforms.scale||s.crop.transforms.scale);h.width=Je(h.width*p),h.height=Je(h.height*p);var m={x:Math.sign(c.x-l.x),y:Math.sign(c.y-l.y)};s.crop.draft.rectangle=ys(m,u,l,o,s.crop.aspectRatio,d,h),s.crop.draft.transforms=bs(a,s.crop.draft.rectangle.limited,s.crop.transforms)},CROP_IMAGE_DRAG_GRAB:function(){return mr(s)||hr(s)},CROP_IMAGE_DRAG_RELEASE:function(){lr(s),rr(s),ur(s,t,e)},CROP_IMAGE_RESIZE_RELEASE:function(){lr(s),rr(s),ur(s,t,e)},CROP_IMAGE_ROTATE_RELEASE:function(){lr(s),ur(s,t,e)},CROP_IMAGE_DRAG:function(e){var t=e.value;hr(s),s.crop.draft.transforms=gr(s.image,s.crop.rectangle,s.crop.transforms,t)},CROP_IMAGE_RESIZE:function(e){var i=e.value;hr(s);var r=s.crop.transforms;s.crop.draft.transforms=vr(s.image,s.crop.rectangle,r,r.scale+r.scale*i,t("GET_MIN_PREVIEW_IMAGE_SIZE"))},CROP_IMAGE_RESIZE_MULTIPLY:function(e){var i=e.value;hr(s);var r=s.crop.transforms;s.crop.draft.transforms=vr(s.image,s.crop.rectangle,r,r.scale*i,t("GET_MIN_PREVIEW_IMAGE_SIZE"))},CROP_IMAGE_RESIZE_AMOUNT:function(e){var i=e.value;hr(s);var r=s.crop.transforms;s.crop.draft.transforms=vr(s.image,s.crop.rectangle,r,(s.crop.draft.transforms?s.crop.draft.transforms.scale:r.scale)+i,t("GET_MIN_PREVIEW_IMAGE_SIZE"))},CROP_IMAGE_ROTATE:function(e){var i=e.value;hr(s),s.crop.isRotating=!0,ar(s,{main:s.crop.rotation.main,sub:i},t("GET_MIN_PREVIEW_IMAGE_SIZE"))},CROP_IMAGE_ROTATE_ADJUST:function(e){var i=e.value;hr(s),ar(s,{main:s.crop.rotation.main,sub:Math.min(Math.PI/4,Math.max(-Math.PI/4,s.crop.rotation.sub+i))},t("GET_MIN_PREVIEW_IMAGE_SIZE")),lr(s)},CROP_IMAGE_ROTATE_CENTER:function(){hr(s),ar(s,{main:s.crop.rotation.main,sub:0},t("GET_MIN_PREVIEW_IMAGE_SIZE")),lr(s)},CROP_IMAGE_ROTATE_LEFT:function(){dr(s,t,e),ar(s,{main:s.crop.rotation.main-Ji,sub:s.crop.rotation.sub},t("GET_MIN_PREVIEW_IMAGE_SIZE"),-Ji),lr(s)},CROP_IMAGE_ROTATE_RIGHT:function(){dr(s,t,e),ar(s,{main:s.crop.rotation.main+Ji,sub:s.crop.rotation.sub},t("GET_MIN_PREVIEW_IMAGE_SIZE"),Ji),lr(s)},CROP_IMAGE_FLIP_HORIZONTAL:function(){dr(s,t,e),0===Je(s.crop.rotation.main%Math.PI/2,5)?s.crop.flip.horizontal=!s.crop.flip.horizontal:s.crop.flip.vertical=!s.crop.flip.vertical,s.crop.isDirty=!0},CROP_IMAGE_FLIP_VERTICAL:function(){dr(s,t,e),0===Je(s.crop.rotation.main%Math.PI/2,5)?s.crop.flip.vertical=!s.crop.flip.vertical:s.crop.flip.horizontal=!s.crop.flip.horizontal,s.crop.isDirty=!0},DID_RECEIVE_IMAGE_DATA:function(e){var t=e.previewData,i=e.thumbData;s.file.preview=t,s.file.thumb=i},MARKUP_SET_VALUE:function(e){var t=e.value;s.markup=t},MARKUP_ADD:function(t){s.markup.forEach((function(e){return e[1].isSelected=!1})),s.markup=s.markup.filter((function(e){return!e[1].isDestroyed}));var i=Ki(t);s.markup.push(i),s.markup.sort(ci),e("MARKUP_SELECT",{id:i[1].id}),s.crop.isDirty=!0},MARKUP_SELECT:function(e){var t=e.id;s.markup.forEach((function(e){e[1].isSelected=e[1].id===t,e[1].isDirty=!0}))},MARKUP_ELEMENT_DRAG:function(e){var t=e.id,i=e.origin,r=e.offset,n=e.size,a=s.markup.find((function(e){return e[1].id===t}));if(a){var o=a[1],c=i.x/n.width,l=i.y/n.height,u=i.width/n.width,d=i.height/n.height,h=r.x/n.width,p=r.y/n.height;o.x=c+h,o.y=l+p,o.width=u,o.height=d,o.left=void 0,o.top=void 0,o.right=void 0,o.bottom=void 0,o.isDirty=!0,s.crop.isDirty=!0}},MARKUP_ELEMENT_RESIZE:function(e){var t=e.id,i=e.corner,r=e.origin,n=e.offset,a=e.size,o=s.markup.find((function(e){return e[1].id===t}));if(o){var c=m(o,2),l=c[0],u=c[1],d=(r.x+n.x)/a.width,h=(r.y+n.y)/a.height;if(/n/.test(i))if("line"===l)u.height=u.height-(h-u.y),u.y=h;else{var p=u.y+u.height;h>p&&(h=p),u.height=u.height-(h-u.y),u.y=h}if(/w/.test(i))if("line"===l)u.width=u.width-(d-u.x),u.x=d;else{var f=u.x+u.width;d>f&&(d=f),u.width=u.width-(d-u.x),u.x=d}/s/.test(i)&&(u.height="line"===l?h-u.y:Math.max(0,h-u.y)),/e/.test(i)&&(u.width="line"===l?d-u.x:Math.max(0,d-u.x)),u.left=void 0,u.top=void 0,u.right=void 0,u.bottom=void 0,u.isDirty=!0,s.crop.isDirty=!0}},MARKUP_DELETE:function(t){var i=t.id,r=s.markup.find((function(e){return e[1].id===i}));if(r){var n=r[1];n.allowDestroy&&(n.isDestroyed=!0,n.isSelected=!1,n.isDirty=!0);for(var a=null,o=s.markup.length;o>0;){o--;var c=s.markup[o][1];if(!c.isDestroyed&&c.allowDestroy){a=c.id;break}}e("MARKUP_SELECT",{id:a})}},MARKUP_UPDATE:function(e){var t=e.id,i=e.props,r=s.markup.find((function(e){return e[1].id===t}));if(r){var n=r[1];Object.keys(i).forEach((function(e){n[e]=i[e]})),n.isDirty=!0,s.crop.isDirty=!0}},COLOR_SET_COLOR_VALUE:function(t){var i=t.key,r=t.value;s.crop.isDirty=!0,e("COLOR_SET_VALUE",{key:i,value:r})},COLOR_SET_VALUE:function(t){var i=t.key,r=t.value;s.colorValues[i]=r,e("SET_COLOR_MATRIX",{key:i,matrix:Qi[i](r)})}},Object.keys(Qi).reduce((function(i,r){var n=r.toUpperCase(),a=Li(r);return i["SET_COLOR_".concat(n)]=function(i){var o=i.value;if(o!==i.prevValue){var c=m(t("GET_COLOR_".concat(n,"_RANGE")),2),l=c[0],u=c[1],d=Qe(o,l,u);s.options["color".concat(a)]=d,s.instructions.color||(s.instructions.color={}),s.instructions.color[r]=d,e("COLOR_SET_VALUE",{key:r,value:d})}},i}),{}),{SET_COLOR_MATRIX:function(t){var i=t.key,r=t.matrix;r?s.colorMatrices[i]=f(r):delete s.colorMatrices[i],e("DID_SET_COLOR_MATRIX",{key:i,matrix:r})},FILTER_SET_FILTER:function(t){var i=t.value;s.crop.isDirty=!0,e("FILTER_SET_VALUE",{value:i})},FILTER_SET_VALUE:function(i){var r=i.value,n=Hi(r)?r:null;if(be(r)){var a=t("GET_FILTERS");E(a,(function(e,t){e===r&&(n=t.matrix())}))}s.filter=r,s.filterName=be(r)?r:null,e("SET_COLOR_MATRIX",{key:"filter",matrix:n})},DID_SET_FILTER:function(t){var s=t.value;s!==t.prevValue&&(e("FILTER_SET_VALUE",{value:s}),e("SET_DATA",{filter:s}))},DID_SET_SIZE:function(t){var s=t.value;s!==t.prevValue&&e("SET_DATA",{size:s})},DID_SET_CROP:function(t){var s=t.value;s!==t.prevValue&&e("SET_DATA",{crop:s})},DID_SET_MARKUP:function(t){var s=t.value,i=t.prevValue;s!==i&&JSON.stringify(s)===JSON.stringify(i)||e("SET_DATA",{markup:s})},SET_DATA:function(i){if(i.size&&t("ALLOW_MANUAL_RESIZE")){var r=p({width:null,height:null},i.size),n=Bt(r,t("GET_SIZE_MIN"),t("GET_SIZE_MAX"),null);s.instructions.size=p({},n),e("RESIZE_SET_OUTPUT_SIZE",n)}i.filter&&(s.instructions.filter=i.filter),s.instructions.markup=i.markup||[],s.instructions.color=Object.keys(Qi).reduce((function(e,t){return e[t]=void 0===i.color||void 0===i.color[t]?s.options["color".concat(Li(t))]:i.color[t],e}),{}),i.crop&&(s.instructions.crop=Ii(t,s,i.crop,s.size),e("EDIT_RESET"))},DID_SET_INITIAL_STATE:function(e){var i=e.value||{},r=i.crop,n=i.filter,a=i.color,o=i.size,c=void 0===o?{}:o,l=i.markup,u=void 0===l?[]:l,d=p({width:null,height:null},c),h=Bt(d,t("GET_SIZE_MIN"),t("GET_SIZE_MAX"),null);s.instructions.size=p({},h),s.instructions.crop=Ii(t,s,r),s.instructions.filter=n||null,s.instructions.color=Object.keys(Qi).reduce((function(e,t){return e[t]=void 0===a||void 0===a[t]?s.options["color".concat(Li(t))]:a[t],e}),{}),s.instructions.markup=u,s.crop.isDirty=!0},GET_DATA:function(i){var r=i.success,n=i.failure,a=i.file,o=i.data;if(s.file&&s.stage){var c={file:me(a)?a:t("GET_OUTPUT_FILE"),data:me(o)?o:t("GET_OUTPUT_DATA"),success:r,failure:n};e(c.file?"REQUEST_PREPARE_OUTPUT":"PREPARE_OUTPUT",c)}},REQUEST_PREPARE_OUTPUT:function(t){var s=t.file,i=t.data,r=t.success,n=t.failure;e("PREPARE_OUTPUT",{file:s,data:i,success:r,failure:n},!0),e("DID_REQUEST_PREPARE_OUTPUT")},PREPARE_OUTPUT:function(i){var r=i.file,n=i.data,a=i.success,o=void 0===a?function(){}:a,c=i.failure,l=void 0===c?function(){}:c;if(yr(s))return e("ABORT_IMAGE");ir({file:r,data:n},s,t).then((function(t){if(e("DID_PREPARE_OUTPUT"),yr(s))return e("ABORT_IMAGE");o(t)})).catch((function(t){if(yr(s))return e("ABORT_IMAGE");l(t)}))},EDIT_RESET:function(){hr(s),or(s,t,e)},EDIT_CONFIRM:function(){if(s.file&&s.stage){hr(s),e("CROP_ZOOM");var i={file:t("GET_OUTPUT_FILE"),data:t("GET_OUTPUT_DATA"),success:function(t){s.filePromise.resolveOnConfirm&&s.filePromise.success(t),e("DID_CONFIRM",{output:t})},failure:console.error};e(i.file?"REQUEST_PREPARE_OUTPUT":"PREPARE_OUTPUT",i)}},EDIT_CANCEL:function(){s.filePromise&&s.filePromise.success(null),e("DID_CANCEL")},EDIT_CLOSE:function(){hr(s)},EDIT_DESTROY:function(){$e(s)},SET_OPTIONS:function(t){var s=t.options;E(s,(function(t,s){e("SET_".concat(Ie(t,"_").toUpperCase()),{value:s})}))}})},Or=function(e,t){return ae({ignoreRect:!0,name:e,mixins:t,create:function(e){var t=e.root,s=e.props;s.className&&t.element.classList.add(s.className),s.controls.map((function(e){var s=t.createChildView(e.view,e);e.didCreateView&&e.didCreateView(s),t.appendChildView(s)}))}})},Cr=ae({ignoreRect:!0,ignoreRectUpdate:!0,name:"button",mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:250}},apis:["id"],listeners:!0},tag:"button",create:function(e){var t=e.root,s=e.props;t.element.innerHTML="".concat(s.icon||"","<span>").concat(s.label,"</span>"),t.element.setAttribute("type",s.type||"button"),s.name&&s.name.split(" ").forEach((function(e){t.element.className+=" doka--button-".concat(e)})),t.ref.handleClick=function(){"string"==typeof s.action?t.dispatch(s.action):s.action()},t.element.addEventListener("click",t.ref.handleClick),s.create&&s.create({root:t,props:s})},destroy:function(e){var t=e.root;t.element.removeEventListener("click",t.ref.handleClick)}}),Pr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;return'<svg width="'.concat(t,'" height="').concat(t,'" viewBox="0 0 ').concat(t," ").concat(t,'" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">').concat(e,"</svg>")},xr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ae({ignoreRect:!0,tag:e,create:function(e){e.root.element.textContent=t}})},kr=function(e){e.element.dataset.viewStatus="idle",Sr(e)},Sr=function(e){e.ref.busyIndicators.forEach((function(e){e.translateY=-10,e.opacity=0,e.markedForRemoval=!0}))},Er=function(e,t,s){e.element.dataset.viewStatus="busy";var i=Tr(e,t,s);Sr(e),e.ref.busyIndicators.push(i),i.markedForRemoval=!1,i.translateY=0,i.opacity=1},Tr=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.appendChildView(e.createChildView(Or("status-bubble",{styles:["opacity","translateY"],apis:["markedForRemoval"],animations:{opacity:{type:"tween",duration:500},translateY:{type:"spring",mass:20}}}),{translateY:20,opacity:0,controls:[{view:Or("status-bubble-inner"),controls:s?[{view:Cr,label:"Close",name:"icon-only status-bubble-close",icon:Pr('<g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"/></g>'),action:s},{view:xr("p",t)}]:[{view:xr("p",t)}]}]}))},Ar=ae({name:"edit-status",ignoreRect:!0,create:function(e){var t=e.root;t.ref.busyIndicators=[],t.element.setAttribute("tabindex",-1)},write:ce({MISSING_WEBGL:function(e){var t=e.root,s=/fullscreen/.test(t.query("GET_STYLE_LAYOUT_MODE"));Er(t,t.query("GET_LABEL_STATUS_MISSING_WEB_G_L"),s?function(){t.dispatch("EDIT_CANCEL")}:null)},AWAITING_IMAGE:function(e){var t=e.root;Er(t,t.query("GET_LABEL_STATUS_AWAITING_IMAGE"))},DID_PRESENT_IMAGE:function(e){var t=e.root;kr(t)},DID_LOAD_IMAGE_ERROR:function(e){var t=e.root,s=/fullscreen/.test(t.query("GET_STYLE_LAYOUT_MODE"));Er(t,t.query("GET_LABEL_STATUS_LOAD_IMAGE_ERROR"),s?function(){t.dispatch("EDIT_CANCEL")}:null)},DID_REQUEST_LOAD_IMAGE:function(e){var t=e.root;Er(t,t.query("GET_LABEL_STATUS_LOADING_IMAGE"))},DID_REQUEST_PREPARE_OUTPUT:function(e){var t=e.root;Er(t,t.query("GET_LABEL_STATUS_PROCESSING_IMAGE"))},DID_PREPARE_OUTPUT:function(e){var t=e.root;kr(t)}}),didWriteView:function(e){var t=e.root;t.ref.busyIndicators=t.ref.busyIndicators.filter((function(e){return!e.markedForRemoval||0!==e.opacity||(t.removeChildView(e),!1)}))}}),jr={type:"spring",stiffness:.4,damping:.65,mass:7},$r=ze()&&1===window.devicePixelRatio?function(e){return Math.round(e)}:function(e){return e},Mr={down:"pointerdown",move:"pointermove",up:"pointerup"},Ir=function(){var e=[],t=function(t){return e.findIndex((function(e){return e.pointerId===t.pointerId}))};return{update:function(s){var i=t(s);i<0||(e[i]=s)},multiple:function(){return e.length>1},count:function(){return e.length},active:function(){return e.concat()},push:function(s){(function(e){return t(e)>=0})(s)||e.push(s)},pop:function(s){var i=t(s);i<0||e.splice(i,1)}}},Lr=function(e,t,s,i){return e.addEventListener(Mr[t],s,i)},Dr=function(e,t,s){return e.removeEventListener(Mr[t],s)},Rr=function(e,t){"contains"in e&&e.contains(t);var s=t;do{if(s===e)return!0}while(s=s.parentNode);return!1},Ur=function(e,t,s,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{stopPropagation:!0,cancelOnMultiple:!1},n={x:0,y:0},a={enabled:!0,origin:null,cancel:!1,cancelled:!1,pointers:Ir()},o=null,c=function(e,t){t&&(o||l(e,t),cancelAnimationFrame(o),o=requestAnimationFrame((function(){l(e,t),o=null})))},l=function(e,t){return t.apply(null,[e,function(e){return{x:e.pageX-n.x,y:e.pageY-n.y}}(e)])},u=function(s){var i=0===a.pointers.count();i&&(a.active=!1,a.cancel=!1,a.cancelled=!1),a.pointers.push(s),Lr(document.documentElement,"up",h),i?(e===s.target||Rr(e,s.target))&&s.isPrimary&&(s.preventDefault(),r.stopPropagation&&(s.stopPropagation(),s.stopImmediatePropagation()),a.active=!0,n.x=s.pageX,n.y=s.pageY,Lr(document.documentElement,"move",d),t(s)):r.cancelOnMultiple&&(a.cancel=!0)},d=function(e){e.isPrimary&&(a.cancelled||(e.preventDefault(),r.stopPropagation&&e.stopPropagation(),c(e,s),a.cancel&&(a.cancelled=!0,c(e,i))))},h=function e(t){a.pointers.pop(t),0===a.pointers.count()&&(Dr(document.documentElement,"move",d),Dr(document.documentElement,"up",e)),a.active&&(a.cancelled||(t.preventDefault(),r.stopPropagation&&t.stopPropagation(),c(t,s),c(t,i)))};return Lr(document.documentElement,"down",u),{enable:function(){a.enabled||Lr(document.documentElement,"down",u),a.enabled=!0},disable:function(){a.enabled&&Dr(document.documentElement,"down",u),a.enabled=!1},destroy:function(){Dr(document.documentElement,"up",h),Dr(document.documentElement,"move",d),Dr(document.documentElement,"down",u)}}},Nr=10,Br=function(e,t){return Object.keys(t).forEach((function(s){e.setAttribute(s,t[s])}))},Fr="http://www.w3.org/2000/svg",Vr=function(e,t){var s=document.createElementNS(Fr,e);return t&&Br(s,t),s},Hr=["nw","se"],zr=["nw","n","ne","w","e","sw","s","se"],qr={nw:"nwse",n:"ns",ne:"nesw",w:"ew",e:"ew",sw:"nesw",s:"ns",se:"nwse"},Gr={nw:function(e){return{x:e.x,y:e.y}},n:function(e){return{x:e.x+.5*e.width,y:e.y}},ne:function(e){return{x:e.x+e.width,y:e.y}},w:function(e){return{x:e.x,y:e.y+.5*e.height}},e:function(e){return{x:e.x+e.width,y:e.y+.5*e.height}},sw:function(e){return{x:e.x,y:e.y+e.height}},s:function(e){return{x:e.x+.5*e.width,y:e.y+e.height}},se:function(e){return{x:e.x+e.width,y:e.y+e.height}}},Zr=ae({tag:"div",name:"image-markup",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:"spring",markupX:jr,markupY:jr,markupWidth:jr,markupHeight:jr},listeners:!0,apis:["toolsReference","onSelect","onDrag","markupX","markupY","markupWidth","markupHeight","allowInteraction"]},create:function(e){var t=e.root,s=e.props,i=s.onSelect,r=void 0===i?function(){}:i,n=s.onUpdate,a=void 0===n?function(){}:n,o=Vr("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"});t.ref.canvas=o;var c=t.query("GET_ROOT_SIZE");o.setAttribute("width",c.width),o.setAttribute("height",c.height);var l=document.createElement("input");Br(l,{type:"text",autocomplete:"off",autocapitalize:"off"}),l.addEventListener("keydown",(function(e){e.stopPropagation(),13===e.keyCode||9===e.keyCode?(e.target.blur(),d()):8!==e.keyCode||t.ref.input.value.length||t.dispatch("MARKUP_DELETE",{id:t.ref.selected.id})})),t.appendChild(l),t.ref.input=l,t.ref.elements=[],t.ref.viewSize={},t.ref.resetSelected=function(){return t.ref.selected={id:null,type:null,settings:{}},t.ref.selected},t.ref.resetSelected();var u=function(e){return e.id?e:e.parentNode},d=function(){t.ref.resetSelected(),r(null)};t.ref.handleDeselect=function(e){var i;t.query("IS_ACTIVE_VIEW","markup")&&t.ref.selected.id&&e.target!==t.ref.removeButton.element&&(i=e.target,t.ref.selected.id!==u(i).id&&(function(e){return Rr(t.ref.manipulatorGroup,e)||e===t.ref.input}(e.target)||s.isMarkupUtil(e.target)||d()))},Lr(document.body,"down",t.ref.handleDeselect),t.ref.handleTextInput=function(){return a(t.ref.selected.id,{text:t.ref.input.value})},t.ref.input.addEventListener("input",t.ref.handleTextInput),t.ref.handleAttemptDelete=function(e){t.query("IS_ACTIVE_VIEW","markup")&&(!t.ref.selected.id||8!==e.keyCode&&46!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.dispatch("MARKUP_DELETE",{id:t.ref.selected.id})))},document.body.addEventListener("keydown",t.ref.handleAttemptDelete);var h=Vr("g"),p=Vr("g");h.appendChild(p),t.ref.shapeGroup=p;var m=Vr("g",{fill:"none",class:"doka--manipulator-group"}),f=Vr("rect",{x:0,y:0,width:0,height:0,fill:"none"}),b=Vr("line",{x1:0,y1:0,x2:0,y2:0});m.appendChild(b),m.appendChild(f),t.ref.manipulatorLine=b,t.ref.manipulatorRect=f,t.ref.manipulators=[];for(var v=0;v<10;v++){var g=Vr("circle",{r:6,"stroke-width":2,style:"display:none"});m.appendChild(g),t.ref.manipulators.push(g)}h.appendChild(m),t.ref.manipulatorGroup=m,o.appendChild(h),t.element.appendChild(o),t.ref.shapeOffsetGroup=h,t.ref.removeButton=t.appendChildView(t.createChildView(Cr,{label:t.query("GET_LABEL_MARKUP_REMOVE_SHAPE"),name:"destroy-shape",action:function(){t.dispatch("MARKUP_DELETE",{id:t.ref.selected.id})}})),t.query("IS_ACTIVE_VIEW","markup")&&(t.element.dataset.active=!0)},destroy:function(e){var t=e.root;t.ref.elements.concat(t.ref.manipulators).forEach((function(e){e.dragger&&e.dragger.destroy()})),t.ref.input.removeEventListener("input",t.ref.handleTextInput),document.body.removeEventListener("keydown",t.ref.handleAttemptDelete),Dr(document.body,"down",t.ref.handleDeselect)},read:function(e){var t=e.root;if(!t.rect.element.hidden)for(var s in t.ref.elements){var i=t.ref.elements[s];if(i&&"text"===i.nodeName&&i.parentNode){var r=i.getBBox();i.bbox={x:r.x,y:r.y,width:r.width,height:r.height}}}},write:ce({SHOW_VIEW:function(e){var t=e.root;"markup"===e.action.id?t.element.dataset.active=!0:t.element.dataset.active=!1},MARKUP_SET_VALUE:function(e){e.root.ref.shapeGroup.innerHTML=""},UPDATE_ROOT_RECT:function(e){var t=e.root,s=e.action,i=t.ref.canvas;i.setAttribute("width",s.rect.width),i.setAttribute("height",s.rect.height),t.ref.previousScale=null}},(function(e){var t=e.root,s=e.props,i=e.timestamp;if(!(t.opacity<=0)){var r=t.query("GET_CROP",s.id,i);if(r){var n=r.markup,a=r.cropStatus,o=s.onSelect,c=s.onDrag,l=t.ref,u=l.viewSize,d=l.shapeOffsetGroup,h=l.manipulators,f=l.manipulatorLine,b=l.manipulatorRect,v=l.removeButton,g=t.query("GET_OUTPUT_WIDTH"),_=t.query("GET_OUTPUT_HEIGHT"),y=a.image,w=a.crop,O=w.width,C=w.height,P=w.widthFloat/w.heightFloat;if(g||_){var x=t.query("GET_OUTPUT_FIT");g&&!_&&(_=g),_&&!g&&(g=_);var k,S=g/O,E=_/C;"force"===x?(O=g,C=_):("cover"===x?k=Math.max(S,E):"contain"===x&&(k=Math.min(S,E)),O*=k,C*=k)}else y.width&&y.height?(O=y.width,C=y.height):y.width&&!y.height?(O=y.width,C=y.width/P):y.height&&!y.width&&(C=y.height,O=y.height*P);var T=Je(t.markupX,3),A=Je(t.markupY,3),j=Je(t.markupWidth,3),$=Je(t.markupHeight,3),M=Je(Math.min(t.markupWidth/O,t.markupHeight/C),4);if(u.width=j,u.height=$,Yr(t,{markupX:T,markupY:A,scale:M,markup:n,currentWidth:O,currentHeight:C})&&(d.setAttribute("transform","translate(".concat(T," ").concat(A,")")),t.ref.previousX=T,t.ref.previousY=A,t.ref.previousScale=M,t.ref.previousCurrentHeight=C,t.ref.previousCurrentWidth=O,t.ref.previousMarkupLength=n.length,!(u.width<1||u.height<1))){var I,L=n.find((function(e){return e[1].isSelected})),D=L&&t.ref.selected.id!==L[1].id||t.ref.selected.id&&!L;I=L?t.ref.selected={id:L[1].id,type:L[0],settings:L[1]}:t.ref.resetSelected(),t.ref.input.hidden="text"!==t.ref.selected.type,v.element.dataset.active=null!==t.ref.selected.id,f.setAttribute("style","opacity:0"),b.setAttribute("style","opacity:0"),h.forEach((function(e){return e.setAttribute("style","opacity:0;pointer-events:none;")}));var R=t.query("GET_MARKUP_FILTER");n.filter(R).sort(ci).forEach((function(e,i){var r=m(e,2),n=r[0],a=r[1],l=a.id,d=a.isDestroyed,g=a.isDirty,_=a.isSelected,y=a.allowSelect,w=a.allowMove,O=a.allowResize,C=a.allowInput;if(d){var P=t.ref.elements[l];P&&(P.dragger&&P.dragger.destroy(),t.ref.elements[l]=null,P.parentNode.removeChild(P))}else{var x,k,S,E=t.ref.elements[l];if(E||(E=ai(n,a),t.ref.elements[l]=E,y?(E.dragger=Ur(E,(function(){k=Date.now(),x=p({},E.rect),(S=l===t.ref.selected.id)||o(l)}),(function(e,t){w&&c(l,x,t,u,M)}),(function(e,s){if(C&&"text"===n&&S){var i=rt({x:0,y:0},s),r=Date.now()-k;if(!(i>10||r>750)){t.ref.input.focus();var a=t.markupX+E.bbox.x,o=E.bbox.width,c=(e.offsetX-a)/o,l=Math.round(t.ref.input.value.length*c);t.ref.input.setSelectionRange(l,l)}}})),E.dragger.disable()):E.setAttribute("style","pointer-events:none;")),E.dragger&&(s.allowInteraction?E.dragger.enable():E.dragger.disable()),i!==E.index){E.index=i;var T=t.ref.shapeGroup;T.insertBefore(E,T.childNodes[i+1])}if(g&&oi(E,n,a,u,M),_){var A=v.rect.element.width,j=v.rect.element.height,$=t.markupX-.5*A,I=t.markupY-j-15,L="text"===n?E.bbox:E.rect;"line"===n?($+=L.x,I+=L.y,Br(f,{x1:L.x,y1:L.y,x2:L.x+L.width,y2:L.y+L.height,style:"opacity:1"})):L&&(I+=L.y,$+=L.x+.5*L.width,Br(b,{x:L.x-("text"===n?5:0),y:L.y,width:L.width+("text"===n?10:0),height:L.height,style:"opacity:1"}));var D=t.markupY+Nr,R=t.markupY+t.markupHeight-Nr,U=t.markupX+Nr,N=t.markupX+t.markupWidth-Nr;if(I<D?I=D:I+j>R&&(I=R-j),$<U?$=U:$+A>N&&($=N-A),L||(v.element.dataset.active="false"),v.element.setAttribute("style","transform: translate3d(".concat($,"px, ").concat(I,"px, 0)")),"text"===n&&L){var B=L.width+65,F=t.markupWidth-L.x,V="\n                        width: ".concat(Math.min(B,F),"px;\n                        height: ").concat(L.height,"px;\n                        color: ").concat(E.getAttribute("fill"),";\n                        font-family: ").concat(E.getAttribute("font-family"),";\n                        font-size: ").concat(E.getAttribute("font-size").replace(/px/,""),"px;\n                        font-weight: ").concat(E.getAttribute("font-weight")||"normal",";\n                    ");Ge()?V+="\n                            left: ".concat(Math.round(t.markupX+L.x),"px;\n                            top: ").concat(Math.round(t.markupY+L.y),"px;\n                        "):V+="\n                            transform: translate3d(".concat(Math.round(t.markupX+L.x),"px,").concat(Math.round(t.markupY+L.y),"px,0);\n                        "),t.ref.input.setAttribute("style",V),E.setAttribute("fill","none")}if("text"===n)return;if(!O)return;var H="line"===n?Hr:zr;h.forEach((function(e,t){var s=H[t];if(s){var i="line"===n?"move":"".concat(qr[s],"-resize"),r=Gr[s](E.rect);Br(e,{cx:r.x,cy:r.y,style:"opacity:1;cursor:".concat(i)})}}))}a.isDirty=!1}})),D&&(Kr(t),"text"===I.type?t.ref.input.value=I.settings.text:t.ref.selected.id&&Xr(t,s.onResize))}}}}))}),Wr=function(e){return e.forEach((function(e){return e[1].isDirty=!0}))},Yr=function(e,t){var s=t.markup,i=t.markupX,r=t.markupY,n=t.currentWidth,a=t.currentHeight,o=t.scale;return i!==e.ref.previousX||r!==e.ref.previousY||o!==e.ref.previousScale||a!==e.ref.previousCurrentHeight||n!==e.ref.previousCurrentWidth?(Wr(s),!0):s.length!==e.ref.previousMarkupLength||!!s.find((function(e){return e[1].isDirty}))},Xr=function(e,t){var s=e.ref.selected.id,i="g"===e.ref.elements[s].nodeName?Hr:zr;e.ref.manipulators.forEach((function(r,n){var a=i[n];if(a){var o=null;r.dragger=Ur(r,(function(){o={x:parseFloat(A(r,"cx")),y:parseFloat(A(r,"cy"))}}),(function(i,r){t(s,a,o,r,e.ref.viewSize)}),null,{stopPropagation:!0})}}))},Kr=function(e){e.ref.manipulators.forEach((function(e){e.dragger&&(e.dragger.destroy(),e.dragger=null)}))},Qr={38:"up",40:"down",37:"left",39:"right",189:"minus",187:"plus",72:"h",76:"l",81:"q",82:"r",84:"t",86:"v",90:"z",219:"left_bracket",221:"right_bracket"},Jr=function(e,t,s,i,r){var n=null,a=!0,o={enabled:!0},c=function(e){var r=Qr[e.keyCode]||e.keyCode;s[r]&&(e.stopPropagation(),a&&(n=t(r),a=!1),s[r](n),i(n))},l=function(e){var t=Qr[e.keyCode]||e.keyCode;s[t]&&(e.stopPropagation(),r(n),a=!0)};return e.addEventListener("keydown",c),e.addEventListener("keyup",l),{enable:function(){o.enabled||(e.addEventListener("keydown",c),e.addEventListener("keyup",l)),o.enabled=!0},disable:function(){o.enabled&&(e.removeEventListener("keydown",c),e.removeEventListener("keyup",l)),o.enabled=!1},destroy:function(){e.removeEventListener("keydown",c),e.removeEventListener("keyup",l)}}},en={1:function(){return[1,0,0,1,0,0]},2:function(e){return[-1,0,0,1,e,0]},3:function(e,t){return[-1,0,0,-1,e,t]},4:function(e,t){return[1,0,0,-1,0,t]},5:function(){return[0,1,1,0,0,0]},6:function(e,t){return[0,1,-1,0,t,0]},7:function(e,t){return[0,-1,-1,0,t,e]},8:function(e){return[0,-1,1,0,0,e]}},tn=function(e,t,s,i){-1!==i&&e.transform.apply(e,en[i](t,s))},sn=function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4?arguments[4]:void 0;t=Math.round(t),s=Math.round(s);var n=r||document.createElement("canvas"),a=n.getContext("2d");return i>=5&&i<=8?(n.width=s,n.height=t):(n.width=t,n.height=s),a.save(),tn(a,t,s,i),a.drawImage(e,0,0,t,s),a.restore(),n},rn=function(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}},nn=function(e){return/^image/.test(e.type)&&!/svg/.test(e.type)},an=function(e){return"createImageBitmap"in window&&nn(e)},on=function(e){return new Promise((function(t,s){var i=new Image;i.onload=function(){t(i)},i.onerror=function(e){s(e)},i.src=e}))},cn=function(e,t,s){var i=e.createShader(s);return e.shaderSource(i,t),e.compileShader(i),i},ln=function(e,t,s){var i=e.createProgram();return e.attachShader(i,cn(e,t,e.VERTEX_SHADER)),e.attachShader(i,cn(e,s,e.FRAGMENT_SHADER)),e.linkProgram(i),i},un=function(e,t,s,i,r){var n=e.createTexture();e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.uniform1i(t,i),e.uniform2f(s,r.width,r.height);try{e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}catch(t){e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,null)}return n},dn=function(e,t){return e/t},hn=function(e){return e*Math.PI/180},pn=function(){return{x:arguments.length<3?0:arguments.length<=0?void 0:arguments[0],y:arguments.length<3?0:arguments.length<=1?void 0:arguments[1],width:arguments.length<3?arguments.length<=0?void 0:arguments[0]:arguments.length<=2?void 0:arguments[2],height:1===arguments.length?arguments.length<=0?void 0:arguments[0]:arguments.length<3?arguments.length<=1?void 0:arguments[1]:arguments.length<=3?void 0:arguments[3]}},mn=function(e,t){return{x:e.x*t,y:e.y*t,width:e.width*t,height:e.height*t}},fn=function(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},bn=function(e,t,s,i,r){var n=1/Math.tan(t/2),a=1/(i-r);e[0]=n/s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,e[10]=(r+i)*a,e[14]=2*r*i*a},vn=function(e,t){var s=t[0],i=t[1],r=t[2];e[12]=e[0]*s+e[4]*i+e[8]*r+e[12],e[13]=e[1]*s+e[5]*i+e[9]*r+e[13],e[14]=e[2]*s+e[6]*i+e[10]*r+e[14],e[15]=e[3]*s+e[7]*i+e[11]*r+e[15]},gn=function(e,t){var s=t[0],i=t[1],r=t[2];e[0]=e[0]*s,e[1]=e[1]*s,e[2]=e[2]*s,e[3]=e[3]*s,e[4]=e[4]*i,e[5]=e[5]*i,e[6]=e[6]*i,e[7]=e[7]*i,e[8]=e[8]*r,e[9]=e[9]*r,e[10]=e[10]*r,e[11]=e[11]*r},_n=function(e,t){var s=Math.sin(t),i=Math.cos(t),r=e[4],n=e[5],a=e[6],o=e[7],c=e[8],l=e[9],u=e[10],d=e[11];e[4]=r*i+c*s,e[5]=n*i+l*s,e[6]=a*i+u*s,e[7]=o*i+d*s,e[8]=c*i-r*s,e[9]=l*i-n*s,e[10]=u*i-a*s,e[11]=d*i-o*s},yn=function(e,t){var s=Math.sin(t),i=Math.cos(t),r=e[0],n=e[1],a=e[2],o=e[3],c=e[8],l=e[9],u=e[10],d=e[11];e[0]=r*i-c*s,e[1]=n*i-l*s,e[2]=a*i-u*s,e[3]=o*i-d*s,e[8]=r*s+c*i,e[9]=n*s+l*i,e[10]=a*s+u*i,e[11]=o*s+d*i},wn=function(e,t){var s=Math.sin(t),i=Math.cos(t),r=e[0],n=e[1],a=e[2],o=e[3],c=e[4],l=e[5],u=e[6],d=e[7];e[0]=r*i+c*s,e[1]=n*i+l*s,e[2]=a*i+u*s,e[3]=o*i+d*s,e[4]=c*i-r*s,e[5]=l*i-n*s,e[6]=u*i-a*s,e[7]=d*i-o*s},On={create:fn,perspective:bn,translate:vn,scale:gn,rotateX:_n,rotateY:yn,rotateZ:wn},Cn="\nprecision mediump float;\n\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\n\nuniform float uColorOpacity;\nuniform mat4 uColorMatrix;\nuniform vec4 uColorOffset;\n\nuniform vec4 uOverlayColor;\nuniform vec2 uOverlayLeftTop;\nuniform vec2 uOverlayRightBottom;\n\n// received from vertex shader\nvarying vec2 vTexCoord;\nvarying vec4 vPosition;\n\nvoid main () {\n\n\t// get texture color\n\tvec4 color = texture2D(uTexture, vTexCoord);\n\t\n\t// apply color matrix\n\tcolor = color * uColorMatrix + uColorOffset;\n\n\t// test if falls within \n    if ((gl_FragCoord.x < uOverlayLeftTop.x || gl_FragCoord.x > uOverlayRightBottom.x) || \n        (gl_FragCoord.y > uOverlayLeftTop.y || gl_FragCoord.y < uOverlayRightBottom.y)) {\n\t\tcolor *= uOverlayColor;\n\t}\n\t\n    gl_FragColor = color * uColorOpacity;\n}\n",Pn="\nattribute vec4 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uMatrix;\n\n// send to fragment shader\nvarying vec2 vTexCoord;\nvarying vec4 vPosition;\n\nvoid main () {\n    vPosition = uMatrix * aPosition;\n    gl_Position = vPosition;\n    vTexCoord = aTexCoord;\n}\n",xn="\nprecision mediump float;\n\nuniform vec2 uViewportSize;\nuniform vec3 uColorStart;\nuniform vec3 uColorEnd;\n\nvoid main() {\n\tvec2 center = vec2(.5, .5);\n\tvec2 st = vec2(gl_FragCoord.x / uViewportSize.x, gl_FragCoord.y / uViewportSize.y);\n\tfloat mixValue = distance(st, center) * 1.5; // expand outside view (same as doka--root::after)\n\tvec3 color = mix(uColorStart, uColorEnd, mixValue);\n\tgl_FragColor = vec4(color, 1.0);\n}\n",kn="\nprecision mediump float;\n\nuniform vec2 uOverlayLeftTop;\nuniform vec2 uOverlayRightBottom;\nuniform vec4 uOutlineColor;\nuniform float uOutlineWidth;\n\nvoid main() {\n\n\tfloat x = gl_FragCoord.x;\n\tfloat y = gl_FragCoord.y;\n\n\tfloat innerLeft = uOverlayLeftTop.x;\n\tfloat innerRight = uOverlayRightBottom.x;\n\tfloat innerTop = uOverlayRightBottom.y;\n\tfloat innerBottom = uOverlayLeftTop.y;\n\n\tfloat outerLeft = innerLeft - uOutlineWidth;\n\tfloat outerRight = innerRight + uOutlineWidth;\n\tfloat outerTop = innerTop - uOutlineWidth;\n\tfloat outerBottom = innerBottom + uOutlineWidth;\n\t\n\tif (x < outerLeft || x > outerRight || y < outerTop || y > outerBottom) {\n\t\tdiscard;\n\t}\n\n\tif (x < innerLeft || x > innerRight || y < innerTop || y > innerBottom) {\n\t\tgl_FragColor = uOutlineColor;\n\t}\n}\n",Sn="\nattribute vec4 aPosition;\nvoid main() {\n\tgl_Position = aPosition;\n}\n",En=function(e,t,s){var i=pn(),r=null,n=hn(30),a=Math.tan(n/2),o={antialias:!1,alpha:!1},c=e.getContext("webgl",o)||e.getContext("experimental-webgl",o);if(!c)return null;c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA);var l=ln(c,Sn,xn),u=c.getUniformLocation(l,"uColorStart"),d=c.getUniformLocation(l,"uColorEnd"),h=c.getUniformLocation(l,"uViewportSize"),p=c.getAttribLocation(l,"aPosition"),m=c.createBuffer(),b=new Float32Array([1,-1,1,1,-1,-1,-1,1]);c.bindBuffer(c.ARRAY_BUFFER,m),c.bufferData(c.ARRAY_BUFFER,b,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var v=ln(c,Sn,kn),g=c.getAttribLocation(v,"aPosition"),_=c.getUniformLocation(v,"uOutlineWidth"),y=c.getUniformLocation(v,"uOutlineColor"),w=c.getUniformLocation(v,"uOverlayLeftTop"),O=c.getUniformLocation(v,"uOverlayRightBottom"),C=c.createBuffer(),P=new Float32Array([1,-1,1,1,-1,-1,-1,1]);c.bindBuffer(c.ARRAY_BUFFER,C),c.bufferData(c.ARRAY_BUFFER,P,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var x=ln(c,Pn,Cn);c.useProgram(x);var k=c.getUniformLocation(x,"uMatrix"),S=c.getUniformLocation(x,"uTexture"),E=c.getUniformLocation(x,"uTextureSize"),T=c.getUniformLocation(x,"uOverlayColor"),A=c.getUniformLocation(x,"uOverlayLeftTop"),j=c.getUniformLocation(x,"uOverlayRightBottom"),$=c.getUniformLocation(x,"uColorOpacity"),M=c.getUniformLocation(x,"uColorOffset"),I=c.getUniformLocation(x,"uColorMatrix"),L=c.getAttribLocation(x,"aPosition"),D=c.getAttribLocation(x,"aTexCoord"),R=un(c,S,E,0,t),U=t.width*s,N=t.height*s,B=-.5*U,F=.5*N,V=.5*U,H=-.5*N,z=new Float32Array([B,F,B,H,V,F,V,H]),q=new Float32Array([0,0,0,1,1,0,1,1]),G=z.length/2,Z=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,Z),c.bufferData(c.ARRAY_BUFFER,z,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null);var W=c.createBuffer();return c.bindBuffer(c.ARRAY_BUFFER,W),c.bufferData(c.ARRAY_BUFFER,q,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null),{release:function(){e.width=1,e.height=1},resize:function(t,n){e.width=t*s,e.height=n*s,e.style.width="".concat(t,"px"),e.style.height="".concat(n,"px"),i.width=t*s,i.height=n*s,r=dn(i.width,i.height),c.viewport(0,0,c.canvas.width,c.canvas.height)},update:function(e,o,b,P,S,E,U,N,B,F,V,H,z,q,Y,X,K,Q){V=V?mn(V,s):pn(i.width,i.height);var J=.5*i.width,ee=.5*i.height,te=t.width*s,se=t.height*s;e*=s,o*=s,b*=s,P*=s;var ie=se/2/a*(i.height/V.height)*-1;ie/=-a*ie*2/i.height;var re=.5*te,ne=.5*se;e-=re,o-=ne;var ae=N,oe=-(J-re)+b,ce=ee-ne-P,le=On.create();On.perspective(le,n,r,1,2*-ie),On.translate(le,[oe,ce,ie]),On.translate(le,[e,-o,0]),On.scale(le,[ae,ae,ae]),On.rotateZ(le,-U),On.translate(le,[-e,o,0]),On.rotateY(le,E),On.rotateX(le,S),c.clearColor(q[0],q[1],q[2],1),c.clear(c.COLOR_BUFFER_BIT),c.useProgram(l),c.uniform3fv(u,Y),c.uniform3fv(d,X),c.uniform2f(h,i.width,i.height),c.bindBuffer(c.ARRAY_BUFFER,m),c.vertexAttribPointer(p,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(p),c.drawArrays(c.TRIANGLE_STRIP,0,4),c.useProgram(x),c.bindFramebuffer(c.FRAMEBUFFER,null),c.bindTexture(c.TEXTURE_2D,R),c.bindBuffer(c.ARRAY_BUFFER,Z),c.vertexAttribPointer(L,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(L),c.bindBuffer(c.ARRAY_BUFFER,W),c.vertexAttribPointer(D,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(D),c.uniformMatrix4fv(k,!1,le),H=mn(H,s),c.uniform2f(A,H.x,i.height-H.y),c.uniform2f(j,H.x+H.width,i.height-(H.y+H.height)),c.uniform4fv(T,z),c.uniform1f($,F),c.uniform4f(M,B[4],B[9],B[14],B[19]),c.uniformMatrix4fv(I,!1,[].concat(f(B.slice(0,4)),f(B.slice(5,9)),f(B.slice(10,14)),f(B.slice(15,19)))),c.drawArrays(c.TRIANGLE_STRIP,0,G),c.useProgram(v),c.uniform1f(_,K),c.uniform4fv(y,Q),c.uniform2f(w,H.x,i.height-H.y),c.uniform2f(O,H.x+H.width,i.height-(H.y+H.height)),c.bindBuffer(c.ARRAY_BUFFER,C),c.vertexAttribPointer(g,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(g),c.drawArrays(c.TRIANGLE_STRIP,0,4)}}},Tn=function(e){var t=e.match(/\d+/g).map((function(e){return parseInt(e,10)})).map((function(e){return e/255}));return t.length=3,t},An=function(e){var t=0,s={},i=H(e),r=H(e),n=H(e),a=H(e);return i.onupdate=function(e){return s.x=e},i.oncomplete=function(){return t++},r.onupdate=function(e){return s.y=e},r.oncomplete=function(){return t++},n.onupdate=function(e){return s.width=e},n.oncomplete=function(){return t++},a.onupdate=function(e){return s.height=e},a.oncomplete=function(){return t++},{interpolate:function(e){i.interpolate(e),r.interpolate(e),n.interpolate(e),a.interpolate(e)},setTarget:function(e){t=0,i.target=e?e.x:null,r.target=e?e.y:null,n.target=e?e.width:null,a.target=e?e.height:null},getRect:function(){return p({},s)},isStable:function(){return 4===t}}},jn=function(e){var t=0,s={},i=H(e),r=H(e),n=H(e);return i.onupdate=function(e){return s.r=e},i.oncomplete=function(){return t++},r.onupdate=function(e){return s.g=e},r.oncomplete=function(){return t++},n.onupdate=function(e){return s.b=e},n.oncomplete=function(){return t++},{interpolate:function(e){i.interpolate(e),r.interpolate(e),n.interpolate(e)},setTarget:function(e){t=0,i.target=e?e[0]:null,r.target=e?e[1]:null,n.target=e?e[2]:null},getColor:function(){return[s.r,s.g,s.b]},isStable:function(){return 3===t}}},$n={stiffness:.25,damping:.25,mass:2.5},Mn=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],In=ae({name:"image-gl",ignoreRect:!0,ignoreRectUpdate:!0,mixins:{apis:["top","left","width","height","xOrigin","yOrigin","xTranslation","yTranslation","xRotation","yRotation","zRotation","scale","overlay","stage","colorMatrix","colorOpacity","overlayOpacity","outlineWidth","isDraft"],animations:{xTranslation:jr,yTranslation:jr,xOrigin:jr,yOrigin:jr,scale:jr,xRotation:{type:"spring",stiffness:.25,damping:.25,mass:2.5},yRotation:{type:"spring",stiffness:.25,damping:.25,mass:2.5},zRotation:{type:"spring",stiffness:.25,damping:.25,mass:2.5},colorOpacity:{type:"tween",delay:150,duration:750},overlayOpacity:"spring",introScale:{type:"spring",stiffness:.25,damping:.75,mass:15},outlineWidth:jr}},create:function(e){var t=e.root;t.ref.canvas=document.createElement("canvas"),t.ref.canvas.width=0,t.ref.canvas.height=0,t.appendChild(t.ref.canvas),t.ref.gl=null,t.introScale=1,t.ref.isPreview="preview"===t.query("GET_STYLE_LAYOUT_MODE"),t.ref.shouldZoom=!t.ref.isPreview,t.ref.didZoom=!1,t.ref.backgroundColor=null,t.ref.backgroundColorSpring=jn($n),t.ref.backgroundColorCenter=null,t.ref.backgroundColorCenterSpring=jn($n),t.ref.overlaySpring=An(jr),t.ref.stageSpring=An(jr),t.ref.outlineSpring=H(jr),t.ref.colorMatrixSpring=[],t.ref.colorMatrixStable=!0,t.ref.colorMatrixStableCount=0,t.ref.colorMatrixPositions=[];for(var s=0;s<20;s++)!function(){var e=s,i=H($n);i.target=Mn[e],i.onupdate=function(s){t.ref.colorMatrixPositions[e]=s},i.oncomplete=function(){t.ref.colorMatrixStableCount++},t.ref.colorMatrixSpring[e]=i}();t.ref.dragger=Ur(t.element,(function(){t.dispatch("CROP_IMAGE_DRAG_GRAB")}),(function(e,s){t.dispatch("CROP_IMAGE_DRAG",{value:s})}),(function(){t.dispatch("CROP_IMAGE_DRAG_RELEASE")}),{cancelOnMultiple:!0});var i=0,r=0;t.ref.keyboard=Jr(t.element,(function(){return i=0,r=0,{x:0,y:0}}),{up:function(e){e.y-=20},down:function(e){e.y+=20},left:function(e){e.x-=20},right:function(e){e.x+=20},plus:function(){i+=.1,t.dispatch("CROP_IMAGE_RESIZE_AMOUNT",{value:i}),t.dispatch("CROP_IMAGE_RESIZE_RELEASE")},minus:function(){i-=.1,t.dispatch("CROP_IMAGE_RESIZE_AMOUNT",{value:i}),t.dispatch("CROP_IMAGE_RESIZE_RELEASE")},left_bracket:function(){r-=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:r})},right_bracket:function(){r+=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:r})},h:function(){t.dispatch("CROP_IMAGE_FLIP_HORIZONTAL")},l:function(){t.dispatch("CROP_IMAGE_ROTATE_LEFT")},q:function(){t.dispatch("CROP_RESET")},r:function(){t.dispatch("CROP_IMAGE_ROTATE_RIGHT")},v:function(){t.dispatch("CROP_IMAGE_FLIP_VERTICAL")},z:function(){t.dispatch("CROP_ZOOM")}},(function(e){e&&t.dispatch("CROP_IMAGE_DRAG",{value:e})}),(function(e){e&&t.dispatch("CROP_IMAGE_DRAG_RELEASE")}));var n=t.query("GET_FILE"),a=URL.createObjectURL(n.data),o=function(e){var s=ks(e,{width:t.query("GET_MAX_IMAGE_PREVIEW_WIDTH"),height:t.query("GET_MAX_IMAGE_PREVIEW_HEIGHT")}),i=sn(e,s.width,s.height,n.orientation),r=Math.max(1,.75*window.devicePixelRatio),a=i.height/i.width,o=96*r,c=sn(i,a>1?o:o/a,a>1?o*a:o),l=i.getContext("2d").getImageData(0,0,i.width,i.height),u=c.getContext("2d").getImageData(0,0,c.width,c.height);As(i),As(c),t.ref.gl=En(t.ref.canvas,l,r),t.ref.gl?(t.dispatch("DID_RECEIVE_IMAGE_DATA",{previewData:l,thumbData:u}),t.dispatch("DID_PRESENT_IMAGE")):t.dispatch("MISSING_WEBGL")},c=function(){on(a).then(o)};if(an(n.data)){var l=gi(rn);l.post({file:n.data},(function(e){l.terminate(),e?o(e):c()}))}else c();t.ref.previousLeft,t.ref.previousTop,t.ref.previousWidth,t.ref.previousHeight,t.ref.canvasStyle=getComputedStyle(t.ref.canvas),t.ref.previousBackgroundColor},destroy:function(e){var t=e.root;t.ref.gl&&(t.ref.gl.release(),t.ref.gl=null),t.ref.dragger.destroy()},read:function(e){var t=e.root,s=t.ref.canvasStyle.backgroundColor,i=t.ref.canvasStyle.color;if("transparent"!==i&&""!==i||(i=null),"transparent"!==s&&""!==s||(s=null),s&&s!==t.ref.previousBackgroundColor){var r=Tn(s),n=(r[0]+r[1]+r[2])/3;t.ref.backgroundColor=r,t.ref.backgroundColorCenter=r.map((function(e){return n>.5?e-.15:e+.15})),t.ref.previousBackgroundColor=s}i&&i!==t.ref.previousOutlineColor&&(t.ref.outlineColor=Tn(i).concat(1),t.ref.previousOutlineColor=i)},write:ce({SHOW_VIEW:function(e){var t=e.root;"crop"===e.action.id?(t.element.setAttribute("tabindex",0),t.ref.dragger.enable()):(t.element.removeAttribute("tabindex"),t.ref.dragger.disable())}},(function(e){var t=e.root,s=e.props,i=e.timestamp;if(t.ref.gl&&s.width&&s.height){var r=t.ref,n=r.gl,a=r.shouldZoom,o=r.stageSpring,c=r.overlaySpring,l=r.backgroundColorSpring,u=r.backgroundColorCenterSpring;s.width===t.ref.previousWidth&&s.height===t.ref.previousHeight||(t.ref.gl.resize(s.width,s.height),t.ref.previousWidth=s.width,t.ref.previousHeight=s.height),s.left===t.ref.previousLeft&&s.top===t.ref.previousTop||(t.ref.canvas.style.transform="translate(".concat(-s.left,"px, ").concat(-s.top,"px)"),t.ref.previousLeft=s.left,t.ref.previousTop=s.top),a&&!t.ref.didZoom&&(t.introScale=null,t.introScale=1.15,t.introScale=1,t.ref.didZoom=!0),l.setTarget(t.ref.backgroundColor),l.interpolate(i);var d=l.isStable();u.setTarget(t.ref.backgroundColorCenter),u.interpolate(i);var h=u.isStable();t.ref.colorMatrixStableCount=0;var p=s.colorMatrix||Mn,m=t.ref.colorMatrixSpring.map((function(e,s){return e.target=p[s],e.interpolate(i),t.ref.colorMatrixPositions[s]})),f=20===t.ref.colorMatrixStableCount;s.isDraft&&c.setTarget(null),c.setTarget(s.overlay),c.interpolate(i);var b=c.isStable();s.isDraft&&o.setTarget(null),o.setTarget(s.stage),o.interpolate(i);var v=o.isStable();return n.update(t.xOrigin,t.yOrigin,t.xTranslation+s.left,t.yTranslation+s.top,t.xRotation,t.yRotation,t.zRotation,t.scale*t.introScale,m,t.ref.isPreview?1:t.colorOpacity,o.getRect(),c.getRect(),[1,1,1,1-t.overlayOpacity],l.getColor(),u.getColor(),l.getColor(),t.outlineWidth,t.ref.outlineColor),b&&v&&f&&d&&h}}))}),Ln=ae({name:"image",ignoreRect:!0,mixins:{apis:["offsetTop"]},create:function(e){var t=e.root,s=e.props;t.ref.imageGL=t.appendChildView(t.createChildView(In)),t.ref.createMarkup=function(){return t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(Zr,{id:s.id,opacity:0,onSelect:function(e){t.dispatch("MARKUP_SELECT",{id:e})},onDrag:function(e,s,i,r,n){t.dispatch("MARKUP_ELEMENT_DRAG",{id:e,origin:s,offset:i,size:r,scale:n})},onResize:function(e,s,i,r,n){t.dispatch("MARKUP_ELEMENT_RESIZE",{id:e,corner:s,origin:i,offset:r,size:n})},onUpdate:function(e,s){t.dispatch("MARKUP_UPDATE",{id:e,props:s})},isMarkupUtil:function(e){var t=e;do{if("doka--markup-tools"===t.className)return!0}while(t=t.parentNode);return!1}}))),t.ref.markup},t.ref.removeMarkup=function(){t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)},t.ref.isModal=/modal/.test(t.query("GET_STYLE_LAYOUT_MODE"))},write:ce({DID_PRESENT_IMAGE:function(e){e.root.ref.imageGL.colorOpacity=1}},(function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.ref.imageGL,n=t.ref.markup,a=t.query("GET_CROP",s.id,i);if(a){var o=a.isDraft,c=a.cropRect,l=a.cropStatus,u=a.origin,d=a.translation,h=a.translationBand,m=a.scale,f=a.scaleBand,b=a.rotation,v=a.rotationBand,g=a.flip,_=a.colorMatrix,y=t.query("GET_ROOT"),w=t.query("GET_STAGE"),O=w.x,C=w.y;o&&(r.scale=null,r.zRotation=null,r.xTranslation=null,r.yTranslation=null,r.xOrigin=null,r.yOrigin=null),r.colorMatrix=_;var P=t.query("IS_ACTIVE_VIEW","crop"),x=t.query("IS_ACTIVE_VIEW","markup"),k=P?.75:.95,S=p({},c),E=1,T=P?1:5;if(t.query("IS_ACTIVE_VIEW","resize")){var A=l.image.width,j=l.image.height;E=null===A&&null===j?l.crop.width/c.width:null===A?j/c.height:A/c.width,E/=window.devicePixelRatio;var $=c.width*E,M=c.height*E;S.x=S.x+(.5*c.width-.5*$),S.y=S.y+(.5*c.height-.5*M),S.width=$,S.height=M}var I=t.ref.isModal?0:y.left,L=t.ref.isModal?0:y.top,D=t.ref.isModal?0:y.width-t.rect.element.width,R=t.ref.isModal?0:y.height-t.rect.element.height-s.offsetTop;r.isDraft=o,r.overlayOpacity=k,r.xOrigin=u.x,r.yOrigin=u.y,r.xTranslation=d.x+h.x+O,r.yTranslation=d.y+h.y+C,r.left=I,r.top=L+s.offsetTop,r.width=t.rect.element.width+D,r.height=t.rect.element.height+R+s.offsetTop,r.scale=(m+f)*E,r.xRotation=g.vertical?Math.PI:0,r.yRotation=g.horizontal?Math.PI:0,r.zRotation=b.main+b.sub+v,r.stage={x:w.x+I,y:w.y+L+s.offsetTop,width:w.width,height:w.height},r.overlay={x:S.x+O+I,y:S.y+C+L+s.offsetTop,width:S.width,height:S.height},r.outlineWidth=T,a.markup.length&&!n?n=t.ref.createMarkup():!a.markup.length&&n&&(t.ref.removeMarkup(),n=null),n&&(o&&(n.translateX=null,n.translateY=null,n.markupX=null,n.markupY=null,n.markupWidth=null,n.markupHeight=null),n.opacity=P?.3:1,n.markupX=S.x+O,n.markupY=S.y+C,n.markupWidth=S.width,n.markupHeight=S.height,n.allowInteraction=x)}}))}),Dn=312,Rn=function(e,t){return ae({name:e,ignoreRect:!0,create:t})},Un=ae({name:"crop-rotator-line",ignoreRect:!0,ignoreRectUpdate:!0,mixins:{styles:["translateX"],animations:{translateX:"spring"}},create:function(e){for(var t=e.root,s='<svg viewBox="-90 -5 180 10" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">',i=0;i<=180;i+=2){var r=i*(176/180)-90+2,n=i%10==0?.5:.2;s+='<circle fill="currentColor" cx="'.concat(r,'" cy="').concat(0,'" r="').concat(n,'"/>'),i%10==0&&(s+='<text fill="currentColor" x="'.concat(r+(r<0?-2.25:0===r?-.75:-1.5),'" y="').concat(3.5,'">').concat(-90+i,"&deg;</text>"))}s+="</svg>",t.element.innerHTML=s}}),Nn=ae({name:"crop-rotator",ignoreRect:!0,mixins:{styles:["opacity","translateY"],animations:{opacity:{type:"spring",damping:.5,mass:5},translateY:"spring"},apis:["rotation","animate","setAllowInteraction"]},create:function(e){var t=e.root,s=e.props;t.element.setAttribute("tabindex",0);var i=document.createElement("button");i.innerHTML="<span>".concat(t.query("GET_LABEL_BUTTON_CROP_ROTATE_CENTER"),"</span>"),i.className="doka--crop-rotator-center",i.addEventListener("click",(function(){t.dispatch("CROP_IMAGE_ROTATE_CENTER")})),t.appendChild(i);var r=null;t.appendChildView(t.createChildView(Rn("crop-rotator-line-mask",(function(e){var t=e.root,s=e.props;r=t.appendChildView(t.createChildView(Un,{translateX:Math.round(s.rotation*Dn)}))})),s)),t.ref.line=r;var n=document.createElement("div");n.className="doka--crop-rotator-bar",t.appendChild(n);var a=Math.PI/4,o=0;t.ref.dragger=Ur(n,(function(){o=r.translateX/Dn,t.dispatch("CROP_IMAGE_ROTATE_GRAB")}),(function(e,s){var i=s.x/t.rect.element.width*(Math.PI/2),r=Qe(o+i,-a,a);t.dispatch("CROP_IMAGE_ROTATE",{value:-r})}),(function(){t.dispatch("CROP_IMAGE_ROTATE_RELEASE")}),{stopPropagation:!0}),s.setAllowInteraction=function(e){e?t.ref.dragger.enable():t.ref.dragger.disable()},t.ref.keyboard=Jr(t.element,(function(){o=0}),{left:function(){o+=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:o})},right:function(){o-=Math.PI/128,t.dispatch("CROP_IMAGE_ROTATE_ADJUST",{value:o})}},(function(){}),(function(){})),t.ref.prevRotation},destroy:function(e){var t=e.root;t.ref.dragger.destroy(),t.ref.keyboard.destroy()},write:function(e){var t=e.root,s=e.props,i=e.timestamp,r=s.animate,n=s.rotation;if(t.ref.prevRotation!==n){t.ref.prevRotation=n,r||0===n||(t.ref.line.translateX=null);var a=0,o=t.query("GET_CROP",s.id,i);if(o&&o.interaction&&o.interaction.rotation){var c=Ps(o.interaction.rotation).sub-n;a=.025*Math.sign(c)*Math.log10(1+Math.abs(c)/.025)}t.ref.line.translateX=Math.round((-n-a)*Dn)}}}),Bn=["nw","ne","se","sw"],Fn=function(e){return Bn[(Bn.indexOf(e)+2)%Bn.length]},Vn=["n","e","s","w"],Hn=function(e){return Vn[(Vn.indexOf(e)+2)%Vn.length]},zn=ae({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-rect-focal-line",mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{translateX:"spring",translateY:"spring",scaleX:"spring",scaleY:"spring",opacity:"spring"}}}),qn=function(e){return ae({ignoreRect:!0,ignoreRectUpdate:!0,tag:"div",name:"crop-rect-edge-".concat(e),mixins:{styles:["translateX","translateY","scaleX","scaleY"],apis:["setAllowInteraction"]},create:function(t){var s=t.root,i=t.props;s.element.classList.add("doka--crop-rect-edge"),s.element.setAttribute("tabindex",0),s.element.setAttribute("role","button");var r=e,n=Hn(e);s.ref.dragger=Ur(s.element,(function(){return s.dispatch("CROP_RECT_EDGE_DRAG_GRAB")}),(function(e,t){return s.dispatch("CROP_RECT_EDGE_DRAG",{offset:t,origin:r,anchor:n})}),(function(){return s.dispatch("CROP_RECT_EDGE_DRAG_RELEASE")}),{stopPropagation:!0,cancelOnMultiple:!0}),i.setAllowInteraction=function(e){e?s.ref.dragger.enable():s.ref.dragger.disable()},s.ref.keyboard=Jr(s.element,(function(){return{x:0,y:0}}),{up:function(e){e.y-=20},down:function(e){e.y+=20},left:function(e){e.x-=20},right:function(e){e.x+=20}},(function(e){s.dispatch("CROP_RECT_EDGE_DRAG_GRAB"),s.dispatch("CROP_RECT_EDGE_DRAG",{offset:e,origin:r,anchor:n})}),(function(){s.dispatch("CROP_RECT_EDGE_DRAG_RELEASE")}))},destroy:function(e){var t=e.root;t.ref.keyboard.destroy(),t.ref.dragger.destroy()}})},Gn=function(e,t,s){return ae({ignoreRect:!0,ignoreRectUpdate:!0,tag:"div",name:"crop-rect-corner-".concat(e),mixins:{styles:["translateX","translateY","scaleX","scaleY"],animations:{translateX:jr,translateY:jr,scaleX:{type:"spring",delay:s},scaleY:{type:"spring",delay:s},opacity:{type:"spring",delay:t}},apis:["setAllowInteraction"]},create:function(t){var s=t.root,i=t.props;s.element.classList.add("doka--crop-rect-corner"),s.element.setAttribute("role","button"),s.element.setAttribute("tabindex",-1);var r=e,n=Fn(e);s.ref.dragger=Ur(s.element,(function(){s.dispatch("CROP_RECT_CORNER_DRAG_GRAB")}),(function(e,t){s.dispatch("CROP_RECT_CORNER_DRAG",{offset:t,origin:r,anchor:n})}),(function(){s.dispatch("CROP_RECT_CORNER_DRAG_RELEASE")}),{stopPropagation:!0,cancelOnMultiple:!0}),i.setAllowInteraction=function(e){e?s.ref.dragger.enable():s.ref.dragger.disable()}},destroy:function(e){e.root.ref.dragger.destroy()}})},Zn=ae({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-rect",mixins:{apis:["rectangle","draft","rotating","enabled"]},create:function(e){var t=e.root;t.ref.wasRotating=!1,Bn.forEach((function(e,s){var i=10*s,r=250+i+50,n=250+i;t.ref[e]=t.appendChildView(t.createChildView(Gn(e,r,n),{opacity:0,scaleX:.5,scaleY:.5}))})),Vn.forEach((function(e){t.ref[e]=t.appendChildView(t.createChildView(qn(e)))})),t.ref.lines=[];for(var s=0;s<10;s++)t.ref.lines.push(t.appendChildView(t.createChildView(zn,{opacity:0})));t.ref.animationDir=null,t.ref.previousRotating,t.ref.previousRect={},t.ref.previousEnabled,t.ref.previousDraft},write:function(e){var t=e.root,s=e.props,i=s.rectangle,r=s.draft,n=s.rotating,a=s.enabled;if(i&&(!lt(i,t.ref.previousRect)||n!==t.ref.previousRotating||a!==t.ref.previousEnabled||r!==t.ref.previousDraft)){t.ref.previousRect=i,t.ref.previousRotating=n,t.ref.previousEnabled=a,t.ref.previousDraft=r;var o=t.ref,c=o.n,l=o.e,u=o.s,d=o.w,h=o.nw,p=o.ne,m=o.se,f=o.sw,b=o.lines,v=o.animationDir,g=i.x,_=i.y,y=i.x+i.width,w=i.y+i.height,O=w-_,C=y-g,P=Math.min(C,O);t.element.dataset.indicatorSize=P<80?"none":"default",Vn.forEach((function(e){return t.ref[e].setAllowInteraction(a)})),Bn.forEach((function(e){return t.ref[e].setAllowInteraction(a)}));var x=t.query("IS_ACTIVE_VIEW","crop");if(x&&"in"!==v?(t.ref.animationDir="in",Bn.map((function(e){return t.ref[e]})).forEach((function(e){e.opacity=1,e.scaleX=1,e.scaleY=1}))):x||"out"===v||(t.ref.animationDir="out",Bn.map((function(e){return t.ref[e]})).forEach((function(e){e.opacity=0,e.scaleX=.5,e.scaleY=.5}))),Yn(r,h,g,_),Yn(r,p,y,_),Yn(r,m,y,w),Yn(r,f,g,w),Wn(r,c,g,_,C/100,1),Wn(r,l,y,_,1,O/100),Wn(r,u,g,w,C/100,1),Wn(r,d,g,_,1,O/100),n){t.ref.wasRotating=!0;var k=b.slice(0,5),S=1/k.length;k.forEach((function(e,t){Wn(r,e,g,_+O*(S+t*S),C/100,.01),e.opacity=.5}));var E=b.slice(5);S=1/E.length,E.forEach((function(e,t){Wn(r,e,g+C*(S+t*S),_,.01,O/100),e.opacity=.5}))}else if(r){t.ref.wasRotating=!1;var T=b[0],A=b[1],j=b[2],$=b[3];Wn(r,T,g,_+.333*O,C/100,.01),Wn(r,A,g,_+.666*O,C/100,.01),Wn(r,j,g+.333*C,_,.01,O/100),Wn(r,$,g+.666*C,_,.01,O/100),T.opacity=.5,A.opacity=.5,j.opacity=.5,$.opacity=.5}else{var M=b[0],I=b[1],L=b[2],D=b[3];!t.ref.wasRotating&&M.opacity>0&&(Wn(r,M,g,_+.333*O,C/100,.01),Wn(r,I,g,_+.666*O,C/100,.01),Wn(r,L,g+.333*C,_,.01,O/100),Wn(r,D,g+.666*C,_,.01,O/100)),b.forEach((function(e){return e.opacity=0}))}}}}),Wn=function(e,t,s,i,r,n){e&&(t.translateX=null,t.translateY=null,t.scaleX=null,t.scaleY=null),t.translateX=$r(s),t.translateY=$r(i),t.scaleX=r,t.scaleY=n},Yn=function(e,t,s,i){e&&(t.translateX=null,t.translateY=null),t.translateX=$r(s),t.translateY=$r(i)},Xn=function(e,t){if(!/svg/.test(e.namespaceURI)||"innerHTML"in e)e.innerHTML=t;else{var s=document.createElement("div");s.innerHTML="<svg>"+t+"</svg>";for(var i=s.firstChild;i.firstChild;)e.appendChild(i.firstChild)}},Kn=ae({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-mask",tag:"svg",mixins:{styles:["opacity","translateX","translateY"],animations:{scale:jr,maskWidth:jr,maskHeight:jr,translateX:jr,translateY:jr,opacity:{type:"tween",delay:0,duration:1e3}},apis:["rectangle","animate","maskWidth","maskHeight","scale"]},create:function(e){var t=e.root;t.customWriter=t.query("GET_CROP_MASK")(t.element,Xn)||function(){}},didWriteView:function(e){var t=e.root,s=e.props,i=s.maskWidth,r=s.maskHeight,n=s.scale;if(i&&r){t.element.setAttribute("width",$r(i)),t.element.setAttribute("height",$r(r));var a=t.query("GET_CROP_MASK_INSET");t.customWriter({x:n*a,y:n*a,width:i-n*a*2,height:r-n*a*2},{width:i,height:r})}}}),Qn=function(e,t){var s=e.childNodes[0];s?t!==s.nodeValue&&(s.nodeValue=t):(s=document.createTextNode(t),e.appendChild(s))},Jn=ae({ignoreRect:!0,name:"crop-size",mixins:{styles:["translateX","translateY","opacity"],animations:{translateX:"spring",translateY:"spring",opacity:"spring"},listeners:!0},create:function(e){var t=e.root,s=I("span");s.className="doka--crop-size-info doka--crop-resize-percentage",t.ref.resizePercentage=s,t.appendChild(s);var i=I("span");i.className="doka--crop-size-info";var r=I("span");r.className="doka--crop-size-multiply",r.textContent="";var n=I("span"),a=I("span");t.ref.outputWidth=n,t.ref.outputHeight=a,i.appendChild(n),i.appendChild(r),i.appendChild(a),t.appendChild(i),t.ref.previousValues={width:0,height:0,percentage:0}},write:function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.query("GET_CROP",s.id,i);if(r){var n=r.cropStatus,a=t.ref,o=a.outputWidth,c=a.outputHeight,l=a.resizePercentage,u=a.previousValues,d=n.image,h=n.crop,p=n.currentWidth,m=n.currentHeight,f=d.width?Math.round(d.width/h.width*100):0;p!==u.width&&(Qn(o,p),u.width=p),m!==u.height&&(Qn(c,m),u.height=m),f!==u.percentage&&(d.width?Qn(l,"".concat(f,"%")):Qn(l,""),u.percentage=f)}}}),ea=function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.query("GET_CROP",s.id,i),n=t.ref.btnZoom;if(n){var a=r.cropRect;n.translateX=a.x+.5*a.width,n.translateY=a.y+.5*a.height}},ta={type:"spring",stiffness:.4,damping:.65,mass:7},sa=ae({name:"crop-subject",ignoreRect:!0,mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:250},translateX:ta,translateY:ta}},create:function(e){var t=e.root,s=e.props;t.opacity=1,t.query("GET_CROP_MASK")&&(t.ref.maskView=t.appendChildView(t.createChildView(Kn))),t.ref.cropView=t.appendChildView(t.createChildView(Zn)),t.query("GET_CROP_SHOW_SIZE")&&(t.ref.cropSize=t.appendChildView(t.createChildView(Jn,{id:s.id,opacity:1,scaleX:1,scaleY:1,translateX:null}))),t.query("GET_CROP_ZOOM_TIMEOUT")||(t.ref.btnZoom=t.appendChildView(t.createChildView(Or("zoom-wrapper",{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:250}}}),{opacity:0,controls:[{view:Cr,label:t.query("GET_LABEL_BUTTON_CROP_ZOOM"),name:"zoom",icon:Pr('<g fill="currentColor" fill-rule="nonzero"><path d="M12.5 19a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13zm0-2a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z"/><path d="M15.765 17.18a1 1 0 1 1 1.415-1.415l3.527 3.528a1 1 0 0 1-1.414 1.414l-3.528-3.527z"/></g>',26),action:function(){return t.dispatch("CROP_ZOOM")}}]})))},write:ce({CROP_RECT_EDGE_DRAG_RELEASE:ea,CROP_RECT_CORNER_DRAG_RELEASE:ea},(function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.query("GET_CROP",s.id,i);if(r){var n=t.ref,a=n.cropView,o=n.maskView,c=n.btnZoom,l=n.cropSize,u=r.cropRect,d=r.isRotating,h=r.isDraft,p=r.scale;if(t.query("IS_ACTIVE_VIEW","crop")){var m=t.query("GET_STAGE");if(t.translateX=m.x-t.rect.element.left,t.translateY=m.y-t.rect.element.top,a.draft=h,a.rotating=d,a.rectangle=u,a.enabled=!0,l){h&&(l.translateX=null,l.translateY=null);var f=ia(t.rect.element,l.rect.element,u);l.translateX=h?f.x:$r(f.x),l.translateY=h?f.y:$r(f.y)}o&&(h&&(o.translateX=null,o.translateY=null,o.maskWidth=null,o.maskHeight=null),o.translateX=$r(u.x),o.translateY=$r(u.y),o.maskWidth=u.width,o.maskHeight=u.height,o.scale=p),c&&(c.opacity=r.canRecenter&&!r.isDraft?1:0)}else a.enabled=!1}}))}),ia=function(e,t,s){var i=s.x,r=s.x+s.width,n=s.y+s.height,a=r-t.width-16,o=n-t.height-16;return t.width>s.width-32&&(a=i+(.5*s.width-.5*t.width),(o=n+16)>e.height-t.height&&(o=n-t.height-16)),{x:a=Math.max(0,Math.min(a,e.width-t.width)),y:o}},ra=function(){return performance.now()},na=function(e,t){var s=null,i=null;return function(){var r=arguments;if(!i)return e.apply(null,Array.from(arguments)),void(i=ra());clearTimeout(s),s=setTimeout((function(){ra()-i>=t&&(e.apply(null,Array.from(r)),i=ra())}),t-(ra()-i))}},aa=function(e,t){for(;1===e.nodeType&&!t(e);)e=e.parentNode;return 1===e.nodeType?e:null},oa=function(e,t){var s=aa(t,(function(e){return e.classList.contains("doka--root")}));return!!s&&s.contains(e)},ca=function(e){var t=e.root,s=e.props,i=e.action.position,r=s.pivotPoint,n=t.ref,a=n.indicatorA,o=n.indicatorB,c=r.x-i.x,l=r.y-i.y,u={x:r.x+c,y:r.y+l},d={x:r.x-c,y:r.y-l};a.style.cssText="transform: translate3d(".concat(u.x,"px, ").concat(u.y,"px, 0)"),o.style.cssText="transform: translate3d(".concat(d.x,"px, ").concat(d.y,"px, 0)")},la=function(e){return{x:e.pageX,y:e.pageY}},ua=ae({ignoreRect:!0,ignoreRectUpdate:!0,name:"crop-resizer",mixins:{apis:["pivotPoint","scrollRect"]},create:function(e){var t=e.root,s=e.props;t.ref.isActive=!1,t.ref.indicatorA=document.createElement("div"),t.appendChild(t.ref.indicatorA),t.ref.indicatorB=document.createElement("div"),t.appendChild(t.ref.indicatorB);var i=t.query("GET_CROP_RESIZE_KEY_CODES"),r={origin:{x:null,y:null},position:{x:null,y:null},selecting:!1,enabled:!1,scrollY:0,offsetX:0,offsetY:0},n=ra();t.ref.state=r;var a=Ir(),o=0,c=!1;t.ref.resizeStart=function(e){if(t.ref.isActive&&(0===a.count()&&(c=!1),a.push(e),Lr(document.documentElement,"up",t.ref.resizeEnd),oa(t.element,e.target)&&a.multiple())){e.stopPropagation(),e.preventDefault();var s=a.active(),i=la(s[0]),r=la(s[1]);o=nt(i,r),Lr(document.documentElement,"move",t.ref.resizeMove),c=!0}},t.ref.resizeMove=function(e){if(t.ref.isActive&&c&&(e.preventDefault(),2===a.count())){a.update(e);var s=a.active(),i=la(s[0]),r=la(s[1]),n=(nt(i,r)-o)/o;t.dispatch("CROP_IMAGE_RESIZE",{value:n})}},t.ref.resizeEnd=function(e){if(t.ref.isActive){a.pop(e);var s=0===a.count();s&&(Dr(document.documentElement,"move",t.ref.resizeMove),Dr(document.documentElement,"up",t.ref.resizeEnd)),c&&(e.preventDefault(),s&&t.dispatch("CROP_IMAGE_RESIZE_RELEASE"))}},Lr(document.documentElement,"down",t.ref.resizeStart);var l=performance.now(),u=0,d=1,h=na((function(e){var s=Math.sign(e.wheelDelta||e.deltaY),i=ra(),r=i-l;l=i,(r>750||u!==s)&&(d=1,u=s),d+=.05*s,t.dispatch("CROP_IMAGE_RESIZE_MULTIPLY",{value:Math.max(.1,d)}),t.dispatch("CROP_IMAGE_RESIZE_RELEASE")}),100);t.ref.wheel=function(e){if(t.ref.isActive&&oa(t.element,e.target)){if(s.scrollRect){var i=s.scrollRect,r=t.query("GET_ROOT"),n=la(e),a={x:n.x-r.leftScroll,y:n.y-r.topScroll};if(a.x<i.x||a.x>i.x+i.width||a.y<i.y||a.y>i.y+i.height)return}e.preventDefault(),h(e)}},document.addEventListener("wheel",t.ref.wheel,{passive:!1}),t.ref.move=function(e){if(t.ref.isActive&&(r.position.x=e.pageX-t.ref.state.offsetX,r.position.y=e.pageY-t.ref.state.scrollY-t.ref.state.offsetY,r.enabled))if(oa(t.element,e.target)){"idle"===t.element.dataset.state&&t.dispatch("RESIZER_SHOW",{position:p({},r.position)}),e.preventDefault(),t.dispatch("RESIZER_MOVE",{position:p({},r.position)});var i=s.pivotPoint,a=i.x-r.position.x,c=i.y-r.position.y,l={x:i.x+a,y:i.y+c},u=p({},r.position);if(r.selecting){var d=(nt(l,u)-o)/o,h=performance.now();h-n>25&&(n=h,t.dispatch("CROP_IMAGE_RESIZE",{value:d}))}}else t.dispatch("RESIZER_CANCEL")},t.ref.select=function(e){if(t.ref.isActive&&oa(t.element,e.target)){var i=s.pivotPoint,n=i.x-r.position.x,a=i.y-r.position.y,c={x:i.x+n,y:i.y+a},l=r.position;o=nt(c,l),r.selecting=!0,r.origin.x=e.pageX,r.origin.y=e.pageY,t.dispatch("CROP_IMAGE_RESIZE_GRAB")}},t.ref.confirm=function(e){t.ref.isActive&&oa(t.element,e.target)&&(r.selecting=!1,t.dispatch("CROP_IMAGE_RESIZE_RELEASE"))},t.ref.blur=function(){t.ref.isActive&&(r.selecting=!1,r.enabled=!1,document.removeEventListener("mousedown",t.ref.select),document.removeEventListener("mouseup",t.ref.confirm),t.dispatch("RESIZER_CANCEL"))},window.addEventListener("blur",t.ref.blur),document.addEventListener("mousemove",t.ref.move),t.ref.keyDown=function(e){t.ref.isActive&&i.includes(e.keyCode)&&r.position&&(r.enabled=!0,document.addEventListener("mousedown",t.ref.select),document.addEventListener("mouseup",t.ref.confirm),t.dispatch("RESIZER_SHOW",{position:p({},r.position)}))},t.ref.keyUp=function(e){t.ref.isActive&&i.includes(e.keyCode)&&(r.enabled=!1,document.removeEventListener("mousedown",t.ref.select),document.removeEventListener("mouseup",t.ref.confirm),t.dispatch("RESIZER_CANCEL"))},document.body.addEventListener("keydown",t.ref.keyDown),document.body.addEventListener("keyup",t.ref.keyUp)},destroy:function(e){var t=e.root;document.removeEventListener("touchmove",t.ref.resizeMove),document.removeEventListener("touchend",t.ref.resizeEnd),document.removeEventListener("touchstart",t.ref.resizeStart),document.removeEventListener("wheel",t.ref.wheel),document.removeEventListener("mousemove",t.ref.move),document.removeEventListener("mousedown",t.ref.select),document.removeEventListener("mouseup",t.ref.confirm),document.body.removeEventListener("keydown",t.ref.keyDown),document.body.removeEventListener("keyup",t.ref.keyUp),window.removeEventListener("blur",t.ref.blur)},read:function(e){var t=e.root;t.ref.state.scrollY=window.scrollY;var s=t.element.getBoundingClientRect();t.ref.state.offsetX=s.x,t.ref.state.offsetY=s.y},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.action;t.ref.isActive="crop"===s.id},RESIZER_SHOW:function(e){var t=e.root,s=e.props,i=e.action;t.element.dataset.state="multi-touch",ca({root:t,props:s,action:i})},RESIZER_CANCEL:function(e){e.root.element.dataset.state="idle"},RESIZER_MOVE:ca})}),da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"group",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["opacity"],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ae({ignoreRect:!0,name:e,mixins:{styles:["opacity"].concat(f(t)),animations:p({opacity:{type:"spring",stiffness:.25,damping:.5,mass:5}},s)},create:function(e){var t=e.root;e.props.controls.map((function(e){var s=t.createChildView(e.view,e);e.didCreateView&&e.didCreateView(s),t.appendChildView(s)}))}})},ha=ae({ignoreRect:!0,tag:"div",name:"dropdown-list",mixins:{styles:["translateY","opacity"],apis:["selectedValue","options","onSelect"],animations:{translateY:"spring",opacity:{type:"tween",duration:250}}},create:function(e){var t=e.root,s=e.props;t.element.setAttribute("role","list"),t.ref.handleClick=function(){return s.action&&s.action()},t.element.addEventListener("click",t.ref.handleClick),t.ref.activeOptions=null,t.ref.activeSelectedValue},write:function(e){var t=e.root,s=e.props;if(s.options!==t.ref.activeOptions&&(t.ref.activeOptions=s.options,t.childViews.forEach((function(e){return t.removeChildView(e)})),s.options.map((function(e){var i=t.createChildView(Cr,p({},e,{action:function(){return s.onSelect(e.value)}}));return t.appendChildView(i)}))),s.selectedValue!==t.ref.activeSelectedValue){t.ref.activeSelectedValue=s.selectedValue;var i=s.options.findIndex((function(e){return"object"===d(e.value)&&s.selectedValue?JSON.stringify(e.value)===JSON.stringify(s.selectedValue):e.value===s.selectedValue}));t.childViews.forEach((function(e,t){e.element.setAttribute("aria-selected",t===i)}))}},destroy:function(e){var t=e.root;t.element.removeEventListener("click",t.ref.handleClick)}}),pa=ae({ignoreRect:!0,tag:"div",name:"dropdown",mixins:{styles:["opacity"],animations:{opacity:"spring"},apis:["direction","selectedValue","options","onSelect","onToggle"]},create:function(e){var t=e.root,s=e.props;t.ref.open=!1;var i=function(e){t.ref.open=e,s.onToggle?s.onToggle(t.ref.open):t.dispatch("KICK")};t.ref.button=t.appendChildView(t.createChildView(Cr,p({},s,{action:function(){i(!t.ref.open)}}))),t.ref.list=t.appendChildView(t.createChildView(ha,p({},s,{opacity:0,action:function(){i(!1)}}))),t.ref.handleBodyClick=function(e){t.element.contains(e.target)||i(!1)},t.element.addEventListener("focusin",(function(e){e.target!==t.ref.button.element&&i(!0)})),t.element.addEventListener("focusout",(function(e){t.element.contains(e.relatedTarget)||i(!1)})),document.body.addEventListener("click",t.ref.handleBodyClick)},destroy:function(e){var t=e.root;document.body.removeEventListener("click",t.ref.handleBodyClick)},write:function(e){var t=e.root,s=e.props;if(t.ref.list.opacity=t.ref.open?1:0,t.ref.list.selectedValue=s.selectedValue,t.ref.list.options=s.options,"up"===s.direction){var i=t.ref.list.rect.element.height;t.ref.list.translateY=(t.ref.open?-(i+5):-i)-t.rect.element.height}else t.ref.list.translateY=t.ref.open?0:-5}}),ma=function(e,t){var s=e.element.querySelectorAll(".doka--icon-aspect-ratio rect");if(s.length){if(!t)return s[0].style.opacity=.2,s[1].style.opacity=.3,void(s[2].style.opacity=.4);s[0].style.opacity=t>1?1:.3,s[1].style.opacity=1===t?.85:.5,s[2].style.opacity=t<1?1:.3}},fa=function(e,t){Array.from(e.element.querySelectorAll(".doka--icon-turn rect")).forEach((function(e){t>1&&(e.setAttribute("x",e.previousElementSibling?5:4),e.setAttribute("width",9)),t<1&&(e.setAttribute("y",11),e.setAttribute("height",10))}))},ba=function(e){var t,s;e>1?(s=14,t=Math.round(s/e)):(t=14,s=Math.round(t*e));var i=Math.round(.5*(23-t)),r=Math.round(.5*(23-s));return'<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><g fill="currentColor"><rect x="'.concat(i,'" y="').concat(r,'" width="').concat(t,'" height="').concat(s,'" rx="2.5"/></g></svg>')},va=ae({name:"crop",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden","offsetTop"]},create:function(e){var t=e.root,s=e.props;s.viewId="crop",s.hidden=!1,t.ref.isHiding=!1;var i=[];t.query("GET_CROP_ALLOW_IMAGE_TURN_LEFT")&&i.push({view:Cr,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_ROTATE_LEFT"),icon:Pr('<g transform="translate(3 2)" fill="currentColor" fill-rule="evenodd" class="doka--icon-turn"><rect y="9" width="12" height="12" rx="1"/><path d="M9.823 5H11a5 5 0 0 1 5 5 1 1 0 0 0 2 0 7 7 0 0 0-7-7H9.626l.747-.747A1 1 0 0 0 8.958.84L6.603 3.194a1 1 0 0 0 0 1.415l2.355 2.355a1 1 0 0 0 1.415-1.414L9.823 5z" fill-rule="nonzero" /></g>',26),action:function(){return t.dispatch("CROP_IMAGE_ROTATE_LEFT")}}),t.query("GET_CROP_ALLOW_IMAGE_TURN_RIGHT")&&i.push({view:Cr,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_ROTATE_RIGHT"),icon:Pr('<g transform="translate(5 2)" fill="currentColor" fill-rule="evenodd" class="doka--icon-turn"><path d="M8.177 5H7a5 5 0 0 0-5 5 1 1 0 0 1-2 0 7 7 0 0 1 7-7h1.374l-.747-.747A1 1 0 0 1 9.042.84l2.355 2.355a1 1 0 0 1 0 1.415L9.042 6.964A1 1 0 0 1 7.627 5.55l.55-.55z" fill-rule="nonzero"/><rect x="6" y="9" width="12" height="12" rx="1"/></g>',26),action:function(){return t.dispatch("CROP_IMAGE_ROTATE_RIGHT")}}),t.query("GET_CROP_ALLOW_IMAGE_FLIP_HORIZONTAL")&&i.push({view:Cr,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_FLIP_HORIZONTAL"),icon:Pr('<g fill="currentColor" fill-rule="evenodd"><path d="M11.93 7.007V20a1 1 0 0 1-1 1H5.78a1 1 0 0 1-.93-1.368l5.15-12.993a1 1 0 0 1 1.929.368z"/><path d="M14 7.007V20a1 1 0 0 0 1 1h5.149a1 1 0 0 0 .93-1.368l-5.15-12.993A1 1 0 0 0 14 7.007z" opacity=".6"/></g>',26),action:function(){return t.dispatch("CROP_IMAGE_FLIP_HORIZONTAL")}}),t.query("GET_CROP_ALLOW_IMAGE_FLIP_HORIZONTAL")&&i.push({view:Cr,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_FLIP_VERTICAL"),icon:Pr('<g fill="currentColor" fill-rule="evenodd"><path d="M19.993 12.143H7a1 1 0 0 1-1-1V5.994a1 1 0 0 1 1.368-.93l12.993 5.15a1 1 0 0 1-.368 1.93z"/><path d="M19.993 14a1 1 0 0 1 .368 1.93L7.368 21.078A1 1 0 0 1 6 20.148V15a1 1 0 0 1 1-1h12.993z" opacity=".6"/></g></svg>',26),action:function(){return t.dispatch("CROP_IMAGE_FLIP_VERTICAL")}});var r=t.query("GET_CROP_ASPECT_RATIO_OPTIONS");r&&r.length&&i.push({view:pa,name:"tool",label:t.query("GET_LABEL_BUTTON_CROP_ASPECT_RATIO"),icon:Pr('<g class="doka--icon-aspect-ratio" fill="currentColor" fill-rule="evenodd"><rect x="2" y="4" opacity=".3" width="10" height="18" rx="1"/><rect opacity=".5" x="4" y="8" width="14" height="14" rx="1"/><rect x="6" y="12" width="17" height="10" rx="1"/></g>',26),options:null,onToggle:function(){t.dispatch("TOGGLE_ASPECT_RATIO")},onSelect:function(e){t.dispatch("CROP_SET_ASPECT_RATIO",{value:e})},didCreateView:function(e){t.ref.aspectRatioDropdown=e}}),t.ref.menu=t.appendChildView(t.createChildView(da("toolbar",["opacity"],{opacity:{type:"spring",mass:15,delay:50}}),{opacity:0,controls:i})),t.ref.menuItemsRequiredWidth=null,t.ref.subject=t.appendChildView(t.createChildView(sa,p({},s))),t.ref.rotator=t.appendChildView(t.createChildView(Nn,{rotation:0,opacity:0,translateY:20,id:s.id})),t.ref.resizer=t.appendChildView(t.createChildView(ua,{pivotPoint:{x:0,y:0}})),t.ref.updateControls=function(){var e=t.query("GET_IMAGE");if(fa(t,e.height/e.width),t.ref.aspectRatioDropdown){var s=t.query("GET_MIN_IMAGE_SIZE"),i=r.filter((function(t){if(!t.value)return!0;if(t.value<1){if(e.naturalWidth*t.value<s.height)return!1}else if(e.naturalHeight/t.value<s.width)return!1;return!0}));t.ref.aspectRatioDropdown.options=i.map((function(e){return p({},e,{icon:ba(e.value)})}))}},t.ref.isModal=/modal|fullscreen/.test(t.query("GET_STYLE_LAYOUT_MODE"))},read:function(e){var t=e.root,s=e.props;if(s.hidden)t.ref.menuItemsRequiredWidth=null;else{var i=t.rect;if(0!==i.element.width&&0!==i.element.height){if(null===t.ref.menuItemsRequiredWidth){var r=t.ref.menu.childViews.reduce((function(e,t){return e+t.rect.outer.width}),0);t.ref.menuItemsRequiredWidth=0===r?null:r}var n=t.ref.subject.rect.element,a=n.left,o=n.top,c=n.width,l=n.height;s.stagePosition={x:a,y:o,width:c,height:l}}}},shouldUpdateChildViews:function(e){return!e.props.hidden},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.action,i=e.props,r=t.ref,n=r.menu,a=r.rotator,o=r.subject;i.viewId===s.id?(o.opacity=1,n.opacity=1,a.opacity=1,a.translateY=0,i.hidden=!1,t.ref.isHiding=!1,t.ref.updateControls()):(o.opacity=0,n.opacity=0,a.opacity=0,a.translateY=20,t.ref.isHiding=!0)},UNLOAD_IMAGE:function(e){var t=e.root.ref,s=t.menu,i=t.rotator;s.opacity=0,i.opacity=0,i.translateY=20},DID_PRESENT_IMAGE:function(e){var t=e.root,s=t.ref,i=s.menu,r=s.rotator;i.opacity=1,r.opacity=1,r.translateY=0,t.ref.updateControls()}},(function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.ref,n=r.resizer,a=r.subject,o=r.menu,c=r.rotator,l=r.isHiding,u=r.aspectRatioDropdown,d=s.hidden,h=0===a.opacity&&0===o.opacity&&0===c.opacity;if(!d&&l&&h&&(t.ref.isHiding=!1,s.hidden=!0),!s.hidden){var p=t.query("GET_CROP",s.id,i);if(p){if(u){var m=t.query("GET_ACTIVE_CROP_ASPECT_RATIO");u.selectedValue!==m&&(ma(t,m),u&&(u.selectedValue=m))}if(n.pivotPoint={x:.5*n.rect.element.width,y:.5*n.rect.element.height},c.animate=!p.isDraft,c.rotation=p.rotation.sub,c.setAllowInteraction(t.query("IS_ACTIVE_VIEW","crop")),o.element.dataset.layout=t.ref.menuItemsRequiredWidth>t.ref.menu.rect.element.width?"compact":"spacious",t.query("GET_CROP_RESIZE_SCROLL_RECT_ONLY")){var f=t.query("GET_STAGE"),b=f.x,v=f.y,g=t.query("GET_ROOT"),_=t.ref.isModal?g.left:0,y=t.ref.isModal?g.top:0;n.scrollRect={x:_+b+p.cropRect.x,y:y+v+p.cropRect.y+s.offsetTop,width:p.cropRect.width,height:p.cropRect.height}}}}}))}),ga=ae({name:"size-input",mixins:{listeners:!0,apis:["id","value","placeholder","getValue","setValue","setPlaceholder","hasFocus","onChange"]},create:function(e){var t=e.root,s=e.props,i=s.id,r=s.min,n=s.max,a=s.value,o=s.placeholder,c=s.onChange,l=void 0===c?function(){}:c,u=s.onBlur,d=void 0===u?function(){}:u,h="doka--".concat(i,"-").concat(Ne()),p=I("input",{type:"number",step:1,id:h,min:r,max:n,value:a,placeholder:o}),m=p.getAttribute("max").length,f=I("label",{for:h});f.textContent=s.label;var b=function(e,t,s){return be(e)?((e=e.replace(/[^0-9]/g,"")).length>m&&(e=e.slice(0,m)),e=parseInt(e,10)):e=Math.round(e),isNaN(e)?null:Qe(e,t,s)},v=function(e){return e.length?parseInt(p.value,10):null};t.ref.handleInput=function(){p.value=b(p.value,1,n),l(v(p.value))},t.ref.handleBlur=function(){p.value=b(p.value,r,n),d(v(p.value))},p.addEventListener("input",t.ref.handleInput),p.addEventListener("blur",t.ref.handleBlur),t.appendChild(p),t.appendChild(f),t.ref.input=p,s.hasFocus=function(){return p===document.activeElement},s.getValue=function(){return v(p.value)},s.setValue=function(e){return p.value=e?b(e,1,999999):null},s.setPlaceholder=function(e){return p.placeholder=e}},destroy:function(e){var t=e.root;t.ref.input.removeEventListener("input",t.ref.handleInput),t.ref.input.removeEventListener("blur",t.ref.handleBlur)}}),_a=ae({name:"checkable",tag:"span",mixins:{listeners:!0,apis:["id","checked","onChange","onSetValue","setValue","getValue"]},create:function(e){var t=e.root,s=e.props,i=s.id,r=s.checked,n=s.onChange,a=void 0===n?function(){}:n,o=s.onSetValue,c=void 0===o?function(){}:o,l="doka--".concat(i,"-").concat(Ne()),u=I("input",{type:"checkbox",value:1,id:l});u.checked=r,t.ref.input=u;var d=I("label",{for:l});d.innerHTML=s.label,t.appendChild(u),t.appendChild(d),t.ref.handleChange=function(){c(u.checked),a(u.checked)},u.addEventListener("change",t.ref.handleChange),s.getValue=function(){return u.checked},s.setValue=function(e){u.checked=e,c(u.checked)},setTimeout((function(){c(u.checked)}),0)},destroy:function(e){var t=e.root;t.ref.input.removeEventListener("change",t.ref.handleChange)}}),ya=null,wa=function(){return null===ya&&(ya=/Android/i.test(navigator.userAgent)),ya},Oa=ae({ignoreRect:!0,name:"resize-form",tag:"form",mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:15,delay:150}}},create:function(e){var t=e.root;t.element.setAttribute("novalidate","novalidate"),t.element.setAttribute("action","#"),t.ref.shouldBlurKeyboard=Ge()||wa();var s=t.query("GET_SIZE_MAX"),i=t.query("GET_SIZE_MIN"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.axisLock,n=void 0===r?"none":r,a=e.enforceLimits,o=void 0!==a&&a,c=t.ref,l=c.inputImageWidth,u=c.inputImageHeight,d=c.buttonConfirm,h=t.query("GET_SIZE_ASPECT_RATIO_LOCK"),p=t.query("GET_CROP_RECTANGLE_ASPECT_RATIO"),m={width:l.getValue(),height:u.getValue()},f=Bt(m,o?i:{width:1,height:1},o?s:{width:999999,height:999999},h?p:null,n);if(h)"width"===n?u.setValue(f.width/p):"height"===n?l.setValue(f.height*p):(l.setValue(f.width||f.height*p),u.setValue(f.height||f.width/p));else if(f.width&&!f.height){var b=Math.round(f.width/p),v=Bt({width:f.width,height:b},o?i:{width:1,height:1},o?s:{width:999999,height:999999},p,n);o&&l.setValue(Math.round(v.width)),u.setPlaceholder(Math.round(v.height))}else if(f.height&&!f.width){var g=Math.round(f.height*p);l.setPlaceholder(g)}var _=t.query("GET_SIZE_INPUT"),y=_.width,w=_.height,O=F(y)?Math.round(y):null,C=F(w)?Math.round(w):null,P=l.getValue(),x=u.getValue(),k=P!==O||x!==C;return d.opacity=k?1:0,t.dispatch("KICK"),{width:l.getValue(),height:u.getValue()}},n=t;t.appendChildView(t.createChildView(Ca("Image size",(function(e){var t=e.root,a=t.query("GET_SIZE"),o=t.appendChildView(t.createChildView(ga,{id:"image-width",label:"Width",value:F(a.width)?Math.round(a.width):null,min:i.width,max:s.width,placeholder:0,onChange:function(){return r({axisLock:"width"})},onBlur:function(){return r({enforceLimits:!1})}})),c=t.appendChildView(t.createChildView(_a,{id:"aspect-ratio-lock",label:Pr('<g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width="1.5" stroke-linecap="round" class="doka--aspect-ratio-lock-ring" d="M9.401 10.205v-.804a2.599 2.599 0 0 1 5.198 0V14"/><rect fill="currentColor" x="7" y="10" width="10" height="7" rx="1.5"/></g>'),checked:t.query("GET_SIZE_ASPECT_RATIO_LOCK"),onSetValue:function(e){var t=e?0:-3;c.element.querySelector(".doka--aspect-ratio-lock-ring").setAttribute("transform","translate(0 ".concat(t,")"))},onChange:function(e){t.dispatch("RESIZE_SET_OUTPUT_SIZE_ASPECT_RATIO_LOCK",{value:e}),r()}})),l=t.appendChildView(t.createChildView(ga,{id:"image-height",label:"Height",value:F(a.height)?Math.round(a.height):null,min:i.height,max:s.height,placeholder:0,onChange:function(){return r({axisLock:"height"})},onBlur:function(){return r({enforceLimits:!1})}}));n.ref.aspectRatioLock=c,n.ref.inputImageWidth=o,n.ref.inputImageHeight=l})))),t.ref.buttonConfirm=t.appendChildView(t.createChildView(Cr,{name:"app action-confirm icon-only",label:"Apply",action:function(){},opacity:0,icon:Pr('><polyline fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="20 6 9 17 4 12"></polyline>'),type:"submit"})),t.ref.confirmForm=function(e){var s=r({enforceLimits:!0});e.preventDefault();var i=t.ref,n=i.shouldBlurKeyboard,a=i.buttonConfirm;n&&(document.activeElement.blur(),a.element.focus()),a.opacity=0,t.dispatch("RESIZE_SET_OUTPUT_SIZE",s)},t.element.addEventListener("submit",t.ref.confirmForm)},destroy:function(e){var t=e.root;t.element.removeEventListener("submit",t.ref.confirmForm)},write:ce({EDIT_RESET:function(e){var t=e.root,s=t.query("GET_SIZE"),i=t.ref,r=i.inputImageWidth,n=i.inputImageHeight,a=i.aspectRatioLock,o=i.buttonConfirm;r.setValue(s.width),n.setValue(s.height),a.setValue(t.query("GET_SIZE_ASPECT_RATIO_LOCK")),o.opacity=0},RESIZE_SET_OUTPUT_SIZE:function(e){var t=e.root,s=e.action,i=t.ref,r=i.inputImageWidth,n=i.inputImageHeight;r.setValue(s.width),n.setValue(s.height)},CROP_SET_ASPECT_RATIO:function(e){var t=e.root,s=e.props,i=e.action,r=e.timestamp,n=t.query("GET_CROP",s.id,r);if(n){var a=n.cropStatus,o=t.ref,c=o.inputImageWidth,l=o.inputImageHeight;null!==i.value?(c.setValue(a.image.width),c.setPlaceholder(a.crop.width),l.setValue(a.image.height),l.setPlaceholder(a.crop.height)):c.getValue()&&l.getValue()&&(l.setValue(null),l.setPlaceholder(a.crop.height))}}},(function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.query("GET_CROP",s.id,i);if(r){var n=r.cropStatus,a=t.ref,o=a.inputImageWidth,c=a.inputImageHeight;if(!o.hasFocus()&&!c.hasFocus()){var l=t.query("GET_CROP_RECTANGLE_ASPECT_RATIO");if(null===o.getValue()&&null===c.getValue())o.setPlaceholder(n.crop.width),c.setPlaceholder(n.crop.height);else if(null===o.getValue()&&null!==n.image.height){var u=Math.round(n.image.height*l);o.setPlaceholder(u)}else if(null===c.getValue()&&null!==n.image.width){var d=Math.round(n.image.width/l);c.setPlaceholder(d)}}}}))}),Ca=function(e,t){return ae({tag:"fieldset",create:function(s){var i=s.root,r=I("legend");r.textContent=e,i.element.appendChild(r),t({root:i})}})},Pa=ae({name:"resize",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function(e){var t=e.root,s=e.props;s.viewId="resize",s.hidden=!1,t.ref.isHiding=!1,t.ref.form=t.appendChildView(t.createChildView(Oa,{opacity:0,id:s.id}))},read:function(e){var t=e.root,s=e.props;if(!s.hidden){var i=t.rect;if(0!==i.element.width&&0!==i.element.height){var r=t.ref.form.rect;s.stagePosition={x:i.element.left,y:i.element.top+r.element.height,width:i.element.width,height:i.element.height-r.element.height}}}},shouldUpdateChildViews:function(e){return!e.props.hidden},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.action,i=e.props;s.id===i.viewId?(t.ref.isHiding=!1,t.ref.form.opacity=1):(t.ref.isHiding=!0,t.ref.form.opacity=0)}},(function(e){var t=e.root,s=e.props,i=t.ref,r=i.form,n=i.isHiding,a=s.hidden;n&&0===r.opacity&&!a?s.hidden=!0:s.hidden=!1}))}),xa=ae({name:"range-input",tag:"span",mixins:{listeners:!0,apis:["onUpdate","setValue","getValue","setAllowInteraction"]},create:function(e){var t=e.root,s=e.props,i=s.id,r=s.min,n=s.max,a=s.step,o=s.value,c=s.onUpdate,l=void 0===c?function(){}:c,u="doka--".concat(i,"-").concat(Ne()),d=I("input",{type:"range",id:u,min:r,max:n,step:a});d.value=o,t.ref.input=d;var h=I("span");h.className="doka--range-input-inner";var p=I("label",{for:u});p.innerHTML=s.label;var m=r+.5*(n-r);t.element.dataset.centered=o===m,t.ref.handleRecenter=function(){s.setValue(m),t.ref.handleChange()};var f=I("button",{type:"button"});f.textContent="center",f.addEventListener("click",t.ref.handleRecenter),t.ref.recenter=f,h.appendChild(d),h.appendChild(f),t.appendChild(p),t.appendChild(h),t.ref.handleChange=function(){var e=s.getValue();t.element.dataset.centered=e===m,l(e)},d.addEventListener("input",t.ref.handleChange);var b=null;t.ref.dragger=Ur(h,(function(){b=d.getBoundingClientRect()}),(function(e){var s=(e.pageX-b.left)/b.width;d.value=r+s*(n-r),t.ref.handleChange()}),(function(){}),{stopPropagation:!0}),s.getValue=function(){return parseFloat(d.value)},s.setValue=function(e){return d.value=e},s.setAllowInteraction=function(e){e?t.ref.dragger.enable():t.ref.dragger.disable()}},destroy:function(e){var t=e.root;t.ref.dragger.destroy(),t.ref.recenter.removeEventListener("click",t.ref.handleRecenter),t.ref.input.removeEventListener("input",t.ref.handleChange)}}),ka={brightness:{icon:Pr('<g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="7"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></g>')},contrast:{icon:Pr('<g fill="none" fill-rule="evenodd"><circle stroke="currentColor" stroke-width="3" cx="12" cy="12" r="10"/><path d="M12 2v20C6.477 22 2 17.523 2 12S6.477 2 12 2z" fill="currentColor"/></g>')},exposure:{icon:Pr('<g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="3" x="2" y="2" width="20" height="20" rx="4"/><path d="M20.828 3.172L3.172 20.828A3.987 3.987 0 0 1 2 18V6a4 4 0 0 1 4-4h12c1.105 0 2.105.448 2.828 1.172zM7 7H5v2h2v2h2V9h2V7H9V5H7v2zM12 15h5v2h-5z" fill="currentColor"/></g>')},saturation:{icon:Pr('<g fill="none" fill-rule="evenodd"><rect stroke="currentColor" stroke-width="3" x="2" y="2" width="20" height="20" rx="4"/><path fill="currentColor" opacity=".3" d="M7 2.5h5v18.75H7z"/><path fill="currentColor" opacity=".6" d="M12 2.5h5v18.75h-5z"/><path fill="currentColor" opacity=".9" d="M17 2.5h4v18.75h-4z"/></g>')}},Sa=ae({ignoreRect:!0,name:"color-form",tag:"form",mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:15}}},create:function(e){var t=e.root;t.element.setAttribute("novalidate","novalidate");var s=t.query("GET_COLOR_VALUES");t.ref.tools=Object.keys(ka).reduce((function(e,i){var r=i,n=ka[i].icon,a=t.query("GET_LABEL_COLOR_".concat(i.toUpperCase())),o=t.query("GET_COLOR_".concat(i.toUpperCase(),"_RANGE")),c=s[i];return e[r]={view:t.appendChildView(t.createChildView(xa,{id:r,label:"".concat(n,"<span>").concat(a,"</span>"),min:o[0],max:o[1],step:.01,value:c,onUpdate:function(e){return t.dispatch("COLOR_SET_COLOR_VALUE",{key:r,value:e})}}))},e}),{})},write:ce({COLOR_SET_VALUE:function(e){var t=e.root,s=e.action;t.ref.tools[s.key].view.setValue(s.value)},SHOW_VIEW:function(e){var t=e.root,s=e.action;Object.keys(t.ref.tools).forEach((function(e){t.ref.tools[e].view.setAllowInteraction("color"===s.id)}))}})}),Ea=null,Ta=null,Aa=function(e,t){var s=t.brightness,i=t.exposure,r=t.contrast,n=t.saturation;if(0!==s){var a=s<0,o=a?"multiply":"overlay",c=a?0:255,l=a?Math.abs(s):1-s;e.ref.imageOverlay.style.cssText="mix-blend-mode: ".concat(o,"; background: rgba(").concat(c,",").concat(c,",").concat(c,",").concat(l,")")}return e.ref.imageOverlay.style.cssText="background:transparent",e.ref.image.style.cssText="filter: brightness(".concat(i,") contrast(").concat(r,") saturate(").concat(n,")"),t},ja=Object.keys(ka),$a=function(e,t){return ja.findIndex((function(s){return e[s]!==t[s]}))<0},Ma=function(e){return ae({ignoreRect:!0,tag:"li",name:"filter-tile",mixins:{styles:["opacity","translateY"],animations:{translateY:{type:"spring",delay:10*e},opacity:{type:"spring",delay:30*e}}},create:function(e){var t=e.root,s=e.props,i="doka--filter-".concat(s.style,"-").concat(Ne()),r=I("input",{id:i,type:"radio",name:"filter"});t.appendChild(r),r.checked=s.selected,r.value=s.style,r.addEventListener("change",(function(){r.checked&&s.onSelect()}));var n=I("label",{for:i});n.textContent=s.label,t.appendChild(n);var a=s.imageData,o=Math.min(a.width,a.height),c=o,l=I("canvas");l.width=o,l.height=c;var u=l.getContext("2d");t.ref.image=l;var d=I("div");t.ref.imageOverlay=d;var h={x:.5*o-.5*a.width,y:.5*c-.5*a.height},p=I("div");p.appendChild(l),p.appendChild(d),t.appendChild(p),t.ref.imageWrapper=p,s.matrix?(Ea||(Ea=gi(di)),clearTimeout(Ta),Ea.post({transforms:[{type:"filter",data:s.matrix}],imageData:a},(function(e){u.putImageData(e,h.x,h.y),clearTimeout(Ta),Ta=setTimeout((function(){Ea.terminate(),Ea=null}),1e3)}),[a.data.buffer]),t.ref.activeColors=Aa(t,t.query("GET_COLOR_VALUES"))):u.putImageData(a,h.x,h.y)},write:function(e){var t=e.root,s=t.query("GET_COLOR_VALUES"),i=t.ref.activeColors;(!i&&s||!$a(i,s))&&(t.ref.activeColors=s,Aa(t,s))}})},Ia=function(e){var t;try{t=new ImageData(e.width,e.height)}catch(s){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},La=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,s){return e===t[s]}))},Da=ae({ignoreRect:!0,tag:"ul",name:"filter-list",mixins:{apis:["filterOpacity"]},create:function(e){var t=e.root,s=e.props;t.element.setAttribute("role","list"),t.ref.tiles=[];var i=t.query("GET_THUMB_IMAGE_DATA"),r=t.query("GET_FILTERS"),n=[];E(r,(function(e,t){n.push(p({id:e},t))})),t.ref.activeFilter=t.query("GET_FILTER"),t.ref.tiles=n.map((function(e,r){var n=e.matrix(),a=t.ref.activeFilter===e.id||La(t.ref.activeFilter,n)||0===r;return t.appendChildView(t.createChildView(Ma(r),{opacity:0,translateY:-5,id:s.id,style:e.id,label:e.label,matrix:n,imageData:Ia(i),selected:a,onSelect:function(){return t.dispatch("FILTER_SET_FILTER",{value:n?e.id:null})}}))}))},write:function(e){var t=e.root,s=e.props,i=t.query("GET_FILTER");if(i!==t.ref.activeFilter){t.ref.activeFilter=i;var r=t.query("GET_FILTERS"),n=i?be(i)?i:Hi(i)?Object.keys(r).find((function(e){return La(r[e].matrix(),i)})):null:"original";Array.from(t.element.querySelectorAll("input")).forEach((function(e){return e.checked=e.value===n}))}t.query("IS_ACTIVE_VIEW","filter")?t.ref.tiles.forEach((function(e){e.opacity=1,e.translateY=0})):t.ref.tiles.forEach((function(e){e.opacity=0,e.translateY=-5})),s.filterOpacity=t.ref.tiles.reduce((function(e,t){return e+t.opacity}),0)/t.ref.tiles.length}}),Ra=ae({name:"filter",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function(e){var t=e.root,s=e.props;s.viewId="filter",s.hidden=!1,t.ref.isHiding=!1,t.ref.filters=t.appendChildView(t.createChildView(Da,{id:s.id}))},read:function(e){var t=e.root,s=e.props;if(t.ref.filters&&!s.hidden){var i=t.rect;if(0!==i.element.width&&0!==i.element.height){var r=t.ref.filters.rect,n=0===r.element.top,a=n?i.element.top+r.element.height:i.element.top,o=n?i.element.height-r.element.height:i.element.height-r.element.height-i.element.top;s.stagePosition={x:i.element.left+r.element.left,y:a,width:i.element.width-r.element.left,height:o}}}},shouldUpdateChildViews:function(e){return!e.props.hidden},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.action,i=e.props;t.ref.filters&&(s.id===i.viewId?(t.ref.isHiding=!1,i.hidden=!1):t.ref.isHiding=!0)}},(function(e){var t=e.root,s=e.props;t.ref.isHiding&&0===t.ref.filters.filterOpacity&&(t.ref.isHiding=!1,s.hidden=!0)}))}),Ua=ae({name:"color",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function(e){var t=e.root,s=e.props;s.viewId="color",s.hidden=!1,t.ref.isHiding=!1,t.ref.form=t.appendChildView(t.createChildView(Sa,{opacity:0,id:s.id}))},read:function(e){var t=e.root,s=e.props;if(!s.hidden){var i=t.rect;if(0!==i.element.width&&0!==i.element.height){var r=t.ref.form.rect,n=r.element.height,a=0===r.element.top,o=a?i.element.top+n:i.element.top,c=a?i.element.height-n:i.element.height-n-i.element.top;s.stagePosition={x:i.element.left+r.element.left,y:o,width:i.element.width-r.element.left,height:c}}}},shouldUpdateChildViews:function(e){return!e.props.hidden},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.action,i=e.props;s.id===i.viewId?(t.ref.isHiding=!1,t.ref.form.opacity=1,i.hidden=!1):(t.ref.isHiding=!0,t.ref.form.opacity=0)}},(function(e){var t=e.root,s=e.props;t.ref.isHiding&&0===t.ref.form.opacity&&(t.ref.isHiding=!1,s.hidden=!0)}))}),Na=ae({ignoreRect:!0,tag:"ul",name:"markup-color",mixins:{animations:{opacity:"spring"},styles:["opacity"],apis:["onSelect","setSelectedValue"]},create:function(e){var t=e.root,s=e.props,i=s.colors,r=s.name,n=s.onSelect;s.setSelectedValue=function(e){t.ref.inputs.forEach((function(t){t.checked=t.value===e}))},t.element.addEventListener("change",(function(e){n(e.target.value),e.stopPropagation()})),t.ref.inputs=i.map((function(e){var s="doka--color-"+Ne(),i=I("li"),n=I("input");n.id=s,n.setAttribute("type","radio"),n.setAttribute("name",r),n.value=e[1];var a=I("label");return a.setAttribute("for",s),a.textContent=e[0],a.title=e[0],a.style.backgroundColor=e[2]||e[1],i.appendChild(n),i.appendChild(a),t.element.appendChild(i),n}))}}),Ba=["fontFamily","fontSize","fontWeight","textAlign","backgroundColor","fontColor","borderColor","borderWidth","borderStyle","lineColor","lineWidth","lineDecoration","lineJoin","lineCap"],Fa=function(e){return'<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">'.concat(e,"</svg>")},Va=function(e){var t=0===e?"currentColor":"none",s=e;return Fa('<rect stroke="'.concat(0===e?"none":"currentColor",'" fill="').concat(t,'" stroke-width="').concat(s,'" x="2" y="3" width="17" height="17" rx="3"/>'))},Ha=function(e){return Fa('<line stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width="'.concat(e,'" x1="3" y1="12" x2="20" y2="12"/>'))},za=ae({name:"markup-tools",ignoreRect:!0,mixins:{apis:["onUpdate"],animations:{translateY:"spring",opacity:"spring"},styles:["translateY","opacity"]},create:function(e){var t=e.root,s=e.props.onUpdate;t.ref.activeMarkup=null;var i=function(e){t.ref.activeMarkup&&s(t.ref.activeMarkup[1].id,e)};t.ref.colorSelect=t.appendChildView(t.createChildView(Na,{onSelect:function(e){var s={};s[qa(t.ref.activeMarkup[1])]=e,i(s)},name:"color-select",colors:t.query("GET_MARKUP_COLOR_OPTIONS")})),t.ref.shapeStyleSelect=t.appendChildView(t.createChildView(pa,{onSelect:function(e){t.ref.shapeStyleSelect.selectedValue=e;var s=Ga(t.ref.activeMarkup[1]),r=e[1],n=e[2],a=e[3]?null:s;i({borderWidth:r,borderStyle:n,backgroundColor:a,borderColor:s})},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_SHAPE_STYLE"),direction:"up",options:t.query("GET_MARKUP_SHAPE_STYLE_OPTIONS").map((function(e){return{value:e,label:e[0],icon:Va(e[3])}}))})),t.ref.lineStyleSelect=t.appendChildView(t.createChildView(pa,{onSelect:function(e){t.ref.lineStyleSelect.selectedValue=e;var s=e[1],r=e[2];i({lineWidth:s,lineStyle:r})},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_LINE_STYLE"),direction:"up",options:t.query("GET_MARKUP_LINE_STYLE_OPTIONS").map((function(e){return{value:e,label:e[0],icon:Ha(e[3])}}))})),t.ref.lineDecorationSelect=t.appendChildView(t.createChildView(pa,{onSelect:function(e){t.ref.lineDecorationSelect.selectedValue=e,i({lineDecoration:e})},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_LINE_DECORATION"),direction:"up",options:t.query("GET_MARKUP_LINE_DECORATION_OPTIONS").map((function(e){return{value:e[1],label:e[0]}}))})),t.ref.fontFamilySelect=t.appendChildView(t.createChildView(pa,{onSelect:function(e){t.ref.fontFamilySelect.selectedValue=e,i({fontFamily:e})},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_FONT_FAMILY"),direction:"up",options:t.query("GET_MARKUP_FONT_FAMILY_OPTIONS").map((function(e){return{value:e[1],label:'<span style="font-family:'.concat(e[1],';font-weight:600;">').concat(e[0],"</span>")}}))})),t.ref.fontSizeSelect=t.appendChildView(t.createChildView(pa,{onSelect:function(e){t.ref.fontSizeSelect.selectedValue=e,i({fontSize:e})},name:"tool",label:t.query("GET_LABEL_MARKUP_SELECT_FONT_SIZE"),direction:"up",options:t.query("GET_MARKUP_FONT_SIZE_OPTIONS").map((function(e){return{value:e[1],label:e[0]}}))}))},write:ce({MARKUP_SELECT:function(e){var t=e.root,s=e.action,i=t.ref,r=i.colorSelect,n=i.fontFamilySelect,a=i.fontSizeSelect,o=i.shapeStyleSelect,c=i.lineStyleSelect,l=i.lineDecorationSelect;t.ref.activeMarkup=s.id?t.query("GET_MARKUP_BY_ID",s.id):null;var u=[r,n,a,o,c,l],d=[];if(t.ref.activeMarkup){var h=m(t.ref.activeMarkup,2),p=h[0],f=h[1],b=Array.isArray(f.allowEdit)?f.allowEdit:!1===f.allowEdit?[]:Ba,v=Ba.reduce((function(e,t){return e[t]=-1!==b.indexOf(t),e}),{});if(v.color=!!b.find((function(e){return/[a-z]Color/.test(e)})),"image"!==p&&v.color&&(r.setSelectedValue(Ga(f)),d.push(r)),"text"===p&&(v.fontFamily&&(n.selectedValue=f.fontFamily,d.push(n)),v.fontSize&&(a.selectedValue=f.fontSize,d.push(a))),("rect"===p||"ellipse"===p)&&v.borderStyle){var g=t.query("GET_MARKUP_SHAPE_STYLE_OPTIONS").find((function(e){var t=f.borderWidth===e[1],s=f.borderStyle===e[2]||La(f.borderStyle,e[2]);return t&&s}));o.selectedValue=g,d.push(o)}if("line"===p){if(v.lineWidth){var _=t.query("GET_MARKUP_LINE_STYLE_OPTIONS").find((function(e){var t=f.lineWidth===e[1],s=f.lineStyle===e[2]||La(f.lineStyle,e[2]);return t&&s}));c.selectedValue=_,d.push(c)}v.lineDecoration&&(l.selectedValue=f.lineDecoration,d.push(l))}u.forEach((function(e){e.element.dataset.active="false"})),d.forEach((function(e){e.element.dataset.active="true"}))}}})}),qa=function(e){return e.borderWidth?"borderColor":e.lineWidth?"lineColor":e.fontColor?"fontColor":e.backgroundColor?"backgroundColor":void 0},Ga=function(e){var t=e.fontColor,s=e.backgroundColor,i=e.lineColor,r=e.borderColor;return t||s||i||r},Za=ae({name:"markup",ignoreRect:!0,mixins:{apis:["viewId","stagePosition","hidden"]},create:function(e){var t=e.root,s=e.props;s.viewId="markup",s.hidden=!1,t.ref.isHiding=!1,t.ref.defaultRect={x:.5,y:.5,width:.25,height:.25};var i=function(){return.5*Math.random()-.25},r=function(){return p({},t.ref.defaultRect,{x:t.ref.defaultRect.x-.5*t.ref.defaultRect.width+i(),y:t.ref.defaultRect.y-.5*t.ref.defaultRect.height+i()})},n=function(e){return t.query("GET_MARKUP_".concat(e,"_OPTIONS"))[t.query("GET_MARKUP_".concat(e,"_DEFAULT"))]},a=function(){return{backgroundColor:0===n("SHAPE_STYLE")[3]?n("COLOR")[1]:null,borderWidth:n("SHAPE_STYLE")[1],borderStyle:n("SHAPE_STYLE")[2]?n("SHAPE_STYLE")[2]:null,borderColor:n("COLOR")[1]}},o=[{view:Cr,name:"tool",label:t.query("GET_LABEL_MARKUP_TYPE_RECTANGLE"),icon:Pr('<g fill="currentColor"><rect x="5" y="5" width="16" height="16" rx="2"/></g>',26),action:function(){return t.dispatch("MARKUP_ADD",["rect",p({},r(),a())])}},{view:Cr,name:"tool",label:t.query("GET_LABEL_MARKUP_TYPE_ELLIPSE"),icon:Pr('<g fill="currentColor"><circle cx="13" cy="13" r="9"/></g>',26),action:function(){return t.dispatch("MARKUP_ADD",["ellipse",p({},r(),a())])}},{view:Cr,name:"tool",label:t.query("GET_LABEL_MARKUP_TYPE_TEXT"),icon:Pr('<g transform="translate(5 5)" fill="currentColor" fill-rule="evenodd"><<path d="M10 4v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5z"/></g>',26),action:function(){return t.dispatch("MARKUP_ADD",["text",p({},r(),{width:0,height:0,fontColor:n("COLOR")[1],fontSize:n("FONT_SIZE")[1],fontFamily:n("FONT_FAMILY")[1],text:"Text"})])}},{view:Cr,name:"tool",label:t.query("GET_LABEL_MARKUP_TYPE_LINE"),icon:Pr('<g transform="translate(3 4.5)" fill-rule="nonzero" fill="currentColor" stroke="none"><path d="M15.414 9.414l-6.01 6.01a2 2 0 1 1-2.829-2.828L9.172 10H2a2 2 0 1 1 0-4h7.172L6.575 3.404A2 2 0 1 1 9.404.575l6.01 6.01c.362.363.586.863.586 1.415s-.224 1.052-.586 1.414z"/></g>',26),action:function(){return t.dispatch("MARKUP_ADD",["line",p({},r(),{lineColor:n("COLOR")[1],lineWidth:n("LINE_STYLE")[1],lineStyle:n("LINE_STYLE")[2]?n("LINE_STYLE")[2]:null,lineDecoration:n("LINE_DECORATION")[1]})])}}];t.query("GET_MARKUP_ALLOW_ADD_MARKUP")&&(t.ref.menu=t.appendChildView(t.createChildView(da("toolbar",["opacity"],{opacity:{type:"spring",mass:15,delay:50}}),{opacity:0,controls:o}))),t.ref.tools=t.appendChildView(t.createChildView(za,{opacity:0,onUpdate:function(e,s){t.dispatch("MARKUP_UPDATE",{id:e,props:s})}})),t.ref.menuItemsRequiredWidth=null},read:function(e){var t=e.root,s=e.props;if(s.hidden)t.ref.menuItemsRequiredWidth=null;else{var i=t.rect;if(0!==i.element.width&&0!==i.element.height){if(t.ref.menu&&null===t.ref.menuItemsRequiredWidth){var r=t.ref.menu.childViews.reduce((function(e,t){return e+t.rect.outer.width}),0);t.ref.menuItemsRequiredWidth=0===r?null:r}var n=t.ref.menu&&t.ref.menu.rect,a=t.ref.tools.rect.element.height,o=n?n.element.height:a,c=!n||0===n.element.top,l=c?i.element.top+o:i.element.top,u=c?i.element.height-o:i.element.height-o-i.element.top;s.stagePosition={x:i.element.left+20,y:l,width:i.element.width-40,height:u-a}}}},shouldUpdateChildViews:function(e){return!e.props.hidden},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.action,i=e.props;s.id===i.viewId?(i.hidden=!1,t.ref.isHiding=!1,t.ref.menu&&(t.ref.menu.opacity=1)):(t.ref.isHiding=!0,t.ref.menu&&(t.ref.menu.opacity=0),t.ref.tools.opacity=0,t.ref.tools.translateY=5)},MARKUP_SELECT:function(e){var t=e.root,s=e.action;t.ref.tools.opacity=s.id?1:0,t.ref.tools.translateY=s.id?0:5,t.ref.tools.element.dataset.active=s.id?"true":"false"}},(function(e){var t=e.root,s=e.props,i=e.timestamp;if(t.ref.isHiding&&t.ref.menu&&0===t.ref.menu.opacity&&(t.ref.isHiding=!1,s.hidden=!0),!s.hidden){var r=t.query("GET_CROP",s.id,i);if(r){var n=r.cropRect,a=n.height/n.width;t.ref.defaultRect.height=t.ref.defaultRect.width/a,t.ref.menu.element.dataset.layout=t.ref.menuItemsRequiredWidth>t.ref.menu.rect.element.width?"compact":"spacious"}}}))}),Wa=function(e,t){return!e||!t||!lt(e,t)},Ya={crop:va,resize:Pa,filter:Ra,color:Ua,markup:Za},Xa=ae({name:"view-stack",ignoreRect:!0,mixins:{apis:["offsetTop"]},create:function(e){var t=e.root;t.ref.activeView=null,t.ref.activeStagePosition=null,t.ref.shouldFocus=!1},write:ce({SHOW_VIEW:function(e){var t=e.root,s=e.props,i=e.action,r=0===t.childViews.length,n=t.childViews.find((function(e){return e.viewId===i.id}));n||(n=t.appendChildView(t.createChildView(Ya[i.id],p({},s)))),t.ref.activeView=n,t.childViews.map((function(e){return e.element})).forEach((function(e){e.dataset.viewActive="false",e.removeAttribute("tabindex")}));var a=t.ref.activeView.element;a.dataset.viewActive="true",a.setAttribute("tabindex",-1),t.ref.shouldFocus=!r},DID_PRESENT_IMAGE:function(e){var t=e.root;t.dispatch("CHANGE_VIEW",{id:t.query("GET_UTILS")[0]})},DID_SET_UTILS:function(e){var t=e.root;t.dispatch("CHANGE_VIEW",{id:t.query("GET_UTILS")[0]})}},(function(e){var t=e.root,s=e.props,i=t.ref,r=i.activeView,n=i.previousStagePosition;if(r&&r.stagePosition&&(t.childViews.forEach((function(e){e.offsetTop=s.offsetTop,e.element.viewHidden!==e.hidden&&(e.element.viewHidden=e.hidden,e.element.dataset.viewHidden=e.hidden)})),Wa(r.stagePosition,n))){var a=r.stagePosition,o=a.x,c=a.y,l=a.width,u=a.height;if(0===l&&0===u)return;t.dispatch("DID_RESIZE_STAGE",{offset:{x:o,y:c},size:{width:l,height:u},animate:!0}),t.ref.previousStagePosition=r.stagePosition}})),didWriteView:function(e){var t=e.root;t.ref.shouldFocus&&(t.ref.activeView.element.focus({preventScroll:!0}),t.ref.shouldFocus=!1)}}),Ka=ae({name:"content",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:250}}},create:function(e){var t=e.root,s=e.props;t.opacity=1,t.ref.viewStack=t.appendChildView(t.createChildView(Xa,{id:s.id})),t.ref.image=null},write:ce({DID_LOAD_IMAGE:function(e){var t=e.root,s=e.props;t.ref.image=t.appendChildView(t.createChildView(Ln,{id:s.id}))}},(function(e){var t=e.root,s=t.ref,i=s.image,r=s.viewStack;if(i){var n=t.rect.element.top;r.offsetTop=n,i.offsetTop=n}}))}),Qa=function(e,t){e.element.dataset.scaleDirection=null===t||t>1?"up":"down"},Ja=ae({name:"utils",create:function(e){var t=e.root,s={crop:{title:t.query("GET_LABEL_BUTTON_UTIL_CROP"),icon:Pr('<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width="2"><path d="M23 17H9a2 2 0 0 1-2-2v-5m0-3V1"/><path d="M1 7h14a2 2 0 0 1 2 2v7m0 4v3"/></g>')},filter:{title:t.query("GET_LABEL_BUTTON_UTIL_FILTER"),icon:Pr('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18.347 9.907a6.5 6.5 0 1 0-1.872 3.306M3.26 11.574a6.5 6.5 0 1 0 2.815-1.417"/><path d="M10.15 17.897A6.503 6.503 0 0 0 16.5 23a6.5 6.5 0 1 0-6.183-8.51"/></g>')},color:{title:t.query("GET_LABEL_BUTTON_UTIL_COLOR"),icon:Pr('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 1v5.5m0 3.503V23M12 1v10.5m0 3.5v8M20 1v15.5m0 3.5v3M2 7h4M10 12h4M18 17h4"/></g>')},markup:{title:t.query("GET_LABEL_BUTTON_UTIL_MARKUP"),icon:Pr('<g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.086 2.914a2.828 2.828 0 1 1 4 4l-14.5 14.5-5.5 1.5 1.5-5.5 14.5-14.5z"/></g>')},resize:{title:t.query("GET_LABEL_BUTTON_UTIL_RESIZE"),icon:Pr('<g fill="none" fill-rule="evenodd" stroke-width="2" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="12" width="10" height="10" rx="2"/><path d="M4 11.5V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5"/><path d="M14 10l3.365-3.365M14 6h4v4" class="doka--icon-resize-arrow-ne"/><path d="M14 10l3.365-3.365M14 6v4h4" class="doka--icon-resize-arrow-sw"/></g>')}};t.ref.utils=Object.keys(s).map((function(e){return p({id:e},s[e])})),t.ref.utilMenuRequiredWidth=null},read:function(e){var t=e.root;if(null===t.ref.utilMenuRequiredWidth){var s=t.childViews.reduce((function(e,t){return e+t.rect.outer.width}),0);t.ref.utilMenuRequiredWidth=0===s?null:s}},write:ce({DID_SET_UTILS:function(e){var t=e.root,s=f(t.query("GET_UTILS"));t.childViews.forEach((function(e){return t.removeChildView(e)})),t.element.dataset.utilCount=s.length,1===s.length&&(s.length=0),s.forEach((function(e){var s=t.ref.utils.find((function(t){return t.id===e})),i=t.appendChildView(t.createChildView(Cr,{name:"tab",view:Cr,label:s.title,opacity:1,icon:s.icon,id:s.id,action:function(){return t.dispatch("CHANGE_VIEW",{id:s.id})}}));t.ref["util_button_".concat(s.id)]=i}))},SHOW_VIEW:function(e){var t=e.root,s=e.action;t.childViews.forEach((function(e){e.element.dataset.active=e.id===s.id}))}},(function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.query("GET_CROP",s.id,i);if(r){var n=r.cropStatus;t.ref.util_button_resize&&Qa(t.ref.util_button_resize,n.image.width?n.image.width/n.crop.width:null),t.element.dataset.layout=t.ref.utilMenuRequiredWidth>t.rect.element.width?"compact":"spacious"}}))}),eo=ze()&&function(){try{var e={antialias:!1,alpha:!1},t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl",e)||t.getContext("experimental-webgl",e))}catch(e){return!1}}(),to=function(){return eo},so=ae({name:"container",create:function(e){var t=e.root,s=[{view:Cr,opacity:0,label:t.query("GET_LABEL_BUTTON_RESET"),didCreateView:function(e){return t.ref.btnReset=e},name:"app action-reset icon-only",icon:Pr('<g fill="currentColor" fill-rule="nonzero"><path d="M6.036 13.418L4.49 11.872A.938.938 0 1 0 3.163 13.2l2.21 2.209a.938.938 0 0 0 1.326 0l2.209-2.21a.938.938 0 0 0-1.327-1.326l-1.545 1.546zM12 10.216a1 1 0 0 1 2 0V13a1 1 0 0 1-2 0v-2.784z"/><path d="M15.707 14.293a1 1 0 0 1-1.414 1.414l-2-2a1 1 0 0 1 1.414-1.414l2 2z"/><path d="M8.084 19.312a1 1 0 0 1 1.23-1.577 6 6 0 1 0-2.185-3.488 1 1 0 0 1-1.956.412 8 8 0 1 1 2.912 4.653z"/></g>',26),action:function(){return t.dispatch("EDIT_RESET")}}];t.query("GET_ALLOW_BUTTON_CANCEL")&&s.unshift({view:Cr,label:t.query("GET_LABEL_BUTTON_CANCEL"),name:"app action-cancel icon-fallback",opacity:1,icon:Pr('<g fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18M6 6l12 12"/></g>'),didCreateView:function(e){t.ref.btnCancel=e},action:function(){t.dispatch("EDIT_CANCEL")}}),s.push({view:Ja}),t.query("GET_ALLOW_BUTTON_CONFIRM")&&s.push({view:Cr,label:t.query("GET_LABEL_BUTTON_CONFIRM"),name:"app action-confirm icon-fallback",opacity:1,icon:Pr('<polyline fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="20 6 9 17 4 12"></polyline>'),didCreateView:function(e){t.ref.btnConfirm=e},action:function(){t.dispatch("EDIT_CONFIRM")}}),t.ref.menu=t.appendChildView(t.createChildView(da("menu"),{controls:s})),t.ref.menu.opacity=0,t.ref.status=t.appendChildView(t.createChildView(Ar)),t.ref.hasWebGL=to(),t.ref.hasWebGL?t.dispatch("AWAIT_IMAGE"):t.dispatch("MISSING_WEBGL"),t.ref.handleFocusOut=function(){var e=t.ref.status;"busy"===e.element.dataset.viewStatus&&e.element.focus()},t.ref.handleFocusIn=function(e){var s=t.ref,i=s.menu,r=s.content,n=e.target;if(!i.element.contains(n)&&r&&r.element.contains(n)){if(!Array.from(t.element.querySelectorAll("[data-view-active=false]")).reduce((function(e,t){return t.contains(n)&&(e=!0),e}),!1))return;i.element.querySelector("button,input,[tabindex]").focus()}},t.element.addEventListener("focusin",t.ref.handleFocusIn),t.element.addEventListener("focusout",t.ref.handleFocusOut),t.ref.previousState=null},destroy:function(e){var t=e.root;t.element.removeEventListener("focusin",t.ref.handleFocusIn),t.element.removeEventListener("focusout",t.ref.handleFocusOut)},write:ce({UNLOAD_IMAGE:function(e){var t=e.root;t.ref.content&&(t.ref.content.opacity=0,t.ref.menu.opacity=0)},DID_UNLOAD_IMAGE:function(e){var t=e.root;t.removeChildView(t.ref.content),t.ref.content=null},DID_LOAD_IMAGE:function(e){var t=e.root,s=e.props;t.ref.hasWebGL&&(t.ref.content=t.appendChildView(t.createChildView(Ka,{opacity:null,id:s.id})),t.ref.menu.opacity=1)},SHOW_VIEW:function(e){var t=e.root,s=e.action;t.element.dataset.limitOverflow="resize"===s.id}},(function(e){var t=e.root,s=e.props,i=e.timestamp,r=t.query("GET_CROP",s.id,i);if(r){var n={crop:{width:r.cropStatus.currentWidth,height:r.cropStatus.currentHeight}};io(t.ref.previousState,n)&&(t.dispatch("DID_UPDATE",{state:p({},n)}),t.ref.previousState=n);var a=t.ref,o=a.btnCancel,c=a.content,l=r.canReset;if(t.ref.btnReset.opacity=l?1:0,o&&t.query("GET_UTILS").length>1){var u=t.query("GET_ROOT_SIZE");o.opacity=l&&u.width<600?0:1}c&&0===c.opacity&&t.dispatch("DID_UNLOAD_IMAGE")}}))}),io=function(e,t){return!e||e.crop.width!==t.crop.width||e.crop.height!==t.crop.height},ro=function(e){var t={destroy:function(){}};if("onpointerdown"in window||e.pointersPolyfilled)return t;e.pointersPolyfilled=!0;var s=0,i=[],r=function(e,t,s){var i=new UIEvent(t.type,{view:window,bubbles:!s});Object.keys(t).forEach((function(e){Object.defineProperty(i,e,{value:t[e],writable:!1})})),e.dispatchEvent(i)},n=function(e,t,n){return Array.from(t.changedTouches).map((function(a){var o=i[a.identifier],c={type:e,pageX:a.pageX,pageY:a.pageY,pointerId:a.identifier,isPrimary:o?o.isPrimary:0===s,preventDefault:function(){return t.preventDefault()}};return r(a.target,c,n),c}))},a=function(e){n("pointerdown",e).forEach((function(e){i[e.pointerId]=e,s++}))},o=function(e){n("pointermove",e)},c=function(e){n("pointerup",e).forEach((function(e){delete i[e.pointerId],s--}))},l=function(e,t,s){var i={type:e,pageX:t.pageX,pageY:t.pageY,pointerId:0,isPrimary:!0,preventDefault:function(){return t.preventDefault()}};return r(t.target,i,s),i},u=function(e){l("pointerdown",e)},d=function(e){l("pointermove",e)},h=function(e){l("pointerup",e)};return"ontouchstart"in window?(e.addEventListener("touchstart",a),e.addEventListener("touchmove",o),e.addEventListener("touchend",c)):"onmousedown"in window&&(e.addEventListener("mousedown",u),e.addEventListener("mousemove",d),e.addEventListener("mouseup",h)),t.destroy=function(){i.length=0,e.pointersPolyfilled=!1,e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",o),e.removeEventListener("touchend",c),e.removeEventListener("mousedown",u),e.removeEventListener("mousemove",d),e.removeEventListener("mouseup",h)},t},no=function(e){return e.preventDefault()},ao=ae({name:"editor",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:350}},apis:["markedForRemoval"]},create:function(e){var t=e.root,s=e.props;s.markedForRemoval=!1,t.element.addEventListener("touchmove",no,{passive:!1}),t.element.addEventListener("gesturestart",no),t.ref.pointerPolyfill=ro("root"===t.query("GET_POINTER_EVENTS_POLYFILL_SCOPE")?t.element:document.documentElement),t.appendChildView(t.createChildView(so,p({},s)))},destroy:function(e){var t=e.root;t.ref.pointerPolyfill.destroy(),t.element.removeEventListener("touchmove",no,!0),t.element.removeEventListener("gesturestart",no)}}),oo=function(){function e(){t.fire("touch-detected"),window.removeEventListener("touchstart",e,!1)}var t=p({},Fe(),{destroy:function(){window.removeEventListener("touchstart",e,!1)}});return window.addEventListener("touchstart",e,!1),t},co=function(e){var t={browseEnabled:!1},s=p({},Fe(),{enableBrowse:function(){t.browseEnabled||(e.addEventListener("click",n),t.browseEnabled=!0)},disableBrowse:function(){t.browseEnabled&&(e.removeEventListener("click",n),t.browseEnabled=!1)},destroy:function(){e.removeEventListener("dragover",i),e.removeEventListener("drop",r),e.removeEventListener("click",n)}}),i=function(e){return e.preventDefault()},r=function(e){e.preventDefault();var t=Array.from(e.dataTransfer.items||e.dataTransfer.files).map((function(e){return e.getAsFile&&"file"===e.kind?e.getAsFile():e}));s.fire("drop",t)},n=function(e){var t=document.createElement("input");t.style.display="none",t.setAttribute("type","file"),t.addEventListener("change",(function(){document.body.removeChild(t),s.fire("drop",Array.from(t.files))})),document.body.appendChild(t),t.click()};return e.addEventListener("dragover",i),e.addEventListener("drop",r),s},lo=function(e){var t=function(t){if(9===t.keyCode){var s=Array.from(e.querySelectorAll("button,input,[tabindex]")).filter((function(e){return"hidden"!==e.style.visibility&&-1!==e.tabIndex})),i=s[0],r=s[s.length-1];t.shiftKey?document.activeElement===i&&(r.focus(),t.preventDefault()):document.activeElement===r&&(i.focus(),t.preventDefault())}};return e.addEventListener("keydown",t),{destroy:function(){e.removeEventListener("keydown",t)}}},uo=function(e){return e.ref.isFullscreen},ho=function(e){return/fullscreen/.test(e.query("GET_STYLE_LAYOUT_MODE"))},po=function(e){return/fullscreen|preview/.test(e.query("GET_STYLE_LAYOUT_MODE"))},mo=function(e){return e.query("GET_ALLOW_AUTO_CLOSE")},fo=po,bo=po,vo=function(e){var t=e.ref,s=t.environment,i=t.isSingleUtil,r=t.canBeControlled;e.element.dataset.styleViewport=wo(e.rect.element.width,e.rect.element.height)+" "+s.join(" ")+(i?" single-util":" multi-util")+(r?" flow-controls":" no-flow-controls")},go=function(e){var t=e.element,s=e.ref,i=s.handleFullscreenUpdate,r=s.handleEscapeKey;t.setAttribute("tabindex",-1),i(),e.ref.focusTrap=lo(t),t.addEventListener("keydown",r),window.addEventListener("resize",i),document.body.classList.add("doka--parent"),document.body.appendChild(t);var n=document.querySelector("meta[name=viewport]");e.ref.defaultViewportContent=n?n.getAttribute("content"):null,n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.head.appendChild(n)),n.setAttribute("content","width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=0"),e.opacity=1,e.element.contains(document.activeElement)||t.focus(),e.dispatch("INVALIDATE_VIEWPORT"),e.ref.isFullscreen=!0},_o=function(e){var t=e.element,s=e.ref,i=s.handleFullscreenUpdate,r=s.focusTrap,n=s.handleEscapeKey;t.removeAttribute("tabindex"),r.destroy(),t.removeEventListener("keydown",n),window.removeEventListener("resize",i),document.body.classList.remove("doka--parent");var a=document.querySelector("meta[name=viewport]");e.ref.defaultViewportContent?(a.setAttribute("content",e.ref.defaultViewportContent),e.ref.defaultViewportContent=null):a.parentNode.removeChild(a),e.ref.isFullscreen=!1},yo=ae({name:"root",ignoreRect:!0,mixins:{styles:["opacity"],animations:{opacity:{type:"tween",duration:350}}},create:function(e){var t=e.root,s=e.props;t.element.id=t.query("GET_ID")||"doka-".concat(s.id);var i=t.query("GET_CLASS_NAME");i&&t.element.classList.add(i),t.ref.environment=[],t.ref.shouldBeDestroyed=!1,t.ref.isClosing=!1,t.ref.isClosed=!1,t.ref.isFullscreen=!1,t.query("GET_ALLOW_DROP_FILES")&&(t.ref.catcher=co(t.element),t.ref.catcher.on("drop",(function(e){e.forEach((function(e){t.dispatch("REQUEST_LOAD_IMAGE",{source:e})}))}))),t.ref.touchDetector=oo(),t.ref.touchDetector.onOnce("touch-detected",(function(){t.ref.environment.push("touch")})),t.ref.editor=t.appendChildView(t.createChildView(ao,{id:s.id})),t.query("GET_STYLES").filter((function(e){return!ue(e.value)})).map((function(e){var s=e.name,i=e.value;t.element.dataset[s]=i})),t.ref.updateViewport=function(){t.dispatch("INVALIDATE_VIEWPORT")},window.addEventListener("resize",t.ref.updateViewport),window.addEventListener("scroll",t.ref.updateViewport),t.ref.isSingleUtil=1===t.query("GET_UTILS").length,t.ref.canBeControlled=t.query("GET_ALLOW_BUTTON_CONFIRM")||t.query("GET_ALLOW_BUTTON_CANCEL"),vo(t);var r=document.createElement("div");r.style.cssText="position:fixed;height:100vh;top:0;",t.ref.measure=r,document.body.appendChild(r),t.ref.handleEscapeKey=function(e){27===e.keyCode&&t.dispatch("EDIT_CANCEL")},t.ref.initialScreenMeasureHeight=null,t.ref.handleFullscreenUpdate=function(){t.element.dataset.styleFullscreen=window.innerHeight===t.ref.initialScreenMeasureHeight},t.ref.clientRect={left:0,top:0}},read:function(e){var t=e.root,s=t.ref.measure;s&&(t.ref.initialScreenMeasureHeight=s.offsetHeight,s.parentNode.removeChild(s),t.ref.measure=null),t.ref.clientRect=t.element.getBoundingClientRect(),t.ref.clientRect.leftScroll=t.ref.clientRect.left+window.scrollX,t.ref.clientRect.topScroll=t.ref.clientRect.top+window.scrollY},write:ce({ENTER_FULLSCREEN:function(e){var t=e.root;go(t)},EXIT_FULLSCREEN:function(e){var t=e.root;_o(t)},SHOW_VIEW:function(e){var t=e.root,s=e.action;t.element.dataset.view=s.id},DID_SET_STYLE_LAYOUT_MODE:function(e){var t=e.root,s=e.action;t.element.dataset.styleLayoutMode=s.value||"none",/fullscreen/.test(s.value)&&!/fullscreen/.test(s.prevValue)&&t.dispatch("ENTER_FULLSCREEN")},AWAITING_IMAGE:function(e){var t=e.root;t.ref.catcher&&t.query("GET_ALLOW_BROWSE_FILES")&&t.ref.catcher.enableBrowse()},DID_REQUEST_LOAD_IMAGE:function(e){var t=e.root;if(t.ref.catcher&&t.query("GET_ALLOW_BROWSE_FILES")&&t.ref.catcher.disableBrowse(),0===t.opacity&&(t.opacity=1),t.ref.isClosing=!1,t.ref.isClosed=!1,!ho(t)||uo(t)){var s=t.query("GET_STYLE_LAYOUT_MODE");null!==s&&"modal"!==s||t.element.parentNode||t.dispatch("SET_STYLE_LAYOUT_MODE",{value:("fullscreen "+(s||"")).trim()})}else t.dispatch("ENTER_FULLSCREEN")},DID_CANCEL:function(e){var t=e.root;fo(t)&&mo(t)&&t.dispatch("EDIT_CLOSE")},DID_CONFIRM:function(e){var t=e.root;fo(t)&&mo(t)&&t.dispatch("EDIT_CLOSE")},EDIT_CLOSE:function(e){var t=e.root;bo(t)&&(t.opacity=t.opacity||1,t.opacity=0,t.ref.isClosed=!1,t.ref.isClosing=!0,t.query("GET_ALLOW_AUTO_DESTROY")&&(t.ref.shouldBeDestroyed=!0),uo(t)&&t.dispatch("EXIT_FULLSCREEN"))},DID_SET_UTILS:function(e){var t=e.root;t.ref.isSingleUtil=1===t.query("GET_UTILS").length}},(function(e){var t=e.root;vo(t);var s=t.query("GET_ROOT"),i=t.rect.element;s.width===i.width&&s.height===i.height&&s.y===t.ref.clientRect.top&&s.topScroll===t.ref.clientRect.topScroll||t.dispatch("UPDATE_ROOT_RECT",{rect:{x:t.ref.clientRect.left,y:t.ref.clientRect.top,left:t.ref.editor.rect.element.left,top:t.ref.editor.rect.element.top,leftScroll:t.ref.clientRect.leftScroll,topScroll:t.ref.clientRect.topScroll,width:t.rect.element.width,height:t.rect.element.height}})})),didWriteView:function(e){var t=e.root,s=t.ref,i=s.isClosed,r=s.isClosing,n=s.shouldBeDestroyed;!i&&r&&0===t.opacity&&(t.dispatch("DID_CLOSE"),t.ref.isClosed=!0,t.ref.isClosing=!1,ho(t)&&t.element.parentNode&&document.body.removeChild(t.element),n&&t.dispatch("EDIT_DESTROY"))},destroy:function(e){var t=e.root;uo(t)&&_o(t),ho(t)&&t.element.parentNode&&document.body.removeChild(t.element),window.removeEventListener("resize",t.ref.updateViewport),t.ref.touchDetector.destroy(),t.ref.catcher&&t.ref.catcher.destroy()}}),wo=function(e,t){var s="";return 0===e&&0===t?"detached":(s+=t>e?"portrait":"landscape",(s+=e<=600?" x-cramped":e<=1e3?" x-comfortable":" x-spacious").trim())},Oo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ze(),s=k(Me(t),[Qt,Ue(t)],[wr,Re(t)]);s.dispatch("SET_OPTIONS",{options:e});var i=function(){document.hidden||s.dispatch("KICK")};document.addEventListener("visibilitychange",i);var r=Ne();s.dispatch("SET_UID",{id:r});var n=null,a=yo(s,{id:r}),o=!1,c={_read:function(){o||a._read()},_write:function(e){var t=s.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));o&&!t.length||(d(t),(o=a._write(e,t))&&s.processDispatchQueue(),t.find((function(e){return"EDIT_DESTROY"===e.type}))&&h())}},l=function(e){return function(t){var s={type:e};return t?(t.hasOwnProperty("error")&&(s.error=x(t.error)?p({},t.error):t.error||null),t.hasOwnProperty("output")&&(s.output=t.output),t.hasOwnProperty("image")&&(s.image=t.image),t.hasOwnProperty("source")&&(s.source=t.source),t.hasOwnProperty("state")&&(s.state=t.state),s):s}},u={DID_CONFIRM:l("confirm"),DID_CANCEL:l("cancel"),DID_REQUEST_LOAD_IMAGE:l("loadstart"),DID_LOAD_IMAGE:l("load"),DID_LOAD_IMAGE_ERROR:l("loaderror"),DID_UPDATE:l("update"),DID_CLOSE:l("close"),DID_DESTROY:l("destroy"),DID_INIT:l("init")},d=function(e){e.length&&e.forEach((function(e){if(u[e.type]){var t=u[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){setTimeout((function(){!function(e){var t=p({doka:m},e);delete t.type,a&&a.element.dispatchEvent(new CustomEvent("Doka:".concat(e.type),{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var i=[];e.hasOwnProperty("error")&&i.push(e.error);var r=["type","error"];Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(t){return i.push(e[t])})),m.fire.apply(m,[e.type].concat(i));var n=s.query("GET_ON".concat(e.type.toUpperCase()));n&&n.apply(void 0,i)}(t(e.data))}),0)}))}}))},h=function(){m.fire("destroy",a.element),document.removeEventListener("visibilitychange",i),a._destroy(),s.dispatch("DID_DESTROY")},m=p({},Fe(),c,De(s,t),{setOptions:function(e){return s.dispatch("SET_OPTIONS",{options:e})},setData:function(e){s.dispatch("SET_DATA",e)},getData:function(e){return new Promise((function(t,i){s.dispatch("GET_DATA",p({},e,{success:t,failure:i}))}))},open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,r){e&&s.dispatch("REQUEST_LOAD_IMAGE",{source:e,options:t,success:i,failure:r,resolveOnConfirm:!!t&&t.resolveOnConfirm})}))},edit:function(e,t){return m.open(e,p({},t,{resolveOnConfirm:!0}))},save:function(e){return new Promise((function(t,i){s.dispatch("GET_DATA",p({},e,{success:t,failure:i}))}))},clear:function(){return s.dispatch("REQUEST_REMOVE_IMAGE")},close:function(){return s.dispatch("EDIT_CLOSE")},destroy:h,insertBefore:function(e){C(a.element,e)},insertAfter:function(e){P(a.element,e)},appendTo:function(e){e.appendChild(a.element)},replaceElement:function(e){C(a.element,e),e.parentNode.removeChild(e),n=e},restoreElement:function(){n&&(P(n,a.element),a.element.parentNode.removeChild(a.element),n=null)},isAttachedTo:function(e){return!!a&&(a.element===e||n===e)},element:{get:function(){return a?a.element:null}}});return s.dispatch("DID_INIT"),T(m)},Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ze(),s={};return E(t,(function(e,t){be(t)||(s[e]=t[0])})),E(e,(function(e){be(t[e])&&Le(e,t[e])})),Oo(p({},s,e))},Po=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp("".concat(t,"."),"g"),(function(e){return e.charAt(1).toUpperCase()}))},xo=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},ko=function(e){return Po(e.replace(/^data-/,""))},So=function e(t,s){E(s,(function(s,i){E(t,(function(e,r){var n=new RegExp(s);if(n.test(e)&&(delete t[e],!1!==i))if(be(i))t[i]=r;else{var a=i.group;x(i)&&!t[a]&&(t[a]={}),t[a][xo(e.replace(n,""))]=r}})),i.mapping&&e(t[i.group],i.mapping)}))},Eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[];E(e.attributes,(function(t){return s.push(e.attributes[t])}));var i=s.filter((function(e){return e.name})).reduce((function(t,s){var i=A(e,s.name);return t[ko(s.name)]=i===s.name||i,t}),{});return So(i,t),i},To=function(e){var t=p({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),s=Eo(e,{"^class$":"className"});Object.keys(s).forEach((function(e){x(s[e])?(x(t[e])||(t[e]={}),Object.assign(t[e],s[e])):t[e]=s[e]})),"CANVAS"!==e.nodeName&&"IMG"!==e.nodeName||(t.src=e.dataset.dokaSrc?e.dataset.dokaSrc:e);var i=Co(t);return i.replaceElement(e),i},Ao=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return O(t[0])?To.apply(void 0,t):Co.apply(void 0,f(t.filter((function(e){return e}))))},jo=function(e,t,s){Object.getOwnPropertyNames(e).filter((function(e){return!s.includes(e)})).forEach((function(s){return Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))},$o=["fire","_read","_write"],Mo=function(e){var t={};return jo(e,t,$o),t},Io=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},Lo=function(){return"Promise"in window},Do=function(){return"slice"in Blob.prototype},Ro=function(){return"URL"in window&&"createObjectURL"in window.URL},Uo=function(){return"visibilityState"in document},No=function(){return"performance"in window},Bo=function(){var e=ze()&&!Io()&&Uo()&&Lo()&&Do()&&Ro()&&No();return function(){return e}}(),Fo={apps:[]},Vo="doka",Ho=function(){},zo={},qo=Ho,Go=Ho,Zo=Ho,Wo=Ho,Yo=Ho,Xo=Ho;if(Bo()){oe((function(){Fo.apps.forEach((function(e){return e._read()}))}),(function(e){Fo.apps.forEach((function(t){return t._write(e)}))}));var Ko=function e(){document.dispatchEvent(new CustomEvent("doka:loaded",{detail:{supported:Bo,create:qo,destroy:Go,parse:Zo,find:Wo,setOptions:Xo}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((function(){return Ko()}),0):document.addEventListener("DOMContentLoaded",Ko);var Qo=function(){return E(Ze(),(function(e,t){zo[e]=t[1]}))};zo={},Qo(),qo=function(){var e=Ao.apply(void 0,arguments);return e.on("destroy",Go),Fo.apps.push(e),Mo(e)},Go=function(e){var t=Fo.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Fo.apps.splice(t,1)[0].restoreElement(),!0)},Zo=function(e){return Array.from(e.querySelectorAll(".".concat(Vo))).filter((function(e){return!Fo.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(e){return qo(e)}))},Wo=function(e){var t=Fo.apps.find((function(t){return t.isAttachedTo(e)}));return t?Mo(t):null},Yo=function(){var e={};return E(Ze(),(function(t,s){e[t]=s[0]})),e},Xo=function(e){return x(e)&&(Fo.apps.forEach((function(t){t.setOptions(e)})),We(e)),Yo()}}s("9755"),s("0644");var Jo=s("e66b"),ec=s("06f2"),tc=s("ad97");function sc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ic(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sc(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var rc={name:"AddStory",components:{ImageThumb:Jo["a"]},mixins:[tc["a"],ec["a"]],data:function(){return{makePostError:"",storyUploading:{},storyUploadingIndex:0,hasBeforeunloadStoryEvent:!1,beforeEachStoryFunc:null,uploads:[],preview:{progress:0,processId:null,error:!1}}},computed:ic(ic(ic({},Object(u["q"])(["getInit"])),Object(u["b"])(["authUser"])),{},{progress:function(){return this.preview.progress},processId:function(){return this.preview.processId},error:function(){return this.preview.error},checkLeaveStory:function(){return!!Object.keys(this.storyUploading).length},checkLeaveTextStory:function(){return this.$i18n.t("message.upload_progress_leave_msg")}}),methods:ic(ic(ic({},Object(u["B"])(["preloaderShow"])),Object(u["pb"])(["fetchMyStories","addNewMyStory"])),{},{handleInputFile:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a,o,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.target.files[0],i=0===s.type.indexOf("video"),r=0===s.type.indexOf("image"),i||r){e.next=6;break}return this.$refs.input.value="",e.abrupt("return");case 6:if(!i){e.next=10;break}this.postStory({file:s},i),e.next=20;break;case 10:return e.next=12,this.readFileAsync(s);case 12:return n=e.sent,a=new Blob([n.result],{type:s.type}),o=URL.createObjectURL(a),e.next=17,this.rotateImage({url:o,orientation:n.orientation,type:s.type});case 17:s.url=e.sent,s.orientation=n.orientation,this.$imageEditor.$installFile(s,{saveAsCopy:!1}).then((function(e){c.postStory(e)})).catch((function(e){console.log("file closed",e)}));case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addStoryFromVault:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s,i,r,n,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t[0],i="photo"===s.type,this.$window.showPreloader(),!i){e.next=19;break}return e.next=6,this.readFileByUrlAsync(s.full);case 6:if(r=e.sent,!r.error){e.next=12;break}return this.$window.hidePreloader(),Object(l["c"])({error:new Error("Cant get media file via xhr ".concat(s.full)),tags:{story:"log"},extra:r.error}),this.$router.push({name:"MediaVault"}),e.abrupt("return");case 12:n=URL.createObjectURL(r),a=new File([r],"temp.jpg",{type:r.type}),a.url=n,this.$window.hidePreloader(),this.$imageEditor.$installFile(a,{saveAsCopy:!1}).then((function(e){e.didModify?o.postStory(e):o.createStoryByFileId(s.id)})).catch((function(e){console.log("file closed",e)})),e.next=21;break;case 19:return e.next=21,this.createStoryByFileId(s.id);case 21:this.$window.hidePreloader();case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createStoryByFileId:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$root.$emit("story::creation::upload::start"),this.$root.$emit("story::creation::upload::progress",80),e.next=4,Object(c["a"])({mediaFiles:[t]});case 4:this.$root.$emit("story::creation::upload::end"),this.$root.$emit("story::creation::upload::fromvault");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),edit:function(e){"PostsCreate"===this.$route.name?this.$router.push({name:"Feed",params:{noReload:!0,storyFileUploadData:e}}):(this.handleInputFile(e),this.$refs.input.value="")},click:function(){this.$refs.input.click()},objectToFormData:function(e,t,s){var i,r=t||new FormData;for(var a in e)e.hasOwnProperty(a)&&(i=s?"".concat(s,"[").concat(a,"]"):a,"object"!==Object(n["a"])(e[a])||e[a]instanceof File?r.append(i,e[a]):this.objectToFormData(e[a],r,a));return r},postStory:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,s){var i,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.makePostError="",this.tempStoryUploadingIndex=this.storyUploadingIndex,this.storyUploadingIndex+=1,i=s?"video":"photo",r=t.file,this.preview={error:!1,deleteType:"",name:r.name,size:r.size,type:r.type,mediaType:i,progress:0,processId:null,orderId:Math.random().toString(36).substr(2,9)},e.prev=6,n=Object(o["a"])({},this.tempStoryUploadingIndex,t),this.storyUploading=ic(ic({},this.storyUploading),n),this.uploadFiles(r,this.preview,i),e.next=20;break;case 12:return e.prev=12,e.t0=e["catch"](6),this.$root.$emit("story::creation::upload::end"),a=ic({},this.storyUploading),delete a[this.tempStoryUploadingIndex],this.storyUploading=a,e.t0.data&&e.t0.data.error&&e.t0.data.error.message&&(this.makePostError=e.t0.data.error.message),e.abrupt("return");case 20:case"end":return e.stop()}}),e,this,[[6,12]])})));function t(t,s){return e.apply(this,arguments)}return t}(),handleBeforeUnloadStory:function(e){if(this.hasBeforeunloadStoryEvent){var t=this.checkLeaveTextStory;return e=e||window.event,e&&(e.returnValue=t),t}},removeListeners:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}}),mounted:function(){this.doka=qo({labelButtonConfirm:"ADD TO STORY",cropAspectRatioOptions:[{label:"Free",value:null},{label:"Portrait",value:1.25},{label:"Square",value:1},{label:"Landscape",value:.75}]}),this.$route.params.vaultFiles&&this.$route.params.story&&this.addStoryFromVault(this.$route.params.vaultFiles),this.beforeEachStoryFunc=this.routerCheckLeave({conditionField:"checkLeaveStory",textField:"checkLeaveTextStory",component:"story"}),this.beforeunloadCheckLeave({watchField:"checkLeaveStory",conditionField:"checkLeaveStory",eventField:"hasBeforeunloadStoryEvent",funcField:"handleBeforeUnloadStory"}),this.$route.params.storyFileUploadData&&this.handleInputFile(this.$route.params.storyFileUploadData),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners)},beforeDestroy:function(){this.beforeEachStoryFunc&&this.beforeEachStoryFunc(),this.hasBeforeunloadStoryEvent&&(window.removeEventListener("beforeunload",this.handleBeforeUnload),this.hasBeforeunloadStoryEvent=!1),this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners)},watch:{progress:function(e,t){e>0&&0===t&&this.$root.$emit("story::creation::upload::start"),e>0&&e<100&&this.$root.$emit("story::creation::upload::progress",e)},processId:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.processId){e.next=10;break}return t=this.preview,s=t.name,i=t.host,r=t.processId,e.next=4,Object(c["a"])({mediaFiles:[{processId:r,name:s,host:i}]});case 4:n=e.sent,this.addNewMyStory(n),this.$root.$emit("story::creation::upload::end"),a=ic({},this.storyUploading),delete a[this.tempStoryUploadingIndex],this.storyUploading=a;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),error:function(){if(this.error){this.$root.$emit("story::creation::upload::end");var e=ic({},this.storyUploading);delete e[this.tempStoryUploadingIndex],this.storyUploading=e}}}},nc=rc,ac=s("2877"),oc=Object(ac["a"])(nc,i,r,!1,null,null,null);t["a"]=oc.exports},eacb:function(e,t,s){},ee41:function(e,t,s){"use strict";(function(e){t["a"]={methods:{pauseStory:function(){this.playTimeout=e.setTimeout((function(){var e=document.querySelector(".story-viewer.viewing");if(e){var t=document.querySelector(".story-viewer.viewing .item.active video");t&&t.pause(),e.classList.add("paused")}}))},playStory:function(){var e=document.querySelector(".story-viewer.viewing");if(e){var t=document.querySelector(".story-viewer.viewing .item.active video");t&&t.play(),e.classList.remove("paused")}}}}}).call(this,s("c8ba"))},f108:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{ref:"dragUploadArea",staticClass:"has-advanced-upload",class:{"m-can-save":!e.disabledSubmit},attrs:{id:"make_post_form"},on:{submit:function(t){return t.preventDefault(),e.makePostSubmit(t)}}},[s("div",{ref:"makePost",staticClass:"b-make-post",class:{"m-form-draft-post":e.hasDraft&&!e.fakeMode,"m-with-paid-options":e.privatePost,"m-paid-text":e.lockDescription&&e.privatePost,"m-free-text":!e.lockDescription&&e.privatePost,"m-paid-poll":e.showPoll&&e.pollLocked&&e.privatePost,"m-free-poll":e.showPoll&&!e.pollLocked&&e.privatePost,"m-paid-media-active":e.paidMediaActive,"m-free-media-active":e.freeMediaActive,"m-media-on-center":e.mediaCentered,"m-paid-media-text":e.paidMediaText,"m-free-media-text":e.freeMediaText,"m-paid-media-audio":e.paidMediaAudio,"m-free-media-audio":e.freeMediaAudio,"m-free-audio":e.uploadedFilesAudio.length&&!e.audioLocked&&e.privatePost,"m-paid-audio":e.uploadedFilesAudio.length&&e.audioLocked&&e.privatePost,"m-chats-footer":e.isChat,"m-chats-tip":e.tipValue}},["Chat"===e.$route.name?s("chat-info",{attrs:{chat:e.chat,"with-user":e.withUser,"tip-value":e.tipValue,"tips-min":e.withUser.tipsMin,text:e.text}}):e._e(),e.defaultPollExpired>0||e.scheduleDate||e.saveForLater?s("div",{staticClass:"b-dropzone__previews b-make-post__schedule-expire-wrapper"},[e.defaultPollExpired>0?s("div",{staticClass:"b-dropzone__preview m-expire m-loaded"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-clock"}),s("span",{domProps:{innerHTML:e._s(e.$t("message.make_post_expire_preview_text",{DAYS:e.pollExpired}))}}),s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",title:"Delete"},on:{click:function(t){e.defaultPollExpired=0}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])]):e._e(),e.scheduleDate||e.saveForLater?s("div",{staticClass:"b-dropzone__preview m-schedule m-loaded"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-schedule"}),e.scheduleDate?[e._v(" Scheduled for "),s("strong",[s("utils-time",{attrs:{date:e.scheduleDate,type:"schedule"}})],1)]:e._e(),e.saveForLater?[e._v(" Save for Later ")]:e._e(),s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",title:"Delete"},on:{click:function(t){e.scheduleDate=null,e.saveForLater=!1}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])],2):e._e()]):e._e(),e.privatePost?s("div",{staticClass:"b-make-post__price-free-labels"},[s("div",{staticClass:"b-make-post__price-free-label m-free",on:{click:e.movePreviewsToBeginning}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price-free"}),e._v(" "+e._s(e.$t("message.make_post_free_preview_label"))+" ")]),s("div",{ref:"paidContentLabel",staticClass:"b-make-post__price-free-label m-paid",on:{click:e.movePreviewsToEnd}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-price"}),e._v(" "+e._s(e.$t("message.make_post_price_to_view_label"))+" "),s("div",{staticClass:"b-make-post__price-free-label__price"},[e._v(" "+e._s("$"+e.price.toFixed(2).replace(".00",""))+" ")]),s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",title:"Delete"},on:{click:function(t){e.price=0}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])])]):e._e(),e.showPoll?s("div",{staticClass:"b-dropzone__previews b-make-post__voting-wrapper"},[e.pollLocked&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-left",attrs:{type:"button"},on:{click:e.togglePollLocked}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-poll-left",staticClass:"icon-arrow-left"})]):e._e(),s("div",{staticClass:"b-make-post__voting b-dropzone__preview m-loaded"},[s("div",{staticClass:"b-make-post__voting__header"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-poll"}),s("span",[e._v(e._s(e.$t("message.make_post_poll_duration_title")))]),s("button",{staticClass:"g-btn m-flat b-make-post__voting__duration",attrs:{type:"button"},on:{click:e.openPollDuration}},[s("span",{domProps:{innerHTML:e._s(e.votingDuration)}})])]),s("div",{staticClass:"new_vote_options",class:{minimal:e.votingOptions.length<=2}},e._l(e.votingOptions,(function(t,i){return s("div",{key:i,staticClass:"vote-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.votingOptions[i],expression:"votingOptions[index]"}],staticClass:"form-control",attrs:{placeholder:e.$t("message.enter_option")},domProps:{value:e.votingOptions[i]},on:{input:function(t){t.target.composing||e.$set(e.votingOptions,i,t.target.value)}}}),s("button",{staticClass:"delete-vote-option",attrs:{type:"button"},on:{click:function(t){return e.removeVoteOption(i)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])])})),0),s("button",{staticClass:"g-btn m-flat new_vote_add_option",attrs:{type:"button"},on:{click:e.addVoteOption}},[e._v(" "+e._s(e.$t("message.makke_post_poll_add_option_button"))+" ")]),s("button",{staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button",title:"Delete"},on:{click:function(t){return e.showPollHandler(!1)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])]),!e.pollLocked&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-right",attrs:{type:"button"},on:{click:e.togglePollLocked}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-poll-right",staticClass:"icon-arrow-right"})]):e._e()]):e._e(),e.showFundraising?s("div",{staticClass:"b-dropzone__previews b-make-post__voting-wrapper"},[e.fundraisingLocked?s("button",{staticClass:"b-make-post__move-btn m-text m-left",attrs:{type:"button"},on:{click:e.toggleFundraisingLocked}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-poll-left",staticClass:"icon-arrow-left"})]):e._e(),s("div",{staticClass:"b-make-post__voting b-dropzone__preview m-loaded"},[s("div",{staticClass:"b-make-post__voting__header"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-fundraising"}),s("span",[e._v(" "+e._s(e.$t("message.make_post_fundraising_title"))+" ")]),s("button",{staticClass:"g-btn m-flat b-make-post__voting__duration",attrs:{type:"button"},on:{click:e.toggleFundingPanel}},[s("span",[e._v(" "+e._s(e.$t("message.make_post_fundraising_target"))+" $"+e._s(e.fundraisingTarget.toFixed(2).replace(".00",""))+" ")])])]),s("div",{staticClass:"new_vote_options",class:{minimal:e.fundraisingOptions.length<=2}},e._l(e.fundraisingOptions,(function(t,i){return s("div",{key:i,staticClass:"vote-input"},[s("InputOF",{attrs:{type:"price",step:"1",min:e.authUser.tipsMin,max:e.fundraisingPresetMax,placeholder:e.$t("message.enter_option")},model:{value:e.fundraisingOptions[i],callback:function(t){e.$set(e.fundraisingOptions,i,t)},expression:"fundraisingOptions[index]"}},[s("template",{slot:"beforeInput"},[s("span",{staticClass:"currency-sign"},[e._v("$")])])],2),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.uploaded_media_delete_btn_title"),expression:"$t('message.uploaded_media_delete_btn_title')"}],staticClass:"delete-vote-option",attrs:{type:"button"},on:{click:function(t){return e.removeFundraisingOption(i)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})]),e.getFundrisingOptionError(i).length?s("p",{staticClass:"g-input__help"},[e._v(" "+e._s(e.getFundrisingOptionError(i))+" ")]):e._e()],1)})),0),e.fundraisingOptions.length<4?s("button",{staticClass:"g-btn m-flat new_vote_add_option",attrs:{type:"button"},on:{click:e.addFundraisingOption}},[e._v(" "+e._s(e.$t("message.make_post_fundraising_add_option_button"))+" ")]):e._e(),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.uploaded_media_delete_btn_title"),expression:"$t('message.uploaded_media_delete_btn_title')"}],staticClass:"b-dropzone__preview__delete b-btn-remove",attrs:{type:"button"},on:{click:function(t){return e.showFundraisingHandler(!1)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-close"})])]),!e.fundraisingLocked&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-right",attrs:{type:"button"},on:{click:e.toggleFundraisingLocked}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-poll-right",staticClass:"icon-arrow-right"})]):e._e()]):e._e(),e.uploadedFilesWithoutAudio.length?s("div",{ref:"postMedia",staticClass:"b-make-post__media files b-dropzone__previews",on:{scroll:e.scrollPreviews}},[e.privatePost?[e.isMobileDevice?s("div",{ref:"scrollbarFree",staticClass:"b-make-post__media-slider b-dropzone__previews-scroller m-custom-scrollbar m-free",class:{"m-draggable":e.isDraggingPreviews}},[s("div",{staticClass:"b-make-post__media-slider__inner"},[e.getFreeFilesWithoutAudio.length?[e.isDraggingPreviews?s("draggable",{ref:"draggable-container-free",staticClass:"b-make-post__media-photos",attrs:{handle:".js-handle"},model:{value:e.freeFilesWithoutAudioList,callback:function(t){e.freeFilesWithoutAudioList=t},expression:"freeFilesWithoutAudioList"}},e._l(e.freeFilesWithoutAudioList,(function(t,i){return s("div",{key:i,staticClass:"b-make-post__preview m-draggable"},[s("div",{staticClass:"b-dropzone__preview m-loaded"},[e.getThumb(t)?s("img",{staticClass:"b-dropzone__preview__media",attrs:{src:e.getThumb(t),alt:t.name}}):s("span",{staticClass:"b-dropzone__preview__name"},[e._v(" "+e._s(t.name)+" ")])]),s("button",{staticClass:"b-make-post__set-order-btn",attrs:{type:"button"},on:{click:function(s){return e.setPreviewOrder(t.orderId)}}},[s("span",{staticClass:"b-make-post__set-order-btn__inner",domProps:{innerHTML:e._s(e.getPreviewOrder(t.orderId))}})]),s("button",{staticClass:"b-make-post__preview__drag-icon js-handle",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-drag"})])])})),0):s("div",{staticClass:"b-make-post__media-photos"},e._l(e.getFreeFilesWithoutAudio,(function(t,i){return s("upload-preview",{key:i,class:{"m-square":e.squarePreviews&&"photo"===t.mediaType},attrs:{file:t,index:i,post:e.post,searchFace:e.isAnyMoreThanOneFace,"show-editor":!1},on:{deleteFile:e.onDeleteFile,openPreview:e.openPreview,saveEditedImage:e.onSaveEditedImage,saveAsCopyEditedImage:e.saveAsCopyEditedImage,deleteTip:e.onDeleteTip,updateThumbId:function(s){return e.updateFileThumbId(t,s)}}})})),1)]:e._e(),!e.isDraggingPreviews&&e.getPrimaryFilesWithoutAudio.length?s("button",{staticClass:"b-make-post__sort-btns m-btn",attrs:{type:"button"},on:{click:e.enableDraggablePreviews}},[s("span",{staticClass:"b-make-post__sort-btn m-left"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})])]):e._e()],2)]):s("swiper",{ref:"scrollbarFree",staticClass:"b-make-post__media-slider b-dropzone__previews-scroller m-custom-scrollbar m-free",class:{"m-draggable":e.isDraggingPreviews},attrs:{options:{slidesPerView:"auto",freeMode:!0}}},[s("swiper-slide",[e.getFreeFilesWithoutAudio.length?[e.isDraggingPreviews?s("draggable",{ref:"draggable-container-free",staticClass:"b-make-post__media-photos",attrs:{handle:".js-handle",move:e.onPreviewMoveFree},model:{value:e.freeFilesWithoutAudioList,callback:function(t){e.freeFilesWithoutAudioList=t},expression:"freeFilesWithoutAudioList"}},e._l(e.freeFilesWithoutAudioList,(function(t,i){return s("div",{key:i,staticClass:"b-make-post__preview m-draggable"},[s("div",{staticClass:"b-dropzone__preview m-loaded"},[e.getThumb(t)?s("img",{staticClass:"b-dropzone__preview__media",attrs:{src:e.getThumb(t),alt:t.name}}):s("span",{staticClass:"b-dropzone__preview__name"},[e._v(" "+e._s(t.name)+" ")])]),s("button",{staticClass:"b-make-post__set-order-btn",attrs:{type:"button"},on:{click:function(s){return e.setPreviewOrder(t.orderId)}}},[s("span",{staticClass:"b-make-post__set-order-btn__inner",domProps:{innerHTML:e._s(e.getPreviewOrder(t.orderId))}})]),s("button",{staticClass:"b-make-post__preview__drag-icon swiper-no-swiping js-handle",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-drag"})])])})),0):s("div",{staticClass:"b-make-post__media-photos"},e._l(e.getFreeFilesWithoutAudio,(function(t,i){return s("upload-preview",{key:i,class:{"m-square":e.squarePreviews&&"photo"===t.mediaType},attrs:{file:t,index:i,post:e.post,searchFace:e.isAnyMoreThanOneFace,"show-editor":!1},on:{deleteFile:e.onDeleteFile,openPreview:e.openPreview,saveEditedImage:e.onSaveEditedImage,saveAsCopyEditedImage:e.saveAsCopyEditedImage,deleteTip:e.onDeleteTip,updateThumbId:function(s){return e.updateFileThumbId(t,s)}}})})),1)]:e._e(),!e.isDraggingPreviews&&e.getPrimaryFilesWithoutAudio.length?s("button",{staticClass:"b-make-post__sort-btns m-btn",attrs:{type:"button"},on:{click:e.enableDraggablePreviews}},[!e.privatePost||e.getPrimaryFilesWithoutAudio.length?s("span",{staticClass:"b-make-post__sort-btn m-left"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})]):e._e(),e.privatePost?e._e():s("span",{staticClass:"b-make-post__sort-btn m-right"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})])]):e._e()],2)],1)]:e._e(),e.isMobileDevice?s("div",{ref:"scrollbarPaid",staticClass:"b-make-post__media-slider b-dropzone__previews-scroller m-custom-scrollbar",class:{"m-draggable":e.isDraggingPreviews,"m-paid":e.privatePost}},[s("div",{staticClass:"b-make-post__media-slider__inner"},[e.getPrimaryFilesWithoutAudio.length?[e.isDraggingPreviews?s("draggable",{ref:"draggable-container-paid",staticClass:"b-make-post__media-photos",attrs:{handle:".js-handle"},model:{value:e.uploadedFilesWithoutAudioList,callback:function(t){e.uploadedFilesWithoutAudioList=t},expression:"uploadedFilesWithoutAudioList"}},e._l(e.uploadedFilesWithoutAudioList,(function(t,i){return s("div",{key:i,staticClass:"b-make-post__preview m-draggable"},[s("div",{staticClass:"b-dropzone__preview m-loaded"},[e.getThumb(t)?s("img",{staticClass:"b-dropzone__preview__media",attrs:{src:e.getThumb(t),alt:t.name}}):s("span",{staticClass:"b-dropzone__preview__name"},[e._v(" "+e._s(t.name)+" ")])]),s("button",{staticClass:"b-make-post__set-order-btn",attrs:{type:"button"},on:{click:function(s){return e.setPreviewOrder(t.orderId)}}},[s("span",{staticClass:"b-make-post__set-order-btn__inner",domProps:{innerHTML:e._s(e.getPreviewOrder(t.orderId))}})]),s("button",{staticClass:"b-make-post__preview__drag-icon js-handle",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-drag"})])])})),0):s("div",{staticClass:"b-make-post__media-photos"},e._l(e.getPrimaryFilesWithoutAudio,(function(t,i){return s("upload-preview",{key:i,class:{"m-square":e.squarePreviews&&"photo"===t.mediaType},attrs:{file:t,index:i,post:e.post,searchFace:e.isAnyMoreThanOneFace,"show-editor":e.isChat},on:{deleteFile:e.onDeleteFile,openPreview:e.openPreview,saveEditedImage:e.onSaveEditedImage,saveAsCopyEditedImage:e.saveAsCopyEditedImage,deleteTip:e.onDeleteTip,updateThumbId:function(s){return e.updateFileThumbId(t,s)}}})})),1)]:e._e(),!e.isDraggingPreviews&&(e.uploadedFilesWithoutAudio.length>1&&!e.privatePost||e.getFreeFilesWithoutAudio.length)?s("button",{staticClass:"b-make-post__sort-btns m-btn",attrs:{type:"button"},on:{click:e.enableDraggablePreviews}},[e.privatePost?e._e():s("span",{staticClass:"b-make-post__sort-btn m-left"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})]),!e.privatePost||e.getFreeFilesWithoutAudio.length?s("span",{staticClass:"b-make-post__sort-btn m-right"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})]):e._e()]):e._e(),e.fileUploadDisabled||!e.uploadedFilesWithoutAudio.length||e.isDraggingPreviews?e._e():s("button",{staticClass:"button-add-media",attrs:{type:"button"},on:{click:e.addNewMediaClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add"})])],2)]):s("swiper",{ref:"scrollbarPaid",staticClass:"b-make-post__media-slider b-dropzone__previews-scroller m-custom-scrollbar",class:{"m-draggable":e.isDraggingPreviews,"m-paid":e.privatePost},attrs:{options:{slidesPerView:"auto",freeMode:!0}}},[s("swiper-slide",[e.getPrimaryFilesWithoutAudio.length?[e.isDraggingPreviews?s("draggable",{ref:"draggable-container-paid",staticClass:"b-make-post__media-photos",attrs:{handle:".js-handle",move:e.onPreviewMovePaid},model:{value:e.uploadedFilesWithoutAudioList,callback:function(t){e.uploadedFilesWithoutAudioList=t},expression:"uploadedFilesWithoutAudioList"}},e._l(e.uploadedFilesWithoutAudioList,(function(t,i){return s("div",{key:i,staticClass:"b-make-post__preview m-draggable"},[s("div",{staticClass:"b-dropzone__preview m-loaded"},[e.getThumb(t)?s("img",{staticClass:"b-dropzone__preview__media",attrs:{src:e.getThumb(t),alt:t.name}}):s("span",{staticClass:"b-dropzone__preview__name"},[e._v(" "+e._s(t.name)+" ")])]),s("button",{staticClass:"b-make-post__set-order-btn",attrs:{type:"button"},on:{click:function(s){return e.setPreviewOrder(t.orderId)}}},[s("span",{staticClass:"b-make-post__set-order-btn__inner",domProps:{innerHTML:e._s(e.getPreviewOrder(t.orderId))}})]),s("button",{staticClass:"b-make-post__preview__drag-icon swiper-no-swiping js-handle",attrs:{type:"button"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-drag"})])])})),0):s("div",{staticClass:"b-make-post__media-photos"},e._l(e.getPrimaryFilesWithoutAudio,(function(t,i){return s("upload-preview",{key:i,class:{"m-square":e.squarePreviews&&"photo"===t.mediaType},attrs:{file:t,index:i,post:e.post,searchFace:e.isAnyMoreThanOneFace,"show-editor":e.isChat},on:{deleteFile:e.onDeleteFile,openPreview:e.openPreview,saveEditedImage:e.onSaveEditedImage,saveAsCopyEditedImage:e.saveAsCopyEditedImage,deleteTip:e.onDeleteTip,updateThumbId:function(s){return e.updateFileThumbId(t,s)}}})})),1)]:e._e(),!e.isDraggingPreviews&&(e.uploadedFilesWithoutAudio.length>1&&!e.privatePost||e.getFreeFilesWithoutAudio.length)?s("button",{staticClass:"b-make-post__sort-btns m-btn",attrs:{type:"button"},on:{click:e.enableDraggablePreviews}},[e.privatePost?e._e():s("span",{staticClass:"b-make-post__sort-btn m-left"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})]),!e.privatePost||e.getFreeFilesWithoutAudio.length?s("span",{staticClass:"b-make-post__sort-btn m-right"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})]):e._e()]):e._e(),e.fileUploadDisabled||!e.uploadedFilesWithoutAudio.length||e.isDraggingPreviews?e._e():s("button",{staticClass:"button-add-media",attrs:{type:"button"},on:{click:e.addNewMediaClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add"})])],2)],1),e.isDraggingPreviews?s("div",{staticClass:"b-make-post__sort-btns"},[s("button",{staticClass:"b-make-post__sort-btn",class:{"m-move-all":!e.previewsOrder.length&&e.paidMediaWithoutAudio.length},attrs:{type:"button",disabled:!e.previewsOrder.length&&!e.paidMediaWithoutAudio.length},on:{click:e.movePreviewsToBeginning}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-left"})]),s("button",{staticClass:"b-make-post__sort-btn",class:{"m-move-all":!e.previewsOrder.length&&e.freeMediaWithoutAudio.length},attrs:{type:"button",disabled:!e.previewsOrder.length&&!e.freeMediaWithoutAudio.length},on:{click:e.movePreviewsToEnd}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-right"})]),s("button",{staticClass:"b-make-post__sort-done-btn",attrs:{type:"button"},on:{click:e.savePreviewsOrder}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"})])]):e._e()],2):e._e(),e.uploadedFilesAudio.length?s("div",{staticClass:"b-make-post__media audio-post b-dropzone__previews"},[e.audioLocked&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-left",attrs:{type:"button"},on:{click:e.toggleAudioLocked}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-audio-left",staticClass:"icon-arrow-left"})]):e._e(),e._l(e.uploadedFilesAudio,(function(t,i){return s("upload-preview",{key:i,attrs:{file:t,index:i,post:e.post,searchFace:e.isAnyMoreThanOneFace},on:{deleteFile:e.onDeleteFile,deleteTip:e.onDeleteTip}})})),!e.audioLocked&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-right",attrs:{type:"button"},on:{click:e.toggleAudioLocked}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-audio-right",staticClass:"icon-arrow-right"})]):e._e()],2):e._e(),s("div",{staticClass:"b-make-post__wrapper"},[s("div",{staticClass:"b-make-post__textarea-price-wrapper"},[e.lockDescription&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-left",attrs:{type:"button"},on:{click:e.toggleLockDescription}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-text-left",staticClass:"icon-arrow-left"})]):e._e(),s("div",{staticClass:"b-make-post__textarea-wrapper"},[s(e.tributeComponent,e._b({tag:"component"},"component",e.tributeComponentOptions,!1),[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"},{name:"autosize",rawName:"v-autosize"}],ref:"textarea",staticClass:"form-control b-make-post__text-input",class:{"size-collapse":e.hasAssets},attrs:{id:"new_post_text_input",placeholder:e.makePostPlaceholder,name:"text",rows:"1",maxlength:"10000",disabled:e.postTextDisabled},domProps:{value:e.text},on:{click:e.textareaClick,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.makeSubmitMessageEnter(t)},input:function(t){t.target.composing||(e.text=t.target.value)}}})])],1),!e.lockDescription&&e.privatePost?s("button",{staticClass:"b-make-post__move-btn m-text m-right",attrs:{type:"button"},on:{click:e.toggleLockDescription}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"icon-text-right",staticClass:"icon-arrow-right"})]):e._e()]),e.fakeMode&&e.authUser.isTwitterConnected&&e.authUser.twitterUsername&&!e.editPost?s("span",{staticClass:"b-make-post__tweet"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fakeTweetSend,expression:"fakeTweetSend"}],attrs:{id:"new_post_tweet_send_fake",type:"checkbox","true-value":1,"false-value":0},domProps:{checked:Array.isArray(e.fakeTweetSend)?e._i(e.fakeTweetSend,null)>-1:e._q(e.fakeTweetSend,1)},on:{change:function(t){var s=e.fakeTweetSend,i=t.target,r=i.checked?1:0;if(Array.isArray(s)){var n=null,a=e._i(s,n);i.checked?a<0&&(e.fakeTweetSend=s.concat([n])):a>-1&&(e.fakeTweetSend=s.slice(0,a).concat(s.slice(a+1)))}else e.fakeTweetSend=r}}}),s("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_on_twitter"),expression:"$t('message.post_on_twitter')"}],attrs:{for:"new_post_tweet_send_fake"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-twitter"})])]):e._e(),s("div",{staticClass:"b-make-post__actions",class:{"post__actions-chat":e.isChat&&e.price}},[e.onlyFriends?e._e():[s("input",{ref:"fileupload_photo",attrs:{id:"fileupload_photo",type:"file",multiple:"",accept:e.acceptFilesExt,disabled:e.fileUploadDisabled},on:{change:e.fileUploadChange,click:e.clearInput,selectFile:e.fileUploadChange}}),s("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_add_media"),expression:"$t('message.post_add_media')"}],staticClass:"attach_file g-btn m-flat",attrs:{id:"attach_file_photo",for:"fileupload_photo"}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-media",staticClass:"icon-media"})])],e.isChat?e._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.add_media_from_vault"),expression:"$t('message.add_media_from_vault')"}],staticClass:"g-btn m-flat m-default-icon-size",attrs:{type:"button",disabled:e.fileUploadDisabled||!(!e.uploadedFiles.length||e.allUploaded)},on:{click:e.goToValue}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-vault"})]),e.withUser&&e.withUser.tipsEnabled&&e.isChat?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.send_a_tip_button_messages"),expression:"$t('message.send_a_tip_button_messages')"}],staticClass:"g-btn m-flat m-default-icon-size b-chat__send-tip-btn",attrs:{type:"button",disabled:e.limitUploads||e.disabledTipsBtn},on:{click:e.openTipPanel}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-funds"})]):e._e(),(e.isChat||e.isTemplate)&&e.authUser.isPerformer&&!e.onlyFriends?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_record_video"),expression:"$t('message.tooltip_record_video')"}],ref:"videoMessageBtn",staticClass:"g-btn m-flat m-default-icon-size b-chat__video-record-btn js-chat__video-record-btn",attrs:{type:"button",disabled:e.tipValue>0,"data-state":""},on:{click:e.isHideHeader}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-video",staticClass:"icon-video"})]):e._e(),e.authUser.isPerformer&&!e.onlyFriends?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_record_voice"),expression:"$t('message.post_record_voice')"}],ref:"audioRecordBtn",staticClass:"g-btn m-flat",attrs:{id:"js-audioRecordBtn",type:"button",disabled:!!e.uploadedFilesAudio.length||!!e.uploadedFilesVideo.length||e.tipValue>0},on:{click:e.toggleRecordPanel}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-voice",staticClass:"icon-voice"})]):e._e(),e.showMoreBtn?[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],staticClass:"g-btn m-flat b-make-post__more-btn",attrs:{type:"button"},on:{click:e.showMoreBtnClick}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-more",staticClass:"icon-more"})]),e.authUser.canStreaming?["true"===e.$env.VUE_APP_SECTION_STREAMING?s("router-link",{staticClass:"b-make-post__streaming-link",attrs:{to:{name:"Streaming"}}},[s("span",{staticClass:"g-btn__label"},[e._v(e._s(e.$t("message.make_post_streaming_button_title")))]),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-live",staticClass:"icon-live"})]):s("a",{staticClass:"b-make-post__streaming-link",attrs:{href:"/my/streaming"}},[s("span",{staticClass:"g-btn__label"},[e._v(e._s(e.$t("message.make_post_streaming_button_title")))]),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-live",staticClass:"icon-live"})])]:e._e()]:[e.isChat||e.isTemplate?e._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_add_poll"),expression:"$t('message.post_add_poll')"}],staticClass:"g-btn m-flat b-make-post__voting-btn",attrs:{type:"button",disabled:e.voteDisabled},on:{click:function(t){return e.showPollHandler(!0)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-poll",staticClass:"icon-poll"})]),!e.authUser.canMakeExpirePosts||e.isChat||e.isTemplate?e._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_expiration_period"),expression:"$t('message.post_expiration_period')"}],staticClass:"g-btn m-flat b-make-post__expire-period-btn",attrs:{type:"button",disabled:e.postExpirationDisabled},on:{click:e.openPostExpiration}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-expire",staticClass:"icon-clock"})]),e.authUser.isPerformer&&e.isShowScheduleDate?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.isChat?e.$t("message.chat_scheduled"):e.$t("message.post_shedule"),expression:"isChat ? $t('message.chat_scheduled') : $t('message.post_shedule')"}],staticClass:"g-btn m-flat b-make-post__datepicker-btn",attrs:{type:"button",disabled:e.scheduleDateDisabled||e.tipValue>0},on:{click:e.openScheduleDate}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-schedule",staticClass:"icon-schedule"})]):e._e(),!e.authUser.canCreateFundRaising||e.isChat||e.isTemplate?e._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.post_set_fundraising_target_title"),expression:"$t('message.post_set_fundraising_target_title')"}],staticClass:"g-btn m-flat",attrs:{disabled:e.fundraisingDisabled},on:{click:function(t){return t.preventDefault(),e.toggleFundingPanel(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-fundraising",staticClass:"icon-fundraising"})]),e.isShowPriceBtn&&!e.onlyFriends?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.priceBtnTooltip,expression:"priceBtnTooltip"}],staticClass:"g-btn m-flat",attrs:{disabled:e.defaultPollExpired>0||e.privatePost||e.fundraisingTarget>0||e.tipValue>0},on:{click:function(t){return t.preventDefault(),e.openModalPostPrice(t)}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],key:"make-post-icon-price",staticClass:"icon-price"})]):e._e()]],2),s("datetime",{ref:"scheduleDatepicker",staticClass:"b-make-post__datepicker-input custom-datepicker",attrs:{format:{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"},"use12-hour":"","min-datetime":e.minDatetime,type:"datetime",title:e.isChat?this.$i18n.t("message.chat_scheduled"):this.$i18n.t("message.datepicker_popup_title"),"show-tabs":""},on:{close:e.closeScheduleDate},scopedSlots:e._u([{key:"button-confirm",fn:function(t){return["date"===t.step?s("button",{staticClass:"g-btn m-transparent-bg m-no-uppercase",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("message.next_button"))+" ")]):s("button",{staticClass:"g-btn m-transparent-bg m-no-uppercase",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("message.save"))+" ")])]}}]),model:{value:e.scheduleDate,callback:function(t){e.scheduleDate=t},expression:"scheduleDate"}},[s("template",{slot:"button-cancel"},[e.isChat?e._e():s("button",{staticClass:"g-btn m-no-uppercase m-transparent-bg custom-datepicker-button-save-later",attrs:{type:"button"},on:{click:e.setSaveForLater}},[e._v(" "+e._s(e.$t("message.save_for_later_button"))+" ")]),s("button",{staticClass:"g-btn m-no-uppercase m-transparent-bg custom-datepicker-button-cancel",attrs:{type:"button"}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")])])],2)],1),s("div",{staticClass:"make_post_error",domProps:{innerHTML:e._s(e.makePostError)},on:{click:e.innerLinkToRouter}}),s("div",{staticClass:"b-dropzone__label"},[e._v(" "+e._s(e.$t("message.fileupload_drop_label"))+" ")])],1)]),e.showMediaHint?s("div",{staticClass:"b-reminder-form",class:{"b-reminder-chat":e.isChat}},[s("div",{staticClass:"b-reminder-form__text"},[e._v(" "+e._s(e.$t("message.do_not_forget_attachments"))+" ")]),s("div",{staticClass:"b-reminder-form__icons"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-media",on:{click:e.addNewMediaClick}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-video",on:{click:e.addNewMediaClick}}),s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-voice",on:{click:e.toggleRecordPanel}})])]):e._e(),s("AudioInput",{class:{"m-hidden":!e.isShowRecordPanel},attrs:{"toggle-record-panel":e.toggleRecordPanel}}),e.isShowPriceBtn?s("modal-post-price",{attrs:{"default-price":e.price,"set-price":e.setPrice,title:e.modalPriceTitle,isChat:e.isChat}}):e._e(),e.authUser.canCreateFundRaising?s("post-funding",{attrs:{"toggle-funding-panel":e.toggleFundingPanel,"default-target":e.fundraisingTarget,"set-target":e.setTarget}}):e._e(),s("modal-post-period",{attrs:{title:this.$i18n.t("message.make_post_expire_popup_title"),name:"ModalPostExpiration"},on:{period:e.updateExpPeriod}}),s("modal-post-period",{attrs:{title:"POLL DURATION","default-period":e.defaultVotingDuration,name:"ModalPollDuration"},on:{period:e.updatePollDuration}}),e.isChat?s("tip-panel",{attrs:{"with-user":e.withUser},on:{doSetTip:e.doSetTip,clearTipValue:e.clearTipValue}}):e._e(),s("modal-confirm",{attrs:{"modal-show":e.isShowModalConfirmSendMessage,text:this.$i18n.t("message.confirm_send_messages",{COUNT:e.getSelectedUsersIds}),"agree-btn":"Yes","close-on-agree":"","close-on-cancel":""},on:{"update:modalShow":function(t){e.isShowModalConfirmSendMessage=t},"update:modal-show":function(t){e.isShowModalConfirmSendMessage=t},"on-agree":e.submitMessage}}),e.showVideoMessage&&e.isChat?s("videomessage"):e._e()],1)},r=[],n=(s("8e6e"),s("ac6a"),s("456d"),s("55dd"),s("6762"),s("2fdb"),s("75fc")),a=(s("7514"),s("6b54"),s("a481"),s("3b2b"),s("96cf"),s("3b8d")),o=(s("20d6"),s("7f7f"),s("bd86")),c=(s("c5f6"),s("0f32")),l=s.n(c),u=s("b047c"),d=s.n(u),h=s("9b02"),p=s.n(h),m=s("c1df"),f=s.n(m),b=s("63ea"),v=s.n(b),g=s("13ea"),_=s.n(g),y=s("859b"),w=(s("d355"),s("310e")),O=s.n(w),C=s("24cb"),P=s("1560"),x=s("9d30"),k=s("d634"),S=s("5892"),E=s("2612"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:e.name,attrs:{id:e.name,centered:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")]),s("span",{staticClass:"b-make-post__modal__value",domProps:{innerHTML:e._s(e.daysValue)}})]),s("div",{staticClass:"b-make-post__expire-wrapper"},e._l(e.periodDays,(function(t,i){return s("div",{key:i,staticClass:"b-make-post__expire__item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.periodValue,expression:"periodValue"}],staticClass:"b-make-post__expire__input",attrs:{id:e.name+i,type:"radio"},domProps:{value:t,checked:e._q(e.periodValue,t)},on:{change:function(s){e.periodValue=t}}}),s("label",{staticClass:"b-make-post__expire__label",attrs:{for:e.name+i},domProps:{innerHTML:e._s(e.periodLabel(t))}})])})),0),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:function(t){e.show=!1}}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.saveChanges}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])],2)},A=[],j={name:"ModalPostPeriod",props:{title:{type:String,default:""},defaultPeriod:{type:Number,default:1},name:{type:String,required:!0}},data:function(){return{show:!1,periodDays:[1,3,7,30,0],periodValue:1}},computed:{daysValue:function(){return this.periodLabel(this.periodValue)}},mounted:function(){this.defaultPeriod&&(this.periodValue=this.defaultPeriod)},methods:{periodLabel:function(e){return e>0?this.$i18n.tc("message.count_day_plural_new",e,{COUNT:'<span class="g-first-letter">'.concat(e,"</span>")}):this.$i18n.t("message.no_limit_days_with_first_letter")},saveChanges:function(){this.show=!1,this.$emit("period",this.periodValue)}}},$=j,M=s("2877"),I=Object(M["a"])($,T,A,!1,null,null,null),L=I.exports,D=s("33a44"),R=s("0c50"),U=s("06f2"),N=s("792a"),B=s("25ac"),F=s("ebf6"),V=s("ad97"),H=s("925c"),z=s("8975"),q=s("16d9"),G=s("6344"),Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalPostPrice",attrs:{id:"ModalPostPrice",centered:"",size:"sm","body-class":"m-price-stream m-reset-body-padding-bottom"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title||e.$t("message.post_set_price_title"))+" ")])]),s("price-input",{attrs:{min:e.minPrice,max:e.maxPrice,placeholder:e.$t("message.post_message_price_field_placeholder"),label:e.$t("message.price"),"allow-free":""},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.cancel}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.messagePriceSetDisabled},on:{click:e.save}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])],2)},W=[],Y=s("fd85");function X(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function K(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?X(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):X(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Q={components:{PriceInput:Y["a"]},props:{defaultPrice:{type:[Number,String],default:0},setPrice:{type:Function,required:!0},title:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:0},isChat:{type:Boolean,default:!1}},data:function(){return{price:"",focused:!1,focusTimeout:null}},computed:K(K({},Object(k["b"])(["authUser"])),{},{minPrice:function(){return this.min?this.min:this.isChat?this.authUser.messageMinPrice:this.authUser.postMinPrice},maxPrice:function(){return this.max?this.max:this.isChat?this.authUser.messageMaxPrice:this.authUser.postMaxPrice},messagePriceSetDisabled:function(){var e=+this.price;return!!e&&(e<this.minPrice||e>this.maxPrice)}}),watch:{defaultPrice:function(){this.price=this.defaultPrice}},mounted:function(){this.defaultPrice&&(this.price=this.defaultPrice)},methods:{save:function(){this.setPrice(this.price),this.hide()},cancel:function(){this.price="",this.hide()},hide:function(){this.$refs.ModalPostPrice&&this.$refs.ModalPostPrice.hide()}}},J=Q,ee=Object(M["a"])(J,Z,W,!1,null,null,null),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalFunds",attrs:{id:"ModalFunds",centered:"",size:"sm"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.post_fundraising_target_title"))+" ")])]),s("price-input",{attrs:{min:e.authUser.minFundRaisingTarget,max:e.authUser.maxFundRaisingTarget,label:e.$t("message.post_fundraising_target_field_placeholder"),"allow-free":""},model:{value:e.target,callback:function(t){e.target=t},expression:"target"}}),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.close}},[e._v(" "+e._s(e.$t("message.cancel_button"))+" ")]),s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:!!e.messagePriceError},on:{click:e.setPostTarget}},[e._v(" "+e._s(e.$t("message.save_button"))+" ")])])],2)},ie=[];function re(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function ne(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?re(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):re(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var ae={components:{PriceInput:Y["a"]},props:{defaultTarget:{type:Number,default:0},setTarget:{type:Function,required:!0}},data:function(){return{target:"",focused:!1,focusTimeout:null}},computed:ne(ne({},Object(k["b"])(["authUser"])),{},{messagePriceError:function(){if(this.target){if(this.target<this.authUser.minFundRaisingTarget)return this.$i18n.t("message.min_price_label",{MIN:this.authUser.minFundRaisingTarget});if(this.target>this.authUser.maxFundRaisingTarget)return this.$i18n.t("message.max_price_label",{MAX:this.authUser.maxFundRaisingTarget})}return""}}),watch:{defaultTarget:function(){this.target=this.defaultTarget}},mounted:function(){this.defaultTarget&&(this.target=this.defaultTarget)},methods:{setPostTarget:function(){this.setTarget(this.target),this.close()},focus:function(){clearTimeout(this.focusTimeout),this.focused=!0},blur:function(){var e=this;this.focusTimeout=setTimeout((function(){e.focused=!1}),150)},close:function(){this.$refs.ModalFunds.hide()}}},oe=ae,ce=Object(M["a"])(oe,se,ie,!1,null,null,null),le=ce.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._t("default")],2)},de=[],he={name:"EmptyComponent"},pe=he,me=Object(M["a"])(pe,ue,de,!1,null,null,null),fe=me.exports,be=s("13ca"),ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"ModalTipPanel",attrs:{id:"ModalTipPanel",centered:"",size:"sm","body-class":"m-price-stream m-reset-body-padding-bottom"}},[s("template",{slot:"modal-header"},[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("message.chat_set_message_tip_title"))+" ")])]),s("price-input",{attrs:{min:e.tipsMin,max:e.tipsMax,"allow-free":""},model:{value:e.tipValue,callback:function(t){e.tipValue=t},expression:"tipValue"}}),s("template",{slot:"modal-footer"},[s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button"},on:{click:e.closeTipPanel}},[s("span",[e._v(e._s(e.$t("message.cancel_button")))])]),e.canPayToUser?s("button",{staticClass:"g-btn m-transparent-bg",attrs:{type:"button",disabled:e.tipSubmitDisabled},on:{click:e.addTips}},[s("span",[e._v(e._s(e.$t("message.save_button")))])]):s("router-link",{staticClass:"g-btn m-transparent-bg",attrs:{to:{name:"PaymentsAddCard"}}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-add-card"}),s("span",[e._v(e._s(e.$t("message.tip_add_card_btn_label")))])])],1)],2)},ge=[],_e=s("30ba");function ye(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function we(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ye(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Oe={name:"ModalTipPanel",components:{PriceInput:Y["a"]},mixins:[_e["a"],q["a"]],props:{withUser:{type:Object,default:void 0}},data:function(){return{isShowTipPanel:!1,tipValue:"",tipValueMin:5,tipValueMax:500,focusTimeout:null,focused:!1}},computed:we(we({},Object(k["b"])(["authUser"])),{},{messageTipsError:function(){if(this.tipValue){if(this.tipValue<this.tipsMin)return"Minimum $".concat(this.tipsMin," USD");if(this.tipValue>this.tipsMax)return"Maximum $".concat(this.tipsMax," USD")}return""},tipsMin:function(){return this.authUser.creditBalance>=1&&this.withUser&&this.withUser.canPayInternal?1:this.withUser?this.withUser.tipsMin:this.tipValueMin},tipsMax:function(){return this.withUser?this.withUser.tipsMax:this.tipValueMax},user:function(){return this.withUser},tipSubmitDisabled:function(){return this.tipValue<this.tipsMin||this.tipValue>this.tipsMax}}),methods:{focus:function(){clearTimeout(this.focusTimeout),this.focused=!0,this.messagePrice||(this.newMessagePrice="")},blur:function(){var e=this;this.focusTimeout=setTimeout((function(){e.focused=!1}),150)},closeTipPanel:function(){this.clearTip(),this.close()},addTips:function(){this.$emit("doSetTip",this.tipValue),this.close()},clearTip:function(){this.$emit("clearTipValue"),this.tipValue=""},close:function(){this.$refs.ModalTipPanel.hide()}}},Ce=Oe,Pe=Object(M["a"])(Ce,ve,ge,!1,null,null,null),xe=Pe.exports,ke=s("ce23"),Se=s("1793"),Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isShowInfoForTipsMessages?s("div",{staticClass:"b-info-tips-form"},[s("div",{staticClass:"b-info-tips-form__text"},[e._v(" "+e._s(e.$t("message.please_add_a_tip_to_this"))+" ")]),s("span",{staticClass:"g-icon-info"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:{content:e.$t("message.send_messages_for_tips_popup"),classes:"m-tooltip-higher"},expression:"{ content: $t('message.send_messages_for_tips_popup'), classes: 'm-tooltip-higher' }",modifiers:{enabled:!0}}],staticClass:"icon-info"})])]):e._e(),e.isMessagesWithIsTopInfo&&!e.authUser.isPerformer&&e.withUser&&e.withUser.tipsEnabled?s("div",{staticClass:"b-info-tips-form"},[s("div",{staticClass:"b-info-tips-form__text"},[e._v(" "+e._s(e.$t("message.send_a_tip_button_messages"))+" ")]),s("button",{staticClass:"g-page__header__btn m-with-round-hover",attrs:{type:"button"},on:{click:e.clearMessagesWithIsTopInfo}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.close_button"),expression:"$t('message.close_button')"}],staticClass:"icon-close"})])]):e._e(),!e.text&&e.tipValue?s("div",{staticClass:"b-info-tips-form"},[s("div",{staticClass:"b-info-tips-form__text"},[e._v(" "+e._s(e.$t("message.chat_please_dd_text_for_tips"))+" ")])]):e._e()])},Te=[],Ae=s("709f");function je(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function $e(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?je(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):je(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Me={name:"ChatInfo",props:{tipValue:{type:[String,Number],default:""},tipsMin:{type:[String,Number],default:""},withUser:{type:Object,default:function(){}},text:{type:String,default:""},chat:{type:Object,default:function(){}}},data:function(){return{isMessagesWithIsTopInfo:!1}},computed:$e($e({},Object(k["b"])(["authUser"])),{},{isShowInfoForTipsMessages:function(){return"SettingsMessaging"!==this.$route.name&&"only_friends"===this.chat.canNotSendReason&&this.tipValue<this.tipsMin}}),mounted:function(){null!==Ae["a"].getItem("isShowInfoTips")&&Ae["a"].getItem("isShowInfoTips")<Date.now()&&(this.isMessagesWithIsTopInfo=!0),null===Ae["a"].getItem("isShowInfoTips")&&(this.isMessagesWithIsTopInfo=!0)},methods:{clearMessagesWithIsTopInfo:function(){this.isMessagesWithIsTopInfo=!1;var e=Date.now(),t=e+2592e6;Ae["a"].setItem("isShowInfoTips",t)}}},Ie=Me,Le=Object(M["a"])(Ie,Ee,Te,!1,null,null,null),De=Le.exports,Re=s("8b3f"),Ue=s("a836"),Ne=s("09e4");function Be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function Fe(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(s),!0).forEach((function(t){Object(o["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var Ve={name:"MakeFeedPost",components:{ModalPostPeriod:L,Datetime:y["Datetime"],UtilsTime:D["a"],UploadPreview:R["a"],AudioInput:G["a"],ModalPostPrice:te,PostFunding:le,draggable:O.a,VueTribute:C["a"],EmptyComponent:fe,InputOF:be["a"],TipPanel:xe,Videomessage:Se["a"],ChatInfo:De,ModalConfirm:Re["a"]},mixins:[U["a"],N["a"],B["a"],F["a"],q["a"],V["a"],H["a"],P["a"],x["a"],ke["a"]],props:{place:{type:String,default:"feed"},editPost:{type:Boolean,default:!1},hideStreamBtn:{type:Boolean,default:!1},fakeMode:{type:Boolean,default:!1},post:{type:Object,default:function(){}},showMoreBtn:{type:Boolean,default:!0},isChat:{type:Boolean,default:!1},withUser:{type:Object,default:void 0},chat:{type:Object,default:function(){}},userIds:{type:[Array,String],default:function(){return[]}},listIds:{type:Array,default:function(){return[]}},excludedUserIds:{type:Array,default:function(){return[]}},userIdToSend:{type:Number,default:0},fundRaisingPostId:{type:Number,default:0},awards:{type:Array,default:function(){return[]}},sendToQueue:{type:Number,default:0},usersCount:{type:Number,default:0},postDonators:{type:Number,default:0},postBuyers:{type:Number,default:0},postVoters:{type:Number,default:0},idScheduledMsg:{type:Number,default:0},isTemplate:{type:Boolean,default:!1},template:{type:Object,default:function(){}}},data:function(){return{postUsage:!0,text:"",showPoll:!1,votingOptions:["",""],defaultVotingDuration:7,defaultPollExpired:0,showFundraising:!1,fundraisingLocked:!1,fundraisingTarget:0,fundraisingOptions:[5,""],tweetSend:0,fakeTweetSend:0,scheduleDate:null,makePostError:"",isShowRecordPanel:!1,price:0,unlockedMedia:[],lockDescription:!1,saveForLater:!1,uploadedFilesWithoutAudioList:[],freeFilesWithoutAudioList:[],isDraggingPreviews:!1,squarePreviews:!1,previewsOrder:[],isMobileDevice:!1,paidMediaWithoutAudio:[],freeMediaWithoutAudio:[],paidMediaActive:!1,freeMediaActive:!1,mediaCentered:!1,paidMediaText:!1,freeMediaText:!1,paidMediaAudio:!1,freeMediaAudio:!1,galleryMedia:[],pollLocked:!1,options:{},audioLocked:!1,hasBeforeunloadPostEvent:!1,beforeEachPostFunc:null,mentionUsersQuery:"",mentionUsers:[],tipValue:"",showVideoMessage:!1,isShowModalConfirmSendMessage:!1,isEditScheduleMessages:!1}},computed:Fe(Fe(Fe(Fe(Fe({},Object(k["b"])(["authUser"])),Object(k["O"])(["getDraft"])),Object(k["q"])(["goBackState"])),Object(k["j"])(["getSelectedUsersIds"])),{},{isOpen:{get:function(){return this.photoSwipeIsOpen},set:function(e){e?this.$root.$on("closePhotoSwipe",this.hidePhotoSwipe):this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),this.photoSwipeSetItems(e?this.galleryMedia:[]),this.photoSwipeSetOptions(e?this.options:{}),this.photoSwipeSetOpen(e)}},hasDraft:function(){return!!this.getDraft},showMediaHint:function(){return!(!this.privatePost||this.fakeMode)&&((!this.uploadedFilesAudio.length||!this.audioLocked)&&!this.getPrimaryFilesWithoutAudio.length)},hasAssets:function(){return this.uploadedFiles.length||this.scheduleDate||this.showPoll||this.showFundraising||this.defaultPollExpired>0},isAnyMoreThanOneFace:function(){return!this.uploadedFiles.filter((function(e){return e.faceCount>=2})).length},privatePost:function(){return!!this.price},disabledSubmit:function(){var e=!0;return e=!(!this.showFundraising||this.fundraisingOptions.filter((function(e){return Number(e)>0})).length&&!this.isFundrisingOptionsErrors&&this.text.trim().length)||(this.privatePost?!(!this.uploadedFiles.length||this.allUploaded)||(!this.text.trim().length||!this.lockDescription)&&(!(this.showPoll&&this.votingOptions.filter((function(e){return e.length})).length>1&&this.pollLocked&&this.text.trim().length)&&((!this.uploadedFilesAudio.length||!this.audioLocked)&&!this.getPrimaryFilesWithoutAudio.length)):this.uploadedFiles.length?!this.allUploaded:!this.text.trim().length),"ChatsSend"!==this.$route.name||this.userIds.length||this.getListsUsersCount||this.specificBulkMessage&&this.usersCount||(e=!0),"ChatsSend"===this.$route.name&&this.listIds.length&&this.uploadedFiles.length&&!this.text.trim().length&&(e=!1),"Chat"===this.$route.name&&this.chat&&"only_friends"===this.chat.canNotSendReason&&this.tipValue<this.withUser.tipsMin&&(e=!0),this.authUser.canChat||(e=!0),this.tipValue&&this.text&&(e=!1),this.$emit("canSave",e),e},isFundrisingOptionsErrors:function(){var e=this;return this.fundraisingOptions.some((function(t,s){return e.getFundrisingOptionError(s).length}))},votingDuration:function(){return this.defaultVotingDuration>0?this.$i18n.tc("message.count_day_plural_new",this.defaultVotingDuration,{COUNT:this.defaultVotingDuration}):this.$i18n.t("message.no_limit_days_with_first_letter")},pollExpired:function(){return"".concat(this.defaultPollExpired," days")},minDatetime:function(){var e=new Date(Date.now());return e.toISOString()},makePostPlaceholder:function(){return this.isChat||this.isTemplate?this.$i18n.t("message.chat_text_input_placeholder"):this.uploadedFiles.length?this.$i18n.t("message.make_post_alt_text_input_placeholder"):this.$i18n.t("message.make_post_text_input_placeholder_new")},itHasPost:function(){return!!this.post&&!!this.post.id},postTextDisabled:function(){return!!this.itHasPost&&!this.post.canEditText},canEditMedia:function(){return!this.post||!this.post.hasOwnProperty("canEditMedia")||this.post.canEditMedia},fileUploadDisabled:function(){return!!this.tipValue||!!this.itHasPost&&!this.post.canEditMedia},postExpirationDisabled:function(){return this.defaultPollExpired?!!this.defaultPollExpired:this.itHasPost?!this.post.canEditExpire:!!this.price},scheduleDateDisabled:function(){return this.scheduleDate?!!this.scheduleDate:this.saveForLater?!!this.saveForLater:!!this.itHasPost&&!this.post.canEditSchedule},voteDisabled:function(){return this.showPoll?this.showPoll:!!this.itHasPost&&!this.post.canEditVote},fundraisingDisabled:function(){return!!this.privatePost||!!this.fundraisingTarget},uploadedFilesWithoutAudio:function(){return this.uploadedFilesWithoutAudioList=this.uploadedFiles.filter((function(e){return"audio"!==e.mediaType})),this.uploadedFiles.filter((function(e){return"audio"!==e.mediaType}))},uploadedFilesAudio:function(){return this.uploadedFiles.filter((function(e){return"audio"===e.mediaType}))},uploadedFilesVideo:function(){return this.uploadedFiles.filter((function(e){return"video"===e.mediaType||"gif"===e.mediaType}))},uploadedFilesPhoto:function(){return this.uploadedFiles.filter((function(e){return"photo"===e.mediaType}))},getFreeFilesWithoutAudio:function(){var e=this,t=[];return this.privatePost&&(this.freeMediaWithoutAudio=this.freeMediaWithoutAudio.filter((function(t){return e.uploadedFilesWithoutAudio.findIndex((function(e){return e.orderId===t||e.id===t}))>-1})),t=this.uploadedFilesWithoutAudio.filter((function(t){return e.freeMediaWithoutAudio.indexOf(t.orderId)>-1||e.freeMediaWithoutAudio.indexOf(t.id)>-1}))),this.freeFilesWithoutAudioList=t,t},getPrimaryFilesWithoutAudio:function(){var e=this,t=this.uploadedFilesWithoutAudio;return this.privatePost&&(t=this.uploadedFilesWithoutAudio.filter((function(t){return e.freeMediaWithoutAudio.indexOf(t.orderId)<0&&e.freeMediaWithoutAudio.indexOf(t.id)<0})),this.paidMediaWithoutAudio=t.map((function(e){return e.orderId}))),this.uploadedFilesWithoutAudioList=t,t},checkLeave:function(){return!this.fakeMode&&!this.editPost&&(!(!this.text||!this.text.trim().length)||!!this.uploadedFiles.length||!!this.uploadedFilesAudio.length||this.showPoll||this.showFundraising||!!this.scheduleDate||!!this.defaultPollExpired||!!this.price)},checkLeaveTextPost:function(){return this.$i18n.t("message.post_leave_msg")},tributeOptions:function(){var e=this;return{trigger:"@",values:d()(this.fetchUsersMention,500),lookup:function(e){return e._tributeLookup},fillAttr:"username",containerClass:"mention-container",selectTemplate:function(e){return"@".concat(e.original.username)},menuItemTemplate:function(t){var s=t.original,i=e.thumbSrcLink(s.avatar,s.avatarThumbs,"c50"),r="";return r+='<div class="connected-accounts-info">',r+='<span class="connected-accounts-profile-avatar g-avatar m-w50">',r+='<img src="'.concat(i,'" alt="').concat(s.name,'">'),r+="</span>",r+='<span class="connected-accounts-profile-link">',s.displayName?r+='<div class="g-user-name one-line-text">'.concat(s.displayName," (").concat(s.name,")</div>"):r+='<div class="g-user-name one-line-text">'.concat(s.name,"</div>"),r+='<div class="g-user-username one-line-text">@'.concat(s.username,"</div>"),r+="</span>",r+="</div>",r}}},showTribute:function(){return this.authUser.isPerformer},tributeComponent:function(){return this.showTribute?C["a"]:fe},tributeComponentOptions:function(){return this.showTribute?{options:this.tributeOptions}:{}},fundraisingPresetMax:function(){return Math.min(this.fundraisingTarget,this.authUser.tipsMax)},disabledTipsBtn:function(){return!!this.uploadedFiles.length||!!this.price},getListsUsersCount:function(){return this.listIds.length?this.usersCount:0},isShowScheduleDate:function(){return("Chat"!==this.$route.name||"sm"===this.$mq)&&"SettingsMessaging"!==this.$route.name},specificBulkMessage:function(){return this.fundRaisingPostId||this.awards.length||this.sendToQueue||this.postDonators||this.postBuyers||this.postVoters},isShowPriceBtn:function(){return!(!this.isChat&&"SettingsMessaging"!==this.$route.name||!this.authUser.isPerformer)||!(!this.authUser.canEarn||0!==this.authUser.subscribePrice)},priceBtnTooltip:function(){return this.isChat||"SettingsMessaging"===this.$route.name?this.$i18n.t("message.tooltip_message_price"):this.$i18n.t("message.post_set_price_title")},modalPriceTitle:function(){return this.isChat||"SettingsMessaging"===this.$route.name?this.$i18n.t("message.chat_set_message_price_title"):""},onlyFriends:function(){return"Chat"===this.$route.name&&this.chat&&"only_friends"===this.chat.canNotSendReason}}),watch:{post:{handler:function(e,t){v()(e,t)||(e&&e.id?this.setPostData(e):this.resetToDefault())}},uploadedFiles:{handler:function(){var e=this;this.squarePreviews=this.uploadedFilesPhoto.length>1&&this.checkPreviewRatio(),this.privatePost&&this.$nextTick((function(){e.scrollPreviewsThrottled()}))},deep:!0,immediate:!0},privatePost:{handler:function(){var e=this;this.privatePost&&this.$nextTick((function(){e.scrollPreviewsThrottled()}))}}},created:function(){var e=document.createElement("div");e.style.overflow="scroll",document.body.appendChild(e),e.innerText="m",this.isMobileDevice=e.offsetWidth===e.clientWidth&&e.offsetHeight===e.clientHeight,document.body.removeChild(e)},mounted:function(){var e=this;this.beforeunloadCheckLeave({watchField:"checkLeave",conditionField:"checkLeave",eventField:"hasBeforeunloadPostEvent",funcField:"handleBeforeUnloadPost"});var t=Ae["a"].getItem("filesFromMediaFeed");this.$route.params.setFocus&&this.$refs.textarea.focus(),this.$route.params.fileUploadData&&this.handleInputFile(this.$route.params.fileUploadData),this.$route.params.tweetSend&&(this.fakeTweetSend=this.$route.params.tweetSend),!this.fakeMode&&this.$route.params.vaultFiles&&this.$route.params.post&&this.setMediaData(this.$route.params.vaultFiles),!this.fakeMode&&this.$route.params.vaultFiles&&this.$route.params.inprogressPost&&(this.loadDraft(),this.setMediaData(this.$route.params.vaultFiles,!0)),!this.fakeMode&&t&&(this.setMediaData(JSON.parse(t)),Ae["a"].removeItem("filesFromMediaFeed")),this.isTemplate&&!_()(this.template)&&(this.setDataFromStore(),this.setMediaData(this.template.media),this.setFreeLockMedia(this.template.previews)),this.isChat&&this.$route.params.vaultFiles&&this.setMediaData(this.$route.params.vaultFiles),this.isChat&&this.$route.params.scheduleItem&&(this.setMediaData(this.$route.params.scheduleItem.media),this.setDataSchedule(this.$route.params.scheduleItem),this.isEditScheduleMessages=!0),this.fakeMode||this.$route.params.vaultFiles||this.isChat||this.isTemplate||this.loadDraft(),void 0!==this.$parent.tweetSend&&(this.$parent.tweetSend=this.fakeTweetSend),this.$root.$once("removeAllBeforeUnloadListeners",this.removeListeners),this.$refs.videoMessageBtn&&this.$nextTick((function(){e.showVideoMessage=!0}))},beforeDestroy:function(){this.$root.$off("closePhotoSwipe",this.hidePhotoSwipe),document.body.classList.remove("open-panel"),this.beforeEachPostFunc&&this.beforeEachPostFunc(),this.hasBeforeunloadPostEvent&&(window.removeEventListener("beforeunload",this.handleBeforeUnloadPost),this.hasBeforeunloadPostEvent=!1),this.fakeMode||this.editPost||this.isTemplate||this.saveDraft(),this.$root.$off("removeAllBeforeUnloadListeners",this.removeListeners),this.isTemplate&&this.resetToDefault()},methods:Fe(Fe(Fe(Fe(Fe(Fe(Fe({},Object(k["B"])(["preloaderShow"])),Object(k["S"])(["setPost"])),Object(k["N"])(["setDraft","resetDraft"])),Object(k["i"])(["sendMessage","fetchChatsMessages"])),Object(k["k"])(["setQueueMessagesLoading"])),Object(k["db"])(["saveAutoMessage"])),{},{updateFileThumbId:function(e,t){this.uploadedFiles=this.uploadedFiles.map((function(s){return e.processId&&e.processId===s.processId||e.id&&e.id===s.id?Fe(Fe({},s),{},{thumbId:t}):s}))},fetchUsersMention:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,s){var i,r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.mentionUsersQuery=t,this.mentionUsers=[],!(this.mentionUsersQuery&&this.mentionUsersQuery.length>=2&&this.mentionUsersQuery.length<=100)){e.next=15;break}if(i=new RegExp("^u\\d+$"),r=i.test(this.mentionUsersQuery),r){e.next=15;break}return e.prev=6,e.next=9,Object(E["P"])({query:this.mentionUsersQuery});case 9:n=e.sent,this.mentionUsers=n.map((function(e){return Fe(Fe({},e),{},{_tributeLookup:a.mentionUsersQuery})})),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](6);case 15:s(this.mentionUsers);case 16:case"end":return e.stop()}}),e,this,[[6,13]])})));function t(t,s){return e.apply(this,arguments)}return t}(),toggleLockDescription:function(){var e=this;this.lockDescription=!this.lockDescription,this.$nextTick((function(){e.scrollPreviewsThrottled()}))},addNewMediaClick:function(){this.$refs.fileupload_photo.click()},openNewPostPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$router.push({name:"PostsCreate",params:Fe(Fe({},e),{},{tweetSend:this.fakeTweetSend,noReload:!0})})},fileUploadChange:function(e){this.fakeMode?this.openNewPostPage({fileUploadData:e}):this.handleInputFile(e)},textareaClick:function(){this.fakeMode&&this.openNewPostPage({setFocus:!0})},addVoteOption:function(){this.votingOptions.push("")},addFundraisingOption:function(){this.fundraisingOptions.push("")},removeVoteOption:function(e){this.votingOptions.splice(e,1)},removeFundraisingOption:function(e){this.fundraisingOptions.splice(e,1)},showPollHandler:function(e){var t=this;this.showPoll=e,e?this.pollLocked=this.privatePost:(this.votingOptions=["",""],this.defaultVotingDuration=7,this.pollLocked=!1),this.privatePost&&this.$nextTick((function(){t.scrollPreviewsThrottled()}))},showFundraisingHandler:function(e){var t=this;this.showFundraising=e,this.fundraisingLocked=!1,e||(this.fundraisingOptions=["5",""],this.fundraisingTarget=0),this.privatePost&&this.$nextTick((function(){t.scrollPreviewsThrottled()}))},openModalPostPrice:function(){this.$root.$emit("bv::show::modal","ModalPostPrice")},openPostExpiration:function(){this.$root.$emit("bv::show::modal","ModalPostExpiration")},openPollDuration:function(){this.$root.$emit("bv::show::modal","ModalPollDuration")},openScheduleDate:function(){this.$refs.scheduleDatepicker.isOpen=!0,window.disableBodyScroll(!0)},closeScheduleDate:function(){window.enableBodyScroll(!0)},updateExpPeriod:function(e){this.defaultPollExpired=e},updatePollDuration:function(e){this.defaultVotingDuration=e},getDataObject:function(){var e={};if(this.text&&(e.text=this.text),this.uploadedFilesUrl.length>0&&(e.mediaFiles=this.uploadedFilesUrl),this.scheduleDate&&(e.isScheduled=1,e.scheduledDate=this.scheduleDate),this.saveForLater&&(e.isScheduled=1,e.isPublishedWithPeriod=1),this.authUser.isTwitterConnected&&this.authUser.twitterUsername&&(e.tweetSend=this.tweetSend),this.price&&(e.price=this.price),e.preview=[],this.freeFilesWithoutAudioList&&(e.preview=this.freeFilesWithoutAudioList.map((function(e){return e.processId||e.id}))),!this.audioLocked&&this.uploadedFilesAudio.length&&e.preview.push(this.uploadedFilesAudio[0].processId||this.uploadedFilesAudio[0].id),this.defaultPollExpired>0&&(e.expireDays=this.defaultPollExpired),this.showPoll&&this.votingOptions.length&&(e.votingOptions=this.votingOptions,this.defaultVotingDuration>0&&(e.votingDue=this.defaultVotingDuration),this.pollLocked||e.preview.push("poll")),this.showFundraising){var t=this.fundraisingOptions.filter((function(e){return Number(e)>0})).map((function(e){return Number(e)}));t.length&&(e.fundRaisingTipsPresets=t,e.fundRaisingTargetAmount=Number(this.fundraisingTarget))}return this.privatePost&&this.lockDescription&&(e.lockedText=this.lockDescription),e},makePostSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.makePostError="",s=this.getDataObject(),e.prev=2,this.preloaderShow(!0),!this.itHasPost){e.next=10;break}return e.next=7,Object(S["g"])(this.post.id,s);case 7:t=e.sent,e.next=13;break;case 10:return e.next=12,Object(S["d"])(s);case 12:t=e.sent;case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e["catch"](2),this.preloaderShow(!1),e.t0.data&&e.t0.data.error&&e.t0.data.error.message&&(this.makePostError=e.t0.data.error.message),e.abrupt("return");case 20:if(void 0!==this.alreadyConfirmLeave&&(this.alreadyConfirmLeave=!0),this.preloaderShow(!1),!this.scheduleDate&&!this.saveForLater){e.next=26;break}return"Queue"===this.$route.name?this.$emit("reload-queue"):this.$router.replace({name:"Queue",params:{noReload:!0}}),this.resetToDefault(),e.abrupt("return");case 26:t&&t.id&&(this.setPost(t),this.resetDraft(),this.resetToDefault(),this.itHasPost&&this.goBackState.routeFrom&&"Post"===this.goBackState.routeFrom.name&&this.goBackState.routeFrom.params.postId===t.id?this.goBack({name:"Post",params:{userId:this.authUser.username,postId:t.id,noReload:!0}}):this.$router.replace({name:"Post",params:{userId:this.authUser.username,postId:t.id,noReload:!0}}));case 27:case"end":return e.stop()}}),e,this,[[2,15]])})));function t(){return e.apply(this,arguments)}return t}(),resetToDefault:function(){this.uploadedFiles=[],this.showPoll=!1,this.votingOptions=["",""],this.defaultVotingDuration=7,this.defaultPollExpired=0,this.scheduleDate=null,this.text="",this.postUsage=!0,this.tweetSend=0,this.fakeTweetSend=0,this.makePostError="",this.isShowRecordPanel=!1,this.price=0,this.unlockedMedia=[],this.lockDescription=!1,this.saveForLater=!1,this.audioLocked=!1,this.pollLocked=!1,this.uploadedFilesWithoutAudioList=[],this.freeFilesWithoutAudioList=[],this.isDraggingPreviews=!1,this.squarePreviews=!1,this.previewsOrder=[],this.paidMediaWithoutAudio=[],this.freeMediaWithoutAudio=[],this.paidMediaActive=!1,this.freeMediaActive=!1,this.mediaCentered=!1,this.paidMediaText=!1,this.freeMediaText=!1,this.paidMediaAudio=!1,this.freeMediaAudio=!1,this.galleryMedia=[],this.pollLocked=!1,this.isOpen=!1,this.options={},this.audioLocked=!1,this.showFundraising=!1,this.fundraisingLocked=!1,this.fundraisingTarget=0,this.fundraisingOptions=[5,""],this.tipValue=""},clearInput:function(e){e.target.value=""},mediaSource:function(e){return e.source||e.full?e.source?e.source.source:e.full:e.video&&e.video.mp4?e.video.mp4:e.src},setPostData:function(e){var t=this;this.resetToDefault(),void 0!==e.rawText?e.rawText.trim().length&&(this.text=Object(z["b"])(e.rawText)):e.text.trim().length&&(this.text=Object(z["b"])(e.text)),this.uploadedFiles=e.media.map((function(e){var s;if("processing"===t.post.mediaType){var i=t.mediaSource(e),r=t.fileType(i);s=t.getMediaFile(r)}else s=e.type;var n="audio"===s?e.full:e.preview,a={mediaType:s,progress:100,deleteType:"DELETE",url:n,id:e.id,orderId:Math.random().toString(36).substr(2,9)};if("video"===s){a.videoPreview=!0;var o=p()(e,"files.preview.options",[]),c=p()(e,"files.preview.url",void 0);if(o.length){var l=o.find((function(e){return e.selected}))||o[0];a.thumbs=o,a.thumbId=l.id}else c&&(a.thumbs=[{id:1,selected:!0,url:c}],a.thumbId=1)}return e.source&&(e.source.width&&(a.width=e.source.width),e.source.height&&(a.height=e.source.height)),a})),this.post.canEditSchedule&&(this.post.isPublishedWithPeriod?this.setSaveForLater():this.scheduleDate=this.post.postedAt);var s=f()().startOf("day");if(this.post.expiredAt){var i=f()(this.post.postedAt).startOf("day"),r=f()(this.post.expiredAt).startOf("day");this.defaultPollExpired=r.diff(i,"days")}if(this.post.canEditVote&&this.post.voting&&this.post.voting.options){this.showPoll=!0,this.votingOptions=this.post.voting.options.map((function(e){return e.name}));var a=f()(this.post.voting.finishedAt).startOf("day");this.defaultVotingDuration=a.diff(s,"days")}this.post.fundRaising&&(this.showFundraising=!0,this.fundraisingOptions=Object(n["a"])(this.post.fundRaising.presets),this.fundraisingTarget=this.post.fundRaising.target),this.post.price>0&&(this.price=this.post.price),this.post.lockedText&&(this.lockDescription=this.post.lockedText),this.setFreeLockMedia(this.post.preview),this.privatePost&&this.$nextTick((function(){t.scrollPreviewsThrottled()}))},setMediaData:function(e,t){var s=e.map((function(e){var t=e.type,s="audio"===t?e.src:e.preview,i={mediaType:t,progress:100,deleteType:"DELETE",url:s,id:e.id,orderId:Math.random().toString(36).substr(2,9)};if("video"===t){i.videoPreview=!0;var r=p()(e,"files.preview.options",[]),n=p()(e,"files.preview.url",void 0);if(r.length){var a=r.find((function(e){return e.selected}))||r[0];i.thumbs=r,i.thumbId=a.id}else n?(i.thumbs=[{id:1,selected:!0,url:n}],i.thumbId=1):e.thumb&&(i.thumbs=[{id:1,selected:!0,url:e.thumb}])}return e.source&&(e.source.width&&(i.width=e.source.width),e.source.height&&(i.height=e.source.height)),i}));if(t){var i=[].concat(Object(n["a"])(this.uploadedFiles),Object(n["a"])(s)).reduce((function(e,t){return t.id?-1===e.ids.indexOf(t.id)?{ids:[].concat(Object(n["a"])(e.ids),[t.id]),files:[].concat(Object(n["a"])(e.files),[t])}:e:Fe(Fe({},e),{},{files:[].concat(Object(n["a"])(e.files),[t])})}),{ids:[],files:[]});this.uploadedFiles=i.files}else this.uploadedFiles=s},setFreeLockMedia:function(e){var t=this;this.unlockedMedia=null!==e&&void 0!==e?void 0!==e.length?e:[e]:[],this.freeMediaWithoutAudio=this.unlockedMedia.filter((function(e){return t.uploadedFilesWithoutAudio.findIndex((function(t){return t.id===e}))>-1})),this.paidMediaWithoutAudio=this.uploadedFilesWithoutAudio.filter((function(e){return t.unlockedMedia.indexOf(e.id)<0})).map((function(e){return e.id})),this.audioLocked=this.uploadedFilesAudio.length&&!this.unlockedMedia.includes(this.uploadedFilesAudio[0].id)},toggleFundingPanel:function(){this.$root.$emit("bv::show::modal","ModalFunds")},toggleRecordPanel:function(){this.isShowRecordPanel=!this.isShowRecordPanel,document.body.classList.toggle("open-panel",this.isShowRecordPanel)},setPrice:function(e){var t=this;this.price=+e,this.privatePost&&(this.paidMediaWithoutAudio=this.uploadedFilesWithoutAudio.map((function(e){return e.orderId})),this.$nextTick((function(){t.scrollPreviewsThrottled()}))),this.showPoll&&(this.pollLocked=this.privatePost),this.audioLocked=this.privatePost},setTarget:function(e){this.fundraisingTarget=+e,this.showFundraisingHandler(!!+e)},saveDraft:function(){if(!this.isChat){this.resetDraft();var e=this.uploadedFiles.filter((function(e){return 100===e.progress}));(e.length||this.text||this.showPoll||this.showFundraising)&&this.setDraft(JSON.stringify(Fe(Fe({},this.$data),{},{uploadedFiles:e,isShowRecordPanel:!1})))}},loadDraft:function(){var e=JSON.parse(this.getDraft);for(var t in e)this[t]=e[t]},clearDraft:function(){this.resetToDefault(),this.resetDraft()},setSaveForLater:function(){this.saveForLater=!0},checkPreviewRatio:function(){var e=this.uploadedFilesPhoto[0],t=e.width,s=e.height;return this.uploadedFilesPhoto.some((function(e,i){return!!(i&&e.width&&e.height&&t&&s)&&(e.width/e.height).toFixed(2)!==(t/s).toFixed(2)}))},enableDraggablePreviews:function(){var e=this;this.isDraggingPreviews=!0,this.privatePost&&this.$nextTick((function(){e.scrollPreviewsThrottled()}))},setPreviewOrder:function(e){var t=this.previewsOrder.indexOf(e);t>-1?this.previewsOrder.splice(t,1):this.previewsOrder.push(e)},getPreviewOrder:function(e){var t=this.previewsOrder.indexOf(e);return t>-1?t+1:""},sortByNumber:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.sort((function(e,i){var r=t.previewsOrder.indexOf(e.orderId),n=t.previewsOrder.indexOf(i.orderId);return r<0&&n<0?0:r<0?s?1:-1:n<0?s?-1:1:r-n})),this.previewsOrder=[]},movePreviewsToBeginning:function(){var e=this;this.privatePost?(this.previewsOrder.length?(this.paidMediaWithoutAudio=this.paidMediaWithoutAudio.filter((function(t){return e.previewsOrder.indexOf(t)<0})),this.freeMediaWithoutAudio=this.freeMediaWithoutAudio.filter((function(t){return e.previewsOrder.indexOf(t)<0})).concat(this.previewsOrder),this.$nextTick((function(){e.sortByNumber(e.freeFilesWithoutAudioList,!0)}))):this.paidMediaWithoutAudio.length&&(this.freeMediaWithoutAudio=this.freeMediaWithoutAudio.concat(this.paidMediaWithoutAudio),this.paidMediaWithoutAudio=[]),this.$nextTick((function(){e.scrollPreviewsThrottled()}))):this.previewsOrder.length&&this.sortByNumber(this.uploadedFilesWithoutAudioList,!0)},movePreviewsToEnd:function(){var e=this;this.privatePost?(this.previewsOrder.length?(this.freeMediaWithoutAudio=this.freeMediaWithoutAudio.filter((function(t){return e.previewsOrder.indexOf(t)<0})),this.paidMediaWithoutAudio=this.paidMediaWithoutAudio.filter((function(t){return e.previewsOrder.indexOf(t)<0})).concat(this.previewsOrder),this.$nextTick((function(){e.sortByNumber(e.uploadedFilesWithoutAudioList,!0)}))):this.freeMediaWithoutAudio.length&&(this.paidMediaWithoutAudio=this.paidMediaWithoutAudio.concat(this.freeMediaWithoutAudio),this.freeMediaWithoutAudio=[]),this.$nextTick((function(){e.scrollPreviewsThrottled()}))):this.previewsOrder.length&&this.sortByNumber(this.uploadedFilesWithoutAudioList)},savePreviewsOrder:function(){var e=this;this.previewsOrder.length&&this.movePreviewsToBeginning(),this.uploadedFiles=this.freeFilesWithoutAudioList.concat(this.uploadedFilesWithoutAudioList,this.uploadedFilesAudio),this.isDraggingPreviews=!1,this.previewsOrder=[],this.privatePost&&this.$nextTick((function(){e.scrollPreviewsThrottled()}))},onPreviewMoveFree:function(e){var t=this.$refs["draggable-container-free"].$el.querySelectorAll(".b-make-post__preview")[e.draggedContext.futureIndex].getBoundingClientRect().left-this.$refs.scrollbarFree.$el.getBoundingClientRect().left,s=this.$refs.scrollbarFree.$el.getBoundingClientRect().right-this.$refs["draggable-container-free"].$el.querySelectorAll(".b-make-post__preview")[e.draggedContext.futureIndex].getBoundingClientRect().right;t<0?this.$refs.scrollbarFree.$swiper.translateTo(this.$refs.scrollbarFree.$swiper.getTranslate()-t+20,500):s<0&&this.$refs.scrollbarFree.$swiper.translateTo(this.$refs.scrollbarFree.$swiper.getTranslate()+s-20,500)},onPreviewMovePaid:function(e){var t=this.$refs["draggable-container-paid"].$el.querySelectorAll(".b-make-post__preview")[e.draggedContext.futureIndex].getBoundingClientRect().left-this.$refs.scrollbarPaid.$el.getBoundingClientRect().left,s=this.$refs.scrollbarPaid.$el.getBoundingClientRect().right-this.$refs["draggable-container-paid"].$el.querySelectorAll(".b-make-post__preview")[e.draggedContext.futureIndex].getBoundingClientRect().right;t<0?this.$refs.scrollbarPaid.$swiper.translateTo(this.$refs.scrollbarPaid.$swiper.getTranslate()-t+20,500):s<0&&this.$refs.scrollbarPaid.$swiper.translateTo(this.$refs.scrollbarPaid.$swiper.getTranslate()+s-20,500)},scrollPreviewsThrottled:function(){var e=this;setTimeout((function(){if(e.mediaCentered=!1,e.freeMediaActive=!1,e.paidMediaActive=!1,e.paidMediaAudio=!1,e.freeMediaAudio=!1,e.paidMediaText=!1,e.freeMediaText=!1,e.privatePost)try{var t=e.$refs.makePost.offsetWidth,s=e.showPoll?e.pollLocked?48:t-48:e.$refs.paidContentLabel.offsetLeft;if(e.uploadedFilesWithoutAudio.length){var i=e.isMobileDevice?e.$refs.scrollbarPaid:e.$refs.scrollbarPaid.$el,r=i.offsetLeft-e.$refs.postMedia.scrollLeft;Math.abs(s-r)<6?e.mediaCentered=!0:s<r?e.freeMediaActive=!0:e.paidMediaActive=!0,e.uploadedFilesAudio.length?e.audioLocked&&r<54?e.paidMediaAudio=!0:!e.audioLocked&&r>t-54&&(e.freeMediaAudio=!0):e.lockDescription&&r<54?e.paidMediaText=!0:!e.lockDescription&&r>t-54&&(e.freeMediaText=!0)}}catch(n){}}),100)},scrollPreviews:l()((function(){this.scrollPreviewsThrottled()}),250),getThumb:function(e){var t=p()(e,"thumbs",[]),s=e.thumbId;!s&&t.length&&(s=t[0].id);var i=t.find((function(e){return e.id===s})),r=i?i.url:"";return r||("photo"===e.mediaType||"gif"===e.mediaType||"video"===e.mediaType&&e.processId?e.url:void 0)},showMoreBtnClick:function(){this.fakeMode?this.openNewPostPage():this.showMoreBtn=!1},openPreview:function(e){var t=this;this.galleryMedia=e,this.$nextTick((function(){t.isOpen=!0}))},hidePhotoSwipe:function(){this.isOpen=!1},togglePollLocked:function(){var e=this;this.pollLocked=!this.pollLocked,this.$nextTick((function(){e.scrollPreviewsThrottled()}))},toggleFundraisingLocked:function(){var e=this;this.fundraisingLocked=!this.fundraisingLocked,this.$nextTick((function(){e.scrollPreviewsThrottled()}))},toggleAudioLocked:function(){var e=this;this.audioLocked=!this.audioLocked,this.$nextTick((function(){e.scrollPreviewsThrottled()}))},handleBeforeUnloadPost:function(e){if(this.hasBeforeunloadPostEvent){var t=this.checkLeaveTextPost;return e=e||window.event,e&&(e.returnValue=t),t}},getFundrisingOptionError:function(e){var t=this;return""!==this.fundraisingOptions[e]?this.fundraisingOptions[e]>this.fundraisingPresetMax?this.$i18n.t("message.max_price_label",{MAX:this.fundraisingPresetMax}):this.fundraisingOptions[e]<this.authUser.tipsMin?this.$i18n.t("message.min_price_label",{MIN:this.authUser.tipsMin}):void 0!==this.fundraisingOptions.find((function(s,i){return i<e&&Number(s)===Number(t.fundraisingOptions[e])}))?this.$i18n.t("message.option_exists"):"":""},removeListeners:function(){window.removeEventListener("beforeunload",this.handleBeforeUnloadPost)},submitMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,s,i,r,n,a,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabledSubmit){e.next=2;break}return e.abrupt("return");case 2:if(this.authUser.canChat){e.next=4;break}return e.abrupt("return");case 4:if(this.isSubmitting=!0,this.$emit("canSave",!0),!this.tipValue){e.next=23;break}return window.doTips=function(){},e.next=10,this.makePayments({paymentType:"tip",amount:this.tipValue,text:this.text,userId:this.$route.params.chatId,tipSource:"chat"},this.submitMessage);case 10:if(t=e.sent,!t||!t.success){e.next=22;break}return e.prev=12,e.next=15,this.fetchChatsMessages({userId:this.$route.params.chatId,lastId:this.chat.messages[this.chat.messages.length-1],more:!0,before:!1});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](12),Sentry.captureException(e.t0);case 20:this.resetToDefault(),this.isSubmitting=!1;case 22:return e.abrupt("return");case 23:if(s={},s.text=this.text,s.lockedText=this.lockDescription,this.uploadedFilesUrl.length>0&&(s.mediaFiles=this.uploadedFilesUrl),this.price&&(s.price=this.price),this.scheduleDate&&(s.isScheduled=1,s.scheduledDate=this.scheduleDate),s.previews=[],this.freeFilesWithoutAudioList&&(s.previews=this.freeFilesWithoutAudioList.map((function(e){return e.processId||e.id}))),!this.audioLocked&&this.uploadedFilesAudio.length&&s.previews.push(this.uploadedFilesAudio[0].processId||this.uploadedFilesAudio[0].id),this.defaultPollExpired>0&&(s.expireDays=this.defaultPollExpired),this.showPoll&&this.votingOptions.length&&(s.votingOptions=this.votingOptions,this.defaultVotingDuration>0&&(s.votingDue=this.defaultVotingDuration),this.pollLocked||s.previews.push("poll")),!this.isTemplate){e.next=47;break}return e.prev=35,e.next=38,this.saveAutoMessage(s);case 38:e.next=45;break;case 40:return e.prev=40,e.t1=e["catch"](35),alert(e.t1),this.isSubmitting=!1,e.abrupt("return");case 45:return this.resetToDefault(),e.abrupt("return");case 47:if(1!==this.userIds.length&&!this.userIdToSend||this.scheduleDate){e.next=62;break}if(i=this.userIdToSend||this.userIds[0],!i){e.next=60;break}return e.next=52,this.sendMessage({id:i,data:s});case 52:if(r=e.sent,void 0!==this.alreadyConfirmLeave&&(this.alreadyConfirmLeave=!0),!r){e.next=58;break}this.$router.replace({name:"Chats",params:{chatId:i}}),e.next=60;break;case 58:return this.isSubmitting=!1,e.abrupt("return");case 60:e.next=125;break;case 62:if(this.userIds.length||this.getListsUsersCount||this.specificBulkMessage){e.next=96;break}if(n=this.$route.params.chatId,a=!!p()(this.$route,"query"),!this.scheduleDate){e.next=85;break}if(s.userIds=n,a&&this.getFilterData(s),this.setQueueMessagesLoading(!0),e.prev=69,!this.isEditScheduleMessages){e.next=75;break}return e.next=73,Object(Ue["v"])(s,this.idScheduledMsg);case 73:e.next=77;break;case 75:return e.next=77,Object(Ue["x"])(s);case 77:e.next=84;break;case 79:return e.prev=79,e.t2=e["catch"](69),Object(Ne["b"])(e.t2),this.isSubmitting=!1,e.abrupt("return");case 84:this.setQueueMessagesLoading(!1);case 85:if(!n||this.scheduleDate){e.next=94;break}return this.resetToDefault(),this.$emit("canSave",!0),e.next=90,this.sendMessage({id:n,data:s});case 90:if(o=e.sent,o){e.next=94;break}return this.isSubmitting=!1,e.abrupt("return");case 94:e.next=125;break;case 96:if(!(this.userIds.length>1||this.getListsUsersCount||this.specificBulkMessage||this.scheduleDate)){e.next=124;break}if(this.userIds.length>1?s.userIds=this.userIds:this.getListsUsersCount?(c=this.listIds.indexOf("recent"),c>-1&&(s.userIds="last24h",this.listIds.splice(c,1)),this.listIds.length&&(s.userLists=this.listIds),this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.fundRaisingPostId?(s.fundRaisingPostId=this.fundRaisingPostId,this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.awards.length?(s.awards=this.awards.join("/"),this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.sendToQueue?(s.queueBuyers=[this.sendToQueue],this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.postDonators?(s.postDonators=this.postDonators,this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.postBuyers?(s.postBuyers=this.postBuyers,this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.postVoters?(s.postVoters=this.postVoters,this.excludedUserIds.length&&(s.excludeUserIds=this.excludedUserIds)):this.userIds.length&&this.scheduleDate&&(s.userIds=this.userIds),this.setQueueMessagesLoading(!0),u=!!p()(this.$route,"query"),u&&this.getFilterData(s),e.prev=101,!this.isEditScheduleMessages){e.next=108;break}return e.next=105,Object(Ue["v"])(s,this.idScheduledMsg);case 105:l=e.sent,e.next=111;break;case 108:return e.next=110,Object(Ue["x"])(s);case 110:l=e.sent;case 111:e.next=118;break;case 113:return e.prev=113,e.t3=e["catch"](101),Object(Ne["b"])(e.t3),this.isSubmitting=!1,e.abrupt("return");case 118:this.setQueueMessagesLoading(!1),void 0!==this.alreadyConfirmLeave&&(this.alreadyConfirmLeave=!0),l&&void 0!==l.pending&&!this.scheduleDate&&this.$router.replace({name:"Chats"}),l&&void 0!==l.pending&&this.scheduleDate&&this.$router.replace({name:"ScheduleMessage"}),e.next=125;break;case 124:alert(this.$i18n.t("message.please_select_the_recipient"));case 125:this.isSubmitting=!1,this.resetToDefault();case 127:case"end":return e.stop()}}),e,this,[[12,17],[35,40],[69,79],[101,113]])})));function t(){return e.apply(this,arguments)}return t}(),goToValue:function(){this.$router.push({name:"MediaVault",params:{fromPostForm:!0}})},openTipPanel:function(){this.$root.$emit("bv::show::modal","ModalTipPanel")},doSetTip:function(e){this.uploadedFiles.push({mediaType:"tip",value:e}),this.tipValue=e},onDeleteTip:function(e){this.uploadedFiles.splice(e,1),this.tipValue=""},clearTipValue:function(){this.tipValue=""},isHideHeader:function(){document.documentElement.classList.add("p-personal-chats-chat")},makeSubmitMessage:function(){(!this.isTemplate||_()(this.template))&&this.getSelectedUsersIds>1&&"ChatsSend"===this.$route.name?this.isShowModalConfirmSendMessage=!0:this.submitMessage()},makeSubmitMessageEnter:function(e){"sm"===this.$mq&&e&&"keyup"===e.type?this.text+="\n":"ChatsSend"!==this.$route.name&&"Chat"!==this.$route.name||this.makeSubmitMessage()},setDataSchedule:function(e){var t=this;this.text=this.getTextEncode(e),this.price=e.price||"",this.scheduleDate=e.scheduledAt||"",this.lockDescription=e.lockedText,this.unlockedMedia=null!==e.previews&&void 0!==e.previews?void 0!==e.previews.length?e.previews:[e.previews]:[],this.freeMediaWithoutAudio=this.unlockedMedia.filter((function(e){return t.uploadedFilesWithoutAudio.findIndex((function(t){return t.id===e}))>-1}))},setDataFromStore:function(){this.text=this.getTextEncode(this.template),this.price=this.template.price,this.lockDescription=this.template.lockedText},getFilterData:function(e){var t=this.$route.query,s=t.total_spent,i=t.tips,r=t.duration,n=t.inactive,a=t.recommenders,o=t.signed_up_before,c=t.signed_up_after,l=t.scheduledSubscribedOn;return i&&(e["filter[".concat("tips","]")]=i),s&&(e["filter[".concat("total_spent","]")]=s),r&&(e["filter[".concat("duration","]")]=r),n&&(e["filter[".concat("inactive","]")]=n),a&&(e["filter[".concat("recommenders","]")]=a),o&&(e["filter[".concat("signed_up_before","]")]=o),c&&(e["filter[".concat("signed_up_after","]")]=c),l&&(e.scheduledSubscribedOn=l),e},getTextEncode:function(e){if(void 0!==e.rawText){if(e.rawText.trim().length)return Object(z["c"])(e.rawText)}else if(e.text.trim().length)return Object(z["c"])(e.text);return""}})},He=Ve,ze=Object(M["a"])(He,i,r,!1,null,null,null);t["a"]=ze.exports},f1f7:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){return e>=1e6?"".concat((e/1e6).toFixed(2),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e}},f1fb:function(e,t,s){},f29ea:function(e,t,s){},f950:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){var t=null;switch(e){case"Subscribes":case"SubscribesByType":t="fans";break;default:t=e?e.toLowerCase():null}return t}},f9b4:function(e,t,s){},fa8d:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{ref:"profileDropdown",class:e.classBtn,attrs:{right:"",variant:"link",offset:"4"}},[s("template",{slot:"button-content"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:e.$t("message.tooltip_more"),expression:"$t('message.tooltip_more')"}],staticClass:"icon-more"})]),e.userAvailable?[e.isAuthUser?e._e():[s("b-dropdown-item-button",{staticClass:"m-user-data-item",on:{click:e.goToProfile}},[s("span",{staticClass:"g-avatar online_status_class m-w24 m-border-line"},[s("image-thumb",{attrs:{user:e.user,size:"c50"}})],1),s("div",{staticClass:"b-username-row"},[s("div",{staticClass:"g-user-username m-md-size"},[e._v(" @"+e._s(e.user.username)+" ")])])]),s("b-dropdown-divider")],e.isProfilePage&&e.isAuthUser&&e.user.isPerformer?s("b-dropdown-item-button",{staticClass:"m-capitalize",on:{click:e.openProfileStatistics}},[e._v(" "+e._s(e.$t("message.stat_modal_title"))+" ")]):e._e(),s("b-dropdown-item-button",{on:{click:e.doCopyProfileLink}},[s("router-link",{ref:"profileLink",staticClass:"g-hidden",attrs:{to:{name:"Profile",params:{userId:e.user.username}}}}),e._v(" "+e._s(e.$t("message.copy_link_to_profile_btn"))+" ")],1),e.isAuth&&e.authUser.id!==e.user.id?[e.authUser.isPerformer&&e.isSubscriber?s("b-dropdown-item-button",{on:{click:function(t){return e.openCustomNamePopup(e.user.id)}}},[e._v(" "+e._s(e.$t("message.rename_user_username",{USERNAME:e.user.username}))+" ")]):e._e(),s("b-dropdown-item-button",{staticClass:"g-nowrap",on:{click:e.openUsersListsModal}},[e._v(" "+e._s(e.$t("message.add_to_lists_dropdown_btn"))+" ")]),e.user.subscribedBy&&!e.user.isBlocked&&e.isProfilePage?s("b-dropdown-item-button",{attrs:{disabled:e.disabledHideUserPost},on:{click:function(t){return e.doHideUserPosts({userId:e.user.id,hideDropdown:e.hideDropdown})}}},[e._v(" "+e._s(e.hideUserPostsText(e.user.showPostsInFeed))+" ")]):e._e(),!e.user.canTrialSend&&!e.authUser.subscribePrice||e.user.isBlocked?e._e():s("b-dropdown-item-button",{on:{click:e.openDiscountModal}},[e._v(" "+e._s(e.$t("message.give_user_a_discount_profile_dropdown_btn_label"))+" ")])]:e._e()]:e._e(),e.chat&&e.user.canAddSubscriber&&!e.user.subscribedBy&&e.userAvailable?[s("b-dropdown-divider"),s("b-dropdown-item",[s("subscribe-btn",{attrs:{id:e.user.id,chat:e.chat},on:{"hide-dropdown":e.hideDropdown}})],1)]:e._e(),e.chat&&!e.isProfilePage?[s("b-dropdown-divider"),s("b-dropdown-item-button",{on:{click:e.hideChat}},[e._v(" "+e._s(e.$t("message.hide_chat"))+" ")]),e.userAvailable?s("b-dropdown-item-button",{attrs:{disabled:e.disabledMuteNotifications},on:{click:e.muteNotifications}},[e._v(" "+e._s(e.muteNotificationsTitle)+" ")]):e._e()]:e._e(),e.isAuth&&e.userAvailable?[e.authUser.id!==e.user.id?s("b-dropdown-divider"):e._e(),e.authUser.id!==e.user.id?[e.chat&&(e.user.subscribedOn||null!==e.user.subscribedOnExpiredNow)||e.isSubscriber&&!e.user.isBlocked?s("b-dropdown-item-button",{staticClass:"m-danger",attrs:{disabled:e.disabledMuteUser},on:{click:e.doMuteUser}},[e._v(" "+e._s(e.muteTitle)+" "),s("span",{staticClass:"g-icon-info m-with-round-hover"},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip",value:{content:e.$t("message.info_ignore_user"),classes:"m-tooltip-higher"},expression:"{content: $t('message.info_ignore_user'), classes: 'm-tooltip-higher' }"}],staticClass:"icon-info"})])]):e._e(),e.authUser.isPerformer?s("b-dropdown-item-button",{staticClass:"m-danger",on:{click:e.doBlockUser}},[e._v(" "+e._s(e.user.isBlocked?e.$t("message.unblock_user_label",{USERNAME:e.user.username}):e.$t("message.block_user_label",{USERNAME:e.user.username}))+" ")]):e._e(),e.user.subscribedBy||e.user.subscribedOn?s("b-dropdown-item-button",{staticClass:"m-danger",on:{click:e.openReportModal}},[e._v(" "+e._s(e.$t("message.report_user_username",{USERNAME:e.user.username}))+" ")]):e._e()]:e._e(),e.isProfilePage||e.authUser.id!==e.user.id?e._e():[s("b-dropdown-divider"),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.statusVisibility,expression:"statusVisibility"}],staticClass:"b-input-radio",attrs:{id:"user_status_visible",type:"radio",name:"user_status_visibility"},domProps:{value:!0,checked:e._q(e.statusVisibility,!0)},on:{change:function(t){e.statusVisibility=!0}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"user_status_visible"}},[e._v(" "+e._s(e.$t("message.user_status_visible"))+" ")]),s("span",{staticClass:"b-input-radio__label"})]),s("b-dropdown-item",{staticClass:"b-input-radio__container",attrs:{href:"javascript:void(0)"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.statusVisibility,expression:"statusVisibility"}],staticClass:"b-input-radio",attrs:{id:"user_status_invisible",type:"radio",name:"user_status_visibility"},domProps:{value:!1,checked:e._q(e.statusVisibility,!1)},on:{change:function(t){e.statusVisibility=!1}}}),s("label",{staticClass:"b-input-radio__text",attrs:{for:"user_status_invisible"}},[e._v(" "+e._s(e.$t("message.user_status_invisible"))+" ")]),s("span",{staticClass:"b-input-radio__label"})])]]:e._e()],2)},r=[],n=(s("8e6e"),s("96cf"),s("3b8d")),a=(s("7f7f"),s("ac6a"),s("456d"),s("bd86")),o=s("13ea"),c=s.n(o),l=s("d634"),u=s("e057"),d=s("b6a4"),h=s("0687"),p=s("a2fa"),m=s("09e4"),f=s("e66b");function b(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b(Object(s),!0).forEach((function(t){Object(a["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var g={name:"UsersAction",components:{SubscribeBtn:p["a"],ImageThumb:f["a"]},mixins:[u["a"],d["a"],h["a"]],props:{user:{type:Object,default:function(){}},classBtn:{type:String,default:function(){return""}},chat:{type:Object,default:function(){}},subscriberItem:{type:Object,default:function(){}},subscribeItem:{type:Object,default:function(){}}},data:function(){return{disabledBlockUser:!1,disabledMuteUser:!1,disabledMuteNotifications:!1}},computed:v(v(v({},Object(l["b"])(["isAuth","authUser"])),Object(l["Eb"])(["getSubscriber"])),{},{subscriber:function(){return this.getSubscriber(this.user.id)},isSubscriber:function(){return this.subscriber&&Object.keys(this.subscriber).length},muteTitle:function(){return this.chat?this.user.isMuted?this.$i18n.t("message.unrestrict_user_username",{USERNAME:this.user.username}):this.$i18n.t("message.ignore_user_username",{USERNAME:this.user.username}):this.subscriberItem?this.subscriberItem.isMuted?this.$i18n.t("message.unrestrict_user_username",{USERNAME:this.user.username}):this.$i18n.t("message.ignore_user_username",{USERNAME:this.user.username}):this.subscribeItem.isMuted?this.$i18n.t("message.unrestrict_user_username",{USERNAME:this.user.username}):this.$i18n.t("message.ignore_user_username",{USERNAME:this.user.username})},muteNotificationsTitle:function(){return this.chat.isMutedNotifications?this.$i18n.t("message.unmute_notifications_chats",{USERNAME:this.user.username}):this.$i18n.t("message.mute_notifications_chats",{USERNAME:this.user.username})},statusVisibility:{get:function(){return this.user.isVisibleOnline},set:function(e){this.changeVisibility(e),this.hideDropdown()}},isMutedUser:function(){return this.user.isMuted},isChatPage:function(){return"Chat"===this.$route.name},isProfilePage:function(){return"Profile"===this.$route.name||"ProfileInner"===this.$route.name},userAvailable:function(){return!!this.isProfilePage||(!(!this.chat||!this.user||this.user.isBlocked||"deleted_user"===this.chat.canNotSendReason||"user_inactive"===this.chat.canNotSendReason)||(!(this.chat||!this.subscriberItem)||!(this.chat||!this.subscribeItem)))}}),methods:v(v(v(v(v(v(v({},Object(l["Sb"])(["setModalUser","setUserField"])),Object(l["Nb"])(["toggleMuteUser","toggleBlockUser","patchUser"])),Object(l["B"])(["setReportType"])),Object(l["i"])(["fetchChat","hideChats","toggleMuteNotifications"])),Object(l["k"])(["setShowAdditionalGallery"])),Object(l["V"])(["fetchStat"])),{},{changeVisibility:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.patchUser({isVisibleOnline:t});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),doMuteUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.disabledMuteUser=!0,this.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c()(t.chat)){e.next=7;break}return e.next=3,t.toggleMuteUser(t.user.id);case 3:return e.next=5,t.fetchChat(t.user.id);case 5:e.next=9;break;case 7:return e.next=9,t.toggleMuteUser(t.user.id);case 9:case"end":return e.stop()}}),e)})))),this.hideDropdown(),this.disabledMuteUser=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doCopyProfileLink:function(){var e=this.$refs.profileLink?this.$refs.profileLink.$el.href:"";e&&(this.user.id!==this.authUser.id&&this.user&&(this.user.subscribedBy||this.user.subscribedIsExpiredNow)&&(e+="?rec=".concat(this.authUser.id)),this.$root.$emit("copy::profileUrl",{url:e,modal:this.$el.closest(".modal")}))},openReportModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.setReportType({type:"user"}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalReport")}))},doBlockUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.hideDropdown(),!this.user.isBlocked){e.next=13;break}if(!this.disabledBlockUser){e.next=4;break}return e.abrupt("return");case 4:return this.disabledBlockUser=!0,e.next=7,this.toggleBlockUser(this.user.id);case 7:if(this.disabledBlockUser=!1,!this.chat){e.next=11;break}return e.next=11,this.fetchChat(this.user.id);case 11:e.next=15;break;case 13:this.setModalUser({userId:this.user.id}),this.$nextTick((function(){t.$root.$emit("bv::show::modal","ModalBlockUser")}));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openDiscountModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::set::modal::promoType","discount"),e.$root.$emit("bv::show::modal","ModalPersonalOffer")}))},hideDropdown:function(){this.$refs.profileDropdown&&this.$refs.profileDropdown.hide()},hideChat:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.hideDropdown(),this.$nextTick(Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.hideChats(t.user.id);case 3:s=e.sent,s&&s.success&&t.$router.push({name:"Chats"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),Object(m["b"])(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),muteNotifications:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.disabledMuteNotifications=!0,e.prev=1,e.next=4,this.toggleMuteNotifications(this.user.id);case 4:t=e.sent,t&&t.success&&this.$bvToast.toast(this.$i18n.t(this.chat.isMutedNotifications?this.$i18n.t("message.mute_notifications_chats_toast",{USERNAME:this.user.username}):this.$i18n.t("message.unmute_notifications_chats_toast",{USERNAME:this.user.username})),{toastClass:"b-toaster__only_msg settings-toast",toaster:"b-toaster-bottom-left",autoHideDelay:1e3}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),alert(e.t0.data);case 11:return e.prev=11,this.hideDropdown(),this.disabledMuteNotifications=!1,e.finish(11);case 15:case"end":return e.stop()}}),e,this,[[1,8,11,15]])})));function t(){return e.apply(this,arguments)}return t}(),openUsersListsModal:function(){var e=this;this.setModalUser({userId:this.user.id}),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ModalUsersLists")}))},openProfileStatistics:function(){var e=this;this.fetchStat(),this.$nextTick((function(){e.$root.$emit("bv::show::modal","ProfileStatModal")}))},goToProfile:function(){this.$router.push({name:"Profile",params:{userId:this.user.username}})}})},_=g,y=s("2877"),w=Object(y["a"])(_,i,r,!1,null,null,null);t["a"]=w.exports},fb37:function(e,t,s){e.exports=s.p+"img/slide-1-3x.png"},fd85:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-text-field",{attrs:{id:"priceInput_"+ +new Date,value:e.price,placeholder:e.placeholder,label:e.label,autocomplete:"off",autofocus:"","auto-grow":"",outlined:"",clearable:"",prefix:"$","error-messages":e.messagePriceError},on:{change:e.onChange},nativeOn:{keypress:function(t){return e.onKeyPress(t)},input:function(t){return e.onInput(t)}}})],1)},r=[],n=(s("ac6a"),s("5df3"),s("1c4c"),s("75fc")),a=(s("a481"),s("3b2b"),s("c5f6"),s("6762"),s("2fdb"),s("d225")),o=s("b0b4"),c=s("bd86"),l=(s("d634"),function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,null,[{key:"isDigit",value:function(e){return this.digits.includes(e)}},{key:"isSeparator",value:function(e){return this.separators.includes(e)}},{key:"isChar",value:function(e){return this.digits.includes(e)||this.isSeparator(e)}},{key:"includes",value:function(e){return this.isChar(e)||this.controls.includes(e)}}]),e}());Object(c["a"])(l,"digits",Object(n["a"])(Array.from(Array(10).keys()).map(String))),Object(c["a"])(l,"separators",[".",","]),Object(c["a"])(l,"defaultSeparator","."),Object(c["a"])(l,"controls",["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Delete","Backspace","Tab","Home","End"]);var u={name:"PriceInput",components:{},props:{value:{type:[Number,String],default:0},min:{type:Number,default:0},max:{type:Number,default:1e3,validator:function(e){return e>0}},placeholder:{type:String,required:!1},label:{type:String,required:!1},allowFree:{type:Boolean,default:!0},precision:{type:Number,default:2}},data:function(){return{prevValue:"",maxDigits:10}},computed:{pattern:function(e){return new RegExp("^\\d{0,".concat(e.maxDigits,"}(\\.\\d*)?$"))},price:{get:function(){return this.value?Number(this.value):""}},minPrice:function(){return this.min},maxPrice:function(){return this.max},messagePriceError:function(){if(this.price){if(this.price<this.minPrice||this.allowFree&&0==Number(this.price))return"Minimum $".concat(this.minPrice," USD");if(this.price>this.maxPrice)return"Maximum $".concat(this.maxPrice," USD")}return""}},mounted:function(){},methods:{getValue:function(e){if(e=(e||"").trim().replace(",",".").replace(/^0+/,"0"),e.length>1&&(e=e.replace(/^0+/,"")),this.pattern.test(e)){var t=e.lastIndexOf(".");t>=0&&(e=e.substr(0,e.lastIndexOf(".")+this.precision+1),0===t&&(e=parseFloat("0".concat(e)),e||(e="".concat(e,"."))))}else e=this.prevValue;return e},onKeyPress:function(e){var t=e.key;return!!l.includes(t)||(e.preventDefault(),!1)},onInput:function(e){e.target.value;var t=this.getValue(e.target.value);e.target.value=t,this.prevValue=t,this.$emit("input",t)},onChange:function(e){e?(e=parseFloat(e).toFixed(this.precision).replace(/\.0+$/,""),e=Number(e)):e="",this.$emit("input",e),this.$emit("change",e)}}},d=u,h=s("2877"),p=Object(h["a"])(d,i,r,!1,null,null,null);t["a"]=p.exports},fece:function(e,t,s){"use strict";s("8e6e"),s("ac6a"),s("456d");var i=s("bd86"),r=s("e0a5"),n=s.n(r),a=s("d634"),o=s("56d7");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(i["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}t["a"]={data:function(){return{needToLoadRecaptcha:!1,formDisabledV2:!1,formDisabledV3:!1,V2rendered:!1,retryCount:1,attemptsCount:0,isCaptchaReady:!1,"v3-recaptcha-response":"","g-recaptcha-response":""}},mounted:function(){this.needToLoadRecaptcha&&this.loadRecaptcha()},computed:l(l({},Object(a["q"])(["getInit"])),{},{formDisabled:function(){return this.formDisabledV2||this.formDisabledV3}}),watch:{needToLoadRecaptcha:function(e){e&&this.loadRecaptcha()}},methods:{setV3Token:function(e){this["v3-recaptcha-response"]=e,this.formDisabledV3=!1},maybeInitV3Captcha:function(){this.isCaptchaReady&&this.initV3Captcha()},initV3Captcha:function(){var e=this;this.formDisabledV3=!0,window.grecaptcha&&window.grecaptcha.execute(this.getInit.recaptchaV3Public,{action:this.action}).then(this.setV3Token,(function(){e.formDisabledV3=!1}))},initV2Captcha:function(){var e=this;this.formDisabledV2=!0;var t=function(t){e["g-recaptcha-response"]=t,e.formDisabledV2=!1};window.grecaptcha?window.grecaptcha.ready((function(){e.V2rendered?window.grecaptcha.reset():(window.grecaptcha.render(e.captchaWrapperId,{sitekey:e.getInit.recaptchaV2Public,theme:"true"===o["default"].$cookie.get("dark_mode")?"dark":"light",callback:t,"expired-callback":function(){e.formDisabledV2=!0}}),e.V2rendered=!0)})):(this.attemptsCount=0,this.loadRecaptcha(this.initV2Captcha))},loadRecaptcha:function(e){var t=this;this.getInit.recaptchaV3Public&&n()("https://recaptcha.net/recaptcha/api.js?render=".concat(this.getInit.recaptchaV3Public)).then((function(){e&&e.call(),window.grecaptcha?window.grecaptcha.ready((function(){t.isCaptchaReady=!0,t.initV3Captcha()})):t.isCaptchaReady=!1})).catch((function(){t.isCaptchaReady=!1,t.attemptsCount<t.retryCount?(t.attemptsCount+=1,t.loadRecaptcha()):(t.formDisabledV2=!1,t.formDisabledV3=!1,alert(t.$i18n.t("message.captcha_load_error")))}))}}}}}]);
//# sourceMappingURL=main.js.map?rev=202009030921-24eb8054b5