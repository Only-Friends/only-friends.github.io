(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["banking~payments~settings"],{"0fc7":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"g-btn__wrapper"},[e.loading?n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-loading"}):e._e(),n("button",{staticClass:"g-btn m-rounded",class:{"m-border":e.bordered,"m-danger":e.danger},attrs:{disabled:e.loading||e.disabled,type:e.type},on:{click:function(t){return t.preventDefault(),e.click(t)}}},[e._v(" "+e._s(e.text)+" ")])])},r=[],a={name:"Button",props:{text:{type:String,default:""},loading:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:String,default:"submit"}},methods:{click:function(e){this.$emit("click",e.target.value)}}},i=a,o=n("2877"),c=Object(o["a"])(i,s,r,!1,null,null,null);t["a"]=c.exports},1569:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"g-input__wrapper m-checkbox__toggle",class:{"m-disabled":e.disabled}},[e.label?n("label",{staticClass:"g-input__label",on:{click:e.onClick}},[e._v(" "+e._s(e.label)+" "),e.infoTip?n("span",{staticClass:"g-icon-info"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.infoTip,expression:"infoTip",modifiers:{enabled:!0}}],staticClass:"icon-info"})]):e._e()]):e._e(),n("input",{staticClass:"checkbox",attrs:{id:e.name,type:"checkbox",name:e.name,disabled:e.disabled},domProps:{checked:e.value},on:{click:e.onClick}}),n("label",{staticClass:"b-checkbox-switcher",attrs:{for:e.name}},[n("span",{staticClass:"b-input-ripple"})]),e.text?n("p",{staticClass:"g-input__help",domProps:{innerHTML:e._s(e.text)}}):e._e()])},r=[],a={name:"CheckboxToggle",props:{label:{type:String,default:""},text:{type:String,default:""},name:{type:String,default:""},value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},infoTip:{type:String,default:""}},methods:{onClick:function(){this.$emit("input",!this.value)}}},i=a,o=n("2877"),c=Object(o["a"])(i,s,r,!1,null,null,null);t["a"]=c.exports},"16d9":function(e,t,n){"use strict";t["a"]={methods:{scrollToTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,n=void 0===t?"smooth":t;if(window.pageYOffset>0)try{window.scrollTo({top:0,behavior:n})}catch(s){if(!(s instanceof TypeError))throw s;window.scrollTo(0,0)}},scrollTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,n=void 0===t?"smooth":t,s=e.top;window.innerWidth>767&&(s=Math.max(s-48,0));try{window.scrollTo({top:s,behavior:n})}catch(r){if(!(r instanceof TypeError))throw r;window.scrollTo(0,s)}},scrollToBottom:function(){this.$nextTick((function(){window.scrollTo(0,document.body.scrollHeight)}))},scrollToElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.behavior,n=void 0===t?"smooth":t,s=e.el,r=e.offset,a=void 0===r?0:r,i=e.offsetDesktop,o=void 0===i?48:i;if(s){var c=s.getBoundingClientRect().top+window.scrollY;"sm"!==this.$mq&&(c-=o),a&&(c-=a);try{window.scrollTo({top:c,behavior:n})}catch(l){if(!(l instanceof TypeError))throw l;window.scrollTo(0,c)}}}}}},"194ea":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoaded?n("div",{staticClass:"b-settings__content"},[n("div",{staticClass:"g-section__header"},[n("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.authUser.email?e.$t("message.change_email_label"):e.$t("message.set_email_label"))+" ")])]),e.step>1&&e.stepStatus?n("h2",{staticClass:"g-section-title"},[e._v(" "+e._s(e.stepStatus)+" ")]):e._e(),1===e.step?n("div",{staticClass:"g-section"},[n("div",{domProps:{innerHTML:e._s(e.$t("message.change_email_info"))},on:{click:e.innerLinkToRouter}})]):e._e(),2===e.step||4===e.step?n("div",{staticClass:"g-section"},[n("div",{domProps:{innerHTML:e._s(e.$t("message.change_email_confirm_msg",{EMAIL:e.userEmail,TIME:e.countdownTimer}))}}),n("form",{staticClass:"b-settings__form",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("InputOF",{key:"code",attrs:{type:"text",placeholder:e.$t("message.trust_code_input_title")},model:{value:e.emailTrustCode,callback:function(t){e.emailTrustCode=t},expression:"emailTrustCode"}})],1)]):e._e(),3===e.step?n("div",{staticClass:"g-section"},[e.authUser.isPerformer&&e.authUser.email?n("div",{domProps:{innerHTML:e._s(e.$t("message.change_email_confirm_msg2",{TIME:e.countdownTimer}))}}):n("div",{domProps:{innerHTML:e._s(e.emailConfirmMsg2Customer)}}),n("form",{staticClass:"b-settings__form",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("InputOF",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],key:"email",attrs:{id:"newemail","data-vv-as":"E-mail",name:"newemail",required:"",type:"email",label:e.$t("message.email_label"),placeholder:e.newEmailPlaceholder,error:e.validEmailMessage},model:{value:e.newEmail,callback:function(t){e.newEmail=t},expression:"newEmail"}})],1)]):e._e(),e.step<5?n("div",{staticClass:"g-btn__wrapper"},[e.showCancelButton?n("ButtonOF",{attrs:{type:"button",text:e.$t("message.cancel_button"),bordered:!0},on:{click:e.cancelAction}}):e._e(),e.showBackButton?n("ButtonOF",{attrs:{type:"button",text:e.$t("message.back_button"),bordered:!0},on:{click:e.prevStep}}):e._e(),n("ButtonOF",{attrs:{text:e.$t("message.next_button"),disabled:e.disabledNextStep},on:{click:e.nextStep}})],1):e._e()]):n("div",{staticClass:"b-settings__content"},[n("spinner-loader",{staticClass:"text-center"})],1)},r=[],a=(n("8e6e"),n("456d"),n("a481"),n("ac6a"),n("5df3"),n("96cf"),n("3b8d")),i=(n("84b4"),n("bd86")),o=n("9b02"),c=n.n(o),l=n("d634"),u=n("13ca"),d=n("0fc7"),p=n("e528"),h=n("ebf6"),f=n("34b7"),b=n("09e4");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"ChangeEmail",components:{InputOF:u["a"],ButtonOF:d["a"],SpinnerLoader:p["a"]},mixins:[h["a"]],data:function(){return{isLoaded:!1,step:1,stepOrder:["start","oldSend","oldCode","newSend","newCode"],oldEmailTrustCode:"",newEmail:"",newEmailTrustCode:"",manualDisabledNextStep:!1,defaultCountdownInSec:600,countdownInSec:0,countdownId:null,cancelChange:!1}},props:{inner:{type:Boolean,default:!1}},computed:g(g(g({},Object(l["b"])(["authUser"])),Object(l["eb"])(["allSettings"])),{},{emailConfirmMsg2Customer:function(){return this.authUser.email?this.$t("message.change_email_confirm_msg2_customer"):this.$t("message.set_email_confirm_msg2_customer")},newEmailPlaceholder:function(){return this.authUser.email?this.$t("message.contacts_new_email_placeholder"):this.$t("message.set_contacts_email_placeholder")},validEmailMessage:function(){return this.errors.first("newemail")},userEmail:function(){return 4===this.step?this.newEmail:this.authUser.email},emailTrustCode:{get:function(){return 2===this.step?this.oldEmailTrustCode:this.newEmailTrustCode},set:function(e){2!==this.step?this.newEmailTrustCode=e:this.oldEmailTrustCode=e}},showCancelButton:function(){return(2===this.step||3===this.step)&&!this.inner},showBackButton:function(){return!(1===this.step||2===this.step||3===this.step)},disabledNextStep:function(){return this.manualDisabledNextStep?this.manualDisabledNextStep:2===this.step?!this.oldEmailTrustCode:3===this.step?this.newEmail&&this.fields.newemail?this.fields.newemail.invalid:!this.newEmail:4===this.step&&!this.newEmailTrustCode},countdownTimer:function(){var e=Math.trunc(this.countdownInSec/60),t=Math.trunc(this.countdownInSec)%60;return e<10&&(e="0".concat(e)),t<10&&(t="0".concat(t)),"<strong>".concat(e,":").concat(t,"</strong>")},stepStatus:function(){var e,t;return this.authUser.isPerformer&&this.authUser.email?(e=this.step-1,t=this.stepOrder.length-2):(e=this.step-2,t=this.stepOrder.length-3),e>t?"":"".concat(this.$t("message.step_title")," ").concat(e,"/").concat(t)}}),watch:{allSettings:{handler:function(e){e&&void 0!==e.changeEmailStep&&this.step<5&&this.setSettings(e)},immediate:!0,deep:!0},countdownInSec:function(e){0===e&&(alert(this.$t("message.change_email_code_expired")),this.clearData(),this.fetchUserSettings())}},mounted:function(){var e=this;this.countdownId=setInterval((function(){return e.countdownTimerRunner()}),1e3)},beforeDestroy:function(){this.countdownTimerClear(),this.clearData()},methods:g(g(g(g({},Object(l["a"])(["fetchUserMe"])),Object(l["fb"])(["setNewEmail"])),Object(l["db"])(["fetchUserSettings"])),{},{countdownTimerRunner:function(){1!==this.step&&(this.authUser.isPerformer&&this.authUser.email||3!==this.step)&&this.countdownInSec>0&&(this.countdownInSec-=1)},countdownTimerClear:function(){this.countdownId&&(clearTimeout(this.countdownId),this.countdownId=null)},submitForm:function(){this.disabledNextStep||this.nextStep()},setSettings:function(e){e||(e=this.allSettings),e&&e.changeEmailStep?this.step=this.stepOrder.indexOf(e.changeEmailStep):this.authUser.isPerformer&&this.authUser.email||(this.step=3),e&&e.newEmail&&(this.newEmail=e.newEmail),e&&e.lifeTimeEmailCode?this.countdownInSec=e.lifeTimeEmailCode:this.countdownInSec=this.defaultCountdownInSec,this.isLoaded=!0},prevStep:function(){this.step>1&&(this.step-=1)},nextStep:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1===this.step&&(n={step:"oldSend"}),2===this.step&&(n={step:"oldCode",code:this.oldEmailTrustCode}),3===this.step&&(this.newEmail!==this.allSettings.newEmail?n={step:"newSend",email:this.newEmail}:(n=null,t={success:!0})),4===this.step&&(n={step:"newCode",code:this.newEmailTrustCode}),this.$window.showPreloader(),this.manualDisabledNextStep=!0,!n){e.next=17;break}return e.prev=7,e.next=10,Object(f["e"])(n);case 10:t=e.sent,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](7),Object(b["b"])(e.t0),c()(e.t0,"data.error.code")&&110===e.t0.data.error.code&&(this.clearData(),this.fetchUserSettings());case 17:if(!t||!t.success){e.next=27;break}if(3===this.step&&this.newEmail===this.allSettings.newEmail||(this.countdownInSec=this.defaultCountdownInSec),3===this.step&&this.setNewEmail(this.newEmail),this.step+=1,!(this.step>=5)){e.next=27;break}return e.next=24,Promise.all([this.fetchUserSettings(),this.fetchUserMe()]);case 24:this.countdownTimerClear(),alert(this.$t("message.email_verified_message",{EMAIL:this.newEmail})),this.inner||this.$router.replace({name:"SettingsAdvanced"});case 27:this.manualDisabledNextStep=!1,this.$window.hidePreloader();case 29:case"end":return e.stop()}}),e,this,[[7,13]])})));function t(){return e.apply(this,arguments)}return t}(),cancelAction:function(){3!==this.step||this.authUser.isPerformer&&this.authUser.email?this.cancelEmailsChange(!0):this.$router.push({name:"SettingsAdvanced"})},cancelEmailsChange:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],this.$window.showPreloader(),e.next=4,Object(f["c"])();case 4:if(n=e.sent,!n||!n.success){e.next=11;break}return this.cancelChange=!0,e.next=9,Promise.all([this.fetchUserSettings(),this.fetchUserMe()]);case 9:this.countdownTimerClear(),t&&this.$router.replace({name:"SettingsAdvanced"});case 11:this.$window.hidePreloader();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearData:function(){this.step=1,this.oldEmailTrustCode="",this.newEmail="",this.newEmailTrustCode="",this.manualDisabledNextStep=!1,this.countdownInSec=0,this.cancelChange=!1}})},w=v,O=n("2877"),y=Object(O["a"])(w,s,r,!1,null,null,null);t["default"]=y.exports},"1e36":function(e,t,n){"use strict";n("8e6e"),n("456d"),n("5df3"),n("ac6a");var s=n("7618"),r=(n("96cf"),n("3b8d")),a=n("bd86"),i=n("f05e"),o=n("e0a5"),c=n.n(o),l=n("d634");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:d({},Object(l["eb"])(["paymentsLoaded"])),methods:d(d({},Object(l["fb"])(["setPaymentsLoaded"])),{},{getPaymentsJs:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.paymentsLoaded){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return this.setPaymentsLoaded("loading"),e.prev=3,e.next=6,Object(i["i"])();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](3),this.setPaymentsLoaded(!1),e.abrupt("return",Promise.reject());case 13:if("object"===Object(s["a"])(t)){e.next=16;break}return this.setPaymentsLoaded(!1),e.abrupt("return",Promise.reject());case 16:return n=[],t.vendorUrls.forEach((function(e){n.push(c()(e))})),e.next=20,Promise.all(n).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c()(t.scriptUrl).then(a.setPaymentsLoaded("complete")));case 1:case"end":return e.stop()}}),e)})))).catch((function(e){return a.setPaymentsLoaded(!1),Promise.reject()}));case 20:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()})}},"29d7":function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("96cf");var s=n("3b8d"),r=n("bd86"),a=n("d634");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:o({},Object(a["b"])(["authUser"])),methods:o(o(o(o({},Object(a["Sb"])(["setUserField","setRecommendedUsers"])),Object(a["fb"])(["setSettingField"])),Object(a["Nb"])(["changeUser","patchUser","patchUserMeBySection"])),{},{sendCurrentUserField:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,s){var a,i,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!(c.length>3&&void 0!==c[3])||c[3],this[s]=!this[s],!(["isVisibleOnline","paidFeed","isSuggestionsOptOut","sendAwardsTop1","sendAwardsTop5","walletFirstRebills","isWalletAutorecharge","walletAutorechargeAmount","walletAutorechargeMin"].indexOf(n)>-1)){e.next=8;break}return e.next=5,this.patchUser(Object(r["a"])({},n,t));case 5:i=e.sent,e.next=17;break;case 8:if(!(["isPrivate","showPostsTips","showFriendsToSubscribers","showSubscribesOffers","showSubscribersCount","isWantComments","isAutoFollowBack","coStreamingRequestFrom","showMediaCount","strongOtp"].indexOf(n)>-1)){e.next=14;break}return e.next=11,this.patchUserMeBySection({data:Object(r["a"])({},n,t),section:"security"});case 11:i=e.sent,e.next=17;break;case 14:return e.next=16,this.changeUser(Object(r["a"])({},n,t));case 16:i=e.sent;case 17:return i&&i.success&&(this[s]=!this[s],["isPrivate","showPostsTips","showFriendsToSubscribers","showSubscribesOffers","isAutoFollowBack","sendAwardsTop1","sendAwardsTop5","coStreamingRequestFrom","strongOtp"].indexOf(n)>-1?this.setSettingField({field:n,status:t}):this.setUserField({userId:this.authUser.id,field:n,status:t}),"showSubscribesOffers"===n&&(o=this.authUser.advBlock.filter((function(e){return"subscribe_offers"!==e})),t&&o.push("subscribe_offers"),this.setUserField({userId:this.authUser.id,field:"advBlock",status:o})),this.setDataFromStore&&this.setDataFromStore(this.authUser),this.setDataFromSettings&&this.allSettings&&this.setDataFromSettings(this.allSettings),a&&this.$bvToast.toast(this.$i18n.t("message.changes_saved_toast"),{toastClass:"b-toaster__only_msg settings-toast",toaster:"b-toaster-bottom-left",autoHideDelay:1e3})),e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n,s){return e.apply(this,arguments)}return t}()})}},"76db":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"g-switcher-wrapper",class:{"g-input__wrapper":e.withLabel}},[e.withLabel?n("label",{staticClass:"g-input__label"},[e._v(" "+e._s(e.labelText)+" "),e.isOptional?n("span",{staticClass:"g-input__optional"},[e._v(" "+e._s(e.$t("message.field_optional_title"))+" ")]):e._e()]):e._e(),n("div",{staticClass:"b-input-radio__wrapper",class:{"g-input__wrapper":!e.withLabel}},[n("span",{staticClass:"b-input-radio__container"},[n("input",{staticClass:"b-input-radio",attrs:{id:e.id,type:"checkbox",name:e.name,required:e.required,disabled:e.disabled},domProps:{checked:e.value},on:{change:e.onClick}}),n("label",{staticClass:"b-input-radio__text",class:{"m-with-help-tip":!!e.infoTip},attrs:{for:e.id}},[n("span",{domProps:{innerHTML:e._s(e.label)}}),e.infoTip?n("span",{staticClass:"g-icon-info"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"},{name:"tooltip",rawName:"v-tooltip.enabled",value:e.infoTip,expression:"infoTip",modifiers:{enabled:!0}}],staticClass:"icon-info"})]):e._e()]),n("span",{staticClass:"b-input-radio__label",on:{click:e.onClick}},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-done"}),n("span",{staticClass:"b-input-ripple"})])]),e.error?n("p",{staticClass:"g-input__error"},[e._v(" "+e._s(e.error)+" ")]):e._e()])])},r=[],a=(n("7f7f"),n("ebf6")),i=n("3d94"),o={name:"Checkbox",$_veeValidate:{value:function(){return this.$el[0].value},name:function(){return this.name}},mixins:[a["a"],i["a"]],props:{label:{type:String,default:""},name:{type:String,default:""},value:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:String,default:""},withLabel:{type:Boolean,default:!1},labelText:{type:String,default:""},id:{type:String,default:function(){return this.uid}},disabled:{type:Boolean,default:!1},infoTip:{type:String,default:""}},methods:{onClick:function(e){this.innerLinkToRouter(e),this.disabled||this.$emit("input",!this.value)}}},c=o,l=n("2877"),u=Object(l["a"])(c,s,r,!1,null,null,null);t["a"]=u.exports},"8c16":function(e,t,n){"use strict";n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return v}));n("8e6e"),n("ac6a"),n("456d"),n("28a5");var s=n("768b"),r=n("bd86"),a=(n("3b2b"),n("96cf"),n("3b8d")),i=n("2612"),o=n("93bc"),c=n("1f5a"),l=n("d634");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={beforeCreate:function(){var e=this;this.$validator.extend("usernameValidator",{getMessage:function(e){return"".concat(e," is not available.")},validate:function(t){return new Promise(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(s){var r,a,o,c,l,u,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t!==e.authUser.username){n.next=3;break}return s({valid:!0}),n.abrupt("return");case 3:if(!(t.length<5)){n.next=6;break}return s({valid:!1}),n.abrupt("return");case 6:if(t!=="".concat(e.userLoginPrefix).concat(e.authUserId)){n.next=9;break}return s({valid:!0}),n.abrupt("return");case 9:if(r=new RegExp("^".concat(e.userLoginPrefix,"\\d+$")),a=new RegExp("^id\\d+$"),o=new RegExp("^[a-z][a-z0-9_-]+$"),!r.test(t)&&!a.test(t)&&o.test(t)){n.next=15;break}return s({valid:!1}),n.abrupt("return");case 15:if(c=d({},e.existedUsernames),!c[t]){n.next=23;break}if(l=c[t].valid,l&&!(c[t].checkDate>=+new Date-6e5)){n.next=21;break}return s({valid:l}),n.abrupt("return");case 21:delete c[t],e.setExistedUsernames(c);case 23:return n.prev=23,n.next=26,Object(i["ob"])(t);case 26:u=n.sent,p=u.success,c[t]={valid:!p},p||(c[t].checkDate=+new Date),e.setExistedUsernames(c),s({valid:!p}),n.next=37;break;case 34:n.prev=34,n.t0=n["catch"](23),s({valid:!0});case 37:case"end":return n.stop()}}),n,null,[[23,34]])})));return function(e){return n.apply(this,arguments)}}())}},{immediate:!1})},computed:d(d(d({},Object(l["q"])(["getInit"])),Object(l["eb"])(["existedUsernames"])),{},{usernameValidate:function(){var e=this.username!==this.authUser.username&&24;return{max:e,usernameValidator:!0}}}),methods:d({},Object(l["fb"])(["setExistedUsernames"]))},h={mounted:function(){this.$validator.extend("checkPassword",{getMessage:function(e){return"The ".concat(e," must contain at least 1 number, at least 1 lower case letter, and at least 1 upper case letter")},validate:function(e){var t=new RegExp(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/);return t.test(e)}})}},f={mounted:function(){var e=this;this.$validator.extend("confirmPassword",{getMessage:function(e){return"The ".concat(e," confirmation does not match.")},validate:function(t,n){return t===e[n[0]]}})}},b={mounted:function(){var e=this;this.$validator.extend("onlyLatin",{getMessage:function(){return e.$i18n.t("message.only_latin_allowed")},validate:function(e){var t=/[^a-z\s-.']+/gi;return!t.test(e)}}),this.$validator.extend("checkCardHolderName",{getMessage:function(){return e.$i18n.t("message.invalid_cardholder_error")},validate:function(t){var n=e.getInit.cardholderStopwords;if(n&&n.length){var s=new RegExp("\\b".concat(n.join("\\b|\\b"),"\\b"),"gi");return!s.test(t)&&!o["a"].validate(t.trim())}return!o["a"].validate(t.trim())}})}},m={mounted:function(){var e=this;this.$validator.extend("minLength",{getMessage:function(t,n){var r=Object(s["a"])(n,1),a=r[0];return e.$i18n.t("message.minlength_validation_error",{LENGTH:a})},validate:function(e,t){var n=Object(s["a"])(t,1),r=n[0];return e.length>=r}})}},g={mounted:function(){var e=this;this.$validator.extend("urls",{getMessage:function(){return e.$i18n.t("message.urls_validation_error")},validate:function(e){return!e.split(/[\s\n]/).filter((function(e){return e.length})).some((function(e){return!o["b"].validate(e)}))}})}},v={mounted:function(){var e=this;this.$validator.extend("cpfValidate",{getMessage:function(){return e.$i18n.t("message.cpf_validation_error")},validate:function(e){return c["a"].isValid(e)}})}}},"9d30":function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var s=n("bd86"),r=n("d634");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={computed:i({},Object(r["M"])({photoSwipeIsOpen:"isOpen"})),methods:i({},Object(r["L"])({photoSwipeSetItems:"setItems",photoSwipeSetOptions:"setOptions",photoSwipeSetOpen:"setOpen"}))}},ce23:function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d"),n("7f7f"),n("a481"),n("96cf");var s=n("3b8d"),r=n("bd86"),a=n("f05e"),i=n("1e36"),o=n("9b02"),c=n.n(o),l=n("09e4"),u=n("d634");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={mixins:[i["a"]],data:function(){return{token:"",vat:null}},computed:p(p({},Object(u["b"])(["authUser"])),Object(u["Ob"])(["getUser"])),beforeDestroy:function(){this.$root.$off("card::verify::success"),this.$root.$off("card::verify::hide",this.resetPaymentData)},methods:p(p(p({},Object(u["H"])(["setCardNeedVerify"])),Object(u["n"])(["fetchAllTransactions"])),{},{makePayments:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,s,r,i,o,u,d,p,h,f,b,m=this,g=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:null,this.setCardNeedVerify({}),s=t.paymentType,r=t.amount,i=t.hideVatPopup,!n){e.next=16;break}if(i||this.vat||!r||!this.authUser.vat||"credit"===s){e.next=11;break}if(o={subscribe:"subscribes",message:"chat_messages",tip:"tips",post:"post",stream:"stream"},!o[s]||!this.authUser.vat[o[s]]){e.next=11;break}return this.vat=!0,this.$root.$once("alert:was:closed",this.resetPaymentData),alert({message:this.$i18n.t("message.confirm_vat_charge",{AMOUNT:"$".concat((Math.ceil(parseFloat(r)*(100+parseFloat(this.authUser.vat[o[s]])))/100).toFixed(2).replace(".00","")),VAT_AMOUNT:"$".concat((Math.ceil(parseFloat(r)*parseFloat(this.authUser.vat[o[s]]))/100).toFixed(2).replace(".00","")),COUNTRY:this.authUser.vatCountry}),buttons:[{title:this.$i18n.t("message.button_pay"),onclick:function(){m.$root.$off("alert:was:closed",m.resetPaymentData),n.call()},closeOnClick:!0}]}),e.abrupt("return",{success:!1});case 11:this.$root.$off("card::verify::success",n),this.$root.$off("card::verify::hide",this.resetPaymentData),this.$window.showPreloader(),t.token=this.token,this.vat&&(t.vat=this.vat);case 16:if(e.prev=16,"complete"===this.paymentsLoaded){e.next=27;break}return e.prev=18,e.next=21,this.getPaymentsJs();case 21:e.next=27;break;case 23:return e.prev=23,e.t0=e["catch"](18),this.$window.hidePreloader(),e.abrupt("return");case 27:return e.next=29,Object(a["l"])(t);case 29:return u=e.sent,n&&(this.$window.hidePreloader(),this.resetPaymentData(),"PaymentsCreditsTransactions"===this.$route.name&&this.fetchAllTransactions()),e.abrupt("return",u);case 34:if(e.prev=34,e.t1=e["catch"](16),!n){e.next=63;break}if(this.$window.hidePreloader(),d=function(){switch(s){case"subscribe":return"doSubscribe";case"message":case"templates":return"doPayChat";case"credit":return"doPayCredits";case"post":return"doPayPost";case"stream":return"doPayStream";case"tip":return"doTips";default:return null}}(),d){e.next=41;break}throw e.t1;case 41:if(201!==c()(e.t1,"data.error.code")){e.next=48;break}return window[d]="doTips"===d?function(e,t,s,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";m.token=a,n.call()}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";m.token=t,n.call()},p=document.getElementsByTagName("head")[0],h=document.createElement("script"),h.innerText=e.t1.data.error.message,p.appendChild(h),e.abrupt("return");case 48:if(107!==c()(e.t1,"data.error.code")){e.next=55;break}return f=e.t1.data.error.payload.card,this.setCardNeedVerify(f),this.$root.$once("card::verify::hide",this.resetPaymentData),this.$root.$once("card::verify::success",n),this.$nextTick((function(){m.$root.$emit("bv::show::modal","ModalCardVerify")})),e.abrupt("return");case 55:this.token="","PaymentsCreditsTransactions"===this.$route.name&&this.fetchAllTransactions(),b={},c()(e.t1,"data.error.payload.canRetry")&&(b.buttons=[{title:this.$i18n.t("message.retry"),onclick:function(){m.$root.$off("alert:was:closed",m.resetPaymentData),n.call()},closeOnClick:!0}]),this.$root.$once("alert:was:closed",this.resetPaymentData),Object(l["b"])(e.t1,b),e.next=64;break;case 63:throw e.t1;case 64:case"end":return e.stop()}}),e,this,[[16,34],[18,23]])})));function t(t){return e.apply(this,arguments)}return t}(),resetPaymentData:function(){this.vat=null,this.token=""}})}},d1e5:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("multiselect",{ref:"multiselect",staticClass:"custom-select",attrs:{options:e.options,searchable:e.searchable,"custom-label":e.customLabel,"show-labels":!1,placeholder:e.placeholder,"max-height":e.maxHeight,required:e.required,disabled:e.disabled},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},[n("template",{slot:"caret"},[n("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-arrow-down"})])],2)},r=[],a=(n("7514"),n("c5f6"),n("7618")),i=(n("7f7f"),n("8e5f")),o=n.n(i),c=n("0f32"),l=n.n(c),u={name:"Select",components:{Multiselect:o.a},$_veeValidate:{value:function(){return this.$el.value},name:function(){return this.name}},props:{value:{required:!0,validator:function(e){return"string"===typeof e||"number"===typeof e||"object"===Object(a["a"])(e)}},options:{type:[Array,Object],default:function(){return[]}},searchable:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},maxHeight:{type:Number,default:void 0},name:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{localValue:{get:function(){return this.valueByCode(this.value)},set:function(e){e&&this.$emit("input",e.code)}},multiselect:function(){return this.$refs.multiselect},multiselectIsOpen:function(){return this.$refs.multiselect.isOpen}},mounted:function(){window.addEventListener("resize",this.adjustPosition),window.addEventListener("scroll",this.adjustPosition)},beforeDestroy:function(){window.removeEventListener("resize",this.adjustPosition),window.removeEventListener("scroll",this.adjustPosition)},methods:{adjustPosition:l()((function(e){this.multiselect&&this.multiselectIsOpen&&this.multiselect.adjustPosition()}),200),customLabel:function(e){var t=e.name;return t},valueByCode:function(e){return this.options.find((function(t){return t.code===e||Number(t.code)===Number(e)}))}}},d=u,p=(n("60bc"),n("2877")),h=Object(p["a"])(d,s,r,!1,null,null,null);t["a"]=h.exports},d8a0:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"otp-setting-section"},[n("checkbox-toggle",{staticClass:"m-size-lg-text m-gap-first",attrs:{name:"show_otp_settings",label:e.$t("message.otp_title"),text:e.$t("message.otp_turn_on_message")},model:{value:e.showOtpSettings,callback:function(t){e.showOtpSettings=t},expression:"showOtpSettings"}}),n("form",{directives:[{name:"show",rawName:"v-show",value:e.showOtpSettingsForm,expression:"showOtpSettingsForm"}],on:{submit:function(t){return t.preventDefault(),e.enableOtp(t)}}},[e.authUser.isOtpEnabled?e._e():[n("div",{staticClass:"g-input__wrapper"},[n("label",{staticClass:"g-input__label"},[e._v(e._s(e.$t("message.otp_setup_title")))])]),n("ol",[n("li",{domProps:{innerHTML:e._s(e.$t("message.install_otp_app_link_title"))}}),n("li",[e._v(e._s(e.$t("message.otp_setup_text1")))]),n("li",[e._v(" "+e._s(e.$t("message.otp_setup_text2"))+" "),e.qrUrlGenerated?n("div",{staticClass:"code-wrapper"},[n("div",{staticClass:"code-text"},[n("span",{staticClass:"code"},[e._v(e._s(e.qrCode))]),n("button",{staticClass:"g-btn m-flat m-bold copy-code",class:{copied:e.isCopySecretKeyBtnPressed},attrs:{type:"button"},on:{click:e.doCopySecretKey}},[e._v(" "+e._s(e.copySecretKeyBtn)+" ")])]),n("div",{staticClass:"qr-code"},[n("img",{directives:[{name:"show",rawName:"v-show",value:!e.qrImgLoading,expression:"!qrImgLoading"}],attrs:{src:e.qrUrlGenerated,alt:e.$t("message.otp_qr_code_title"),width:"200",height:"200"},on:{load:e.onQrImgLoaded}}),e.qrImgLoading?n("spinner-loader"):e._e()],1)]):e._e()]),n("li",[e._v(e._s(e.$t("message.enter_your_otp_code_title")))])]),n("InputOF",{attrs:{type:"text",placeholder:e.$t("message.enter_otp_code_placeholder"),autocomplete:!1,"input-classes":"m-code"},model:{value:e.otpCodeInput,callback:function(t){e.otpCodeInput=t},expression:"otpCodeInput"}}),n("ButtonOF",{attrs:{text:e.$t("message.enable_button"),loading:e.loading,bordered:!0,disabled:e.disabledOtpBtn},on:{click:e.enableOtp}})],e.authUser.isOtpEnabled?[n("InputOF",{attrs:{type:"text",label:e.$t("message.enter_your_otp_code_title"),placeholder:e.$t("message.enter_otp_code_placeholder"),autocomplete:!1},model:{value:e.otpCodeInput,callback:function(t){e.otpCodeInput=t},expression:"otpCodeInput"}},[n("template",{slot:"help-text"},[n("span",{staticClass:"g-danger-text"},[e._v(e._s(e.$t("message.otp_turn_off_text")))]),n("button",{staticClass:"g-btn m-flat lost-device-button",attrs:{type:"button",disabled:e.isAltVerificationDisabled},on:{click:e.doAltOtp}},[e._v(" "+e._s(e.$t("message.verification_options_title"))+" ")])])],2),n("ButtonOF",{attrs:{text:e.$t("message.disable_button"),loading:e.loading,bordered:!0,disabled:e.disabledOtpBtn},on:{click:e.disableOtp}})]:e._e()],2),e.authUser.isOtpEnabled?n("div",{staticClass:"b-settings__otp__strong-wrapper"},[n("checkbox",{attrs:{label:e.$t("message.strong_otp"),"info-tip":e.$t("message.strong_otp_info_tip"),disabled:e.strongOtpDisabled},on:{input:function(t){return e.sendCurrentUserField(e.strongOtp,"strongOtp",e.strongOtpDisabled)}},model:{value:e.strongOtp,callback:function(t){e.strongOtp=t},expression:"strongOtp"}}),n("button",{staticClass:"g-btn m-rounded m-sm m-border",attrs:{type:"button",disabled:e.strongOtpDisabled||!e.strongOtp},on:{click:e.showCodes}},[e._v(" "+e._s(e.$t("message.show_otp_codes"))+" ")])],1):e._e()],1)])},r=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),i=n("bd86"),o=(n("d7c4"),n("d055")),c=n.n(o),l=n("2612"),u=n("d634"),d=n("1569"),p=n("76db"),h=n("0fc7"),f=n("13ca"),b=n("e528"),m=n("29d7"),g=n("09e4");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={name:"SettingsOtp",components:{CheckboxToggle:d["a"],Checkbox:p["a"],ButtonOF:h["a"],InputOF:f["a"],SpinnerLoader:b["a"]},mixins:[m["a"]],data:function(){return{loading:!1,showOtpSettings:!1,qrUrl:null,qrUrlGenerated:null,qrData:null,qrCode:"",isCopySecretKeyBtnPressed:!1,otpCodeInput:"",isAltVerificationDisabled:!1,disabledOtpSubmit:!1,qrImgLoading:!1,strongOtpProxy:null,strongOtpDisabled:!1,otpCodes:[]}},computed:w(w(w({},Object(u["b"])(["authUser"])),Object(u["eb"])(["allSettings"])),{},{copySecretKeyBtn:function(){return this.isCopySecretKeyBtnPressed?"Copied!":"Copy key"},showOtpSettingsForm:function(){return!(!this.showOtpSettings||this.authUser.isOtpEnabled)||!(this.showOtpSettings||!this.authUser.isOtpEnabled)},disabledOtpBtn:function(){return!this.otpCodeInput.length||this.disabledOtpSubmit},strongOtp:{get:function(){return null!==this.strongOtpProxy?this.strongOtpProxy:this.allSettings.strongOtp},set:function(e){this.strongOtpProxy=e}}}),watch:{showOtpSettings:function(e){e&&!this.authUser.isOtpEnabled&&this.fetchOtpCode()}},mounted:function(){this.fetchOtp(),this.$on("copyCodes",this.copyCodes)},beforeDestroy:function(){this.$off("copyCodes",this.copyCodes)},methods:w(w({},Object(u["Sb"])(["setUserField"])),{},{fetchOtp:function(){this.authUser.isOtpEnabled&&(this.showOtpSettings=!0)},fetchOtpCode:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.qrImgLoading=!0,e.next=4,Object(l["w"])();case 4:if(t=e.sent,!t||!t.qrCode){e.next=10;break}return this.qrCode=t.qrCode,e.next=9,c.a.toDataURL("otpauth://totp/".concat(this.authUser.username,"(onlyfans.com)?secret=").concat(this.qrCode));case 9:this.qrUrlGenerated=e.sent;case 10:e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),this.qrImgLoading=!1;case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));function t(){return e.apply(this,arguments)}return t}(),doCopySecretKey:function(){var e=this;this.$copyText(this.qrCode).then((function(){e.isCopySecretKeyBtnPressed=!0,setTimeout((function(){e.isCopySecretKeyBtnPressed=!1}),1e3)}))},enableOtp:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabledOtpBtn){e.next=2;break}return e.abrupt("return");case 2:return this.disabledOtpSubmit=!0,e.prev=3,e.next=6,Object(l["U"])(this.otpCodeInput);case 6:t=e.sent,t&&t.success&&(this.setUserField({userId:this.authUser.id,field:"isOtpEnabled",status:!0}),this.otpCodeInput=""),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Object(g["b"])(e.t0);case 13:this.disabledOtpSubmit=!1;case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),disableOtp:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.disabledOtpBtn){e.next=2;break}return e.abrupt("return");case 2:return this.disabledOtpSubmit=!0,e.prev=3,e.next=6,Object(l["k"])(this.otpCodeInput);case 6:t=e.sent,t&&t.success&&(this.setUserField({userId:this.authUser.id,field:"isOtpEnabled",status:!1}),this.otpCodeInput=""),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Object(g["b"])(e.t0);case 13:this.disabledOtpSubmit=!1;case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),doAltOtp:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isAltVerificationDisabled=!0,e.prev=1,e.next=4,Object(l["V"])();case 4:t=e.sent,t&&t.success&&alert(this.$i18n.t("message.check_email_text")),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(g["b"])(e.t0);case 11:this.isAltVerificationDisabled=!1;case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),onQrImgLoaded:function(){this.qrImgLoading=!1},showCodes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.allSettings.strongOtp){e.next=2;break}return e.abrupt("return");case 2:return this.strongOtpDisabled=!0,e.prev=3,e.next=6,Object(l["I"])();case 6:t=e.sent,t&&t.codes&&t.codes.length&&(this.otpCodes=t.codes,alert({message:"<p>".concat(this.$i18n.t("message.strong_otp_alert_codes"),'</p><div class="text-center b-settings__otp-strong-codes"><strong>').concat(this.otpCodes.join("<br>"),"</strong></div>"),html:!0,buttons:[{title:this.$i18n.t("message.copy_btn_label"),closeOnClick:!0,onclick:function(){n.$emit("copyCodes")}}]})),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](3);case 12:this.strongOtpDisabled=!1;case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(){return e.apply(this,arguments)}return t}(),copyCodes:function(){var e=this;setTimeout((function(){e.$copyText(e.otpCodes.join("\r\n"))}),350)}})},y=O,_=n("2877"),C=Object(_["a"])(y,s,r,!1,null,null,null);t["a"]=C.exports},fece:function(e,t,n){"use strict";n("8e6e"),n("ac6a"),n("456d");var s=n("bd86"),r=n("e0a5"),a=n.n(r),i=n("d634"),o=n("56d7");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]={data:function(){return{needToLoadRecaptcha:!1,formDisabledV2:!1,formDisabledV3:!1,V2rendered:!1,retryCount:1,attemptsCount:0,isCaptchaReady:!1,"v3-recaptcha-response":"","g-recaptcha-response":""}},mounted:function(){this.needToLoadRecaptcha&&this.loadRecaptcha()},computed:l(l({},Object(i["q"])(["getInit"])),{},{formDisabled:function(){return this.formDisabledV2||this.formDisabledV3}}),watch:{needToLoadRecaptcha:function(e){e&&this.loadRecaptcha()}},methods:{setV3Token:function(e){this["v3-recaptcha-response"]=e,this.formDisabledV3=!1},maybeInitV3Captcha:function(){this.isCaptchaReady&&this.initV3Captcha()},initV3Captcha:function(){var e=this;this.formDisabledV3=!0,window.grecaptcha&&window.grecaptcha.execute(this.getInit.recaptchaV3Public,{action:this.action}).then(this.setV3Token,(function(){e.formDisabledV3=!1}))},initV2Captcha:function(){var e=this;this.formDisabledV2=!0;var t=function(t){e["g-recaptcha-response"]=t,e.formDisabledV2=!1};window.grecaptcha?window.grecaptcha.ready((function(){e.V2rendered?window.grecaptcha.reset():(window.grecaptcha.render(e.captchaWrapperId,{sitekey:e.getInit.recaptchaV2Public,theme:"true"===o["default"].$cookie.get("dark_mode")?"dark":"light",callback:t,"expired-callback":function(){e.formDisabledV2=!0}}),e.V2rendered=!0)})):(this.attemptsCount=0,this.loadRecaptcha(this.initV2Captcha))},loadRecaptcha:function(e){var t=this;this.getInit.recaptchaV3Public&&a()("https://recaptcha.net/recaptcha/api.js?render=".concat(this.getInit.recaptchaV3Public)).then((function(){e&&e.call(),window.grecaptcha?window.grecaptcha.ready((function(){t.isCaptchaReady=!0,t.initV3Captcha()})):t.isCaptchaReady=!1})).catch((function(){t.isCaptchaReady=!1,t.attemptsCount<t.retryCount?(t.attemptsCount+=1,t.loadRecaptcha()):(t.formDisabledV2=!1,t.formDisabledV3=!1,alert(t.$i18n.t("message.captcha_load_error")))}))}}}}}]);
//# sourceMappingURL=banking~payments~settings.js.map?rev=202008311040-5a7dcf7da1